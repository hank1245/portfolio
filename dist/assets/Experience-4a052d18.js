import{ba as O,r as l,a as P,bb as e,bc as s,V as A,b7 as w,bd as N,a4 as L,C as G,aW as H,be as j,aA as B,bf as M,d,bg as k,f as h,u as v,bh as C,bi as V,bj as X}from"./index-aeadc869.js";import{u as S,C as y,I as q,a5 as J,q as Y,aa as b,J as E,N as z}from"./Float-362155be.js";function K(g){const{animation:m}=g,{headFollow:o,cursorFollow:c}=O({headFollow:!1,cursorFollow:!1}),n=l.useRef(),{nodes:a,materials:t}=S("models/hank.glb"),{animations:r}=y("animations/Typing.fbx"),{animations:_}=y("animations/Standing Idle.fbx"),{animations:u}=y("animations/Falling Idle.fbx");r[0].name="Typing",_[0].name="Standing",u[0].name="Falling";const{actions:i}=q([r[0],_[0],u[0]],n);return P(p=>{if(o&&n.current.getObjectByName("Head").lookAt(p.camera.position),c){const W=new A(p.mouse.x,p.mouse.y,1);n.current.getObjectByName("Spine2").lookAt(W)}}),l.useEffect(()=>(i[m].reset().fadeIn(.5).play(),()=>{i[m].reset().fadeOut(.5)}),[m]),e("group",{...g,ref:n,dispose:null,children:s("group",{children:[e("primitive",{object:a.Hips}),e("skinnedMesh",{frustumCulled:!1,geometry:a.Wolf3D_Body.geometry,material:t.Wolf3D_Body,skeleton:a.Wolf3D_Body.skeleton}),e("skinnedMesh",{frustumCulled:!1,geometry:a.Wolf3D_Outfit_Bottom.geometry,material:t.Wolf3D_Outfit_Bottom,skeleton:a.Wolf3D_Outfit_Bottom.skeleton}),e("skinnedMesh",{frustumCulled:!1,geometry:a.Wolf3D_Outfit_Footwear.geometry,material:t.Wolf3D_Outfit_Footwear,skeleton:a.Wolf3D_Outfit_Footwear.skeleton}),e("skinnedMesh",{frustumCulled:!1,geometry:a.Wolf3D_Outfit_Top.geometry,material:t.Wolf3D_Outfit_Top,skeleton:a.Wolf3D_Outfit_Top.skeleton}),e("skinnedMesh",{frustumCulled:!1,geometry:a.Wolf3D_Hair.geometry,material:t.Wolf3D_Hair,skeleton:a.Wolf3D_Hair.skeleton}),e("skinnedMesh",{frustumCulled:!1,name:"EyeLeft",geometry:a.EyeLeft.geometry,material:t.Wolf3D_Eye,skeleton:a.EyeLeft.skeleton,morphTargetDictionary:a.EyeLeft.morphTargetDictionary,morphTargetInfluences:a.EyeLeft.morphTargetInfluences}),e("skinnedMesh",{frustumCulled:!1,name:"EyeRight",geometry:a.EyeRight.geometry,material:t.Wolf3D_Eye,skeleton:a.EyeRight.skeleton,morphTargetDictionary:a.EyeRight.morphTargetDictionary,morphTargetInfluences:a.EyeRight.morphTargetInfluences}),e("skinnedMesh",{frustumCulled:!1,name:"Wolf3D_Head",geometry:a.Wolf3D_Head.geometry,material:t.Wolf3D_Skin,skeleton:a.Wolf3D_Head.skeleton,morphTargetDictionary:a.Wolf3D_Head.morphTargetDictionary,morphTargetInfluences:a.Wolf3D_Head.morphTargetInfluences}),e("skinnedMesh",{frustumCulled:!1,name:"Wolf3D_Teeth",geometry:a.Wolf3D_Teeth.geometry,material:t.Wolf3D_Teeth,skeleton:a.Wolf3D_Teeth.skeleton,morphTargetDictionary:a.Wolf3D_Teeth.morphTargetDictionary,morphTargetInfluences:a.Wolf3D_Teeth.morphTargetInfluences})]})})}S.preload("models/hank.glb");y.preload("animations/Typing.fbx");y.preload("animations/Standing Idle.fbx");y.preload("animations/Falling Idle.fbx");const Q=()=>{const g=l.useRef(),m=l.useRef({color:"#b9bcff"}),o=w(),c=l.useRef();return P(()=>{c.current.progress(o.scroll.current),g.current.color=new G(m.current.color)}),l.useEffect(()=>{c.current=N.timeline(),c.current.to(m.current,{color:"#212121"}),c.current.to(m.current,{color:"#7a7ca5"}),c.current.to(m.current,{color:"#9b96dd"})},[]),e("group",{children:e(J,{scale:[30,30,30],children:e("meshBasicMaterial",{ref:g,side:L,toneMapped:!1})})})};function U(g){const{section:m}=g,{nodes:o,materials:c}=S("models/scene.gltf"),n=H("textures/baked.jpg"),a=Y("textures/vscode.mp4");n.flipY=!1,n.encoding=j;const t=new B({map:n,transparent:!0,opacity:1}),r=new B({map:n,transparent:!0,opacity:.42}),_=M(0),u=M(0),i=d({scale:m===0?[1,1,1]:[0,0,0],config:{mass:1,tension:280,friction:60}});return l.useEffect(()=>{k(_,m===0?1:0,{duration:.8}),k(u,m===0?.42:0,{duration:.8})},[m]),P(()=>{t.opacity=_.get(),r.opacity=u.get()}),s("group",{...g,dispose:null,children:[e("mesh",{name:"Screen",geometry:o.Screen.geometry,position:[.45,.94,-1.72],rotation:[Math.PI,-1.1,Math.PI],children:e("meshBasicMaterial",{map:a,toneMapped:!1})}),s("group",{name:"Desk",position:[-.07,0,-1.52],rotation:[0,-Math.PI/2,0],children:[e("mesh",{name:"Plane001_Plane002_BlackWood001",geometry:o.Plane001_Plane002_BlackWood001.geometry,material:t}),e("mesh",{name:"Plane001_Plane002_BlackWood001_1",geometry:o.Plane001_Plane002_BlackWood001_1.geometry,material:t}),e("mesh",{name:"Plane001_Plane002_BlackWood001_2",geometry:o.Plane001_Plane002_BlackWood001_2.geometry,material:t}),e("mesh",{name:"Plane001_Plane002_BlackWood001_3",geometry:o.Plane001_Plane002_BlackWood001_3.geometry,material:t}),e("mesh",{name:"Plane001_Plane002_BlackWood001_4",geometry:o.Plane001_Plane002_BlackWood001_4.geometry,material:t})]}),s("group",{name:"SM_ShelfSM_Shelf1",position:[-.87,1.69,-2.04],children:[e("mesh",{name:"SM_ShelfSM_Shelf1_1",geometry:o.SM_ShelfSM_Shelf1_1.geometry,material:t}),e("mesh",{name:"SM_ShelfSM_Shelf1_1_1",geometry:o.SM_ShelfSM_Shelf1_1_1.geometry,material:t})]}),s(h.group,{scale:i.scale,name:"LavaLamp",position:[-1.3,2.07,-1.99],children:[e("mesh",{name:"Node-Mesh001",geometry:o["Node-Mesh001"].geometry,material:t}),e("mesh",{name:"Node-Mesh001_1",geometry:o["Node-Mesh001_1"].geometry,material:t}),e("mesh",{name:"Node-Mesh001_2",geometry:o["Node-Mesh001_2"].geometry,material:t})]}),e(h.mesh,{scale:i.scale,name:"WawaRug",geometry:o.WawaRug.geometry,material:t,position:[-.28,.01,.76]}),s(h.group,{scale:i.scale,name:"salameche",position:[-.61,2.04,-1.96],rotation:[-Math.PI,.73,-Math.PI],children:[e("mesh",{name:"mesh434900071",geometry:o.mesh434900071.geometry,material:t}),e("mesh",{name:"mesh434900071_1",geometry:o.mesh434900071_1.geometry,material:t}),e("mesh",{name:"mesh434900071_2",geometry:o.mesh434900071_2.geometry,material:t}),e("mesh",{name:"mesh434900071_3",geometry:o.mesh434900071_3.geometry,material:t}),e("mesh",{name:"mesh434900071_4",geometry:o.mesh434900071_4.geometry,material:t}),e("mesh",{name:"mesh434900071_5",geometry:o.mesh434900071_5.geometry,material:t})]}),s("group",{name:"keyboard",position:[.21,.98,-1.21],rotation:[0,-.22,0],scale:.63,children:[e("mesh",{name:"mesh425587018",geometry:o.mesh425587018.geometry,material:t}),e("mesh",{name:"mesh425587018_1",geometry:o.mesh425587018_1.geometry,material:t}),e("mesh",{name:"mesh425587018_2",geometry:o.mesh425587018_2.geometry,material:t}),e("mesh",{name:"mesh425587018_3",geometry:o.mesh425587018_3.geometry,material:t})]}),s(h.group,{scale:i.scale,name:"iMac",position:[.45,.94,-1.72],rotation:[Math.PI,-1.1,Math.PI],children:[e("mesh",{name:"iMac_1_1",geometry:o.iMac_1_1.geometry,material:t}),e("mesh",{name:"iMac_1_2",geometry:o.iMac_1_2.geometry,material:t})]}),e("mesh",{name:"Comp_Mouse",geometry:o.Comp_Mouse.geometry,material:t,position:[-.01,0,.08]}),s(h.group,{scale:i.scale,name:"plant",position:[-.78,1.07,-1.61],children:[e("mesh",{name:"mesh24448074",geometry:o.mesh24448074.geometry,material:t}),e("mesh",{name:"mesh24448074_1",geometry:o.mesh24448074_1.geometry,material:t}),e("mesh",{name:"mesh24448074_2",geometry:o.mesh24448074_2.geometry,material:t})]}),s(h.group,{scale:i.scale,name:"Houseplant_7",position:[-2.02,-.04,-1.53],rotation:[-Math.PI/2,0,0],children:[e("mesh",{name:"Houseplant_7_1",geometry:o.Houseplant_7_1.geometry,material:t}),e("mesh",{name:"Houseplant_7_2",geometry:o.Houseplant_7_2.geometry,material:t}),e("mesh",{name:"Houseplant_7_3",geometry:o.Houseplant_7_3.geometry,material:t})]}),s(h.group,{scale:i.scale,name:"palm_tree_01",position:[2.13,-.08,-1.06],rotation:[-Math.PI,.67,-Math.PI],children:[e("mesh",{name:"palm_tree_01-Mesh",geometry:o["palm_tree_01-Mesh"].geometry,material:t}),e("mesh",{name:"palm_tree_01-Mesh_1",geometry:o["palm_tree_01-Mesh_1"].geometry,material:t}),e("mesh",{name:"palm_tree_01-Mesh_2",geometry:o["palm_tree_01-Mesh_2"].geometry,material:t})]}),s(h.group,{scale:i.scale,name:"Chair",position:[.09,0,-.66],rotation:[0,-.35,0],children:[e("mesh",{name:"Node-Mesh",geometry:o["Node-Mesh"].geometry,material:t}),e("mesh",{name:"Node-Mesh_1",geometry:o["Node-Mesh_1"].geometry,material:t})]}),e("mesh",{name:"Plane001",geometry:o.Plane001.geometry,material:t}),e("mesh",{name:"Plane001_1",geometry:o.Plane001_1.geometry,material:t}),e("mesh",{name:"Plane001_2",geometry:o.Plane001_2.geometry,material:t}),e("mesh",{name:"Plane001_3",geometry:o.Plane001_3.geometry,material:r})]})}S.preload("models/scene.gltf");H.preload("textures/baked.jpg");const ee=g=>{const{menuOpened:m}=g,{viewport:o}=v(),c=w(),n=window.innerWidth<768,a=o.width/12,t=Math.max(.5,Math.min(.9*a,.9)),[r,_]=l.useState(0),u=M(),i=M();l.useEffect(()=>{k(u,m?-5:0,{...C}),k(i,m?5:0,{...C})},[m]);const p=l.useRef(),[W,T]=l.useState("Typing");l.useEffect(()=>{T("Falling"),setTimeout(()=>{T(r===0?"Typing":"Standing")},600)},[r]);const I=l.useRef(),D=d({position:r===1?[n?.3:0,-o.height+.5,7]:r===2?[n?-1.4:-2,-o.height*2+.5,0]:r===3?[.24,-o.height*3+1,8.5]:[0,0,0],rotation:r===1?[0,n?-Math.PI/2:0,0]:r===2?[0,Math.PI/2,0]:r===3?[0,-Math.PI/4,0]:[-3.141592653589793,1.2053981633974482,3.141592653589793],scale:r===1?[n?1.5:1,n?1.5:1,n?1.5:1]:r===2?[1,1,1]:r===3?[1,1,1]:[t,t,t],config:{duration:600}}),R=d({position:[n?0:1.5*t,n?-o.height/6:0,3],config:{duration:800}}),F=d({position:[0,r===1||n?-o.height:-1.5*t,r===1?0:-10],config:{duration:600}});return P(x=>{let f=Math.floor(c.scroll.current*c.pages);f>3&&(f=3),f!==r&&_(f),x.camera.position.x=u.get(),x.camera.lookAt(i.get(),0,0),r===0&&p.current.getWorldPosition(I.current.position)}),s(V,{children:[e(Q,{}),e(h.group,{ref:I,position:D.position,rotation:D.rotation,scale:D.scale,children:e(K,{animation:W})}),e("ambientLight",{intensity:1}),s(h.group,{position:R.position,scale:[t,t,t],"rotation-y":-Math.PI/4,children:[e(U,{section:r}),e("group",{ref:p,name:"CharacterSpot",position:[.07,.16,-.57],rotation:[-Math.PI,.42,-Math.PI]})]}),s(h.group,{position:F.position,children:[e("directionalLight",{position:[-5,3,5],intensity:.4}),e(b,{children:s("mesh",{position:[1,-3,-15],scale:[2,2,2],children:[e("sphereGeometry",{}),e(E,{opacity:.8,transparent:!0,distort:.4,speed:4,color:"red"})]})}),e(b,{children:s("mesh",{scale:[3,3,3],position:[3,1,-18],children:[e("sphereGeometry",{}),e(E,{opacity:.8,transparent:!0,distort:1,speed:5,color:"yellow"})]})}),e(b,{children:s("mesh",{scale:[1.4,1.4,1.4],position:[-3,-1,-11],children:[e("boxGeometry",{}),e(z,{opacity:.8,transparent:!0,factor:1,speed:5,color:"blue"})]})})]}),e(X,{})]})};export{ee as Experience};
