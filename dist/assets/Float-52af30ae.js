import{bk as Dn,bl as pi,bm as gi,C as et,bn as Sa,bo as wr,bp as wa,b4 as rn,aD as Di,h as Se,q as De,V as H,bq as ba,w as wi,aw as Da,br as e0,t as Ot,bs as t0,L as mi,aS as Yr,ax as cn,aE as i0,a_ as qs,bt as En,aA as Kr,D as Js,bu as Wn,B as bt,bv as Qa,z as Ie,bw as n0,bx as Pe,by as s0,bz as r0,aX as In,P as st,M as Fe,O as ut,bA as Fa,bB as Ta,bC as Xr,bD as br,bE as Zn,av as wn,bF as js,aK as o0,aH as a0,bG as A0,bH as dt,bI as c0,bJ as nn,aB as qi,F as Ji,bK as qr,Y as He,bL as Rs,bM as Ma,bN as h0,bO as Dr,bP as Ra,bQ as jr,aY as us,Z as ns,S as $n,bR as _s,a4 as l0,bS as ki,a0 as ln,aV as Qr,ab as _a,aT as Kt,bT as $i,aI as Pi,bU as fs,bV as u0,bW as Vt,bX as Oi,ag as Qn,W as f0,az as p0,bY as g0,al as Ls,bZ as d0,b_ as m0,b$ as v0,c0 as B0,c1 as C0,ah as E0,c2 as on,c3 as I0,c4 as y0,c5 as x0,c6 as S0,aF as w0,c7 as Vs,c8 as b0,c9 as Fr,ca as D0,v as uo,ak as La,R as an,K as Wt,cb as Q0,cc as ka,cd as F0,af as T0,ai as M0,ad as R0,ce as Ws,cf as _0,cg as L0,aM as k0,U as Ni,ch as Ga,H as Nt,ci as Ua,cj as Gi,aq as ps,ar as Kn,ck as Cn,ae as G0,k as Fn,u as U0,s as P0,r as Ve,cl as O0,a as zs,_ as Vr,m as N0}from"./index-e65fd937.js";var Pt=Uint8Array,zi=Uint16Array,Tr=Uint32Array,Pa=new Pt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Oa=new Pt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),H0=new Pt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Na=function(n,e){for(var t=new zi(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var s=new Tr(t[30]),i=1;i<30;++i)for(var r=t[i];r<t[i+1];++r)s[r]=r-t[i]<<5|i;return[t,s]},Ha=Na(Pa,2),Ja=Ha[0],J0=Ha[1];Ja[28]=258,J0[258]=28;var z0=Na(Oa,0),Y0=z0[0],Mr=new zi(32768);for(var tt=0;tt<32768;++tt){var Mi=(tt&43690)>>>1|(tt&21845)<<1;Mi=(Mi&52428)>>>2|(Mi&13107)<<2,Mi=(Mi&61680)>>>4|(Mi&3855)<<4,Mr[tt]=((Mi&65280)>>>8|(Mi&255)<<8)>>>1}var jn=function(n,e,t){for(var i=n.length,s=0,r=new zi(e);s<i;++s)++r[n[s]-1];var o=new zi(e);for(s=0;s<e;++s)o[s]=o[s-1]+r[s-1]<<1;var a;if(t){a=new zi(1<<e);var A=15-e;for(s=0;s<i;++s)if(n[s])for(var c=s<<4|n[s],h=e-n[s],l=o[n[s]-1]++<<h,u=l|(1<<h)-1;l<=u;++l)a[Mr[l]>>>A]=c}else for(a=new zi(i),s=0;s<i;++s)n[s]&&(a[s]=Mr[o[n[s]-1]++]>>>15-n[s]);return a},ss=new Pt(288);for(var tt=0;tt<144;++tt)ss[tt]=8;for(var tt=144;tt<256;++tt)ss[tt]=9;for(var tt=256;tt<280;++tt)ss[tt]=7;for(var tt=280;tt<288;++tt)ss[tt]=8;var za=new Pt(32);for(var tt=0;tt<32;++tt)za[tt]=5;var K0=jn(ss,9,1),X0=jn(za,5,1),Zs=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Xt=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(e&7)&t},$s=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},q0=function(n){return(n/8|0)+(n&7&&1)},j0=function(n,e,t){(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length);var i=new(n instanceof zi?zi:n instanceof Tr?Tr:Pt)(t-e);return i.set(n.subarray(e,t)),i},V0=function(n,e,t){var i=n.length;if(!i||t&&!t.l&&i<5)return e||new Pt(0);var s=!e||t,r=!t||t.i;t||(t={}),e||(e=new Pt(i*3));var o=function(N){var L=e.length;if(N>L){var V=new Pt(Math.max(L*2,N));V.set(e),e=V}},a=t.f||0,A=t.p||0,c=t.b||0,h=t.l,l=t.d,u=t.m,p=t.n,C=i*8;do{if(!h){t.f=a=Xt(n,A,1);var v=Xt(n,A+1,3);if(A+=3,v)if(v==1)h=K0,l=X0,u=9,p=5;else if(v==2){var g=Xt(n,A,31)+257,x=Xt(n,A+10,15)+4,w=g+Xt(n,A+5,31)+1;A+=14;for(var b=new Pt(w),D=new Pt(19),S=0;S<x;++S)D[H0[S]]=Xt(n,A+S*3,7);A+=x*3;for(var M=Zs(D),T=(1<<M)-1,U=jn(D,M,1),S=0;S<w;){var k=U[Xt(n,A,T)];A+=k&15;var B=k>>>4;if(B<16)b[S++]=B;else{var K=0,z=0;for(B==16?(z=3+Xt(n,A,3),A+=2,K=b[S-1]):B==17?(z=3+Xt(n,A,7),A+=3):B==18&&(z=11+Xt(n,A,127),A+=7);z--;)b[S++]=K}}var $=b.subarray(0,g),ae=b.subarray(g);u=Zs($),p=Zs(ae),h=jn($,u,1),l=jn(ae,p,1)}else throw"invalid block type";else{var B=q0(A)+4,I=n[B-4]|n[B-3]<<8,E=B+I;if(E>i){if(r)throw"unexpected EOF";break}s&&o(c+I),e.set(n.subarray(B,E),c),t.b=c+=I,t.p=A=E*8;continue}if(A>C){if(r)throw"unexpected EOF";break}}s&&o(c+131072);for(var Z=(1<<u)-1,Y=(1<<p)-1,re=A;;re=A){var K=h[$s(n,A)&Z],W=K>>>4;if(A+=K&15,A>C){if(r)throw"unexpected EOF";break}if(!K)throw"invalid length/literal";if(W<256)e[c++]=W;else if(W==256){re=A,h=null;break}else{var ee=W-254;if(W>264){var S=W-257,_=Pa[S];ee=Xt(n,A,(1<<_)-1)+Ja[S],A+=_}var F=l[$s(n,A)&Y],m=F>>>4;if(!F)throw"invalid distance";A+=F&15;var ae=Y0[m];if(m>3){var _=Oa[m];ae+=$s(n,A)&(1<<_)-1,A+=_}if(A>C){if(r)throw"unexpected EOF";break}s&&o(c+131072);for(var G=c+ee;c<G;c+=4)e[c]=e[c-ae],e[c+1]=e[c+1-ae],e[c+2]=e[c+2-ae],e[c+3]=e[c+3-ae];c=G}}t.l=h,t.p=re,t.b=c,h&&(a=1,t.m=u,t.d=l,t.n=p)}while(!a);return c==e.length?e:j0(e,0,c)},W0=new Pt(0),Z0=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Xn(n,e){return V0((Z0(n),n.subarray(2,-4)),e)}var $0=typeof TextDecoder<"u"&&new TextDecoder,e2=0;try{$0.decode(W0,{stream:!0}),e2=1}catch{}function Wr(){}Wr.prototype.s2u=function(n){for(var e=this.s2uTable,t="",i=0;i<n.length;){var s=n[i++];if(!(s>=0&&s<=126||s>=161&&s<=223)&&i<n.length&&(s=s<<8|n[i++]),e[s]===void 0)return console.error("unknown char code "+s+"."),t;t+=String.fromCharCode(e[s])}return t};Wr.prototype.s2uTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:65340,33120:65374,33121:8741,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:65293,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:65504,33170:65505,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:65506,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34624:9312,34625:9313,34626:9314,34627:9315,34628:9316,34629:9317,34630:9318,34631:9319,34632:9320,34633:9321,34634:9322,34635:9323,34636:9324,34637:9325,34638:9326,34639:9327,34640:9328,34641:9329,34642:9330,34643:9331,34644:8544,34645:8545,34646:8546,34647:8547,34648:8548,34649:8549,34650:8550,34651:8551,34652:8552,34653:8553,34655:13129,34656:13076,34657:13090,34658:13133,34659:13080,34660:13095,34661:13059,34662:13110,34663:13137,34664:13143,34665:13069,34666:13094,34667:13091,34668:13099,34669:13130,34670:13115,34671:13212,34672:13213,34673:13214,34674:13198,34675:13199,34676:13252,34677:13217,34686:13179,34688:12317,34689:12319,34690:8470,34691:13261,34692:8481,34693:12964,34694:12965,34695:12966,34696:12967,34697:12968,34698:12849,34699:12850,34700:12857,34701:13182,34702:13181,34703:13180,34704:8786,34705:8801,34706:8747,34707:8750,34708:8721,34709:8730,34710:8869,34711:8736,34712:8735,34713:8895,34714:8757,34715:8745,34716:8746,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081,60736:32394,60737:35100,60738:37704,60739:37512,60740:34012,60741:20425,60742:28859,60743:26161,60744:26824,60745:37625,60746:26363,60747:24389,60748:20008,60749:20193,60750:20220,60751:20224,60752:20227,60753:20281,60754:20310,60755:20370,60756:20362,60757:20378,60758:20372,60759:20429,60760:20544,60761:20514,60762:20479,60763:20510,60764:20550,60765:20592,60766:20546,60767:20628,60768:20724,60769:20696,60770:20810,60771:20836,60772:20893,60773:20926,60774:20972,60775:21013,60776:21148,60777:21158,60778:21184,60779:21211,60780:21248,60781:21255,60782:21284,60783:21362,60784:21395,60785:21426,60786:21469,60787:64014,60788:21660,60789:21642,60790:21673,60791:21759,60792:21894,60793:22361,60794:22373,60795:22444,60796:22472,60797:22471,60798:64015,60800:64016,60801:22686,60802:22706,60803:22795,60804:22867,60805:22875,60806:22877,60807:22883,60808:22948,60809:22970,60810:23382,60811:23488,60812:29999,60813:23512,60814:23532,60815:23582,60816:23718,60817:23738,60818:23797,60819:23847,60820:23891,60821:64017,60822:23874,60823:23917,60824:23992,60825:23993,60826:24016,60827:24353,60828:24372,60829:24423,60830:24503,60831:24542,60832:24669,60833:24709,60834:24714,60835:24798,60836:24789,60837:24864,60838:24818,60839:24849,60840:24887,60841:24880,60842:24984,60843:25107,60844:25254,60845:25589,60846:25696,60847:25757,60848:25806,60849:25934,60850:26112,60851:26133,60852:26171,60853:26121,60854:26158,60855:26142,60856:26148,60857:26213,60858:26199,60859:26201,60860:64018,60861:26227,60862:26265,60863:26272,60864:26290,60865:26303,60866:26362,60867:26382,60868:63785,60869:26470,60870:26555,60871:26706,60872:26560,60873:26625,60874:26692,60875:26831,60876:64019,60877:26984,60878:64020,60879:27032,60880:27106,60881:27184,60882:27243,60883:27206,60884:27251,60885:27262,60886:27362,60887:27364,60888:27606,60889:27711,60890:27740,60891:27782,60892:27759,60893:27866,60894:27908,60895:28039,60896:28015,60897:28054,60898:28076,60899:28111,60900:28152,60901:28146,60902:28156,60903:28217,60904:28252,60905:28199,60906:28220,60907:28351,60908:28552,60909:28597,60910:28661,60911:28677,60912:28679,60913:28712,60914:28805,60915:28843,60916:28943,60917:28932,60918:29020,60919:28998,60920:28999,60921:64021,60922:29121,60923:29182,60924:29361,60992:29374,60993:29476,60994:64022,60995:29559,60996:29629,60997:29641,60998:29654,60999:29667,61e3:29650,61001:29703,61002:29685,61003:29734,61004:29738,61005:29737,61006:29742,61007:29794,61008:29833,61009:29855,61010:29953,61011:30063,61012:30338,61013:30364,61014:30366,61015:30363,61016:30374,61017:64023,61018:30534,61019:21167,61020:30753,61021:30798,61022:30820,61023:30842,61024:31024,61025:64024,61026:64025,61027:64026,61028:31124,61029:64027,61030:31131,61031:31441,61032:31463,61033:64028,61034:31467,61035:31646,61036:64029,61037:32072,61038:32092,61039:32183,61040:32160,61041:32214,61042:32338,61043:32583,61044:32673,61045:64030,61046:33537,61047:33634,61048:33663,61049:33735,61050:33782,61051:33864,61052:33972,61053:34131,61054:34137,61056:34155,61057:64031,61058:34224,61059:64032,61060:64033,61061:34823,61062:35061,61063:35346,61064:35383,61065:35449,61066:35495,61067:35518,61068:35551,61069:64034,61070:35574,61071:35667,61072:35711,61073:36080,61074:36084,61075:36114,61076:36214,61077:64035,61078:36559,61079:64036,61080:64037,61081:36967,61082:37086,61083:64038,61084:37141,61085:37159,61086:37338,61087:37335,61088:37342,61089:37357,61090:37358,61091:37348,61092:37349,61093:37382,61094:37392,61095:37386,61096:37434,61097:37440,61098:37436,61099:37454,61100:37465,61101:37457,61102:37433,61103:37479,61104:37543,61105:37495,61106:37496,61107:37607,61108:37591,61109:37593,61110:37584,61111:64039,61112:37589,61113:37600,61114:37587,61115:37669,61116:37665,61117:37627,61118:64040,61119:37662,61120:37631,61121:37661,61122:37634,61123:37744,61124:37719,61125:37796,61126:37830,61127:37854,61128:37880,61129:37937,61130:37957,61131:37960,61132:38290,61133:63964,61134:64041,61135:38557,61136:38575,61137:38707,61138:38715,61139:38723,61140:38733,61141:38735,61142:38737,61143:38741,61144:38999,61145:39013,61146:64042,61147:64043,61148:39207,61149:64044,61150:39326,61151:39502,61152:39641,61153:39644,61154:39797,61155:39794,61156:39823,61157:39857,61158:39867,61159:39936,61160:40304,61161:40299,61162:64045,61163:40473,61164:40657,61167:8560,61168:8561,61169:8562,61170:8563,61171:8564,61172:8565,61173:8566,61174:8567,61175:8568,61176:8569,61177:65506,61178:65508,61179:65287,61180:65282,61504:57344,61505:57345,61506:57346,61507:57347,61508:57348,61509:57349,61510:57350,61511:57351,61512:57352,61513:57353,61514:57354,61515:57355,61516:57356,61517:57357,61518:57358,61519:57359,61520:57360,61521:57361,61522:57362,61523:57363,61524:57364,61525:57365,61526:57366,61527:57367,61528:57368,61529:57369,61530:57370,61531:57371,61532:57372,61533:57373,61534:57374,61535:57375,61536:57376,61537:57377,61538:57378,61539:57379,61540:57380,61541:57381,61542:57382,61543:57383,61544:57384,61545:57385,61546:57386,61547:57387,61548:57388,61549:57389,61550:57390,61551:57391,61552:57392,61553:57393,61554:57394,61555:57395,61556:57396,61557:57397,61558:57398,61559:57399,61560:57400,61561:57401,61562:57402,61563:57403,61564:57404,61565:57405,61566:57406,61568:57407,61569:57408,61570:57409,61571:57410,61572:57411,61573:57412,61574:57413,61575:57414,61576:57415,61577:57416,61578:57417,61579:57418,61580:57419,61581:57420,61582:57421,61583:57422,61584:57423,61585:57424,61586:57425,61587:57426,61588:57427,61589:57428,61590:57429,61591:57430,61592:57431,61593:57432,61594:57433,61595:57434,61596:57435,61597:57436,61598:57437,61599:57438,61600:57439,61601:57440,61602:57441,61603:57442,61604:57443,61605:57444,61606:57445,61607:57446,61608:57447,61609:57448,61610:57449,61611:57450,61612:57451,61613:57452,61614:57453,61615:57454,61616:57455,61617:57456,61618:57457,61619:57458,61620:57459,61621:57460,61622:57461,61623:57462,61624:57463,61625:57464,61626:57465,61627:57466,61628:57467,61629:57468,61630:57469,61631:57470,61632:57471,61633:57472,61634:57473,61635:57474,61636:57475,61637:57476,61638:57477,61639:57478,61640:57479,61641:57480,61642:57481,61643:57482,61644:57483,61645:57484,61646:57485,61647:57486,61648:57487,61649:57488,61650:57489,61651:57490,61652:57491,61653:57492,61654:57493,61655:57494,61656:57495,61657:57496,61658:57497,61659:57498,61660:57499,61661:57500,61662:57501,61663:57502,61664:57503,61665:57504,61666:57505,61667:57506,61668:57507,61669:57508,61670:57509,61671:57510,61672:57511,61673:57512,61674:57513,61675:57514,61676:57515,61677:57516,61678:57517,61679:57518,61680:57519,61681:57520,61682:57521,61683:57522,61684:57523,61685:57524,61686:57525,61687:57526,61688:57527,61689:57528,61690:57529,61691:57530,61692:57531,61760:57532,61761:57533,61762:57534,61763:57535,61764:57536,61765:57537,61766:57538,61767:57539,61768:57540,61769:57541,61770:57542,61771:57543,61772:57544,61773:57545,61774:57546,61775:57547,61776:57548,61777:57549,61778:57550,61779:57551,61780:57552,61781:57553,61782:57554,61783:57555,61784:57556,61785:57557,61786:57558,61787:57559,61788:57560,61789:57561,61790:57562,61791:57563,61792:57564,61793:57565,61794:57566,61795:57567,61796:57568,61797:57569,61798:57570,61799:57571,61800:57572,61801:57573,61802:57574,61803:57575,61804:57576,61805:57577,61806:57578,61807:57579,61808:57580,61809:57581,61810:57582,61811:57583,61812:57584,61813:57585,61814:57586,61815:57587,61816:57588,61817:57589,61818:57590,61819:57591,61820:57592,61821:57593,61822:57594,61824:57595,61825:57596,61826:57597,61827:57598,61828:57599,61829:57600,61830:57601,61831:57602,61832:57603,61833:57604,61834:57605,61835:57606,61836:57607,61837:57608,61838:57609,61839:57610,61840:57611,61841:57612,61842:57613,61843:57614,61844:57615,61845:57616,61846:57617,61847:57618,61848:57619,61849:57620,61850:57621,61851:57622,61852:57623,61853:57624,61854:57625,61855:57626,61856:57627,61857:57628,61858:57629,61859:57630,61860:57631,61861:57632,61862:57633,61863:57634,61864:57635,61865:57636,61866:57637,61867:57638,61868:57639,61869:57640,61870:57641,61871:57642,61872:57643,61873:57644,61874:57645,61875:57646,61876:57647,61877:57648,61878:57649,61879:57650,61880:57651,61881:57652,61882:57653,61883:57654,61884:57655,61885:57656,61886:57657,61887:57658,61888:57659,61889:57660,61890:57661,61891:57662,61892:57663,61893:57664,61894:57665,61895:57666,61896:57667,61897:57668,61898:57669,61899:57670,61900:57671,61901:57672,61902:57673,61903:57674,61904:57675,61905:57676,61906:57677,61907:57678,61908:57679,61909:57680,61910:57681,61911:57682,61912:57683,61913:57684,61914:57685,61915:57686,61916:57687,61917:57688,61918:57689,61919:57690,61920:57691,61921:57692,61922:57693,61923:57694,61924:57695,61925:57696,61926:57697,61927:57698,61928:57699,61929:57700,61930:57701,61931:57702,61932:57703,61933:57704,61934:57705,61935:57706,61936:57707,61937:57708,61938:57709,61939:57710,61940:57711,61941:57712,61942:57713,61943:57714,61944:57715,61945:57716,61946:57717,61947:57718,61948:57719,62016:57720,62017:57721,62018:57722,62019:57723,62020:57724,62021:57725,62022:57726,62023:57727,62024:57728,62025:57729,62026:57730,62027:57731,62028:57732,62029:57733,62030:57734,62031:57735,62032:57736,62033:57737,62034:57738,62035:57739,62036:57740,62037:57741,62038:57742,62039:57743,62040:57744,62041:57745,62042:57746,62043:57747,62044:57748,62045:57749,62046:57750,62047:57751,62048:57752,62049:57753,62050:57754,62051:57755,62052:57756,62053:57757,62054:57758,62055:57759,62056:57760,62057:57761,62058:57762,62059:57763,62060:57764,62061:57765,62062:57766,62063:57767,62064:57768,62065:57769,62066:57770,62067:57771,62068:57772,62069:57773,62070:57774,62071:57775,62072:57776,62073:57777,62074:57778,62075:57779,62076:57780,62077:57781,62078:57782,62080:57783,62081:57784,62082:57785,62083:57786,62084:57787,62085:57788,62086:57789,62087:57790,62088:57791,62089:57792,62090:57793,62091:57794,62092:57795,62093:57796,62094:57797,62095:57798,62096:57799,62097:57800,62098:57801,62099:57802,62100:57803,62101:57804,62102:57805,62103:57806,62104:57807,62105:57808,62106:57809,62107:57810,62108:57811,62109:57812,62110:57813,62111:57814,62112:57815,62113:57816,62114:57817,62115:57818,62116:57819,62117:57820,62118:57821,62119:57822,62120:57823,62121:57824,62122:57825,62123:57826,62124:57827,62125:57828,62126:57829,62127:57830,62128:57831,62129:57832,62130:57833,62131:57834,62132:57835,62133:57836,62134:57837,62135:57838,62136:57839,62137:57840,62138:57841,62139:57842,62140:57843,62141:57844,62142:57845,62143:57846,62144:57847,62145:57848,62146:57849,62147:57850,62148:57851,62149:57852,62150:57853,62151:57854,62152:57855,62153:57856,62154:57857,62155:57858,62156:57859,62157:57860,62158:57861,62159:57862,62160:57863,62161:57864,62162:57865,62163:57866,62164:57867,62165:57868,62166:57869,62167:57870,62168:57871,62169:57872,62170:57873,62171:57874,62172:57875,62173:57876,62174:57877,62175:57878,62176:57879,62177:57880,62178:57881,62179:57882,62180:57883,62181:57884,62182:57885,62183:57886,62184:57887,62185:57888,62186:57889,62187:57890,62188:57891,62189:57892,62190:57893,62191:57894,62192:57895,62193:57896,62194:57897,62195:57898,62196:57899,62197:57900,62198:57901,62199:57902,62200:57903,62201:57904,62202:57905,62203:57906,62204:57907,62272:57908,62273:57909,62274:57910,62275:57911,62276:57912,62277:57913,62278:57914,62279:57915,62280:57916,62281:57917,62282:57918,62283:57919,62284:57920,62285:57921,62286:57922,62287:57923,62288:57924,62289:57925,62290:57926,62291:57927,62292:57928,62293:57929,62294:57930,62295:57931,62296:57932,62297:57933,62298:57934,62299:57935,62300:57936,62301:57937,62302:57938,62303:57939,62304:57940,62305:57941,62306:57942,62307:57943,62308:57944,62309:57945,62310:57946,62311:57947,62312:57948,62313:57949,62314:57950,62315:57951,62316:57952,62317:57953,62318:57954,62319:57955,62320:57956,62321:57957,62322:57958,62323:57959,62324:57960,62325:57961,62326:57962,62327:57963,62328:57964,62329:57965,62330:57966,62331:57967,62332:57968,62333:57969,62334:57970,62336:57971,62337:57972,62338:57973,62339:57974,62340:57975,62341:57976,62342:57977,62343:57978,62344:57979,62345:57980,62346:57981,62347:57982,62348:57983,62349:57984,62350:57985,62351:57986,62352:57987,62353:57988,62354:57989,62355:57990,62356:57991,62357:57992,62358:57993,62359:57994,62360:57995,62361:57996,62362:57997,62363:57998,62364:57999,62365:58e3,62366:58001,62367:58002,62368:58003,62369:58004,62370:58005,62371:58006,62372:58007,62373:58008,62374:58009,62375:58010,62376:58011,62377:58012,62378:58013,62379:58014,62380:58015,62381:58016,62382:58017,62383:58018,62384:58019,62385:58020,62386:58021,62387:58022,62388:58023,62389:58024,62390:58025,62391:58026,62392:58027,62393:58028,62394:58029,62395:58030,62396:58031,62397:58032,62398:58033,62399:58034,62400:58035,62401:58036,62402:58037,62403:58038,62404:58039,62405:58040,62406:58041,62407:58042,62408:58043,62409:58044,62410:58045,62411:58046,62412:58047,62413:58048,62414:58049,62415:58050,62416:58051,62417:58052,62418:58053,62419:58054,62420:58055,62421:58056,62422:58057,62423:58058,62424:58059,62425:58060,62426:58061,62427:58062,62428:58063,62429:58064,62430:58065,62431:58066,62432:58067,62433:58068,62434:58069,62435:58070,62436:58071,62437:58072,62438:58073,62439:58074,62440:58075,62441:58076,62442:58077,62443:58078,62444:58079,62445:58080,62446:58081,62447:58082,62448:58083,62449:58084,62450:58085,62451:58086,62452:58087,62453:58088,62454:58089,62455:58090,62456:58091,62457:58092,62458:58093,62459:58094,62460:58095,62528:58096,62529:58097,62530:58098,62531:58099,62532:58100,62533:58101,62534:58102,62535:58103,62536:58104,62537:58105,62538:58106,62539:58107,62540:58108,62541:58109,62542:58110,62543:58111,62544:58112,62545:58113,62546:58114,62547:58115,62548:58116,62549:58117,62550:58118,62551:58119,62552:58120,62553:58121,62554:58122,62555:58123,62556:58124,62557:58125,62558:58126,62559:58127,62560:58128,62561:58129,62562:58130,62563:58131,62564:58132,62565:58133,62566:58134,62567:58135,62568:58136,62569:58137,62570:58138,62571:58139,62572:58140,62573:58141,62574:58142,62575:58143,62576:58144,62577:58145,62578:58146,62579:58147,62580:58148,62581:58149,62582:58150,62583:58151,62584:58152,62585:58153,62586:58154,62587:58155,62588:58156,62589:58157,62590:58158,62592:58159,62593:58160,62594:58161,62595:58162,62596:58163,62597:58164,62598:58165,62599:58166,62600:58167,62601:58168,62602:58169,62603:58170,62604:58171,62605:58172,62606:58173,62607:58174,62608:58175,62609:58176,62610:58177,62611:58178,62612:58179,62613:58180,62614:58181,62615:58182,62616:58183,62617:58184,62618:58185,62619:58186,62620:58187,62621:58188,62622:58189,62623:58190,62624:58191,62625:58192,62626:58193,62627:58194,62628:58195,62629:58196,62630:58197,62631:58198,62632:58199,62633:58200,62634:58201,62635:58202,62636:58203,62637:58204,62638:58205,62639:58206,62640:58207,62641:58208,62642:58209,62643:58210,62644:58211,62645:58212,62646:58213,62647:58214,62648:58215,62649:58216,62650:58217,62651:58218,62652:58219,62653:58220,62654:58221,62655:58222,62656:58223,62657:58224,62658:58225,62659:58226,62660:58227,62661:58228,62662:58229,62663:58230,62664:58231,62665:58232,62666:58233,62667:58234,62668:58235,62669:58236,62670:58237,62671:58238,62672:58239,62673:58240,62674:58241,62675:58242,62676:58243,62677:58244,62678:58245,62679:58246,62680:58247,62681:58248,62682:58249,62683:58250,62684:58251,62685:58252,62686:58253,62687:58254,62688:58255,62689:58256,62690:58257,62691:58258,62692:58259,62693:58260,62694:58261,62695:58262,62696:58263,62697:58264,62698:58265,62699:58266,62700:58267,62701:58268,62702:58269,62703:58270,62704:58271,62705:58272,62706:58273,62707:58274,62708:58275,62709:58276,62710:58277,62711:58278,62712:58279,62713:58280,62714:58281,62715:58282,62716:58283,62784:58284,62785:58285,62786:58286,62787:58287,62788:58288,62789:58289,62790:58290,62791:58291,62792:58292,62793:58293,62794:58294,62795:58295,62796:58296,62797:58297,62798:58298,62799:58299,62800:58300,62801:58301,62802:58302,62803:58303,62804:58304,62805:58305,62806:58306,62807:58307,62808:58308,62809:58309,62810:58310,62811:58311,62812:58312,62813:58313,62814:58314,62815:58315,62816:58316,62817:58317,62818:58318,62819:58319,62820:58320,62821:58321,62822:58322,62823:58323,62824:58324,62825:58325,62826:58326,62827:58327,62828:58328,62829:58329,62830:58330,62831:58331,62832:58332,62833:58333,62834:58334,62835:58335,62836:58336,62837:58337,62838:58338,62839:58339,62840:58340,62841:58341,62842:58342,62843:58343,62844:58344,62845:58345,62846:58346,62848:58347,62849:58348,62850:58349,62851:58350,62852:58351,62853:58352,62854:58353,62855:58354,62856:58355,62857:58356,62858:58357,62859:58358,62860:58359,62861:58360,62862:58361,62863:58362,62864:58363,62865:58364,62866:58365,62867:58366,62868:58367,62869:58368,62870:58369,62871:58370,62872:58371,62873:58372,62874:58373,62875:58374,62876:58375,62877:58376,62878:58377,62879:58378,62880:58379,62881:58380,62882:58381,62883:58382,62884:58383,62885:58384,62886:58385,62887:58386,62888:58387,62889:58388,62890:58389,62891:58390,62892:58391,62893:58392,62894:58393,62895:58394,62896:58395,62897:58396,62898:58397,62899:58398,62900:58399,62901:58400,62902:58401,62903:58402,62904:58403,62905:58404,62906:58405,62907:58406,62908:58407,62909:58408,62910:58409,62911:58410,62912:58411,62913:58412,62914:58413,62915:58414,62916:58415,62917:58416,62918:58417,62919:58418,62920:58419,62921:58420,62922:58421,62923:58422,62924:58423,62925:58424,62926:58425,62927:58426,62928:58427,62929:58428,62930:58429,62931:58430,62932:58431,62933:58432,62934:58433,62935:58434,62936:58435,62937:58436,62938:58437,62939:58438,62940:58439,62941:58440,62942:58441,62943:58442,62944:58443,62945:58444,62946:58445,62947:58446,62948:58447,62949:58448,62950:58449,62951:58450,62952:58451,62953:58452,62954:58453,62955:58454,62956:58455,62957:58456,62958:58457,62959:58458,62960:58459,62961:58460,62962:58461,62963:58462,62964:58463,62965:58464,62966:58465,62967:58466,62968:58467,62969:58468,62970:58469,62971:58470,62972:58471,63040:58472,63041:58473,63042:58474,63043:58475,63044:58476,63045:58477,63046:58478,63047:58479,63048:58480,63049:58481,63050:58482,63051:58483,63052:58484,63053:58485,63054:58486,63055:58487,63056:58488,63057:58489,63058:58490,63059:58491,63060:58492,63061:58493,63062:58494,63063:58495,63064:58496,63065:58497,63066:58498,63067:58499,63068:58500,63069:58501,63070:58502,63071:58503,63072:58504,63073:58505,63074:58506,63075:58507,63076:58508,63077:58509,63078:58510,63079:58511,63080:58512,63081:58513,63082:58514,63083:58515,63084:58516,63085:58517,63086:58518,63087:58519,63088:58520,63089:58521,63090:58522,63091:58523,63092:58524,63093:58525,63094:58526,63095:58527,63096:58528,63097:58529,63098:58530,63099:58531,63100:58532,63101:58533,63102:58534,63104:58535,63105:58536,63106:58537,63107:58538,63108:58539,63109:58540,63110:58541,63111:58542,63112:58543,63113:58544,63114:58545,63115:58546,63116:58547,63117:58548,63118:58549,63119:58550,63120:58551,63121:58552,63122:58553,63123:58554,63124:58555,63125:58556,63126:58557,63127:58558,63128:58559,63129:58560,63130:58561,63131:58562,63132:58563,63133:58564,63134:58565,63135:58566,63136:58567,63137:58568,63138:58569,63139:58570,63140:58571,63141:58572,63142:58573,63143:58574,63144:58575,63145:58576,63146:58577,63147:58578,63148:58579,63149:58580,63150:58581,63151:58582,63152:58583,63153:58584,63154:58585,63155:58586,63156:58587,63157:58588,63158:58589,63159:58590,63160:58591,63161:58592,63162:58593,63163:58594,63164:58595,63165:58596,63166:58597,63167:58598,63168:58599,63169:58600,63170:58601,63171:58602,63172:58603,63173:58604,63174:58605,63175:58606,63176:58607,63177:58608,63178:58609,63179:58610,63180:58611,63181:58612,63182:58613,63183:58614,63184:58615,63185:58616,63186:58617,63187:58618,63188:58619,63189:58620,63190:58621,63191:58622,63192:58623,63193:58624,63194:58625,63195:58626,63196:58627,63197:58628,63198:58629,63199:58630,63200:58631,63201:58632,63202:58633,63203:58634,63204:58635,63205:58636,63206:58637,63207:58638,63208:58639,63209:58640,63210:58641,63211:58642,63212:58643,63213:58644,63214:58645,63215:58646,63216:58647,63217:58648,63218:58649,63219:58650,63220:58651,63221:58652,63222:58653,63223:58654,63224:58655,63225:58656,63226:58657,63227:58658,63228:58659,63296:58660,63297:58661,63298:58662,63299:58663,63300:58664,63301:58665,63302:58666,63303:58667,63304:58668,63305:58669,63306:58670,63307:58671,63308:58672,63309:58673,63310:58674,63311:58675,63312:58676,63313:58677,63314:58678,63315:58679,63316:58680,63317:58681,63318:58682,63319:58683,63320:58684,63321:58685,63322:58686,63323:58687,63324:58688,63325:58689,63326:58690,63327:58691,63328:58692,63329:58693,63330:58694,63331:58695,63332:58696,63333:58697,63334:58698,63335:58699,63336:58700,63337:58701,63338:58702,63339:58703,63340:58704,63341:58705,63342:58706,63343:58707,63344:58708,63345:58709,63346:58710,63347:58711,63348:58712,63349:58713,63350:58714,63351:58715,63352:58716,63353:58717,63354:58718,63355:58719,63356:58720,63357:58721,63358:58722,63360:58723,63361:58724,63362:58725,63363:58726,63364:58727,63365:58728,63366:58729,63367:58730,63368:58731,63369:58732,63370:58733,63371:58734,63372:58735,63373:58736,63374:58737,63375:58738,63376:58739,63377:58740,63378:58741,63379:58742,63380:58743,63381:58744,63382:58745,63383:58746,63384:58747,63385:58748,63386:58749,63387:58750,63388:58751,63389:58752,63390:58753,63391:58754,63392:58755,63393:58756,63394:58757,63395:58758,63396:58759,63397:58760,63398:58761,63399:58762,63400:58763,63401:58764,63402:58765,63403:58766,63404:58767,63405:58768,63406:58769,63407:58770,63408:58771,63409:58772,63410:58773,63411:58774,63412:58775,63413:58776,63414:58777,63415:58778,63416:58779,63417:58780,63418:58781,63419:58782,63420:58783,63421:58784,63422:58785,63423:58786,63424:58787,63425:58788,63426:58789,63427:58790,63428:58791,63429:58792,63430:58793,63431:58794,63432:58795,63433:58796,63434:58797,63435:58798,63436:58799,63437:58800,63438:58801,63439:58802,63440:58803,63441:58804,63442:58805,63443:58806,63444:58807,63445:58808,63446:58809,63447:58810,63448:58811,63449:58812,63450:58813,63451:58814,63452:58815,63453:58816,63454:58817,63455:58818,63456:58819,63457:58820,63458:58821,63459:58822,63460:58823,63461:58824,63462:58825,63463:58826,63464:58827,63465:58828,63466:58829,63467:58830,63468:58831,63469:58832,63470:58833,63471:58834,63472:58835,63473:58836,63474:58837,63475:58838,63476:58839,63477:58840,63478:58841,63479:58842,63480:58843,63481:58844,63482:58845,63483:58846,63484:58847,63552:58848,63553:58849,63554:58850,63555:58851,63556:58852,63557:58853,63558:58854,63559:58855,63560:58856,63561:58857,63562:58858,63563:58859,63564:58860,63565:58861,63566:58862,63567:58863,63568:58864,63569:58865,63570:58866,63571:58867,63572:58868,63573:58869,63574:58870,63575:58871,63576:58872,63577:58873,63578:58874,63579:58875,63580:58876,63581:58877,63582:58878,63583:58879,63584:58880,63585:58881,63586:58882,63587:58883,63588:58884,63589:58885,63590:58886,63591:58887,63592:58888,63593:58889,63594:58890,63595:58891,63596:58892,63597:58893,63598:58894,63599:58895,63600:58896,63601:58897,63602:58898,63603:58899,63604:58900,63605:58901,63606:58902,63607:58903,63608:58904,63609:58905,63610:58906,63611:58907,63612:58908,63613:58909,63614:58910,63616:58911,63617:58912,63618:58913,63619:58914,63620:58915,63621:58916,63622:58917,63623:58918,63624:58919,63625:58920,63626:58921,63627:58922,63628:58923,63629:58924,63630:58925,63631:58926,63632:58927,63633:58928,63634:58929,63635:58930,63636:58931,63637:58932,63638:58933,63639:58934,63640:58935,63641:58936,63642:58937,63643:58938,63644:58939,63645:58940,63646:58941,63647:58942,63648:58943,63649:58944,63650:58945,63651:58946,63652:58947,63653:58948,63654:58949,63655:58950,63656:58951,63657:58952,63658:58953,63659:58954,63660:58955,63661:58956,63662:58957,63663:58958,63664:58959,63665:58960,63666:58961,63667:58962,63668:58963,63669:58964,63670:58965,63671:58966,63672:58967,63673:58968,63674:58969,63675:58970,63676:58971,63677:58972,63678:58973,63679:58974,63680:58975,63681:58976,63682:58977,63683:58978,63684:58979,63685:58980,63686:58981,63687:58982,63688:58983,63689:58984,63690:58985,63691:58986,63692:58987,63693:58988,63694:58989,63695:58990,63696:58991,63697:58992,63698:58993,63699:58994,63700:58995,63701:58996,63702:58997,63703:58998,63704:58999,63705:59e3,63706:59001,63707:59002,63708:59003,63709:59004,63710:59005,63711:59006,63712:59007,63713:59008,63714:59009,63715:59010,63716:59011,63717:59012,63718:59013,63719:59014,63720:59015,63721:59016,63722:59017,63723:59018,63724:59019,63725:59020,63726:59021,63727:59022,63728:59023,63729:59024,63730:59025,63731:59026,63732:59027,63733:59028,63734:59029,63735:59030,63736:59031,63737:59032,63738:59033,63739:59034,63740:59035,64064:8560,64065:8561,64066:8562,64067:8563,64068:8564,64069:8565,64070:8566,64071:8567,64072:8568,64073:8569,64074:8544,64075:8545,64076:8546,64077:8547,64078:8548,64079:8549,64080:8550,64081:8551,64082:8552,64083:8553,64084:65506,64085:65508,64086:65287,64087:65282,64088:12849,64089:8470,64090:8481,64091:8757,64092:32394,64093:35100,64094:37704,64095:37512,64096:34012,64097:20425,64098:28859,64099:26161,64100:26824,64101:37625,64102:26363,64103:24389,64104:20008,64105:20193,64106:20220,64107:20224,64108:20227,64109:20281,64110:20310,64111:20370,64112:20362,64113:20378,64114:20372,64115:20429,64116:20544,64117:20514,64118:20479,64119:20510,64120:20550,64121:20592,64122:20546,64123:20628,64124:20724,64125:20696,64126:20810,64128:20836,64129:20893,64130:20926,64131:20972,64132:21013,64133:21148,64134:21158,64135:21184,64136:21211,64137:21248,64138:21255,64139:21284,64140:21362,64141:21395,64142:21426,64143:21469,64144:64014,64145:21660,64146:21642,64147:21673,64148:21759,64149:21894,64150:22361,64151:22373,64152:22444,64153:22472,64154:22471,64155:64015,64156:64016,64157:22686,64158:22706,64159:22795,64160:22867,64161:22875,64162:22877,64163:22883,64164:22948,64165:22970,64166:23382,64167:23488,64168:29999,64169:23512,64170:23532,64171:23582,64172:23718,64173:23738,64174:23797,64175:23847,64176:23891,64177:64017,64178:23874,64179:23917,64180:23992,64181:23993,64182:24016,64183:24353,64184:24372,64185:24423,64186:24503,64187:24542,64188:24669,64189:24709,64190:24714,64191:24798,64192:24789,64193:24864,64194:24818,64195:24849,64196:24887,64197:24880,64198:24984,64199:25107,64200:25254,64201:25589,64202:25696,64203:25757,64204:25806,64205:25934,64206:26112,64207:26133,64208:26171,64209:26121,64210:26158,64211:26142,64212:26148,64213:26213,64214:26199,64215:26201,64216:64018,64217:26227,64218:26265,64219:26272,64220:26290,64221:26303,64222:26362,64223:26382,64224:63785,64225:26470,64226:26555,64227:26706,64228:26560,64229:26625,64230:26692,64231:26831,64232:64019,64233:26984,64234:64020,64235:27032,64236:27106,64237:27184,64238:27243,64239:27206,64240:27251,64241:27262,64242:27362,64243:27364,64244:27606,64245:27711,64246:27740,64247:27782,64248:27759,64249:27866,64250:27908,64251:28039,64252:28015,64320:28054,64321:28076,64322:28111,64323:28152,64324:28146,64325:28156,64326:28217,64327:28252,64328:28199,64329:28220,64330:28351,64331:28552,64332:28597,64333:28661,64334:28677,64335:28679,64336:28712,64337:28805,64338:28843,64339:28943,64340:28932,64341:29020,64342:28998,64343:28999,64344:64021,64345:29121,64346:29182,64347:29361,64348:29374,64349:29476,64350:64022,64351:29559,64352:29629,64353:29641,64354:29654,64355:29667,64356:29650,64357:29703,64358:29685,64359:29734,64360:29738,64361:29737,64362:29742,64363:29794,64364:29833,64365:29855,64366:29953,64367:30063,64368:30338,64369:30364,64370:30366,64371:30363,64372:30374,64373:64023,64374:30534,64375:21167,64376:30753,64377:30798,64378:30820,64379:30842,64380:31024,64381:64024,64382:64025,64384:64026,64385:31124,64386:64027,64387:31131,64388:31441,64389:31463,64390:64028,64391:31467,64392:31646,64393:64029,64394:32072,64395:32092,64396:32183,64397:32160,64398:32214,64399:32338,64400:32583,64401:32673,64402:64030,64403:33537,64404:33634,64405:33663,64406:33735,64407:33782,64408:33864,64409:33972,64410:34131,64411:34137,64412:34155,64413:64031,64414:34224,64415:64032,64416:64033,64417:34823,64418:35061,64419:35346,64420:35383,64421:35449,64422:35495,64423:35518,64424:35551,64425:64034,64426:35574,64427:35667,64428:35711,64429:36080,64430:36084,64431:36114,64432:36214,64433:64035,64434:36559,64435:64036,64436:64037,64437:36967,64438:37086,64439:64038,64440:37141,64441:37159,64442:37338,64443:37335,64444:37342,64445:37357,64446:37358,64447:37348,64448:37349,64449:37382,64450:37392,64451:37386,64452:37434,64453:37440,64454:37436,64455:37454,64456:37465,64457:37457,64458:37433,64459:37479,64460:37543,64461:37495,64462:37496,64463:37607,64464:37591,64465:37593,64466:37584,64467:64039,64468:37589,64469:37600,64470:37587,64471:37669,64472:37665,64473:37627,64474:64040,64475:37662,64476:37631,64477:37661,64478:37634,64479:37744,64480:37719,64481:37796,64482:37830,64483:37854,64484:37880,64485:37937,64486:37957,64487:37960,64488:38290,64489:63964,64490:64041,64491:38557,64492:38575,64493:38707,64494:38715,64495:38723,64496:38733,64497:38735,64498:38737,64499:38741,64500:38999,64501:39013,64502:64042,64503:64043,64504:39207,64505:64044,64506:39326,64507:39502,64508:39641,64576:39644,64577:39797,64578:39794,64579:39823,64580:39857,64581:39867,64582:39936,64583:40304,64584:40299,64585:64045,64586:40473,64587:40657};function fo(n,e){this.dv=new DataView(n),this.offset=0,this.littleEndian=e!==void 0?e:!0,this.encoder=new Wr}fo.prototype={constructor:fo,getInt8:function(){var n=this.dv.getInt8(this.offset);return this.offset+=1,n},getInt8Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getInt8());return e},getUint8:function(){var n=this.dv.getUint8(this.offset);return this.offset+=1,n},getUint8Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getUint8());return e},getInt16:function(){var n=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,n},getInt16Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getInt16());return e},getUint16:function(){var n=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,n},getUint16Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getUint16());return e},getInt32:function(){var n=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,n},getInt32Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getInt32());return e},getUint32:function(){var n=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,n},getUint32Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getUint32());return e},getFloat32:function(){var n=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,n},getFloat32Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getFloat32());return e},getFloat64:function(){var n=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,n},getFloat64Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getFloat64());return e},getIndex:function(n,e){switch(n){case 1:return e===!0?this.getUint8():this.getInt8();case 2:return e===!0?this.getUint16():this.getInt16();case 4:return this.getInt32();default:throw"unknown number type "+n+" exception."}},getIndexArray:function(n,e,t){for(var i=[],s=0;s<e;s++)i.push(this.getIndex(n,t));return i},getChars:function(n){for(var e="";n>0;){var t=this.getUint8();if(n--,t===0)break;e+=String.fromCharCode(t)}for(;n>0;)this.getUint8(),n--;return e},getSjisStringsAsUnicode:function(n){for(var e=[];n>0;){var t=this.getUint8();if(n--,t===0)break;e.push(t)}for(;n>0;)this.getUint8(),n--;return this.encoder.s2u(new Uint8Array(e))},getUnicodeStrings:function(n){for(var e="";n>0;){var t=this.getUint16();if(n-=2,t===0)break;e+=String.fromCharCode(t)}for(;n>0;)this.getUint8(),n--;return e},getTextBuffer:function(){var n=this.getUint32();return this.getUnicodeStrings(n)}};function po(){}po.prototype={constructor:po,leftToRightVector3:function(n){n[2]=-n[2]},leftToRightQuaternion:function(n){n[0]=-n[0],n[1]=-n[1]},leftToRightEuler:function(n){n[0]=-n[0],n[1]=-n[1]},leftToRightIndexOrder:function(n){var e=n[2];n[2]=n[0],n[0]=e},leftToRightVector3Range:function(n,e){var t=-e[2];e[2]=-n[2],n[2]=t},leftToRightEulerRange:function(n,e){var t=-e[0],i=-e[1];e[0]=-n[0],e[1]=-n[1],n[0]=t,n[1]=i}};const Ya=0,t2=2,i2=0,n2=0,s2=2,r2=0,o2=0,a2=1,Rr=2,A2=1,c2=64,Ka=0,Xa=9,Zr=15,qa=16,$r=22,ja=37,eo=43,Va=76,Wa=83,Za=97,$a=100,e3=103,t3=109;class h2{constructor(){this.vkFormat=Ka,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=Ya,this.levels=[],this.dataFormatDescriptor=[{vendorId:n2,descriptorType:i2,descriptorBlockSize:0,versionNumber:s2,colorModel:r2,colorPrimaries:A2,transferFunction:Rr,flags:o2,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class kn{constructor(e,t,i,s){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(e.buffer,e.byteOffset+t,i),this._littleEndian=s,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian),t=this._dataView.getUint32(this._offset+4,this._littleEndian),i=e+2**32*t;return this._offset+=8,i}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_skip(e){return this._offset+=e,this}_scan(e,t=0){const i=this._offset;let s=0;for(;this._dataView.getUint8(this._offset)!==t&&s<e;)s++,this._offset++;return s<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+i,s)}}const wt=[171,75,84,88,32,50,48,187,13,10,26,10];function go(n){return typeof TextDecoder<"u"?new TextDecoder().decode(n):Buffer.from(n).toString("utf8")}function l2(n){const e=new Uint8Array(n.buffer,n.byteOffset,wt.length);if(e[0]!==wt[0]||e[1]!==wt[1]||e[2]!==wt[2]||e[3]!==wt[3]||e[4]!==wt[4]||e[5]!==wt[5]||e[6]!==wt[6]||e[7]!==wt[7]||e[8]!==wt[8]||e[9]!==wt[9]||e[10]!==wt[10]||e[11]!==wt[11])throw new Error("Missing KTX 2.0 identifier.");const t=new h2,i=17*Uint32Array.BYTES_PER_ELEMENT,s=new kn(n,wt.length,i,!0);t.vkFormat=s._nextUint32(),t.typeSize=s._nextUint32(),t.pixelWidth=s._nextUint32(),t.pixelHeight=s._nextUint32(),t.pixelDepth=s._nextUint32(),t.layerCount=s._nextUint32(),t.faceCount=s._nextUint32();const r=s._nextUint32();t.supercompressionScheme=s._nextUint32();const o=s._nextUint32(),a=s._nextUint32(),A=s._nextUint32(),c=s._nextUint32(),h=s._nextUint64(),l=s._nextUint64(),u=r*3*8,p=new kn(n,wt.length+i,u,!0);for(let W=0;W<r;W++)t.levels.push({levelData:new Uint8Array(n.buffer,n.byteOffset+p._nextUint64(),p._nextUint64()),uncompressedByteLength:p._nextUint64()});const C=new kn(n,o,a,!0),v={vendorId:C._skip(4)._nextUint16(),descriptorType:C._nextUint16(),versionNumber:C._nextUint16(),descriptorBlockSize:C._nextUint16(),colorModel:C._nextUint8(),colorPrimaries:C._nextUint8(),transferFunction:C._nextUint8(),flags:C._nextUint8(),texelBlockDimension:[C._nextUint8(),C._nextUint8(),C._nextUint8(),C._nextUint8()],bytesPlane:[C._nextUint8(),C._nextUint8(),C._nextUint8(),C._nextUint8(),C._nextUint8(),C._nextUint8(),C._nextUint8(),C._nextUint8()],samples:[]},B=6,I=4,E=(v.descriptorBlockSize/4-B)/I;for(let W=0;W<E;W++){const ee={bitOffset:C._nextUint16(),bitLength:C._nextUint8(),channelType:C._nextUint8(),samplePosition:[C._nextUint8(),C._nextUint8(),C._nextUint8(),C._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};ee.channelType&c2?(ee.sampleLower=C._nextInt32(),ee.sampleUpper=C._nextInt32()):(ee.sampleLower=C._nextUint32(),ee.sampleUpper=C._nextUint32()),v.samples[W]=ee}t.dataFormatDescriptor.length=0,t.dataFormatDescriptor.push(v);const g=new kn(n,A,c,!0);for(;g._offset<c;){const W=g._nextUint32(),ee=g._scan(W),_=go(ee),F=g._scan(W-ee.byteLength);t.keyValue[_]=_.match(/^ktx/i)?go(F):F,g._offset%4&&g._skip(4-g._offset%4)}if(l<=0)return t;const x=new kn(n,h,l,!0),w=x._nextUint16(),b=x._nextUint16(),D=x._nextUint32(),S=x._nextUint32(),M=x._nextUint32(),T=x._nextUint32(),U=[];for(let W=0;W<r;W++)U.push({imageFlags:x._nextUint32(),rgbSliceByteOffset:x._nextUint32(),rgbSliceByteLength:x._nextUint32(),alphaSliceByteOffset:x._nextUint32(),alphaSliceByteLength:x._nextUint32()});const k=h+x._offset,K=k+D,z=K+S,$=z+M,ae=new Uint8Array(n.buffer,n.byteOffset+k,D),Z=new Uint8Array(n.buffer,n.byteOffset+K,S),Y=new Uint8Array(n.buffer,n.byteOffset+z,M),re=new Uint8Array(n.buffer,n.byteOffset+$,T);return t.globalData={endpointCount:w,selectorCount:b,imageDescs:U,endpointsData:ae,selectorsData:Z,tablesData:Y,extendedData:re},t}let er,xi,_r;const tr={env:{emscripten_notify_memory_growth:function(n){_r=new Uint8Array(xi.exports.memory.buffer)}}};class u2{init(){return er||(er=typeof fetch<"u"?fetch("data:application/wasm;base64,"+mo).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,tr)).then(this._init):WebAssembly.instantiate(Buffer.from(mo,"base64"),tr).then(this._init),er)}_init(e){xi=e.instance,tr.env.emscripten_notify_memory_growth(0)}decode(e,t=0){if(!xi)throw new Error("ZSTDDecoder: Await .init() before decoding.");const i=e.byteLength,s=xi.exports.malloc(i);_r.set(e,s),t=t||Number(xi.exports.ZSTD_findDecompressedSize(s,i));const r=xi.exports.malloc(t),o=xi.exports.ZSTD_decompress(r,t,s,i),a=_r.slice(r,r+o);return xi.exports.free(s),xi.exports.free(r),a}}const mo="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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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";/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var n=function(){try{var t={},i=Object.defineProperty,s=i(t,t,t)&&i}catch{}return s}(),e=function(t){if(this==null)throw TypeError();var i=String(this),s=i.length,r=t?Number(t):0;if(r!=r&&(r=0),!(r<0||r>=s)){var o=i.charCodeAt(r),a;return o>=55296&&o<=56319&&s>r+1&&(a=i.charCodeAt(r+1),a>=56320&&a<=57343)?(o-55296)*1024+a-56320+65536:o}};n?n(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e}();function i3(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}var f2=new i3,p2=new i3,n3=new Uint8Array(30),s3=new Uint16Array(30),g2=new Uint8Array(30),d2=new Uint16Array(30);function r3(n,e,t,i){var s,r;for(s=0;s<t;++s)n[s]=0;for(s=0;s<30-t;++s)n[s+t]=s/t|0;for(r=i,s=0;s<30;++s)e[s]=r,r+=1<<n[s]}function m2(n,e){var t;for(t=0;t<7;++t)n.table[t]=0;for(n.table[7]=24,n.table[8]=152,n.table[9]=112,t=0;t<24;++t)n.trans[t]=256+t;for(t=0;t<144;++t)n.trans[24+t]=t;for(t=0;t<8;++t)n.trans[24+144+t]=280+t;for(t=0;t<112;++t)n.trans[24+144+8+t]=144+t;for(t=0;t<5;++t)e.table[t]=0;for(e.table[5]=32,t=0;t<32;++t)e.trans[t]=t}m2(f2,p2);r3(n3,s3,4,3);r3(g2,d2,2,1);n3[28]=0;s3[28]=258;function pn(n,e,t,i,s){return Math.pow(1-s,3)*n+3*Math.pow(1-s,2)*s*e+3*(1-s)*Math.pow(s,2)*t+Math.pow(s,3)*i}function ji(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}ji.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};ji.prototype.addPoint=function(n,e){typeof n=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=n,this.x2=n),n<this.x1&&(this.x1=n),n>this.x2&&(this.x2=n)),typeof e=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))};ji.prototype.addX=function(n){this.addPoint(n,null)};ji.prototype.addY=function(n){this.addPoint(null,n)};ji.prototype.addBezier=function(n,e,t,i,s,r,o,a){var A=[n,e],c=[t,i],h=[s,r],l=[o,a];this.addPoint(n,e),this.addPoint(o,a);for(var u=0;u<=1;u++){var p=6*A[u]-12*c[u]+6*h[u],C=-3*A[u]+9*c[u]-9*h[u]+3*l[u],v=3*c[u]-3*A[u];if(C===0){if(p===0)continue;var B=-v/p;0<B&&B<1&&(u===0&&this.addX(pn(A[u],c[u],h[u],l[u],B)),u===1&&this.addY(pn(A[u],c[u],h[u],l[u],B)));continue}var I=Math.pow(p,2)-4*v*C;if(!(I<0)){var E=(-p+Math.sqrt(I))/(2*C);0<E&&E<1&&(u===0&&this.addX(pn(A[u],c[u],h[u],l[u],E)),u===1&&this.addY(pn(A[u],c[u],h[u],l[u],E)));var g=(-p-Math.sqrt(I))/(2*C);0<g&&g<1&&(u===0&&this.addX(pn(A[u],c[u],h[u],l[u],g)),u===1&&this.addY(pn(A[u],c[u],h[u],l[u],g)))}}};ji.prototype.addQuad=function(n,e,t,i,s,r){var o=n+.6666666666666666*(t-n),a=e+2/3*(i-e),A=o+1/3*(s-n),c=a+1/3*(r-e);this.addBezier(n,e,o,a,A,c,s,r)};function ft(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}ft.prototype.moveTo=function(n,e){this.commands.push({type:"M",x:n,y:e})};ft.prototype.lineTo=function(n,e){this.commands.push({type:"L",x:n,y:e})};ft.prototype.curveTo=ft.prototype.bezierCurveTo=function(n,e,t,i,s,r){this.commands.push({type:"C",x1:n,y1:e,x2:t,y2:i,x:s,y:r})};ft.prototype.quadTo=ft.prototype.quadraticCurveTo=function(n,e,t,i){this.commands.push({type:"Q",x1:n,y1:e,x:t,y:i})};ft.prototype.close=ft.prototype.closePath=function(){this.commands.push({type:"Z"})};ft.prototype.extend=function(n){if(n.commands)n=n.commands;else if(n instanceof ji){var e=n;this.moveTo(e.x1,e.y1),this.lineTo(e.x2,e.y1),this.lineTo(e.x2,e.y2),this.lineTo(e.x1,e.y2),this.close();return}Array.prototype.push.apply(this.commands,n)};ft.prototype.getBoundingBox=function(){for(var n=new ji,e=0,t=0,i=0,s=0,r=0;r<this.commands.length;r++){var o=this.commands[r];switch(o.type){case"M":n.addPoint(o.x,o.y),e=i=o.x,t=s=o.y;break;case"L":n.addPoint(o.x,o.y),i=o.x,s=o.y;break;case"Q":n.addQuad(i,s,o.x1,o.y1,o.x,o.y),i=o.x,s=o.y;break;case"C":n.addBezier(i,s,o.x1,o.y1,o.x2,o.y2,o.x,o.y),i=o.x,s=o.y;break;case"Z":i=e,s=t;break;default:throw new Error("Unexpected path command "+o.type)}}return n.isEmpty()&&n.addPoint(0,0),n};ft.prototype.draw=function(n){n.beginPath();for(var e=0;e<this.commands.length;e+=1){var t=this.commands[e];t.type==="M"?n.moveTo(t.x,t.y):t.type==="L"?n.lineTo(t.x,t.y):t.type==="C"?n.bezierCurveTo(t.x1,t.y1,t.x2,t.y2,t.x,t.y):t.type==="Q"?n.quadraticCurveTo(t.x1,t.y1,t.x,t.y):t.type==="Z"&&n.closePath()}this.fill&&(n.fillStyle=this.fill,n.fill()),this.stroke&&(n.strokeStyle=this.stroke,n.lineWidth=this.strokeWidth,n.stroke())};ft.prototype.toPathData=function(n){n=n!==void 0?n:2;function e(o){return Math.round(o)===o?""+Math.round(o):o.toFixed(n)}function t(){for(var o=arguments,a="",A=0;A<arguments.length;A+=1){var c=o[A];c>=0&&A>0&&(a+=" "),a+=e(c)}return a}for(var i="",s=0;s<this.commands.length;s+=1){var r=this.commands[s];r.type==="M"?i+="M"+t(r.x,r.y):r.type==="L"?i+="L"+t(r.x,r.y):r.type==="C"?i+="C"+t(r.x1,r.y1,r.x2,r.y2,r.x,r.y):r.type==="Q"?i+="Q"+t(r.x1,r.y1,r.x,r.y):r.type==="Z"&&(i+="Z")}return i};ft.prototype.toSVG=function(n){var e='<path d="';return e+=this.toPathData(n),e+='"',this.fill&&this.fill!=="black"&&(this.fill===null?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+="/>",e};ft.prototype.toDOMElement=function(n){var e=this.toPathData(n),t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d",e),t};function o3(n){throw new Error(n)}function vo(n,e){n||o3(e)}var Te={fail:o3,argument:vo,assert:vo},Bo=32768,Co=2147483648,bn={},fe={},be={};function ei(n){return function(){return n}}fe.BYTE=function(n){return Te.argument(n>=0&&n<=255,"Byte value should be between 0 and 255."),[n]};be.BYTE=ei(1);fe.CHAR=function(n){return[n.charCodeAt(0)]};be.CHAR=ei(1);fe.CHARARRAY=function(n){typeof n>"u"&&(n="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var e=[],t=0;t<n.length;t+=1)e[t]=n.charCodeAt(t);return e};be.CHARARRAY=function(n){return typeof n>"u"?0:n.length};fe.USHORT=function(n){return[n>>8&255,n&255]};be.USHORT=ei(2);fe.SHORT=function(n){return n>=Bo&&(n=-(2*Bo-n)),[n>>8&255,n&255]};be.SHORT=ei(2);fe.UINT24=function(n){return[n>>16&255,n>>8&255,n&255]};be.UINT24=ei(3);fe.ULONG=function(n){return[n>>24&255,n>>16&255,n>>8&255,n&255]};be.ULONG=ei(4);fe.LONG=function(n){return n>=Co&&(n=-(2*Co-n)),[n>>24&255,n>>16&255,n>>8&255,n&255]};be.LONG=ei(4);fe.FIXED=fe.ULONG;be.FIXED=be.ULONG;fe.FWORD=fe.SHORT;be.FWORD=be.SHORT;fe.UFWORD=fe.USHORT;be.UFWORD=be.USHORT;fe.LONGDATETIME=function(n){return[0,0,0,0,n>>24&255,n>>16&255,n>>8&255,n&255]};be.LONGDATETIME=ei(8);fe.TAG=function(n){return Te.argument(n.length===4,"Tag should be exactly 4 ASCII characters."),[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3)]};be.TAG=ei(4);fe.Card8=fe.BYTE;be.Card8=be.BYTE;fe.Card16=fe.USHORT;be.Card16=be.USHORT;fe.OffSize=fe.BYTE;be.OffSize=be.BYTE;fe.SID=fe.USHORT;be.SID=be.USHORT;fe.NUMBER=function(n){return n>=-107&&n<=107?[n+139]:n>=108&&n<=1131?(n=n-108,[(n>>8)+247,n&255]):n>=-1131&&n<=-108?(n=-n-108,[(n>>8)+251,n&255]):n>=-32768&&n<=32767?fe.NUMBER16(n):fe.NUMBER32(n)};be.NUMBER=function(n){return fe.NUMBER(n).length};fe.NUMBER16=function(n){return[28,n>>8&255,n&255]};be.NUMBER16=ei(3);fe.NUMBER32=function(n){return[29,n>>24&255,n>>16&255,n>>8&255,n&255]};be.NUMBER32=ei(5);fe.REAL=function(n){var e=n.toString(),t=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(t){var i=parseFloat("1e"+((t[2]?+t[2]:0)+t[1].length));e=(Math.round(n*i)/i).toString()}for(var s="",r=0,o=e.length;r<o;r+=1){var a=e[r];a==="e"?s+=e[++r]==="-"?"c":"b":a==="."?s+="a":a==="-"?s+="e":s+=a}s+=s.length&1?"f":"ff";for(var A=[30],c=0,h=s.length;c<h;c+=2)A.push(parseInt(s.substr(c,2),16));return A};be.REAL=function(n){return fe.REAL(n).length};fe.NAME=fe.CHARARRAY;be.NAME=be.CHARARRAY;fe.STRING=fe.CHARARRAY;be.STRING=be.CHARARRAY;bn.UTF8=function(n,e,t){for(var i=[],s=t,r=0;r<s;r++,e+=1)i[r]=n.getUint8(e);return String.fromCharCode.apply(null,i)};bn.UTF16=function(n,e,t){for(var i=[],s=t/2,r=0;r<s;r++,e+=2)i[r]=n.getUint16(e);return String.fromCharCode.apply(null,i)};fe.UTF16=function(n){for(var e=[],t=0;t<n.length;t+=1){var i=n.charCodeAt(t);e[e.length]=i>>8&255,e[e.length]=i&255}return e};be.UTF16=function(n){return n.length*2};var Lr={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};bn.MACSTRING=function(n,e,t,i){var s=Lr[i];if(s!==void 0){for(var r="",o=0;o<t;o++){var a=n.getUint8(e+o);a<=127?r+=String.fromCharCode(a):r+=s[a&127]}return r}};var gs=typeof WeakMap=="function"&&new WeakMap,ds,v2=function(n){if(!ds){ds={};for(var e in Lr)ds[e]=new String(e)}var t=ds[n];if(t!==void 0){if(gs){var i=gs.get(t);if(i!==void 0)return i}var s=Lr[n];if(s!==void 0){for(var r={},o=0;o<s.length;o++)r[s.charCodeAt(o)]=o+128;return gs&&gs.set(t,r),r}}};fe.MACSTRING=function(n,e){var t=v2(e);if(t!==void 0){for(var i=[],s=0;s<n.length;s++){var r=n.charCodeAt(s);if(r>=128&&(r=t[r],r===void 0))return;i[s]=r}return i}};be.MACSTRING=function(n,e){var t=fe.MACSTRING(n,e);return t!==void 0?t.length:0};function kr(n){return n>=-128&&n<=127}function B2(n,e,t){for(var i=0,s=n.length;e<s&&i<64&&n[e]===0;)++e,++i;return t.push(128|i-1),e}function C2(n,e,t){for(var i=0,s=n.length,r=e;r<s&&i<64;){var o=n[r];if(!kr(o)||o===0&&r+1<s&&n[r+1]===0)break;++r,++i}t.push(i-1);for(var a=e;a<r;++a)t.push(n[a]+256&255);return r}function E2(n,e,t){for(var i=0,s=n.length,r=e;r<s&&i<64;){var o=n[r];if(o===0||kr(o)&&r+1<s&&kr(n[r+1]))break;++r,++i}t.push(64|i-1);for(var a=e;a<r;++a){var A=n[a];t.push(A+65536>>8&255,A+256&255)}return r}fe.VARDELTAS=function(n){for(var e=0,t=[];e<n.length;){var i=n[e];i===0?e=B2(n,e,t):i>=-128&&i<=127?e=C2(n,e,t):e=E2(n,e,t)}return t};fe.INDEX=function(n){for(var e=1,t=[e],i=[],s=0;s<n.length;s+=1){var r=fe.OBJECT(n[s]);Array.prototype.push.apply(i,r),e+=r.length,t.push(e)}if(i.length===0)return[0,0];for(var o=[],a=1+Math.floor(Math.log(e)/Math.log(2))/8|0,A=[void 0,fe.BYTE,fe.USHORT,fe.UINT24,fe.ULONG][a],c=0;c<t.length;c+=1){var h=A(t[c]);Array.prototype.push.apply(o,h)}return Array.prototype.concat(fe.Card16(n.length),fe.OffSize(a),o,i)};be.INDEX=function(n){return fe.INDEX(n).length};fe.DICT=function(n){for(var e=[],t=Object.keys(n),i=t.length,s=0;s<i;s+=1){var r=parseInt(t[s],0),o=n[r];e=e.concat(fe.OPERAND(o.value,o.type)),e=e.concat(fe.OPERATOR(r))}return e};be.DICT=function(n){return fe.DICT(n).length};fe.OPERATOR=function(n){return n<1200?[n]:[12,n-1200]};fe.OPERAND=function(n,e){var t=[];if(Array.isArray(e))for(var i=0;i<e.length;i+=1)Te.argument(n.length===e.length,"Not enough arguments given for type"+e),t=t.concat(fe.OPERAND(n[i],e[i]));else if(e==="SID")t=t.concat(fe.NUMBER(n));else if(e==="offset")t=t.concat(fe.NUMBER32(n));else if(e==="number")t=t.concat(fe.NUMBER(n));else if(e==="real")t=t.concat(fe.REAL(n));else throw new Error("Unknown operand type "+e);return t};fe.OP=fe.BYTE;be.OP=be.BYTE;var ms=typeof WeakMap=="function"&&new WeakMap;fe.CHARSTRING=function(n){if(ms){var e=ms.get(n);if(e!==void 0)return e}for(var t=[],i=n.length,s=0;s<i;s+=1){var r=n[s];t=t.concat(fe[r.type](r.value))}return ms&&ms.set(n,t),t};be.CHARSTRING=function(n){return fe.CHARSTRING(n).length};fe.OBJECT=function(n){var e=fe[n.type];return Te.argument(e!==void 0,"No encoding function for type "+n.type),e(n.value)};be.OBJECT=function(n){var e=be[n.type];return Te.argument(e!==void 0,"No sizeOf function for type "+n.type),e(n.value)};fe.TABLE=function(n){for(var e=[],t=n.fields.length,i=[],s=[],r=0;r<t;r+=1){var o=n.fields[r],a=fe[o.type];Te.argument(a!==void 0,"No encoding function for field type "+o.type+" ("+o.name+")");var A=n[o.name];A===void 0&&(A=o.value);var c=a(A);o.type==="TABLE"?(s.push(e.length),e=e.concat([0,0]),i.push(c)):e=e.concat(c)}for(var h=0;h<i.length;h+=1){var l=s[h],u=e.length;Te.argument(u<65536,"Table "+n.tableName+" too big."),e[l]=u>>8,e[l+1]=u&255,e=e.concat(i[h])}return e};be.TABLE=function(n){for(var e=0,t=n.fields.length,i=0;i<t;i+=1){var s=n.fields[i],r=be[s.type];Te.argument(r!==void 0,"No sizeOf function for field type "+s.type+" ("+s.name+")");var o=n[s.name];o===void 0&&(o=s.value),e+=r(o),s.type==="TABLE"&&(e+=2)}return e};fe.RECORD=fe.TABLE;be.RECORD=be.TABLE;fe.LITERAL=function(n){return n};be.LITERAL=function(n){return n.length};function mt(n,e,t){if(e.length&&(e[0].name!=="coverageFormat"||e[0].value===1))for(var i=0;i<e.length;i+=1){var s=e[i];this[s.name]=s.value}if(this.tableName=n,this.fields=e,t)for(var r=Object.keys(t),o=0;o<r.length;o+=1){var a=r[o],A=t[a];this[a]!==void 0&&(this[a]=A)}}mt.prototype.encode=function(){return fe.TABLE(this)};mt.prototype.sizeOf=function(){return be.TABLE(this)};function es(n,e,t){t===void 0&&(t=e.length);var i=new Array(e.length+1);i[0]={name:n+"Count",type:"USHORT",value:t};for(var s=0;s<e.length;s++)i[s+1]={name:n+s,type:"USHORT",value:e[s]};return i}function Gr(n,e,t){var i=e.length,s=new Array(i+1);s[0]={name:n+"Count",type:"USHORT",value:i};for(var r=0;r<i;r++)s[r+1]={name:n+r,type:"TABLE",value:t(e[r],r)};return s}function ts(n,e,t){var i=e.length,s=[];s[0]={name:n+"Count",type:"USHORT",value:i};for(var r=0;r<i;r++)s=s.concat(t(e[r],r));return s}function ks(n){n.format===1?mt.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(es("glyph",n.glyphs))):n.format===2?mt.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(ts("rangeRecord",n.ranges,function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]}))):Te.assert(!1,"Coverage format must be 1 or 2.")}ks.prototype=Object.create(mt.prototype);ks.prototype.constructor=ks;function Gs(n){mt.call(this,"scriptListTable",ts("scriptRecord",n,function(e,t){var i=e.script,s=i.defaultLangSys;return Te.assert(!!s,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new mt("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new mt("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:s.reqFeatureIndex}].concat(es("featureIndex",s.featureIndexes)))}].concat(ts("langSys",i.langSysRecords,function(r,o){var a=r.langSys;return[{name:"langSysTag"+o,type:"TAG",value:r.tag},{name:"langSys"+o,type:"TABLE",value:new mt("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:a.reqFeatureIndex}].concat(es("featureIndex",a.featureIndexes)))}]})))}]}))}Gs.prototype=Object.create(mt.prototype);Gs.prototype.constructor=Gs;function Us(n){mt.call(this,"featureListTable",ts("featureRecord",n,function(e,t){var i=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new mt("featureTable",[{name:"featureParams",type:"USHORT",value:i.featureParams}].concat(es("lookupListIndex",i.lookupListIndexes)))}]}))}Us.prototype=Object.create(mt.prototype);Us.prototype.constructor=Us;function Ps(n,e){mt.call(this,"lookupListTable",Gr("lookup",n,function(t){var i=e[t.lookupType];return Te.assert(!!i,"Unable to write GSUB lookup type "+t.lookupType+" tables."),new mt("lookupTable",[{name:"lookupType",type:"USHORT",value:t.lookupType},{name:"lookupFlag",type:"USHORT",value:t.lookupFlag}].concat(Gr("subtable",t.subtables,i)))}))}Ps.prototype=Object.create(mt.prototype);Ps.prototype.constructor=Ps;var Ee={Table:mt,Record:mt,Coverage:ks,ScriptList:Gs,FeatureList:Us,LookupList:Ps,ushortList:es,tableList:Gr,recordList:ts};function Eo(n,e){return n.getUint8(e)}function Os(n,e){return n.getUint16(e,!1)}function I2(n,e){return n.getInt16(e,!1)}function to(n,e){return n.getUint32(e,!1)}function a3(n,e){var t=n.getInt16(e,!1),i=n.getUint16(e+2,!1);return t+i/65535}function y2(n,e){for(var t="",i=e;i<e+4;i+=1)t+=String.fromCharCode(n.getInt8(i));return t}function x2(n,e,t){for(var i=0,s=0;s<t;s+=1)i<<=8,i+=n.getUint8(e+s);return i}function S2(n,e,t){for(var i=[],s=e;s<t;s+=1)i.push(n.getUint8(s));return i}function w2(n){for(var e="",t=0;t<n.length;t+=1)e+=String.fromCharCode(n[t]);return e}var b2={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function X(n,e){this.data=n,this.offset=e,this.relativeOffset=0}X.prototype.parseByte=function(){var n=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,n};X.prototype.parseChar=function(){var n=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,n};X.prototype.parseCard8=X.prototype.parseByte;X.prototype.parseUShort=function(){var n=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,n};X.prototype.parseCard16=X.prototype.parseUShort;X.prototype.parseSID=X.prototype.parseUShort;X.prototype.parseOffset16=X.prototype.parseUShort;X.prototype.parseShort=function(){var n=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,n};X.prototype.parseF2Dot14=function(){var n=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,n};X.prototype.parseULong=function(){var n=to(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,n};X.prototype.parseOffset32=X.prototype.parseULong;X.prototype.parseFixed=function(){var n=a3(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,n};X.prototype.parseString=function(n){var e=this.data,t=this.offset+this.relativeOffset,i="";this.relativeOffset+=n;for(var s=0;s<n;s++)i+=String.fromCharCode(e.getUint8(t+s));return i};X.prototype.parseTag=function(){return this.parseString(4)};X.prototype.parseLongDateTime=function(){var n=to(this.data,this.offset+this.relativeOffset+4);return n-=2082844800,this.relativeOffset+=8,n};X.prototype.parseVersion=function(n){var e=Os(this.data,this.offset+this.relativeOffset),t=Os(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,n===void 0&&(n=4096),e+t/n/10};X.prototype.skip=function(n,e){e===void 0&&(e=1),this.relativeOffset+=b2[n]*e};X.prototype.parseULongList=function(n){n===void 0&&(n=this.parseULong());for(var e=new Array(n),t=this.data,i=this.offset+this.relativeOffset,s=0;s<n;s++)e[s]=t.getUint32(i),i+=4;return this.relativeOffset+=n*4,e};X.prototype.parseOffset16List=X.prototype.parseUShortList=function(n){n===void 0&&(n=this.parseUShort());for(var e=new Array(n),t=this.data,i=this.offset+this.relativeOffset,s=0;s<n;s++)e[s]=t.getUint16(i),i+=2;return this.relativeOffset+=n*2,e};X.prototype.parseShortList=function(n){for(var e=new Array(n),t=this.data,i=this.offset+this.relativeOffset,s=0;s<n;s++)e[s]=t.getInt16(i),i+=2;return this.relativeOffset+=n*2,e};X.prototype.parseByteList=function(n){for(var e=new Array(n),t=this.data,i=this.offset+this.relativeOffset,s=0;s<n;s++)e[s]=t.getUint8(i++);return this.relativeOffset+=n,e};X.prototype.parseList=function(n,e){e||(e=n,n=this.parseUShort());for(var t=new Array(n),i=0;i<n;i++)t[i]=e.call(this);return t};X.prototype.parseList32=function(n,e){e||(e=n,n=this.parseULong());for(var t=new Array(n),i=0;i<n;i++)t[i]=e.call(this);return t};X.prototype.parseRecordList=function(n,e){e||(e=n,n=this.parseUShort());for(var t=new Array(n),i=Object.keys(e),s=0;s<n;s++){for(var r={},o=0;o<i.length;o++){var a=i[o],A=e[a];r[a]=A.call(this)}t[s]=r}return t};X.prototype.parseRecordList32=function(n,e){e||(e=n,n=this.parseULong());for(var t=new Array(n),i=Object.keys(e),s=0;s<n;s++){for(var r={},o=0;o<i.length;o++){var a=i[o],A=e[a];r[a]=A.call(this)}t[s]=r}return t};X.prototype.parseStruct=function(n){if(typeof n=="function")return n.call(this);for(var e=Object.keys(n),t={},i=0;i<e.length;i++){var s=e[i],r=n[s];t[s]=r.call(this)}return t};X.prototype.parseValueRecord=function(n){if(n===void 0&&(n=this.parseUShort()),n!==0){var e={};return n&1&&(e.xPlacement=this.parseShort()),n&2&&(e.yPlacement=this.parseShort()),n&4&&(e.xAdvance=this.parseShort()),n&8&&(e.yAdvance=this.parseShort()),n&16&&(e.xPlaDevice=void 0,this.parseShort()),n&32&&(e.yPlaDevice=void 0,this.parseShort()),n&64&&(e.xAdvDevice=void 0,this.parseShort()),n&128&&(e.yAdvDevice=void 0,this.parseShort()),e}};X.prototype.parseValueRecordList=function(){for(var n=this.parseUShort(),e=this.parseUShort(),t=new Array(e),i=0;i<e;i++)t[i]=this.parseValueRecord(n);return t};X.prototype.parsePointer=function(n){var e=this.parseOffset16();if(e>0)return new X(this.data,this.offset+e).parseStruct(n)};X.prototype.parsePointer32=function(n){var e=this.parseOffset32();if(e>0)return new X(this.data,this.offset+e).parseStruct(n)};X.prototype.parseListOfLists=function(n){for(var e=this.parseOffset16List(),t=e.length,i=this.relativeOffset,s=new Array(t),r=0;r<t;r++){var o=e[r];if(o===0){s[r]=void 0;continue}if(this.relativeOffset=o,n){for(var a=this.parseOffset16List(),A=new Array(a.length),c=0;c<a.length;c++)this.relativeOffset=o+a[c],A[c]=n.call(this);s[r]=A}else s[r]=this.parseUShortList()}return this.relativeOffset=i,s};X.prototype.parseCoverage=function(){var n=this.offset+this.relativeOffset,e=this.parseUShort(),t=this.parseUShort();if(e===1)return{format:1,glyphs:this.parseUShortList(t)};if(e===2){for(var i=new Array(t),s=0;s<t;s++)i[s]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:i}}throw new Error("0x"+n.toString(16)+": Coverage format must be 1 or 2.")};X.prototype.parseClassDef=function(){var n=this.offset+this.relativeOffset,e=this.parseUShort();if(e===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(e===2)return{format:2,ranges:this.parseRecordList({start:X.uShort,end:X.uShort,classId:X.uShort})};throw new Error("0x"+n.toString(16)+": ClassDef format must be 1 or 2.")};X.list=function(n,e){return function(){return this.parseList(n,e)}};X.list32=function(n,e){return function(){return this.parseList32(n,e)}};X.recordList=function(n,e){return function(){return this.parseRecordList(n,e)}};X.recordList32=function(n,e){return function(){return this.parseRecordList32(n,e)}};X.pointer=function(n){return function(){return this.parsePointer(n)}};X.pointer32=function(n){return function(){return this.parsePointer32(n)}};X.tag=X.prototype.parseTag;X.byte=X.prototype.parseByte;X.uShort=X.offset16=X.prototype.parseUShort;X.uShortList=X.prototype.parseUShortList;X.uLong=X.offset32=X.prototype.parseULong;X.uLongList=X.prototype.parseULongList;X.struct=X.prototype.parseStruct;X.coverage=X.prototype.parseCoverage;X.classDef=X.prototype.parseClassDef;var Io={reserved:X.uShort,reqFeatureIndex:X.uShort,featureIndexes:X.uShortList};X.prototype.parseScriptList=function(){return this.parsePointer(X.recordList({tag:X.tag,script:X.pointer({defaultLangSys:X.pointer(Io),langSysRecords:X.recordList({tag:X.tag,langSys:X.pointer(Io)})})}))||[]};X.prototype.parseFeatureList=function(){return this.parsePointer(X.recordList({tag:X.tag,feature:X.pointer({featureParams:X.offset16,lookupListIndexes:X.uShortList})}))||[]};X.prototype.parseLookupList=function(n){return this.parsePointer(X.list(X.pointer(function(){var e=this.parseUShort();Te.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown.");var t=this.parseUShort(),i=t&16;return{lookupType:e,lookupFlag:t,subtables:this.parseList(X.pointer(n[e])),markFilteringSet:i?this.parseUShort():void 0}})))||[]};X.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var n=this.parseUShort(),e=this.parseUShort();Te.argument(n===1&&e<1,"GPOS/GSUB feature variations table unknown.");var t=this.parseRecordList32({conditionSetOffset:X.offset32,featureTableSubstitutionOffset:X.offset32});return t})||[]};var _e={getByte:Eo,getCard8:Eo,getUShort:Os,getCard16:Os,getShort:I2,getULong:to,getFixed:a3,getTag:y2,getOffset:x2,getBytes:S2,bytesToString:w2,Parser:X};function D2(n,e){e.parseUShort(),n.length=e.parseULong(),n.language=e.parseULong();var t;n.groupCount=t=e.parseULong(),n.glyphIndexMap={};for(var i=0;i<t;i+=1)for(var s=e.parseULong(),r=e.parseULong(),o=e.parseULong(),a=s;a<=r;a+=1)n.glyphIndexMap[a]=o,o++}function Q2(n,e,t,i,s){n.length=e.parseUShort(),n.language=e.parseUShort();var r;n.segCount=r=e.parseUShort()>>1,e.skip("uShort",3),n.glyphIndexMap={};for(var o=new _e.Parser(t,i+s+14),a=new _e.Parser(t,i+s+16+r*2),A=new _e.Parser(t,i+s+16+r*4),c=new _e.Parser(t,i+s+16+r*6),h=i+s+16+r*8,l=0;l<r-1;l+=1)for(var u=void 0,p=o.parseUShort(),C=a.parseUShort(),v=A.parseShort(),B=c.parseUShort(),I=C;I<=p;I+=1)B!==0?(h=c.offset+c.relativeOffset-2,h+=B,h+=(I-C)*2,u=_e.getUShort(t,h),u!==0&&(u=u+v&65535)):u=I+v&65535,n.glyphIndexMap[I]=u}function F2(n,e){var t={};t.version=_e.getUShort(n,e),Te.argument(t.version===0,"cmap table version should be 0."),t.numTables=_e.getUShort(n,e+2);for(var i=-1,s=t.numTables-1;s>=0;s-=1){var r=_e.getUShort(n,e+4+s*8),o=_e.getUShort(n,e+4+s*8+2);if(r===3&&(o===0||o===1||o===10)||r===0&&(o===0||o===1||o===2||o===3||o===4)){i=_e.getULong(n,e+4+s*8+4);break}}if(i===-1)throw new Error("No valid cmap sub-tables found.");var a=new _e.Parser(n,e+i);if(t.format=a.parseUShort(),t.format===12)D2(t,a);else if(t.format===4)Q2(t,a,n,e,i);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+t.format+").");return t}function T2(n,e,t){n.segments.push({end:e,start:e,delta:-(e-t),offset:0,glyphIndex:t})}function M2(n){n.segments.push({end:65535,start:65535,delta:1,offset:0})}function R2(n){var e=!0,t;for(t=n.length-1;t>0;t-=1){var i=n.get(t);if(i.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),e=!1;break}}var s=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:e?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:e?12:12+8}];e||(s=s.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),s=s.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var r=new Ee.Table("cmap",s);for(r.segments=[],t=0;t<n.length;t+=1){for(var o=n.get(t),a=0;a<o.unicodes.length;a+=1)T2(r,o.unicodes[a],t);r.segments=r.segments.sort(function(E,g){return E.start-g.start})}M2(r);var A=r.segments.length,c=0,h=[],l=[],u=[],p=[],C=[],v=[];for(t=0;t<A;t+=1){var B=r.segments[t];B.end<=65535&&B.start<=65535?(h=h.concat({name:"end_"+t,type:"USHORT",value:B.end}),l=l.concat({name:"start_"+t,type:"USHORT",value:B.start}),u=u.concat({name:"idDelta_"+t,type:"SHORT",value:B.delta}),p=p.concat({name:"idRangeOffset_"+t,type:"USHORT",value:B.offset}),B.glyphId!==void 0&&(C=C.concat({name:"glyph_"+t,type:"USHORT",value:B.glyphId}))):c+=1,!e&&B.glyphIndex!==void 0&&(v=v.concat({name:"cmap12Start_"+t,type:"ULONG",value:B.start}),v=v.concat({name:"cmap12End_"+t,type:"ULONG",value:B.end}),v=v.concat({name:"cmap12Glyph_"+t,type:"ULONG",value:B.glyphIndex}))}if(r.segCountX2=(A-c)*2,r.searchRange=Math.pow(2,Math.floor(Math.log(A-c)/Math.log(2)))*2,r.entrySelector=Math.log(r.searchRange/2)/Math.log(2),r.rangeShift=r.segCountX2-r.searchRange,r.fields=r.fields.concat(h),r.fields.push({name:"reservedPad",type:"USHORT",value:0}),r.fields=r.fields.concat(l),r.fields=r.fields.concat(u),r.fields=r.fields.concat(p),r.fields=r.fields.concat(C),r.cmap4Length=14+h.length*2+2+l.length*2+u.length*2+p.length*2+C.length*2,!e){var I=16+v.length*4;r.cmap12Offset=12+2*2+4+r.cmap4Length,r.fields=r.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:I},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:v.length/3}]),r.fields=r.fields.concat(v)}return r}var _2={parse:F2,make:R2},Ts=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],L2=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],k2=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],yo=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function A3(n){this.font=n}A3.prototype.charToGlyphIndex=function(n){var e=n.codePointAt(0),t=this.font.glyphs;if(t){for(var i=0;i<t.length;i+=1)for(var s=t.get(i),r=0;r<s.unicodes.length;r+=1)if(s.unicodes[r]===e)return i}return null};function Ns(n,e){this.encoding=n,this.charset=e}Ns.prototype.charToGlyphIndex=function(n){var e=n.codePointAt(0),t=this.encoding[e];return this.charset.indexOf(t)};function G2(n,e,t,i,s){n.beginPath(),n.moveTo(e,t),n.lineTo(i,s),n.stroke()}var en={line:G2};function U2(n,e){var t=e||new ft;return{configurable:!0,get:function(){return typeof t=="function"&&(t=t()),t},set:function(i){t=i}}}function Ht(n){this.bindConstructorValues(n)}Ht.prototype.bindConstructorValues=function(n){this.index=n.index||0,this.name=n.name||null,this.unicode=n.unicode||void 0,this.unicodes=n.unicodes||n.unicode!==void 0?[n.unicode]:[],"xMin"in n&&(this.xMin=n.xMin),"yMin"in n&&(this.yMin=n.yMin),"xMax"in n&&(this.xMax=n.xMax),"yMax"in n&&(this.yMax=n.yMax),"advanceWidth"in n&&(this.advanceWidth=n.advanceWidth),Object.defineProperty(this,"path",U2(this,n.path))};Ht.prototype.addUnicode=function(n){this.unicodes.length===0&&(this.unicode=n),this.unicodes.push(n)};Ht.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};Ht.prototype.getPath=function(n,e,t,i,s){n=n!==void 0?n:0,e=e!==void 0?e:0,t=t!==void 0?t:72;var r,o;i||(i={});var a=i.xScale,A=i.yScale;if(i.hinting&&s&&s.hinting&&(o=this.path&&s.hinting.exec(this,t)),o)r=s.hinting.getCommands(o),n=Math.round(n),e=Math.round(e),a=A=1;else{r=this.path.commands;var c=1/(this.path.unitsPerEm||1e3)*t;a===void 0&&(a=c),A===void 0&&(A=c)}for(var h=new ft,l=0;l<r.length;l+=1){var u=r[l];u.type==="M"?h.moveTo(n+u.x*a,e+-u.y*A):u.type==="L"?h.lineTo(n+u.x*a,e+-u.y*A):u.type==="Q"?h.quadraticCurveTo(n+u.x1*a,e+-u.y1*A,n+u.x*a,e+-u.y*A):u.type==="C"?h.curveTo(n+u.x1*a,e+-u.y1*A,n+u.x2*a,e+-u.y2*A,n+u.x*a,e+-u.y*A):u.type==="Z"&&h.closePath()}return h};Ht.prototype.getContours=function(){if(this.points===void 0)return[];for(var n=[],e=[],t=0;t<this.points.length;t+=1){var i=this.points[t];e.push(i),i.lastPointOfContour&&(n.push(e),e=[])}return Te.argument(e.length===0,"There are still points left in the current contour."),n};Ht.prototype.getMetrics=function(){for(var n=this.path.commands,e=[],t=[],i=0;i<n.length;i+=1){var s=n[i];s.type!=="Z"&&(e.push(s.x),t.push(s.y)),(s.type==="Q"||s.type==="C")&&(e.push(s.x1),t.push(s.y1)),s.type==="C"&&(e.push(s.x2),t.push(s.y2))}var r={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,t),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,t),leftSideBearing:this.leftSideBearing};return isFinite(r.xMin)||(r.xMin=0),isFinite(r.xMax)||(r.xMax=this.advanceWidth),isFinite(r.yMin)||(r.yMin=0),isFinite(r.yMax)||(r.yMax=0),r.rightSideBearing=this.advanceWidth-r.leftSideBearing-(r.xMax-r.xMin),r};Ht.prototype.draw=function(n,e,t,i,s){this.getPath(e,t,i,s).draw(n)};Ht.prototype.drawPoints=function(n,e,t,i){function s(l,u,p,C){n.beginPath();for(var v=0;v<l.length;v+=1)n.moveTo(u+l[v].x*C,p+l[v].y*C),n.arc(u+l[v].x*C,p+l[v].y*C,2,0,Math.PI*2,!1);n.closePath(),n.fill()}e=e!==void 0?e:0,t=t!==void 0?t:0,i=i!==void 0?i:24;for(var r=1/this.path.unitsPerEm*i,o=[],a=[],A=this.path,c=0;c<A.commands.length;c+=1){var h=A.commands[c];h.x!==void 0&&o.push({x:h.x,y:-h.y}),h.x1!==void 0&&a.push({x:h.x1,y:-h.y1}),h.x2!==void 0&&a.push({x:h.x2,y:-h.y2})}n.fillStyle="blue",s(o,e,t,r),n.fillStyle="red",s(a,e,t,r)};Ht.prototype.drawMetrics=function(n,e,t,i){var s;e=e!==void 0?e:0,t=t!==void 0?t:0,i=i!==void 0?i:24,s=1/this.path.unitsPerEm*i,n.lineWidth=1,n.strokeStyle="black",en.line(n,e,-1e4,e,1e4),en.line(n,-1e4,t,1e4,t);var r=this.xMin||0,o=this.yMin||0,a=this.xMax||0,A=this.yMax||0,c=this.advanceWidth||0;n.strokeStyle="blue",en.line(n,e+r*s,-1e4,e+r*s,1e4),en.line(n,e+a*s,-1e4,e+a*s,1e4),en.line(n,-1e4,t+-o*s,1e4,t+-o*s),en.line(n,-1e4,t+-A*s,1e4,t+-A*s),n.strokeStyle="green",en.line(n,e+c*s,-1e4,e+c*s,1e4)};function vs(n,e,t){Object.defineProperty(n,e,{get:function(){return n.path,n[t]},set:function(i){n[t]=i},enumerable:!0,configurable:!0})}function io(n,e){if(this.font=n,this.glyphs={},Array.isArray(e))for(var t=0;t<e.length;t++){var i=e[t];i.path.unitsPerEm=n.unitsPerEm,this.glyphs[t]=i}this.length=e&&e.length||0}io.prototype.get=function(n){if(this.glyphs[n]===void 0){this.font._push(n),typeof this.glyphs[n]=="function"&&(this.glyphs[n]=this.glyphs[n]());var e=this.glyphs[n],t=this.font._IndexToUnicodeMap[n];if(t)for(var i=0;i<t.unicodes.length;i++)e.addUnicode(t.unicodes[i]);this.font.cffEncoding?this.font.isCIDFont?e.name="gid"+n:e.name=this.font.cffEncoding.charset[n]:this.font.glyphNames.names&&(e.name=this.font.glyphNames.glyphIndexToName(n)),this.glyphs[n].advanceWidth=this.font._hmtxTableData[n].advanceWidth,this.glyphs[n].leftSideBearing=this.font._hmtxTableData[n].leftSideBearing}else typeof this.glyphs[n]=="function"&&(this.glyphs[n]=this.glyphs[n]());return this.glyphs[n]};io.prototype.push=function(n,e){this.glyphs[n]=e,this.length++};function P2(n,e){return new Ht({index:e,font:n})}function O2(n,e,t,i,s,r){return function(){var o=new Ht({index:e,font:n});return o.path=function(){t(o,i,s);var a=r(n.glyphs,o);return a.unitsPerEm=n.unitsPerEm,a},vs(o,"xMin","_xMin"),vs(o,"xMax","_xMax"),vs(o,"yMin","_yMin"),vs(o,"yMax","_yMax"),o}}function N2(n,e,t,i){return function(){var s=new Ht({index:e,font:n});return s.path=function(){var r=t(n,s,i);return r.unitsPerEm=n.unitsPerEm,r},s}}var di={GlyphSet:io,glyphLoader:P2,ttfGlyphLoader:O2,cffGlyphLoader:N2};function c3(n,e){if(n===e)return!0;if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t+=1)if(!c3(n[t],e[t]))return!1;return!0}else return!1}function Ur(n){var e;return n.length<1240?e=107:n.length<33900?e=1131:e=32768,e}function Ui(n,e,t){var i=[],s=[],r=_e.getCard16(n,e),o,a;if(r!==0){var A=_e.getByte(n,e+2);o=e+(r+1)*A+2;for(var c=e+3,h=0;h<r+1;h+=1)i.push(_e.getOffset(n,c,A)),c+=A;a=o+i[r]}else a=e+2;for(var l=0;l<i.length-1;l+=1){var u=_e.getBytes(n,o+i[l],o+i[l+1]);t&&(u=t(u)),s.push(u)}return{objects:s,startOffset:e,endOffset:a}}function H2(n,e){var t=[],i=_e.getCard16(n,e),s,r;if(i!==0){var o=_e.getByte(n,e+2);s=e+(i+1)*o+2;for(var a=e+3,A=0;A<i+1;A+=1)t.push(_e.getOffset(n,a,o)),a+=o;r=s+t[i]}else r=e+2;return{offsets:t,startOffset:e,endOffset:r}}function J2(n,e,t,i,s){var r=_e.getCard16(t,i),o=0;if(r!==0){var a=_e.getByte(t,i+2);o=i+(r+1)*a+2}var A=_e.getBytes(t,o+e[n],o+e[n+1]);return s&&(A=s(A)),A}function z2(n){for(var e="",t=15,i=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var s=n.parseByte(),r=s>>4,o=s&15;if(r===t||(e+=i[r],o===t))break;e+=i[o]}return parseFloat(e)}function Y2(n,e){var t,i,s,r;if(e===28)return t=n.parseByte(),i=n.parseByte(),t<<8|i;if(e===29)return t=n.parseByte(),i=n.parseByte(),s=n.parseByte(),r=n.parseByte(),t<<24|i<<16|s<<8|r;if(e===30)return z2(n);if(e>=32&&e<=246)return e-139;if(e>=247&&e<=250)return t=n.parseByte(),(e-247)*256+t+108;if(e>=251&&e<=254)return t=n.parseByte(),-(e-251)*256-t-108;throw new Error("Invalid b0 "+e)}function K2(n){for(var e={},t=0;t<n.length;t+=1){var i=n[t][0],s=n[t][1],r=void 0;if(s.length===1?r=s[0]:r=s,e.hasOwnProperty(i)&&!isNaN(e[i]))throw new Error("Object "+e+" already has key "+i);e[i]=r}return e}function h3(n,e,t){e=e!==void 0?e:0;var i=new _e.Parser(n,e),s=[],r=[];for(t=t!==void 0?t:n.length;i.relativeOffset<t;){var o=i.parseByte();o<=21?(o===12&&(o=1200+i.parseByte()),s.push([o,r]),r=[]):r.push(Y2(i,o))}return K2(s)}function Vn(n,e){return e<=390?e=Ts[e]:e=n[e-391],e}function l3(n,e,t){for(var i={},s,r=0;r<e.length;r+=1){var o=e[r];if(Array.isArray(o.type)){var a=[];a.length=o.type.length;for(var A=0;A<o.type.length;A++)s=n[o.op]!==void 0?n[o.op][A]:void 0,s===void 0&&(s=o.value!==void 0&&o.value[A]!==void 0?o.value[A]:null),o.type[A]==="SID"&&(s=Vn(t,s)),a[A]=s;i[o.name]=a}else s=n[o.op],s===void 0&&(s=o.value!==void 0?o.value:null),o.type==="SID"&&(s=Vn(t,s)),i[o.name]=s}return i}function X2(n,e){var t={};return t.formatMajor=_e.getCard8(n,e),t.formatMinor=_e.getCard8(n,e+1),t.size=_e.getCard8(n,e+2),t.offsetSize=_e.getCard8(n,e+3),t.startOffset=e,t.endOffset=e+4,t}var u3=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],f3=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function q2(n,e){var t=h3(n,0,n.byteLength);return l3(t,u3,e)}function p3(n,e,t,i){var s=h3(n,e,t);return l3(s,f3,i)}function xo(n,e,t,i){for(var s=[],r=0;r<t.length;r+=1){var o=new DataView(new Uint8Array(t[r]).buffer),a=q2(o,i);a._subrs=[],a._subrsBias=0,a._defaultWidthX=0,a._nominalWidthX=0;var A=a.private[0],c=a.private[1];if(A!==0&&c!==0){var h=p3(n,c+e,A,i);if(a._defaultWidthX=h.defaultWidthX,a._nominalWidthX=h.nominalWidthX,h.subrs!==0){var l=c+h.subrs,u=Ui(n,l+e);a._subrs=u.objects,a._subrsBias=Ur(a._subrs)}a._privateDict=h}s.push(a)}return s}function j2(n,e,t,i){var s,r,o=new _e.Parser(n,e);t-=1;var a=[".notdef"],A=o.parseCard8();if(A===0)for(var c=0;c<t;c+=1)s=o.parseSID(),a.push(Vn(i,s));else if(A===1)for(;a.length<=t;){s=o.parseSID(),r=o.parseCard8();for(var h=0;h<=r;h+=1)a.push(Vn(i,s)),s+=1}else if(A===2)for(;a.length<=t;){s=o.parseSID(),r=o.parseCard16();for(var l=0;l<=r;l+=1)a.push(Vn(i,s)),s+=1}else throw new Error("Unknown charset format "+A);return a}function V2(n,e,t){var i,s={},r=new _e.Parser(n,e),o=r.parseCard8();if(o===0)for(var a=r.parseCard8(),A=0;A<a;A+=1)i=r.parseCard8(),s[i]=A;else if(o===1){var c=r.parseCard8();i=1;for(var h=0;h<c;h+=1)for(var l=r.parseCard8(),u=r.parseCard8(),p=l;p<=l+u;p+=1)s[p]=i,i+=1}else throw new Error("Unknown encoding format "+o);return new Ns(s,t)}function So(n,e,t){var i,s,r,o,a=new ft,A=[],c=0,h=!1,l=!1,u=0,p=0,C,v,B,I;if(n.isCIDFont){var E=n.tables.cff.topDict._fdSelect[e.index],g=n.tables.cff.topDict._fdArray[E];C=g._subrs,v=g._subrsBias,B=g._defaultWidthX,I=g._nominalWidthX}else C=n.tables.cff.topDict._subrs,v=n.tables.cff.topDict._subrsBias,B=n.tables.cff.topDict._defaultWidthX,I=n.tables.cff.topDict._nominalWidthX;var x=B;function w(S,M){l&&a.closePath(),a.moveTo(S,M),l=!0}function b(){var S;S=A.length%2!==0,S&&!h&&(x=A.shift()+I),c+=A.length>>1,A.length=0,h=!0}function D(S){for(var M,T,U,k,K,z,$,ae,Z,Y,re,W,ee=0;ee<S.length;){var _=S[ee];switch(ee+=1,_){case 1:b();break;case 3:b();break;case 4:A.length>1&&!h&&(x=A.shift()+I,h=!0),p+=A.pop(),w(u,p);break;case 5:for(;A.length>0;)u+=A.shift(),p+=A.shift(),a.lineTo(u,p);break;case 6:for(;A.length>0&&(u+=A.shift(),a.lineTo(u,p),A.length!==0);)p+=A.shift(),a.lineTo(u,p);break;case 7:for(;A.length>0&&(p+=A.shift(),a.lineTo(u,p),A.length!==0);)u+=A.shift(),a.lineTo(u,p);break;case 8:for(;A.length>0;)i=u+A.shift(),s=p+A.shift(),r=i+A.shift(),o=s+A.shift(),u=r+A.shift(),p=o+A.shift(),a.curveTo(i,s,r,o,u,p);break;case 10:K=A.pop()+v,z=C[K],z&&D(z);break;case 11:return;case 12:switch(_=S[ee],ee+=1,_){case 35:i=u+A.shift(),s=p+A.shift(),r=i+A.shift(),o=s+A.shift(),$=r+A.shift(),ae=o+A.shift(),Z=$+A.shift(),Y=ae+A.shift(),re=Z+A.shift(),W=Y+A.shift(),u=re+A.shift(),p=W+A.shift(),A.shift(),a.curveTo(i,s,r,o,$,ae),a.curveTo(Z,Y,re,W,u,p);break;case 34:i=u+A.shift(),s=p,r=i+A.shift(),o=s+A.shift(),$=r+A.shift(),ae=o,Z=$+A.shift(),Y=o,re=Z+A.shift(),W=p,u=re+A.shift(),a.curveTo(i,s,r,o,$,ae),a.curveTo(Z,Y,re,W,u,p);break;case 36:i=u+A.shift(),s=p+A.shift(),r=i+A.shift(),o=s+A.shift(),$=r+A.shift(),ae=o,Z=$+A.shift(),Y=o,re=Z+A.shift(),W=Y+A.shift(),u=re+A.shift(),a.curveTo(i,s,r,o,$,ae),a.curveTo(Z,Y,re,W,u,p);break;case 37:i=u+A.shift(),s=p+A.shift(),r=i+A.shift(),o=s+A.shift(),$=r+A.shift(),ae=o+A.shift(),Z=$+A.shift(),Y=ae+A.shift(),re=Z+A.shift(),W=Y+A.shift(),Math.abs(re-u)>Math.abs(W-p)?u=re+A.shift():p=W+A.shift(),a.curveTo(i,s,r,o,$,ae),a.curveTo(Z,Y,re,W,u,p);break;default:console.log("Glyph "+e.index+": unknown operator "+1200+_),A.length=0}break;case 14:A.length>0&&!h&&(x=A.shift()+I,h=!0),l&&(a.closePath(),l=!1);break;case 18:b();break;case 19:case 20:b(),ee+=c+7>>3;break;case 21:A.length>2&&!h&&(x=A.shift()+I,h=!0),p+=A.pop(),u+=A.pop(),w(u,p);break;case 22:A.length>1&&!h&&(x=A.shift()+I,h=!0),u+=A.pop(),w(u,p);break;case 23:b();break;case 24:for(;A.length>2;)i=u+A.shift(),s=p+A.shift(),r=i+A.shift(),o=s+A.shift(),u=r+A.shift(),p=o+A.shift(),a.curveTo(i,s,r,o,u,p);u+=A.shift(),p+=A.shift(),a.lineTo(u,p);break;case 25:for(;A.length>6;)u+=A.shift(),p+=A.shift(),a.lineTo(u,p);i=u+A.shift(),s=p+A.shift(),r=i+A.shift(),o=s+A.shift(),u=r+A.shift(),p=o+A.shift(),a.curveTo(i,s,r,o,u,p);break;case 26:for(A.length%2&&(u+=A.shift());A.length>0;)i=u,s=p+A.shift(),r=i+A.shift(),o=s+A.shift(),u=r,p=o+A.shift(),a.curveTo(i,s,r,o,u,p);break;case 27:for(A.length%2&&(p+=A.shift());A.length>0;)i=u+A.shift(),s=p,r=i+A.shift(),o=s+A.shift(),u=r+A.shift(),p=o,a.curveTo(i,s,r,o,u,p);break;case 28:M=S[ee],T=S[ee+1],A.push((M<<24|T<<16)>>16),ee+=2;break;case 29:K=A.pop()+n.gsubrsBias,z=n.gsubrs[K],z&&D(z);break;case 30:for(;A.length>0&&(i=u,s=p+A.shift(),r=i+A.shift(),o=s+A.shift(),u=r+A.shift(),p=o+(A.length===1?A.shift():0),a.curveTo(i,s,r,o,u,p),A.length!==0);)i=u+A.shift(),s=p,r=i+A.shift(),o=s+A.shift(),p=o+A.shift(),u=r+(A.length===1?A.shift():0),a.curveTo(i,s,r,o,u,p);break;case 31:for(;A.length>0&&(i=u+A.shift(),s=p,r=i+A.shift(),o=s+A.shift(),p=o+A.shift(),u=r+(A.length===1?A.shift():0),a.curveTo(i,s,r,o,u,p),A.length!==0);)i=u,s=p+A.shift(),r=i+A.shift(),o=s+A.shift(),u=r+A.shift(),p=o+(A.length===1?A.shift():0),a.curveTo(i,s,r,o,u,p);break;default:_<32?console.log("Glyph "+e.index+": unknown operator "+_):_<247?A.push(_-139):_<251?(M=S[ee],ee+=1,A.push((_-247)*256+M+108)):_<255?(M=S[ee],ee+=1,A.push(-(_-251)*256-M-108)):(M=S[ee],T=S[ee+1],U=S[ee+2],k=S[ee+3],ee+=4,A.push((M<<24|T<<16|U<<8|k)/65536))}}}return D(t),e.advanceWidth=x,a}function W2(n,e,t,i){var s=[],r,o=new _e.Parser(n,e),a=o.parseCard8();if(a===0)for(var A=0;A<t;A++){if(r=o.parseCard8(),r>=i)throw new Error("CFF table CID Font FDSelect has bad FD index value "+r+" (FD count "+i+")");s.push(r)}else if(a===3){var c=o.parseCard16(),h=o.parseCard16();if(h!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+h);for(var l,u=0;u<c;u++){if(r=o.parseCard8(),l=o.parseCard16(),r>=i)throw new Error("CFF table CID Font FDSelect has bad FD index value "+r+" (FD count "+i+")");if(l>t)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+l);for(;h<l;h++)s.push(r);h=l}if(l!==t)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+l)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+a);return s}function Z2(n,e,t,i){t.tables.cff={};var s=X2(n,e),r=Ui(n,s.endOffset,_e.bytesToString),o=Ui(n,r.endOffset),a=Ui(n,o.endOffset,_e.bytesToString),A=Ui(n,a.endOffset);t.gsubrs=A.objects,t.gsubrsBias=Ur(t.gsubrs);var c=xo(n,e,o.objects,a.objects);if(c.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+c.length);var h=c[0];if(t.tables.cff.topDict=h,h._privateDict&&(t.defaultWidthX=h._privateDict.defaultWidthX,t.nominalWidthX=h._privateDict.nominalWidthX),h.ros[0]!==void 0&&h.ros[1]!==void 0&&(t.isCIDFont=!0),t.isCIDFont){var l=h.fdArray,u=h.fdSelect;if(l===0||u===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");l+=e;var p=Ui(n,l),C=xo(n,e,p.objects,a.objects);h._fdArray=C,u+=e,h._fdSelect=W2(n,u,t.numGlyphs,C.length)}var v=e+h.private[1],B=p3(n,v,h.private[0],a.objects);if(t.defaultWidthX=B.defaultWidthX,t.nominalWidthX=B.nominalWidthX,B.subrs!==0){var I=v+B.subrs,E=Ui(n,I);t.subrs=E.objects,t.subrsBias=Ur(t.subrs)}else t.subrs=[],t.subrsBias=0;var g;i.lowMemory?(g=H2(n,e+h.charStrings),t.nGlyphs=g.offsets.length):(g=Ui(n,e+h.charStrings),t.nGlyphs=g.objects.length);var x=j2(n,e+h.charset,t.nGlyphs,a.objects);if(h.encoding===0?t.cffEncoding=new Ns(L2,x):h.encoding===1?t.cffEncoding=new Ns(k2,x):t.cffEncoding=V2(n,e+h.encoding,x),t.encoding=t.encoding||t.cffEncoding,t.glyphs=new di.GlyphSet(t),i.lowMemory)t._push=function(D){var S=J2(D,g.offsets,n,e+h.charStrings);t.glyphs.push(D,di.cffGlyphLoader(t,D,So,S))};else for(var w=0;w<t.nGlyphs;w+=1){var b=g.objects[w];t.glyphs.push(w,di.cffGlyphLoader(t,w,So,b))}}function g3(n,e){var t,i=Ts.indexOf(n);return i>=0&&(t=i),i=e.indexOf(n),i>=0?t=i+Ts.length:(t=Ts.length+e.length,e.push(n)),t}function $2(){return new Ee.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function e1(n){var e=new Ee.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(var t=0;t<n.length;t+=1)e.names.push({name:"name_"+t,type:"NAME",value:n[t]});return e}function d3(n,e,t){for(var i={},s=0;s<n.length;s+=1){var r=n[s],o=e[r.name];o!==void 0&&!c3(o,r.value)&&(r.type==="SID"&&(o=g3(o,t)),i[r.op]={name:r.name,type:r.type,value:o})}return i}function wo(n,e){var t=new Ee.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return t.dict=d3(u3,n,e),t}function bo(n){var e=new Ee.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:n}],e}function t1(n){var e=new Ee.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(var t=0;t<n.length;t+=1)e.strings.push({name:"string_"+t,type:"STRING",value:n[t]});return e}function i1(){return new Ee.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function n1(n,e){for(var t=new Ee.Record("Charsets",[{name:"format",type:"Card8",value:0}]),i=0;i<n.length;i+=1){var s=n[i],r=g3(s,e);t.fields.push({name:"glyph_"+i,type:"SID",value:r})}return t}function s1(n){var e=[],t=n.path;e.push({name:"width",type:"NUMBER",value:n.advanceWidth});for(var i=0,s=0,r=0;r<t.commands.length;r+=1){var o=void 0,a=void 0,A=t.commands[r];if(A.type==="Q"){var c=.3333333333333333,h=2/3;A={type:"C",x:A.x,y:A.y,x1:Math.round(c*i+h*A.x1),y1:Math.round(c*s+h*A.y1),x2:Math.round(c*A.x+h*A.x1),y2:Math.round(c*A.y+h*A.y1)}}if(A.type==="M")o=Math.round(A.x-i),a=Math.round(A.y-s),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rmoveto",type:"OP",value:21}),i=Math.round(A.x),s=Math.round(A.y);else if(A.type==="L")o=Math.round(A.x-i),a=Math.round(A.y-s),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rlineto",type:"OP",value:5}),i=Math.round(A.x),s=Math.round(A.y);else if(A.type==="C"){var l=Math.round(A.x1-i),u=Math.round(A.y1-s),p=Math.round(A.x2-A.x1),C=Math.round(A.y2-A.y1);o=Math.round(A.x-A.x2),a=Math.round(A.y-A.y2),e.push({name:"dx1",type:"NUMBER",value:l}),e.push({name:"dy1",type:"NUMBER",value:u}),e.push({name:"dx2",type:"NUMBER",value:p}),e.push({name:"dy2",type:"NUMBER",value:C}),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rrcurveto",type:"OP",value:8}),i=Math.round(A.x),s=Math.round(A.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}function r1(n){for(var e=new Ee.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),t=0;t<n.length;t+=1){var i=n.get(t),s=s1(i);e.charStrings.push({name:i.name,type:"CHARSTRING",value:s})}return e}function o1(n,e){var t=new Ee.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return t.dict=d3(f3,n,e),t}function a1(n,e){for(var t=new Ee.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),i=1/e.unitsPerEm,s={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[i,0,0,i,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},r={},o=[],a,A=1;A<n.length;A+=1)a=n.get(A),o.push(a.name);var c=[];t.header=$2(),t.nameIndex=e1([e.postScriptName]);var h=wo(s,c);t.topDictIndex=bo(h),t.globalSubrIndex=i1(),t.charsets=n1(o,c),t.charStringsIndex=r1(n),t.privateDict=o1(r,c),t.stringIndex=t1(c);var l=t.header.sizeOf()+t.nameIndex.sizeOf()+t.topDictIndex.sizeOf()+t.stringIndex.sizeOf()+t.globalSubrIndex.sizeOf();return s.charset=l,s.encoding=0,s.charStrings=s.charset+t.charsets.sizeOf(),s.private[1]=s.charStrings+t.charStringsIndex.sizeOf(),h=wo(s,c),t.topDictIndex=bo(h),t}var A1={parse:Z2,make:a1};function c1(n,e){var t={},i=new _e.Parser(n,e);return t.version=i.parseVersion(),t.fontRevision=Math.round(i.parseFixed()*1e3)/1e3,t.checkSumAdjustment=i.parseULong(),t.magicNumber=i.parseULong(),Te.argument(t.magicNumber===1594834165,"Font header has wrong magic number."),t.flags=i.parseUShort(),t.unitsPerEm=i.parseUShort(),t.created=i.parseLongDateTime(),t.modified=i.parseLongDateTime(),t.xMin=i.parseShort(),t.yMin=i.parseShort(),t.xMax=i.parseShort(),t.yMax=i.parseShort(),t.macStyle=i.parseUShort(),t.lowestRecPPEM=i.parseUShort(),t.fontDirectionHint=i.parseShort(),t.indexToLocFormat=i.parseShort(),t.glyphDataFormat=i.parseShort(),t}function h1(n){var e=Math.round(new Date().getTime()/1e3)+2082844800,t=e;return n.createdTimestamp&&(t=n.createdTimestamp+2082844800),new Ee.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:t},{name:"modified",type:"LONGDATETIME",value:e},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],n)}var l1={parse:c1,make:h1};function u1(n,e){var t={},i=new _e.Parser(n,e);return t.version=i.parseVersion(),t.ascender=i.parseShort(),t.descender=i.parseShort(),t.lineGap=i.parseShort(),t.advanceWidthMax=i.parseUShort(),t.minLeftSideBearing=i.parseShort(),t.minRightSideBearing=i.parseShort(),t.xMaxExtent=i.parseShort(),t.caretSlopeRise=i.parseShort(),t.caretSlopeRun=i.parseShort(),t.caretOffset=i.parseShort(),i.relativeOffset+=8,t.metricDataFormat=i.parseShort(),t.numberOfHMetrics=i.parseUShort(),t}function f1(n){return new Ee.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],n)}var p1={parse:u1,make:f1};function g1(n,e,t,i,s){for(var r,o,a=new _e.Parser(n,e),A=0;A<i;A+=1){A<t&&(r=a.parseUShort(),o=a.parseShort());var c=s.get(A);c.advanceWidth=r,c.leftSideBearing=o}}function d1(n,e,t,i,s){n._hmtxTableData={};for(var r,o,a=new _e.Parser(e,t),A=0;A<s;A+=1)A<i&&(r=a.parseUShort(),o=a.parseShort()),n._hmtxTableData[A]={advanceWidth:r,leftSideBearing:o}}function m1(n,e,t,i,s,r,o){o.lowMemory?d1(n,e,t,i,s):g1(e,t,i,s,r)}function v1(n){for(var e=new Ee.Table("hmtx",[]),t=0;t<n.length;t+=1){var i=n.get(t),s=i.advanceWidth||0,r=i.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+t,type:"USHORT",value:s}),e.fields.push({name:"leftSideBearing_"+t,type:"SHORT",value:r})}return e}var B1={parse:m1,make:v1};function C1(n){for(var e=new Ee.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:n.length}]),t="",i=12+n.length*4,s=0;s<n.length;++s){var r=t.indexOf(n[s]);r<0&&(r=t.length,t+=n[s]),e.fields.push({name:"offset "+s,type:"USHORT",value:i+r}),e.fields.push({name:"length "+s,type:"USHORT",value:n[s].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:t}),e}function E1(n,e){var t=new _e.Parser(n,e),i=t.parseULong();Te.argument(i===1,"Unsupported ltag table version."),t.skip("uLong",1);for(var s=t.parseULong(),r=[],o=0;o<s;o++){for(var a="",A=e+t.parseUShort(),c=t.parseUShort(),h=A;h<A+c;++h)a+=String.fromCharCode(n.getInt8(h));r.push(a)}return r}var I1={make:C1,parse:E1};function y1(n,e){var t={},i=new _e.Parser(n,e);return t.version=i.parseVersion(),t.numGlyphs=i.parseUShort(),t.version===1&&(t.maxPoints=i.parseUShort(),t.maxContours=i.parseUShort(),t.maxCompositePoints=i.parseUShort(),t.maxCompositeContours=i.parseUShort(),t.maxZones=i.parseUShort(),t.maxTwilightPoints=i.parseUShort(),t.maxStorage=i.parseUShort(),t.maxFunctionDefs=i.parseUShort(),t.maxInstructionDefs=i.parseUShort(),t.maxStackElements=i.parseUShort(),t.maxSizeOfInstructions=i.parseUShort(),t.maxComponentElements=i.parseUShort(),t.maxComponentDepth=i.parseUShort()),t}function x1(n){return new Ee.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:n}])}var S1={parse:y1,make:x1},m3=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],v3={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},w1={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},B3={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function b1(n,e,t){switch(n){case 0:if(e===65535)return"und";if(t)return t[e];break;case 1:return v3[e];case 3:return B3[e]}}var Pr="utf-16",D1={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Q1={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function C3(n,e,t){switch(n){case 0:return Pr;case 1:return Q1[t]||D1[e];case 3:if(e===1||e===10)return Pr;break}}function F1(n,e,t){for(var i={},s=new _e.Parser(n,e),r=s.parseUShort(),o=s.parseUShort(),a=s.offset+s.parseUShort(),A=0;A<o;A++){var c=s.parseUShort(),h=s.parseUShort(),l=s.parseUShort(),u=s.parseUShort(),p=m3[u]||u,C=s.parseUShort(),v=s.parseUShort(),B=b1(c,l,t),I=C3(c,h,l);if(I!==void 0&&B!==void 0){var E=void 0;if(I===Pr?E=bn.UTF16(n,a+v,C):E=bn.MACSTRING(n,a+v,C,I),E){var g=i[p];g===void 0&&(g=i[p]={}),g[B]=E}}}return r===1&&s.parseUShort(),i}function ir(n){var e={};for(var t in n)e[n[t]]=parseInt(t);return e}function Do(n,e,t,i,s,r){return new Ee.Record("NameRecord",[{name:"platformID",type:"USHORT",value:n},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:t},{name:"nameID",type:"USHORT",value:i},{name:"length",type:"USHORT",value:s},{name:"offset",type:"USHORT",value:r}])}function T1(n,e){var t=n.length,i=e.length-t+1;e:for(var s=0;s<i;s++)for(;s<i;s++){for(var r=0;r<t;r++)if(e[s+r]!==n[r])continue e;return s}return-1}function Qo(n,e){var t=T1(n,e);if(t<0){t=e.length;for(var i=0,s=n.length;i<s;++i)e.push(n[i])}return t}function M1(n,e){var t,i=[],s={},r=ir(m3);for(var o in n){var a=r[o];if(a===void 0&&(a=o),t=parseInt(a),isNaN(t))throw new Error('Name table entry "'+o+'" does not exist, see nameTableNames for complete list.');s[t]=n[o],i.push(t)}for(var A=ir(v3),c=ir(B3),h=[],l=[],u=0;u<i.length;u++){t=i[u];var p=s[t];for(var C in p){var v=p[C],B=1,I=A[C],E=w1[I],g=C3(B,E,I),x=fe.MACSTRING(v,g);x===void 0&&(B=0,I=e.indexOf(C),I<0&&(I=e.length,e.push(C)),E=4,x=fe.UTF16(v));var w=Qo(x,l);h.push(Do(B,E,I,t,x.length,w));var b=c[C];if(b!==void 0){var D=fe.UTF16(v),S=Qo(D,l);h.push(Do(3,1,b,t,D.length,S))}}}h.sort(function(U,k){return U.platformID-k.platformID||U.encodingID-k.encodingID||U.languageID-k.languageID||U.nameID-k.nameID});for(var M=new Ee.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:h.length},{name:"stringOffset",type:"USHORT",value:6+h.length*12}]),T=0;T<h.length;T++)M.fields.push({name:"record_"+T,type:"RECORD",value:h[T]});return M.fields.push({name:"strings",type:"LITERAL",value:l}),M}var R1={parse:F1,make:M1},Or=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function _1(n){for(var e=0;e<Or.length;e+=1){var t=Or[e];if(n>=t.begin&&n<t.end)return e}return-1}function L1(n,e){var t={},i=new _e.Parser(n,e);t.version=i.parseUShort(),t.xAvgCharWidth=i.parseShort(),t.usWeightClass=i.parseUShort(),t.usWidthClass=i.parseUShort(),t.fsType=i.parseUShort(),t.ySubscriptXSize=i.parseShort(),t.ySubscriptYSize=i.parseShort(),t.ySubscriptXOffset=i.parseShort(),t.ySubscriptYOffset=i.parseShort(),t.ySuperscriptXSize=i.parseShort(),t.ySuperscriptYSize=i.parseShort(),t.ySuperscriptXOffset=i.parseShort(),t.ySuperscriptYOffset=i.parseShort(),t.yStrikeoutSize=i.parseShort(),t.yStrikeoutPosition=i.parseShort(),t.sFamilyClass=i.parseShort(),t.panose=[];for(var s=0;s<10;s++)t.panose[s]=i.parseByte();return t.ulUnicodeRange1=i.parseULong(),t.ulUnicodeRange2=i.parseULong(),t.ulUnicodeRange3=i.parseULong(),t.ulUnicodeRange4=i.parseULong(),t.achVendID=String.fromCharCode(i.parseByte(),i.parseByte(),i.parseByte(),i.parseByte()),t.fsSelection=i.parseUShort(),t.usFirstCharIndex=i.parseUShort(),t.usLastCharIndex=i.parseUShort(),t.sTypoAscender=i.parseShort(),t.sTypoDescender=i.parseShort(),t.sTypoLineGap=i.parseShort(),t.usWinAscent=i.parseUShort(),t.usWinDescent=i.parseUShort(),t.version>=1&&(t.ulCodePageRange1=i.parseULong(),t.ulCodePageRange2=i.parseULong()),t.version>=2&&(t.sxHeight=i.parseShort(),t.sCapHeight=i.parseShort(),t.usDefaultChar=i.parseUShort(),t.usBreakChar=i.parseUShort(),t.usMaxContent=i.parseUShort()),t}function k1(n){return new Ee.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],n)}var Fo={parse:L1,make:k1,unicodeRanges:Or,getUnicodeRange:_1};function G1(n,e){var t={},i=new _e.Parser(n,e);switch(t.version=i.parseVersion(),t.italicAngle=i.parseFixed(),t.underlinePosition=i.parseShort(),t.underlineThickness=i.parseShort(),t.isFixedPitch=i.parseULong(),t.minMemType42=i.parseULong(),t.maxMemType42=i.parseULong(),t.minMemType1=i.parseULong(),t.maxMemType1=i.parseULong(),t.version){case 1:t.names=yo.slice();break;case 2:t.numberOfGlyphs=i.parseUShort(),t.glyphNameIndex=new Array(t.numberOfGlyphs);for(var s=0;s<t.numberOfGlyphs;s++)t.glyphNameIndex[s]=i.parseUShort();t.names=[];for(var r=0;r<t.numberOfGlyphs;r++)if(t.glyphNameIndex[r]>=yo.length){var o=i.parseChar();t.names.push(i.parseString(o))}break;case 2.5:t.numberOfGlyphs=i.parseUShort(),t.offset=new Array(t.numberOfGlyphs);for(var a=0;a<t.numberOfGlyphs;a++)t.offset[a]=i.parseChar();break}return t}function U1(){return new Ee.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var P1={parse:G1,make:U1},Zt=new Array(9);Zt[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{substFormat:1,coverage:this.parsePointer(X.coverage),deltaGlyphId:this.parseUShort()};if(t===2)return{substFormat:2,coverage:this.parsePointer(X.coverage),substitute:this.parseOffset16List()};Te.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")};Zt[2]=function(){var e=this.parseUShort();return Te.argument(e===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(X.coverage),sequences:this.parseListOfLists()}};Zt[3]=function(){var e=this.parseUShort();return Te.argument(e===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(X.coverage),alternateSets:this.parseListOfLists()}};Zt[4]=function(){var e=this.parseUShort();return Te.argument(e===1,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(X.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var yn={sequenceIndex:X.uShort,lookupListIndex:X.uShort};Zt[5]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{substFormat:t,coverage:this.parsePointer(X.coverage),ruleSets:this.parseListOfLists(function(){var r=this.parseUShort(),o=this.parseUShort();return{input:this.parseUShortList(r-1),lookupRecords:this.parseRecordList(o,yn)}})};if(t===2)return{substFormat:t,coverage:this.parsePointer(X.coverage),classDef:this.parsePointer(X.classDef),classSets:this.parseListOfLists(function(){var r=this.parseUShort(),o=this.parseUShort();return{classes:this.parseUShortList(r-1),lookupRecords:this.parseRecordList(o,yn)}})};if(t===3){var i=this.parseUShort(),s=this.parseUShort();return{substFormat:t,coverages:this.parseList(i,X.pointer(X.coverage)),lookupRecords:this.parseRecordList(s,yn)}}Te.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};Zt[6]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{substFormat:1,coverage:this.parsePointer(X.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(yn)}})};if(t===2)return{substFormat:2,coverage:this.parsePointer(X.coverage),backtrackClassDef:this.parsePointer(X.classDef),inputClassDef:this.parsePointer(X.classDef),lookaheadClassDef:this.parsePointer(X.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(yn)}})};if(t===3)return{substFormat:3,backtrackCoverage:this.parseList(X.pointer(X.coverage)),inputCoverage:this.parseList(X.pointer(X.coverage)),lookaheadCoverage:this.parseList(X.pointer(X.coverage)),lookupRecords:this.parseRecordList(yn)};Te.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};Zt[7]=function(){var e=this.parseUShort();Te.argument(e===1,"GSUB Extension Substitution subtable identifier-format must be 1");var t=this.parseUShort(),i=new X(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:t,extension:Zt[t].call(i)}};Zt[8]=function(){var e=this.parseUShort();return Te.argument(e===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(X.coverage),backtrackCoverage:this.parseList(X.pointer(X.coverage)),lookaheadCoverage:this.parseList(X.pointer(X.coverage)),substitutes:this.parseUShortList()}};function O1(n,e){e=e||0;var t=new X(n,e),i=t.parseVersion(1);return Te.argument(i===1||i===1.1,"Unsupported GSUB table version."),i===1?{version:i,scripts:t.parseScriptList(),features:t.parseFeatureList(),lookups:t.parseLookupList(Zt)}:{version:i,scripts:t.parseScriptList(),features:t.parseFeatureList(),lookups:t.parseLookupList(Zt),variations:t.parseFeatureVariationsList()}}var Tn=new Array(9);Tn[1]=function(e){return e.substFormat===1?new Ee.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ee.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new Ee.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ee.Coverage(e.coverage)}].concat(Ee.ushortList("substitute",e.substitute)))};Tn[2]=function(e){return Te.assert(e.substFormat===1,"Lookup type 2 substFormat must be 1."),new Ee.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ee.Coverage(e.coverage)}].concat(Ee.tableList("seqSet",e.sequences,function(t){return new Ee.Table("sequenceSetTable",Ee.ushortList("sequence",t))})))};Tn[3]=function(e){return Te.assert(e.substFormat===1,"Lookup type 3 substFormat must be 1."),new Ee.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ee.Coverage(e.coverage)}].concat(Ee.tableList("altSet",e.alternateSets,function(t){return new Ee.Table("alternateSetTable",Ee.ushortList("alternate",t))})))};Tn[4]=function(e){return Te.assert(e.substFormat===1,"Lookup type 4 substFormat must be 1."),new Ee.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ee.Coverage(e.coverage)}].concat(Ee.tableList("ligSet",e.ligatureSets,function(t){return new Ee.Table("ligatureSetTable",Ee.tableList("ligature",t,function(i){return new Ee.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:i.ligGlyph}].concat(Ee.ushortList("component",i.components,i.components.length+1)))}))})))};Tn[6]=function(e){if(e.substFormat===1){var t=new Ee.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new Ee.Coverage(e.coverage)}].concat(Ee.tableList("chainRuleSet",e.chainRuleSets,function(r){return new Ee.Table("chainRuleSetTable",Ee.tableList("chainRule",r,function(o){var a=Ee.ushortList("backtrackGlyph",o.backtrack,o.backtrack.length).concat(Ee.ushortList("inputGlyph",o.input,o.input.length+1)).concat(Ee.ushortList("lookaheadGlyph",o.lookahead,o.lookahead.length)).concat(Ee.ushortList("substitution",[],o.lookupRecords.length));return o.lookupRecords.forEach(function(A,c){a=a.concat({name:"sequenceIndex"+c,type:"USHORT",value:A.sequenceIndex}).concat({name:"lookupListIndex"+c,type:"USHORT",value:A.lookupListIndex})}),new Ee.Table("chainRuleTable",a)}))})));return t}else if(e.substFormat===2)Te.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(e.substFormat===3){var i=[{name:"substFormat",type:"USHORT",value:e.substFormat}];i.push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach(function(r,o){i.push({name:"backtrackCoverage"+o,type:"TABLE",value:new Ee.Coverage(r)})}),i.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach(function(r,o){i.push({name:"inputCoverage"+o,type:"TABLE",value:new Ee.Coverage(r)})}),i.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach(function(r,o){i.push({name:"lookaheadCoverage"+o,type:"TABLE",value:new Ee.Coverage(r)})}),i.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach(function(r,o){i=i.concat({name:"sequenceIndex"+o,type:"USHORT",value:r.sequenceIndex}).concat({name:"lookupListIndex"+o,type:"USHORT",value:r.lookupListIndex})});var s=new Ee.Table("chainContextTable",i);return s}Te.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function N1(n){return new Ee.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ee.ScriptList(n.scripts)},{name:"features",type:"TABLE",value:new Ee.FeatureList(n.features)},{name:"lookups",type:"TABLE",value:new Ee.LookupList(n.lookups,Tn)}])}var H1={parse:O1,make:N1};function J1(n,e){var t=new _e.Parser(n,e),i=t.parseULong();Te.argument(i===1,"Unsupported META table version."),t.parseULong(),t.parseULong();for(var s=t.parseULong(),r={},o=0;o<s;o++){var a=t.parseTag(),A=t.parseULong(),c=t.parseULong(),h=bn.UTF8(n,e+A,c);r[a]=h}return r}function z1(n){var e=Object.keys(n).length,t="",i=16+e*12,s=new Ee.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:i},{name:"numTags",type:"ULONG",value:e}]);for(var r in n){var o=t.length;t+=n[r],s.fields.push({name:"tag "+r,type:"TAG",value:r}),s.fields.push({name:"offset "+r,type:"ULONG",value:i+o}),s.fields.push({name:"length "+r,type:"ULONG",value:n[r].length})}return s.fields.push({name:"stringPool",type:"CHARARRAY",value:t}),s}var Y1={parse:J1,make:z1};function To(n){return Math.log(n)/Math.log(2)|0}function no(n){for(;n.length%4!==0;)n.push(0);for(var e=0,t=0;t<n.length;t+=4)e+=(n[t]<<24)+(n[t+1]<<16)+(n[t+2]<<8)+n[t+3];return e%=Math.pow(2,32),e}function Mo(n,e,t,i){return new Ee.Record("Table Record",[{name:"tag",type:"TAG",value:n!==void 0?n:""},{name:"checkSum",type:"ULONG",value:e!==void 0?e:0},{name:"offset",type:"ULONG",value:t!==void 0?t:0},{name:"length",type:"ULONG",value:i!==void 0?i:0}])}function E3(n){var e=new Ee.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=n,e.numTables=n.length;var t=Math.pow(2,To(e.numTables));e.searchRange=16*t,e.entrySelector=To(t),e.rangeShift=e.numTables*16-e.searchRange;for(var i=[],s=[],r=e.sizeOf()+Mo().sizeOf()*e.numTables;r%4!==0;)r+=1,s.push({name:"padding",type:"BYTE",value:0});for(var o=0;o<n.length;o+=1){var a=n[o];Te.argument(a.tableName.length===4,"Table name"+a.tableName+" is invalid.");var A=a.sizeOf(),c=Mo(a.tableName,no(a.encode()),r,A);for(i.push({name:c.tag+" Table Record",type:"RECORD",value:c}),s.push({name:a.tableName+" table",type:"RECORD",value:a}),r+=A,Te.argument(!isNaN(r),"Something went wrong calculating the offset.");r%4!==0;)r+=1,s.push({name:"padding",type:"BYTE",value:0})}return i.sort(function(h,l){return h.value.tag>l.value.tag?1:-1}),e.fields=e.fields.concat(i),e.fields=e.fields.concat(s),e}function Ro(n,e,t){for(var i=0;i<e.length;i+=1){var s=n.charToGlyphIndex(e[i]);if(s>0){var r=n.glyphs.get(s);return r.getMetrics()}}return t}function K1(n){for(var e=0,t=0;t<n.length;t+=1)e+=n[t];return e/n.length}function X1(n){for(var e=[],t=[],i=[],s=[],r=[],o=[],a=[],A,c=0,h=0,l=0,u=0,p=0,C=0;C<n.glyphs.length;C+=1){var v=n.glyphs.get(C),B=v.unicode|0;if(isNaN(v.advanceWidth))throw new Error("Glyph "+v.name+" ("+C+"): advanceWidth is not a number.");(A>B||A===void 0)&&B>0&&(A=B),c<B&&(c=B);var I=Fo.getUnicodeRange(B);if(I<32)h|=1<<I;else if(I<64)l|=1<<I-32;else if(I<96)u|=1<<I-64;else if(I<123)p|=1<<I-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(v.name!==".notdef"){var E=v.getMetrics();e.push(E.xMin),t.push(E.yMin),i.push(E.xMax),s.push(E.yMax),o.push(E.leftSideBearing),a.push(E.rightSideBearing),r.push(v.advanceWidth)}}var g={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,t),xMax:Math.max.apply(null,i),yMax:Math.max.apply(null,s),advanceWidthMax:Math.max.apply(null,r),advanceWidthAvg:K1(r),minLeftSideBearing:Math.min.apply(null,o),maxLeftSideBearing:Math.max.apply(null,o),minRightSideBearing:Math.min.apply(null,a)};g.ascender=n.ascender,g.descender=n.descender;var x=l1.make({flags:3,unitsPerEm:n.unitsPerEm,xMin:g.xMin,yMin:g.yMin,xMax:g.xMax,yMax:g.yMax,lowestRecPPEM:3,createdTimestamp:n.createdTimestamp}),w=p1.make({ascender:g.ascender,descender:g.descender,advanceWidthMax:g.advanceWidthMax,minLeftSideBearing:g.minLeftSideBearing,minRightSideBearing:g.minRightSideBearing,xMaxExtent:g.maxLeftSideBearing+(g.xMax-g.xMin),numberOfHMetrics:n.glyphs.length}),b=S1.make(n.glyphs.length),D=Fo.make(Object.assign({xAvgCharWidth:Math.round(g.advanceWidthAvg),usFirstCharIndex:A,usLastCharIndex:c,ulUnicodeRange1:h,ulUnicodeRange2:l,ulUnicodeRange3:u,ulUnicodeRange4:p,sTypoAscender:g.ascender,sTypoDescender:g.descender,sTypoLineGap:0,usWinAscent:g.yMax,usWinDescent:Math.abs(g.yMin),ulCodePageRange1:1,sxHeight:Ro(n,"xyvw",{yMax:Math.round(g.ascender/2)}).yMax,sCapHeight:Ro(n,"HIKLEFJMNTZBDPRAGOQSUVWXY",g).yMax,usDefaultChar:n.hasChar(" ")?32:0,usBreakChar:n.hasChar(" ")?32:0},n.tables.os2)),S=B1.make(n.glyphs),M=_2.make(n.glyphs),T=n.getEnglishName("fontFamily"),U=n.getEnglishName("fontSubfamily"),k=T+" "+U,K=n.getEnglishName("postScriptName");K||(K=T.replace(/\s/g,"")+"-"+U);var z={};for(var $ in n.names)z[$]=n.names[$];z.uniqueID||(z.uniqueID={en:n.getEnglishName("manufacturer")+":"+k}),z.postScriptName||(z.postScriptName={en:K}),z.preferredFamily||(z.preferredFamily=n.names.fontFamily),z.preferredSubfamily||(z.preferredSubfamily=n.names.fontSubfamily);var ae=[],Z=R1.make(z,ae),Y=ae.length>0?I1.make(ae):void 0,re=P1.make(),W=A1.make(n.glyphs,{version:n.getEnglishName("version"),fullName:k,familyName:T,weightName:U,postScriptName:K,unitsPerEm:n.unitsPerEm,fontBBox:[0,g.yMin,g.ascender,g.advanceWidthMax]}),ee=n.metas&&Object.keys(n.metas).length>0?Y1.make(n.metas):void 0,_=[x,w,b,D,Z,M,re,W,S];Y&&_.push(Y),n.tables.gsub&&_.push(H1.make(n.tables.gsub)),ee&&_.push(ee);for(var F=E3(_),m=F.encode(),G=no(m),N=F.fields,L=!1,V=0;V<N.length;V+=1)if(N[V].name==="head table"){N[V].value.checkSumAdjustment=2981146554-G,L=!0;break}if(!L)throw new Error("Could not find head table with checkSum to adjust.");return F}var q1={make:E3,fontToTable:X1,computeCheckSum:no};function nr(n,e){for(var t=0,i=n.length-1;t<=i;){var s=t+i>>>1,r=n[s].tag;if(r===e)return s;r<e?t=s+1:i=s-1}return-t-1}function _o(n,e){for(var t=0,i=n.length-1;t<=i;){var s=t+i>>>1,r=n[s];if(r===e)return s;r<e?t=s+1:i=s-1}return-t-1}function Lo(n,e){for(var t,i=0,s=n.length-1;i<=s;){var r=i+s>>>1;t=n[r];var o=t.start;if(o===e)return t;o<e?i=r+1:s=r-1}if(i>0)return t=n[i-1],e>t.end?0:t}function rs(n,e){this.font=n,this.tableName=e}rs.prototype={searchTag:nr,binSearch:_o,getTable:function(n){var e=this.font.tables[this.tableName];return!e&&n&&(e=this.font.tables[this.tableName]=this.createDefaultTable()),e},getScriptNames:function(){var n=this.getTable();return n?n.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var n=this.getTable();if(n){for(var e=!1,t=0;t<n.scripts.length;t++){var i=n.scripts[t].tag;if(i==="DFLT")return i;i==="latn"&&(e=!0)}if(e)return"latn"}},getScriptTable:function(n,e){var t=this.getTable(e);if(t){n=n||"DFLT";var i=t.scripts,s=nr(t.scripts,n);if(s>=0)return i[s].script;if(e){var r={tag:n,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return i.splice(-1-s,0,r),r.script}}},getLangSysTable:function(n,e,t){var i=this.getScriptTable(n,t);if(i){if(!e||e==="dflt"||e==="DFLT")return i.defaultLangSys;var s=nr(i.langSysRecords,e);if(s>=0)return i.langSysRecords[s].langSys;if(t){var r={tag:e,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return i.langSysRecords.splice(-1-s,0,r),r.langSys}}},getFeatureTable:function(n,e,t,i){var s=this.getLangSysTable(n,e,i);if(s){for(var r,o=s.featureIndexes,a=this.font.tables[this.tableName].features,A=0;A<o.length;A++)if(r=a[o[A]],r.tag===t)return r.feature;if(i){var c=a.length;return Te.assert(c===0||t>=a[c-1].tag,"Features must be added in alphabetical order."),r={tag:t,feature:{params:0,lookupListIndexes:[]}},a.push(r),o.push(c),r.feature}}},getLookupTables:function(n,e,t,i,s){var r=this.getFeatureTable(n,e,t,s),o=[];if(r){for(var a,A=r.lookupListIndexes,c=this.font.tables[this.tableName].lookups,h=0;h<A.length;h++)a=c[A[h]],a.lookupType===i&&o.push(a);if(o.length===0&&s){a={lookupType:i,lookupFlag:0,subtables:[],markFilteringSet:void 0};var l=c.length;return c.push(a),A.push(l),[a]}}return o},getGlyphClass:function(n,e){switch(n.format){case 1:return n.startGlyph<=e&&e<n.startGlyph+n.classes.length?n.classes[e-n.startGlyph]:0;case 2:var t=Lo(n.ranges,e);return t?t.classId:0}},getCoverageIndex:function(n,e){switch(n.format){case 1:var t=_o(n.glyphs,e);return t>=0?t:-1;case 2:var i=Lo(n.ranges,e);return i?i.index+e-i.start:-1}},expandCoverage:function(n){if(n.format===1)return n.glyphs;for(var e=[],t=n.ranges,i=0;i<t.length;i++)for(var s=t[i],r=s.start,o=s.end,a=r;a<=o;a++)e.push(a);return e}};function os(n){rs.call(this,n,"gpos")}os.prototype=rs.prototype;os.prototype.init=function(){var n=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(n)};os.prototype.getKerningValue=function(n,e,t){for(var i=0;i<n.length;i++)for(var s=n[i].subtables,r=0;r<s.length;r++){var o=s[r],a=this.getCoverageIndex(o.coverage,e);if(!(a<0))switch(o.posFormat){case 1:for(var A=o.pairSets[a],c=0;c<A.length;c++){var h=A[c];if(h.secondGlyph===t)return h.value1&&h.value1.xAdvance||0}break;case 2:var l=this.getGlyphClass(o.classDef1,e),u=this.getGlyphClass(o.classDef2,t),p=o.classRecords[l][u];return p.value1&&p.value1.xAdvance||0}}return 0};os.prototype.getKerningTables=function(n,e){if(this.font.tables.gpos)return this.getLookupTables(n,e,"kern",2)};function Mt(n){rs.call(this,n,"gsub")}function j1(n,e){var t=n.length;if(t!==e.length)return!1;for(var i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function so(n,e,t){for(var i=n.subtables,s=0;s<i.length;s++){var r=i[s];if(r.substFormat===e)return r}if(t)return i.push(t),t}Mt.prototype=rs.prototype;Mt.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};Mt.prototype.getSingle=function(n,e,t){for(var i=[],s=this.getLookupTables(e,t,n,1),r=0;r<s.length;r++)for(var o=s[r].subtables,a=0;a<o.length;a++){var A=o[a],c=this.expandCoverage(A.coverage),h=void 0;if(A.substFormat===1){var l=A.deltaGlyphId;for(h=0;h<c.length;h++){var u=c[h];i.push({sub:u,by:u+l})}}else{var p=A.substitute;for(h=0;h<c.length;h++)i.push({sub:c[h],by:p[h]})}}return i};Mt.prototype.getMultiple=function(n,e,t){for(var i=[],s=this.getLookupTables(e,t,n,2),r=0;r<s.length;r++)for(var o=s[r].subtables,a=0;a<o.length;a++){var A=o[a],c=this.expandCoverage(A.coverage),h=void 0;for(h=0;h<c.length;h++){var l=c[h],u=A.sequences[h];i.push({sub:l,by:u})}}return i};Mt.prototype.getAlternates=function(n,e,t){for(var i=[],s=this.getLookupTables(e,t,n,3),r=0;r<s.length;r++)for(var o=s[r].subtables,a=0;a<o.length;a++)for(var A=o[a],c=this.expandCoverage(A.coverage),h=A.alternateSets,l=0;l<c.length;l++)i.push({sub:c[l],by:h[l]});return i};Mt.prototype.getLigatures=function(n,e,t){for(var i=[],s=this.getLookupTables(e,t,n,4),r=0;r<s.length;r++)for(var o=s[r].subtables,a=0;a<o.length;a++)for(var A=o[a],c=this.expandCoverage(A.coverage),h=A.ligatureSets,l=0;l<c.length;l++)for(var u=c[l],p=h[l],C=0;C<p.length;C++){var v=p[C];i.push({sub:[u].concat(v.components),by:v.ligGlyph})}return i};Mt.prototype.addSingle=function(n,e,t,i){var s=this.getLookupTables(t,i,n,1,!0)[0],r=so(s,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});Te.assert(r.coverage.format===1,"Single: unable to modify coverage table format "+r.coverage.format);var o=e.sub,a=this.binSearch(r.coverage.glyphs,o);a<0&&(a=-1-a,r.coverage.glyphs.splice(a,0,o),r.substitute.splice(a,0,0)),r.substitute[a]=e.by};Mt.prototype.addMultiple=function(n,e,t,i){Te.assert(e.by instanceof Array&&e.by.length>1,'Multiple: "by" must be an array of two or more ids');var s=this.getLookupTables(t,i,n,2,!0)[0],r=so(s,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});Te.assert(r.coverage.format===1,"Multiple: unable to modify coverage table format "+r.coverage.format);var o=e.sub,a=this.binSearch(r.coverage.glyphs,o);a<0&&(a=-1-a,r.coverage.glyphs.splice(a,0,o),r.sequences.splice(a,0,0)),r.sequences[a]=e.by};Mt.prototype.addAlternate=function(n,e,t,i){var s=this.getLookupTables(t,i,n,3,!0)[0],r=so(s,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});Te.assert(r.coverage.format===1,"Alternate: unable to modify coverage table format "+r.coverage.format);var o=e.sub,a=this.binSearch(r.coverage.glyphs,o);a<0&&(a=-1-a,r.coverage.glyphs.splice(a,0,o),r.alternateSets.splice(a,0,0)),r.alternateSets[a]=e.by};Mt.prototype.addLigature=function(n,e,t,i){var s=this.getLookupTables(t,i,n,4,!0)[0],r=s.subtables[0];r||(r={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},s.subtables[0]=r),Te.assert(r.coverage.format===1,"Ligature: unable to modify coverage table format "+r.coverage.format);var o=e.sub[0],a=e.sub.slice(1),A={ligGlyph:e.by,components:a},c=this.binSearch(r.coverage.glyphs,o);if(c>=0){for(var h=r.ligatureSets[c],l=0;l<h.length;l++)if(j1(h[l].components,a))return;h.push(A)}else c=-1-c,r.coverage.glyphs.splice(c,0,o),r.ligatureSets.splice(c,0,[A])};Mt.prototype.getFeature=function(n,e,t){if(/ss\d\d/.test(n))return this.getSingle(n,e,t);switch(n){case"aalt":case"salt":return this.getSingle(n,e,t).concat(this.getAlternates(n,e,t));case"dlig":case"liga":case"rlig":return this.getLigatures(n,e,t);case"ccmp":return this.getMultiple(n,e,t).concat(this.getLigatures(n,e,t));case"stch":return this.getMultiple(n,e,t)}};Mt.prototype.add=function(n,e,t,i){if(/ss\d\d/.test(n))return this.addSingle(n,e,t,i);switch(n){case"aalt":case"salt":return typeof e.by=="number"?this.addSingle(n,e,t,i):this.addAlternate(n,e,t,i);case"dlig":case"liga":case"rlig":return this.addLigature(n,e,t,i);case"ccmp":return e.by instanceof Array?this.addMultiple(n,e,t,i):this.addLigature(n,e,t,i)}};function V1(){return typeof window<"u"}function W1(n){for(var e=new Buffer(n.byteLength),t=new Uint8Array(n),i=0;i<e.length;++i)e[i]=t[i];return e}function Gn(n,e){if(!n)throw e}function ko(n,e,t,i,s){var r;return(e&i)>0?(r=n.parseByte(),e&s||(r=-r),r=t+r):(e&s)>0?r=t:r=t+n.parseShort(),r}function I3(n,e,t){var i=new _e.Parser(e,t);n.numberOfContours=i.parseShort(),n._xMin=i.parseShort(),n._yMin=i.parseShort(),n._xMax=i.parseShort(),n._yMax=i.parseShort();var s,r;if(n.numberOfContours>0){for(var o=n.endPointIndices=[],a=0;a<n.numberOfContours;a+=1)o.push(i.parseUShort());n.instructionLength=i.parseUShort(),n.instructions=[];for(var A=0;A<n.instructionLength;A+=1)n.instructions.push(i.parseByte());var c=o[o.length-1]+1;s=[];for(var h=0;h<c;h+=1)if(r=i.parseByte(),s.push(r),(r&8)>0)for(var l=i.parseByte(),u=0;u<l;u+=1)s.push(r),h+=1;if(Te.argument(s.length===c,"Bad flags."),o.length>0){var p=[],C;if(c>0){for(var v=0;v<c;v+=1)r=s[v],C={},C.onCurve=!!(r&1),C.lastPointOfContour=o.indexOf(v)>=0,p.push(C);for(var B=0,I=0;I<c;I+=1)r=s[I],C=p[I],C.x=ko(i,r,B,2,16),B=C.x;for(var E=0,g=0;g<c;g+=1)r=s[g],C=p[g],C.y=ko(i,r,E,4,32),E=C.y}n.points=p}else n.points=[]}else if(n.numberOfContours===0)n.points=[];else{n.isComposite=!0,n.points=[],n.components=[];for(var x=!0;x;){s=i.parseUShort();var w={glyphIndex:i.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(s&1)>0?(s&2)>0?(w.dx=i.parseShort(),w.dy=i.parseShort()):w.matchedPoints=[i.parseUShort(),i.parseUShort()]:(s&2)>0?(w.dx=i.parseChar(),w.dy=i.parseChar()):w.matchedPoints=[i.parseByte(),i.parseByte()],(s&8)>0?w.xScale=w.yScale=i.parseF2Dot14():(s&64)>0?(w.xScale=i.parseF2Dot14(),w.yScale=i.parseF2Dot14()):(s&128)>0&&(w.xScale=i.parseF2Dot14(),w.scale01=i.parseF2Dot14(),w.scale10=i.parseF2Dot14(),w.yScale=i.parseF2Dot14()),n.components.push(w),x=!!(s&32)}if(s&256){n.instructionLength=i.parseUShort(),n.instructions=[];for(var b=0;b<n.instructionLength;b+=1)n.instructions.push(i.parseByte())}}}function sr(n,e){for(var t=[],i=0;i<n.length;i+=1){var s=n[i],r={x:e.xScale*s.x+e.scale01*s.y+e.dx,y:e.scale10*s.x+e.yScale*s.y+e.dy,onCurve:s.onCurve,lastPointOfContour:s.lastPointOfContour};t.push(r)}return t}function Z1(n){for(var e=[],t=[],i=0;i<n.length;i+=1){var s=n[i];t.push(s),s.lastPointOfContour&&(e.push(t),t=[])}return Te.argument(t.length===0,"There are still points left in the current contour."),e}function y3(n){var e=new ft;if(!n)return e;for(var t=Z1(n),i=0;i<t.length;++i){var s=t[i],r=null,o=s[s.length-1],a=s[0];if(o.onCurve)e.moveTo(o.x,o.y);else if(a.onCurve)e.moveTo(a.x,a.y);else{var A={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5};e.moveTo(A.x,A.y)}for(var c=0;c<s.length;++c)if(r=o,o=a,a=s[(c+1)%s.length],o.onCurve)e.lineTo(o.x,o.y);else{var h=a;r.onCurve||((o.x+r.x)*.5,(o.y+r.y)*.5),a.onCurve||(h={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5}),e.quadraticCurveTo(o.x,o.y,h.x,h.y)}e.closePath()}return e}function x3(n,e){if(e.isComposite)for(var t=0;t<e.components.length;t+=1){var i=e.components[t],s=n.get(i.glyphIndex);if(s.getPath(),s.points){var r=void 0;if(i.matchedPoints===void 0)r=sr(s.points,i);else{if(i.matchedPoints[0]>e.points.length-1||i.matchedPoints[1]>s.points.length-1)throw Error("Matched points out of range in "+e.name);var o=e.points[i.matchedPoints[0]],a=s.points[i.matchedPoints[1]],A={xScale:i.xScale,scale01:i.scale01,scale10:i.scale10,yScale:i.yScale,dx:0,dy:0};a=sr([a],A)[0],A.dx=o.x-a.x,A.dy=o.y-a.y,r=sr(s.points,A)}e.points=e.points.concat(r)}}return y3(e.points)}function $1(n,e,t,i){for(var s=new di.GlyphSet(i),r=0;r<t.length-1;r+=1){var o=t[r],a=t[r+1];o!==a?s.push(r,di.ttfGlyphLoader(i,r,I3,n,e+o,x3)):s.push(r,di.glyphLoader(i,r))}return s}function eA(n,e,t,i){var s=new di.GlyphSet(i);return i._push=function(r){var o=t[r],a=t[r+1];o!==a?s.push(r,di.ttfGlyphLoader(i,r,I3,n,e+o,x3)):s.push(r,di.glyphLoader(i,r))},s}function tA(n,e,t,i,s){return s.lowMemory?eA(n,e,t,i):$1(n,e,t,i)}var iA={getPath:y3,parse:tA},S3,hn,w3,Nr;function b3(n){this.font=n,this.getCommands=function(e){return iA.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function nA(n){return n}function D3(n){return Math.sign(n)*Math.round(Math.abs(n))}function sA(n){return Math.sign(n)*Math.round(Math.abs(n*2))/2}function rA(n){return Math.sign(n)*(Math.round(Math.abs(n)+.5)-.5)}function oA(n){return Math.sign(n)*Math.ceil(Math.abs(n))}function aA(n){return Math.sign(n)*Math.floor(Math.abs(n))}var Q3=function(n){var e=this.srPeriod,t=this.srPhase,i=this.srThreshold,s=1;return n<0&&(n=-n,s=-1),n+=i-t,n=Math.trunc(n/e)*e,n+=t,n<0?t*s:n*s},fi={x:1,y:0,axis:"x",distance:function(n,e,t,i){return(t?n.xo:n.x)-(i?e.xo:e.x)},interpolate:function(n,e,t,i){var s,r,o,a,A,c,h;if(!i||i===this){if(s=n.xo-e.xo,r=n.xo-t.xo,A=e.x-e.xo,c=t.x-t.xo,o=Math.abs(s),a=Math.abs(r),h=o+a,h===0){n.x=n.xo+(A+c)/2;return}n.x=n.xo+(A*a+c*o)/h;return}if(s=i.distance(n,e,!0,!0),r=i.distance(n,t,!0,!0),A=i.distance(e,e,!1,!0),c=i.distance(t,t,!1,!0),o=Math.abs(s),a=Math.abs(r),h=o+a,h===0){fi.setRelative(n,n,(A+c)/2,i,!0);return}fi.setRelative(n,n,(A*a+c*o)/h,i,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(n,e,t,i,s){if(!i||i===this){n.x=(s?e.xo:e.x)+t;return}var r=s?e.xo:e.x,o=s?e.yo:e.y,a=r+t*i.x,A=o+t*i.y;n.x=a+(n.y-A)/i.normalSlope},slope:0,touch:function(n){n.xTouched=!0},touched:function(n){return n.xTouched},untouch:function(n){n.xTouched=!1}},Si={x:0,y:1,axis:"y",distance:function(n,e,t,i){return(t?n.yo:n.y)-(i?e.yo:e.y)},interpolate:function(n,e,t,i){var s,r,o,a,A,c,h;if(!i||i===this){if(s=n.yo-e.yo,r=n.yo-t.yo,A=e.y-e.yo,c=t.y-t.yo,o=Math.abs(s),a=Math.abs(r),h=o+a,h===0){n.y=n.yo+(A+c)/2;return}n.y=n.yo+(A*a+c*o)/h;return}if(s=i.distance(n,e,!0,!0),r=i.distance(n,t,!0,!0),A=i.distance(e,e,!1,!0),c=i.distance(t,t,!1,!0),o=Math.abs(s),a=Math.abs(r),h=o+a,h===0){Si.setRelative(n,n,(A+c)/2,i,!0);return}Si.setRelative(n,n,(A*a+c*o)/h,i,!0)},normalSlope:0,setRelative:function(n,e,t,i,s){if(!i||i===this){n.y=(s?e.yo:e.y)+t;return}var r=s?e.xo:e.x,o=s?e.yo:e.y,a=r+t*i.x,A=o+t*i.y;n.y=A+i.normalSlope*(n.x-a)},slope:Number.POSITIVE_INFINITY,touch:function(n){n.yTouched=!0},touched:function(n){return n.yTouched},untouch:function(n){n.yTouched=!1}};Object.freeze(fi);Object.freeze(Si);function as(n,e){this.x=n,this.y=e,this.axis=void 0,this.slope=e/n,this.normalSlope=-n/e,Object.freeze(this)}as.prototype.distance=function(n,e,t,i){return this.x*fi.distance(n,e,t,i)+this.y*Si.distance(n,e,t,i)};as.prototype.interpolate=function(n,e,t,i){var s,r,o,a,A,c,h;if(o=i.distance(n,e,!0,!0),a=i.distance(n,t,!0,!0),s=i.distance(e,e,!1,!0),r=i.distance(t,t,!1,!0),A=Math.abs(o),c=Math.abs(a),h=A+c,h===0){this.setRelative(n,n,(s+r)/2,i,!0);return}this.setRelative(n,n,(s*c+r*A)/h,i,!0)};as.prototype.setRelative=function(n,e,t,i,s){i=i||this;var r=s?e.xo:e.x,o=s?e.yo:e.y,a=r+t*i.x,A=o+t*i.y,c=i.normalSlope,h=this.slope,l=n.x,u=n.y;n.x=(h*l-c*a+A-u)/(h-c),n.y=h*(n.x-l)+u};as.prototype.touch=function(n){n.xTouched=!0,n.yTouched=!0};function As(n,e){var t=Math.sqrt(n*n+e*e);return n/=t,e/=t,n===1&&e===0?fi:n===0&&e===1?Si:new as(n,e)}function bi(n,e,t,i){this.x=this.xo=Math.round(n*64)/64,this.y=this.yo=Math.round(e*64)/64,this.lastPointOfContour=t,this.onCurve=i,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}bi.prototype.nextTouched=function(n){for(var e=this.nextPointOnContour;!n.touched(e)&&e!==this;)e=e.nextPointOnContour;return e};bi.prototype.prevTouched=function(n){for(var e=this.prevPointOnContour;!n.touched(e)&&e!==this;)e=e.prevPointOnContour;return e};var is=Object.freeze(new bi(0,0)),AA={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Yi(n,e){switch(this.env=n,this.stack=[],this.prog=e,n){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=fi,this.round=D3}}b3.prototype.exec=function(n,e){if(typeof e!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var t=this.font,i=this._prepState;if(!i||i.ppem!==e){var s=this._fpgmState;if(!s){Yi.prototype=AA,s=this._fpgmState=new Yi("fpgm",t.tables.fpgm),s.funcs=[],s.font=t,exports.DEBUG&&(console.log("---EXEC FPGM---"),s.step=-1);try{hn(s)}catch(c){console.log("Hinting error in FPGM:"+c),this._errorState=3;return}}Yi.prototype=s,i=this._prepState=new Yi("prep",t.tables.prep),i.ppem=e;var r=t.tables.cvt;if(r)for(var o=i.cvt=new Array(r.length),a=e/t.unitsPerEm,A=0;A<r.length;A++)o[A]=r[A]*a;else i.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),i.step=-1);try{hn(i)}catch(c){this._errorState<2&&console.log("Hinting error in PREP:"+c),this._errorState=2}}if(!(this._errorState>1))try{return w3(n,i)}catch(c){this._errorState<1&&(console.log("Hinting error:"+c),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};w3=function(n,e){var t=e.ppem/e.font.unitsPerEm,i=t,s=n.components,r,o,a;if(Yi.prototype=e,!s)a=new Yi("glyf",n.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),a.step=-1),Nr(n,a,t,i),o=a.gZone;else{var A=e.font;o=[],r=[];for(var c=0;c<s.length;c++){var h=s[c],l=A.glyphs.get(h.glyphIndex);a=new Yi("glyf",l.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+c+"---"),a.step=-1),Nr(l,a,t,i);for(var u=Math.round(h.dx*t),p=Math.round(h.dy*i),C=a.gZone,v=a.contours,B=0;B<C.length;B++){var I=C[B];I.xTouched=I.yTouched=!1,I.xo=I.x=I.x+u,I.yo=I.y=I.y+p}var E=o.length;o.push.apply(o,C);for(var g=0;g<v.length;g++)r.push(v[g]+E)}n.instructions&&!a.inhibitGridFit&&(a=new Yi("glyf",n.instructions),a.gZone=a.z0=a.z1=a.z2=o,a.contours=r,o.push(new bi(0,0),new bi(Math.round(n.advanceWidth*t),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),a.step=-1),hn(a),o.length-=2)}return o};Nr=function(n,e,t,i){for(var s=n.points||[],r=s.length,o=e.gZone=e.z0=e.z1=e.z2=[],a=e.contours=[],A,c=0;c<r;c++)A=s[c],o[c]=new bi(A.x*t,A.y*i,A.lastPointOfContour,A.onCurve);for(var h,l,u=0;u<r;u++)A=o[u],h||(h=A,a.push(u)),A.lastPointOfContour?(A.nextPointOnContour=h,h.prevPointOnContour=A,h=void 0):(l=o[u+1],A.nextPointOnContour=l,l.prevPointOnContour=A);if(!e.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",e.stack);for(var p=0;p<r;p++)console.log(p,o[p].x,o[p].y)}if(o.push(new bi(0,0),new bi(Math.round(n.advanceWidth*t),0)),hn(e),o.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",e.stack);for(var C=0;C<r;C++)console.log(C,o[C].x,o[C].y)}}};hn=function(n){var e=n.prog;if(e){var t=e.length,i;for(n.ip=0;n.ip<t;n.ip++){if(exports.DEBUG&&n.step++,i=S3[e[n.ip]],!i)throw new Error("unknown instruction: 0x"+Number(e[n.ip]).toString(16));i(n)}}};function Ys(n){for(var e=n.tZone=new Array(n.gZone.length),t=0;t<e.length;t++)e[t]=new bi(0,0)}function F3(n,e){var t=n.prog,i=n.ip,s=1,r;do if(r=t[++i],r===88)s++;else if(r===89)s--;else if(r===64)i+=t[i+1]+1;else if(r===65)i+=2*t[i+1]+1;else if(r>=176&&r<=183)i+=r-176+1;else if(r>=184&&r<=191)i+=(r-184+1)*2;else if(e&&s===1&&r===27)break;while(s>0);n.ip=i}function Go(n,e){exports.DEBUG&&console.log(e.step,"SVTCA["+n.axis+"]"),e.fv=e.pv=e.dpv=n}function Uo(n,e){exports.DEBUG&&console.log(e.step,"SPVTCA["+n.axis+"]"),e.pv=e.dpv=n}function Po(n,e){exports.DEBUG&&console.log(e.step,"SFVTCA["+n.axis+"]"),e.fv=n}function Oo(n,e){var t=e.stack,i=t.pop(),s=t.pop(),r=e.z2[i],o=e.z1[s];exports.DEBUG&&console.log("SPVTL["+n+"]",i,s);var a,A;n?(a=r.y-o.y,A=o.x-r.x):(a=o.x-r.x,A=o.y-r.y),e.pv=e.dpv=As(a,A)}function No(n,e){var t=e.stack,i=t.pop(),s=t.pop(),r=e.z2[i],o=e.z1[s];exports.DEBUG&&console.log("SFVTL["+n+"]",i,s);var a,A;n?(a=r.y-o.y,A=o.x-r.x):(a=o.x-r.x,A=o.y-r.y),e.fv=As(a,A)}function cA(n){var e=n.stack,t=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"SPVFS[]",t,i),n.pv=n.dpv=As(i,t)}function hA(n){var e=n.stack,t=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"SPVFS[]",t,i),n.fv=As(i,t)}function lA(n){var e=n.stack,t=n.pv;exports.DEBUG&&console.log(n.step,"GPV[]"),e.push(t.x*16384),e.push(t.y*16384)}function uA(n){var e=n.stack,t=n.fv;exports.DEBUG&&console.log(n.step,"GFV[]"),e.push(t.x*16384),e.push(t.y*16384)}function fA(n){n.fv=n.pv,exports.DEBUG&&console.log(n.step,"SFVTPV[]")}function pA(n){var e=n.stack,t=e.pop(),i=e.pop(),s=e.pop(),r=e.pop(),o=e.pop(),a=n.z0,A=n.z1,c=a[t],h=a[i],l=A[s],u=A[r],p=n.z2[o];exports.DEBUG&&console.log("ISECT[], ",t,i,s,r,o);var C=c.x,v=c.y,B=h.x,I=h.y,E=l.x,g=l.y,x=u.x,w=u.y,b=(C-B)*(g-w)-(v-I)*(E-x),D=C*I-v*B,S=E*w-g*x;p.x=(D*(E-x)-S*(C-B))/b,p.y=(D*(g-w)-S*(v-I))/b}function gA(n){n.rp0=n.stack.pop(),exports.DEBUG&&console.log(n.step,"SRP0[]",n.rp0)}function dA(n){n.rp1=n.stack.pop(),exports.DEBUG&&console.log(n.step,"SRP1[]",n.rp1)}function mA(n){n.rp2=n.stack.pop(),exports.DEBUG&&console.log(n.step,"SRP2[]",n.rp2)}function vA(n){var e=n.stack.pop();switch(exports.DEBUG&&console.log(n.step,"SZP0[]",e),n.zp0=e,e){case 0:n.tZone||Ys(n),n.z0=n.tZone;break;case 1:n.z0=n.gZone;break;default:throw new Error("Invalid zone pointer")}}function BA(n){var e=n.stack.pop();switch(exports.DEBUG&&console.log(n.step,"SZP1[]",e),n.zp1=e,e){case 0:n.tZone||Ys(n),n.z1=n.tZone;break;case 1:n.z1=n.gZone;break;default:throw new Error("Invalid zone pointer")}}function CA(n){var e=n.stack.pop();switch(exports.DEBUG&&console.log(n.step,"SZP2[]",e),n.zp2=e,e){case 0:n.tZone||Ys(n),n.z2=n.tZone;break;case 1:n.z2=n.gZone;break;default:throw new Error("Invalid zone pointer")}}function EA(n){var e=n.stack.pop();switch(exports.DEBUG&&console.log(n.step,"SZPS[]",e),n.zp0=n.zp1=n.zp2=e,e){case 0:n.tZone||Ys(n),n.z0=n.z1=n.z2=n.tZone;break;case 1:n.z0=n.z1=n.z2=n.gZone;break;default:throw new Error("Invalid zone pointer")}}function IA(n){n.loop=n.stack.pop(),exports.DEBUG&&console.log(n.step,"SLOOP[]",n.loop)}function yA(n){exports.DEBUG&&console.log(n.step,"RTG[]"),n.round=D3}function xA(n){exports.DEBUG&&console.log(n.step,"RTHG[]"),n.round=rA}function SA(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"SMD[]",e),n.minDis=e/64}function wA(n){exports.DEBUG&&console.log(n.step,"ELSE[]"),F3(n,!1)}function bA(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"JMPR[]",e),n.ip+=e-1}function DA(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"SCVTCI[]",e),n.cvCutIn=e/64}function QA(n){var e=n.stack;exports.DEBUG&&console.log(n.step,"DUP[]"),e.push(e[e.length-1])}function rr(n){exports.DEBUG&&console.log(n.step,"POP[]"),n.stack.pop()}function FA(n){exports.DEBUG&&console.log(n.step,"CLEAR[]"),n.stack.length=0}function TA(n){var e=n.stack,t=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"SWAP[]"),e.push(t),e.push(i)}function MA(n){var e=n.stack;exports.DEBUG&&console.log(n.step,"DEPTH[]"),e.push(e.length)}function RA(n){var e=n.stack,t=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"LOOPCALL[]",t,i);var s=n.ip,r=n.prog;n.prog=n.funcs[t];for(var o=0;o<i;o++)hn(n),exports.DEBUG&&console.log(++n.step,o+1<i?"next loopcall":"done loopcall",o);n.ip=s,n.prog=r}function _A(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"CALL[]",e);var t=n.ip,i=n.prog;n.prog=n.funcs[e],hn(n),n.ip=t,n.prog=i,exports.DEBUG&&console.log(++n.step,"returning from",e)}function LA(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"CINDEX[]",t),e.push(e[e.length-t])}function kA(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"MINDEX[]",t),e.push(e.splice(e.length-t,1)[0])}function GA(n){if(n.env!=="fpgm")throw new Error("FDEF not allowed here");var e=n.stack,t=n.prog,i=n.ip,s=e.pop(),r=i;for(exports.DEBUG&&console.log(n.step,"FDEF[]",s);t[++i]!==45;);n.ip=i,n.funcs[s]=t.slice(r+1,i)}function Ho(n,e){var t=e.stack.pop(),i=e.z0[t],s=e.fv,r=e.pv;exports.DEBUG&&console.log(e.step,"MDAP["+n+"]",t);var o=r.distance(i,is);n&&(o=e.round(o)),s.setRelative(i,is,o,r),s.touch(i),e.rp0=e.rp1=t}function Jo(n,e){var t=e.z2,i=t.length-2,s,r,o;exports.DEBUG&&console.log(e.step,"IUP["+n.axis+"]");for(var a=0;a<i;a++)s=t[a],!n.touched(s)&&(r=s.prevTouched(n),r!==s&&(o=s.nextTouched(n),r===o&&n.setRelative(s,s,n.distance(r,r,!1,!0),n,!0),n.interpolate(s,r,o,n)))}function zo(n,e){for(var t=e.stack,i=n?e.rp1:e.rp2,s=(n?e.z0:e.z1)[i],r=e.fv,o=e.pv,a=e.loop,A=e.z2;a--;){var c=t.pop(),h=A[c],l=o.distance(s,s,!1,!0);r.setRelative(h,h,l,o),r.touch(h),exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-a)+": ":"")+"SHP["+(n?"rp1":"rp2")+"]",c)}e.loop=1}function Yo(n,e){var t=e.stack,i=n?e.rp1:e.rp2,s=(n?e.z0:e.z1)[i],r=e.fv,o=e.pv,a=t.pop(),A=e.z2[e.contours[a]],c=A;exports.DEBUG&&console.log(e.step,"SHC["+n+"]",a);var h=o.distance(s,s,!1,!0);do c!==s&&r.setRelative(c,c,h,o),c=c.nextPointOnContour;while(c!==A)}function Ko(n,e){var t=e.stack,i=n?e.rp1:e.rp2,s=(n?e.z0:e.z1)[i],r=e.fv,o=e.pv,a=t.pop();exports.DEBUG&&console.log(e.step,"SHZ["+n+"]",a);var A;switch(a){case 0:A=e.tZone;break;case 1:A=e.gZone;break;default:throw new Error("Invalid zone")}for(var c,h=o.distance(s,s,!1,!0),l=A.length-2,u=0;u<l;u++)c=A[u],r.setRelative(c,c,h,o)}function UA(n){for(var e=n.stack,t=n.loop,i=n.fv,s=e.pop()/64,r=n.z2;t--;){var o=e.pop(),a=r[o];exports.DEBUG&&console.log(n.step,(n.loop>1?"loop "+(n.loop-t)+": ":"")+"SHPIX[]",o,s),i.setRelative(a,a,s),i.touch(a)}n.loop=1}function PA(n){for(var e=n.stack,t=n.rp1,i=n.rp2,s=n.loop,r=n.z0[t],o=n.z1[i],a=n.fv,A=n.dpv,c=n.z2;s--;){var h=e.pop(),l=c[h];exports.DEBUG&&console.log(n.step,(n.loop>1?"loop "+(n.loop-s)+": ":"")+"IP[]",h,t,"<->",i),a.interpolate(l,r,o,A),a.touch(l)}n.loop=1}function Xo(n,e){var t=e.stack,i=t.pop()/64,s=t.pop(),r=e.z1[s],o=e.z0[e.rp0],a=e.fv,A=e.pv;a.setRelative(r,o,i,A),a.touch(r),exports.DEBUG&&console.log(e.step,"MSIRP["+n+"]",i,s),e.rp1=e.rp0,e.rp2=s,n&&(e.rp0=s)}function OA(n){for(var e=n.stack,t=n.rp0,i=n.z0[t],s=n.loop,r=n.fv,o=n.pv,a=n.z1;s--;){var A=e.pop(),c=a[A];exports.DEBUG&&console.log(n.step,(n.loop>1?"loop "+(n.loop-s)+": ":"")+"ALIGNRP[]",A),r.setRelative(c,i,0,o),r.touch(c)}n.loop=1}function NA(n){exports.DEBUG&&console.log(n.step,"RTDG[]"),n.round=sA}function qo(n,e){var t=e.stack,i=t.pop(),s=t.pop(),r=e.z0[s],o=e.fv,a=e.pv,A=e.cvt[i];exports.DEBUG&&console.log(e.step,"MIAP["+n+"]",i,"(",A,")",s);var c=a.distance(r,is);n&&(Math.abs(c-A)<e.cvCutIn&&(c=A),c=e.round(c)),o.setRelative(r,is,c,a),e.zp0===0&&(r.xo=r.x,r.yo=r.y),o.touch(r),e.rp0=e.rp1=s}function HA(n){var e=n.prog,t=n.ip,i=n.stack,s=e[++t];exports.DEBUG&&console.log(n.step,"NPUSHB[]",s);for(var r=0;r<s;r++)i.push(e[++t]);n.ip=t}function JA(n){var e=n.ip,t=n.prog,i=n.stack,s=t[++e];exports.DEBUG&&console.log(n.step,"NPUSHW[]",s);for(var r=0;r<s;r++){var o=t[++e]<<8|t[++e];o&32768&&(o=-((o^65535)+1)),i.push(o)}n.ip=e}function zA(n){var e=n.stack,t=n.store;t||(t=n.store=[]);var i=e.pop(),s=e.pop();exports.DEBUG&&console.log(n.step,"WS",i,s),t[s]=i}function YA(n){var e=n.stack,t=n.store,i=e.pop();exports.DEBUG&&console.log(n.step,"RS",i);var s=t&&t[i]||0;e.push(s)}function KA(n){var e=n.stack,t=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"WCVTP",t,i),n.cvt[i]=t/64}function XA(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"RCVT",t),e.push(n.cvt[t]*64)}function jo(n,e){var t=e.stack,i=t.pop(),s=e.z2[i];exports.DEBUG&&console.log(e.step,"GC["+n+"]",i),t.push(e.dpv.distance(s,is,n,!1)*64)}function Vo(n,e){var t=e.stack,i=t.pop(),s=t.pop(),r=e.z1[i],o=e.z0[s],a=e.dpv.distance(o,r,n,n);exports.DEBUG&&console.log(e.step,"MD["+n+"]",i,s,"->",a),e.stack.push(Math.round(a*64))}function qA(n){exports.DEBUG&&console.log(n.step,"MPPEM[]"),n.stack.push(n.ppem)}function jA(n){exports.DEBUG&&console.log(n.step,"FLIPON[]"),n.autoFlip=!0}function VA(n){var e=n.stack,t=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"LT[]",t,i),e.push(i<t?1:0)}function WA(n){var e=n.stack,t=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"LTEQ[]",t,i),e.push(i<=t?1:0)}function ZA(n){var e=n.stack,t=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"GT[]",t,i),e.push(i>t?1:0)}function $A(n){var e=n.stack,t=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"GTEQ[]",t,i),e.push(i>=t?1:0)}function e5(n){var e=n.stack,t=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"EQ[]",t,i),e.push(t===i?1:0)}function t5(n){var e=n.stack,t=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"NEQ[]",t,i),e.push(t!==i?1:0)}function i5(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"ODD[]",t),e.push(Math.trunc(t)%2?1:0)}function n5(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"EVEN[]",t),e.push(Math.trunc(t)%2?0:1)}function s5(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"IF[]",e),e||(F3(n,!0),exports.DEBUG&&console.log(n.step,"EIF[]"))}function r5(n){exports.DEBUG&&console.log(n.step,"EIF[]")}function o5(n){var e=n.stack,t=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"AND[]",t,i),e.push(t&&i?1:0)}function a5(n){var e=n.stack,t=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"OR[]",t,i),e.push(t||i?1:0)}function A5(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"NOT[]",t),e.push(t?0:1)}function or(n,e){var t=e.stack,i=t.pop(),s=e.fv,r=e.pv,o=e.ppem,a=e.deltaBase+(n-1)*16,A=e.deltaShift,c=e.z0;exports.DEBUG&&console.log(e.step,"DELTAP["+n+"]",i,t);for(var h=0;h<i;h++){var l=t.pop(),u=t.pop(),p=a+((u&240)>>4);if(p===o){var C=(u&15)-8;C>=0&&C++,exports.DEBUG&&console.log(e.step,"DELTAPFIX",l,"by",C*A);var v=c[l];s.setRelative(v,v,C*A,r)}}}function c5(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"SDB[]",t),n.deltaBase=t}function h5(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"SDS[]",t),n.deltaShift=Math.pow(.5,t)}function l5(n){var e=n.stack,t=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"ADD[]",t,i),e.push(i+t)}function u5(n){var e=n.stack,t=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"SUB[]",t,i),e.push(i-t)}function f5(n){var e=n.stack,t=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"DIV[]",t,i),e.push(i*64/t)}function p5(n){var e=n.stack,t=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"MUL[]",t,i),e.push(i*t/64)}function g5(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"ABS[]",t),e.push(Math.abs(t))}function d5(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"NEG[]",t),e.push(-t)}function m5(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"FLOOR[]",t),e.push(Math.floor(t/64)*64)}function v5(n){var e=n.stack,t=e.pop();exports.DEBUG&&console.log(n.step,"CEILING[]",t),e.push(Math.ceil(t/64)*64)}function Bs(n,e){var t=e.stack,i=t.pop();exports.DEBUG&&console.log(e.step,"ROUND[]"),t.push(e.round(i/64)*64)}function B5(n){var e=n.stack,t=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"WCVTF[]",t,i),n.cvt[i]=t*n.ppem/n.font.unitsPerEm}function ar(n,e){var t=e.stack,i=t.pop(),s=e.ppem,r=e.deltaBase+(n-1)*16,o=e.deltaShift;exports.DEBUG&&console.log(e.step,"DELTAC["+n+"]",i,t);for(var a=0;a<i;a++){var A=t.pop(),c=t.pop(),h=r+((c&240)>>4);if(h===s){var l=(c&15)-8;l>=0&&l++;var u=l*o;exports.DEBUG&&console.log(e.step,"DELTACFIX",A,"by",u),e.cvt[A]+=u}}}function C5(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"SROUND[]",e),n.round=Q3;var t;switch(e&192){case 0:t=.5;break;case 64:t=1;break;case 128:t=2;break;default:throw new Error("invalid SROUND value")}switch(n.srPeriod=t,e&48){case 0:n.srPhase=0;break;case 16:n.srPhase=.25*t;break;case 32:n.srPhase=.5*t;break;case 48:n.srPhase=.75*t;break;default:throw new Error("invalid SROUND value")}e&=15,e===0?n.srThreshold=0:n.srThreshold=(e/8-.5)*t}function E5(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"S45ROUND[]",e),n.round=Q3;var t;switch(e&192){case 0:t=Math.sqrt(2)/2;break;case 64:t=Math.sqrt(2);break;case 128:t=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(n.srPeriod=t,e&48){case 0:n.srPhase=0;break;case 16:n.srPhase=.25*t;break;case 32:n.srPhase=.5*t;break;case 48:n.srPhase=.75*t;break;default:throw new Error("invalid S45ROUND value")}e&=15,e===0?n.srThreshold=0:n.srThreshold=(e/8-.5)*t}function I5(n){exports.DEBUG&&console.log(n.step,"ROFF[]"),n.round=nA}function y5(n){exports.DEBUG&&console.log(n.step,"RUTG[]"),n.round=oA}function x5(n){exports.DEBUG&&console.log(n.step,"RDTG[]"),n.round=aA}function S5(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"SCANCTRL[]",e)}function Wo(n,e){var t=e.stack,i=t.pop(),s=t.pop(),r=e.z2[i],o=e.z1[s];exports.DEBUG&&console.log(e.step,"SDPVTL["+n+"]",i,s);var a,A;n?(a=r.y-o.y,A=o.x-r.x):(a=o.x-r.x,A=o.y-r.y),e.dpv=As(a,A)}function w5(n){var e=n.stack,t=e.pop(),i=0;exports.DEBUG&&console.log(n.step,"GETINFO[]",t),t&1&&(i=35),t&32&&(i|=4096),e.push(i)}function b5(n){var e=n.stack,t=e.pop(),i=e.pop(),s=e.pop();exports.DEBUG&&console.log(n.step,"ROLL[]"),e.push(i),e.push(t),e.push(s)}function D5(n){var e=n.stack,t=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"MAX[]",t,i),e.push(Math.max(i,t))}function Q5(n){var e=n.stack,t=e.pop(),i=e.pop();exports.DEBUG&&console.log(n.step,"MIN[]",t,i),e.push(Math.min(i,t))}function F5(n){var e=n.stack.pop();exports.DEBUG&&console.log(n.step,"SCANTYPE[]",e)}function T5(n){var e=n.stack.pop(),t=n.stack.pop();switch(exports.DEBUG&&console.log(n.step,"INSTCTRL[]",e,t),e){case 1:n.inhibitGridFit=!!t;return;case 2:n.ignoreCvt=!!t;return;default:throw new Error("invalid INSTCTRL[] selector")}}function Ri(n,e){var t=e.stack,i=e.prog,s=e.ip;exports.DEBUG&&console.log(e.step,"PUSHB["+n+"]");for(var r=0;r<n;r++)t.push(i[++s]);e.ip=s}function _i(n,e){var t=e.ip,i=e.prog,s=e.stack;exports.DEBUG&&console.log(e.ip,"PUSHW["+n+"]");for(var r=0;r<n;r++){var o=i[++t]<<8|i[++t];o&32768&&(o=-((o^65535)+1)),s.push(o)}e.ip=t}function Be(n,e,t,i,s,r){var o=r.stack,a=n&&o.pop(),A=o.pop(),c=r.rp0,h=r.z0[c],l=r.z1[A],u=r.minDis,p=r.fv,C=r.dpv,v,B,I,E;B=v=C.distance(l,h,!0,!0),I=B>=0?1:-1,B=Math.abs(B),n&&(E=r.cvt[a],i&&Math.abs(B-E)<r.cvCutIn&&(B=E)),t&&B<u&&(B=u),i&&(B=r.round(B)),p.setRelative(l,h,I*B,C),p.touch(l),exports.DEBUG&&console.log(r.step,(n?"MIRP[":"MDRP[")+(e?"M":"m")+(t?">":"_")+(i?"R":"_")+(s===0?"Gr":s===1?"Bl":s===2?"Wh":"")+"]",n?a+"("+r.cvt[a]+","+E+")":"",A,"(d =",v,"->",I*B,")"),r.rp1=r.rp0,r.rp2=A,e&&(r.rp0=A)}S3=[Go.bind(void 0,Si),Go.bind(void 0,fi),Uo.bind(void 0,Si),Uo.bind(void 0,fi),Po.bind(void 0,Si),Po.bind(void 0,fi),Oo.bind(void 0,0),Oo.bind(void 0,1),No.bind(void 0,0),No.bind(void 0,1),cA,hA,lA,uA,fA,pA,gA,dA,mA,vA,BA,CA,EA,IA,yA,xA,SA,wA,bA,DA,void 0,void 0,QA,rr,FA,TA,MA,LA,kA,void 0,void 0,void 0,RA,_A,GA,void 0,Ho.bind(void 0,0),Ho.bind(void 0,1),Jo.bind(void 0,Si),Jo.bind(void 0,fi),zo.bind(void 0,0),zo.bind(void 0,1),Yo.bind(void 0,0),Yo.bind(void 0,1),Ko.bind(void 0,0),Ko.bind(void 0,1),UA,PA,Xo.bind(void 0,0),Xo.bind(void 0,1),OA,NA,qo.bind(void 0,0),qo.bind(void 0,1),HA,JA,zA,YA,KA,XA,jo.bind(void 0,0),jo.bind(void 0,1),void 0,Vo.bind(void 0,0),Vo.bind(void 0,1),qA,void 0,jA,void 0,void 0,VA,WA,ZA,$A,e5,t5,i5,n5,s5,r5,o5,a5,A5,or.bind(void 0,1),c5,h5,l5,u5,f5,p5,g5,d5,m5,v5,Bs.bind(void 0,0),Bs.bind(void 0,1),Bs.bind(void 0,2),Bs.bind(void 0,3),void 0,void 0,void 0,void 0,B5,or.bind(void 0,2),or.bind(void 0,3),ar.bind(void 0,1),ar.bind(void 0,2),ar.bind(void 0,3),C5,E5,void 0,void 0,I5,void 0,y5,x5,rr,rr,void 0,void 0,void 0,void 0,void 0,S5,Wo.bind(void 0,0),Wo.bind(void 0,1),w5,void 0,b5,D5,Q5,F5,T5,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Ri.bind(void 0,1),Ri.bind(void 0,2),Ri.bind(void 0,3),Ri.bind(void 0,4),Ri.bind(void 0,5),Ri.bind(void 0,6),Ri.bind(void 0,7),Ri.bind(void 0,8),_i.bind(void 0,1),_i.bind(void 0,2),_i.bind(void 0,3),_i.bind(void 0,4),_i.bind(void 0,5),_i.bind(void 0,6),_i.bind(void 0,7),_i.bind(void 0,8),Be.bind(void 0,0,0,0,0,0),Be.bind(void 0,0,0,0,0,1),Be.bind(void 0,0,0,0,0,2),Be.bind(void 0,0,0,0,0,3),Be.bind(void 0,0,0,0,1,0),Be.bind(void 0,0,0,0,1,1),Be.bind(void 0,0,0,0,1,2),Be.bind(void 0,0,0,0,1,3),Be.bind(void 0,0,0,1,0,0),Be.bind(void 0,0,0,1,0,1),Be.bind(void 0,0,0,1,0,2),Be.bind(void 0,0,0,1,0,3),Be.bind(void 0,0,0,1,1,0),Be.bind(void 0,0,0,1,1,1),Be.bind(void 0,0,0,1,1,2),Be.bind(void 0,0,0,1,1,3),Be.bind(void 0,0,1,0,0,0),Be.bind(void 0,0,1,0,0,1),Be.bind(void 0,0,1,0,0,2),Be.bind(void 0,0,1,0,0,3),Be.bind(void 0,0,1,0,1,0),Be.bind(void 0,0,1,0,1,1),Be.bind(void 0,0,1,0,1,2),Be.bind(void 0,0,1,0,1,3),Be.bind(void 0,0,1,1,0,0),Be.bind(void 0,0,1,1,0,1),Be.bind(void 0,0,1,1,0,2),Be.bind(void 0,0,1,1,0,3),Be.bind(void 0,0,1,1,1,0),Be.bind(void 0,0,1,1,1,1),Be.bind(void 0,0,1,1,1,2),Be.bind(void 0,0,1,1,1,3),Be.bind(void 0,1,0,0,0,0),Be.bind(void 0,1,0,0,0,1),Be.bind(void 0,1,0,0,0,2),Be.bind(void 0,1,0,0,0,3),Be.bind(void 0,1,0,0,1,0),Be.bind(void 0,1,0,0,1,1),Be.bind(void 0,1,0,0,1,2),Be.bind(void 0,1,0,0,1,3),Be.bind(void 0,1,0,1,0,0),Be.bind(void 0,1,0,1,0,1),Be.bind(void 0,1,0,1,0,2),Be.bind(void 0,1,0,1,0,3),Be.bind(void 0,1,0,1,1,0),Be.bind(void 0,1,0,1,1,1),Be.bind(void 0,1,0,1,1,2),Be.bind(void 0,1,0,1,1,3),Be.bind(void 0,1,1,0,0,0),Be.bind(void 0,1,1,0,0,1),Be.bind(void 0,1,1,0,0,2),Be.bind(void 0,1,1,0,0,3),Be.bind(void 0,1,1,0,1,0),Be.bind(void 0,1,1,0,1,1),Be.bind(void 0,1,1,0,1,2),Be.bind(void 0,1,1,0,1,3),Be.bind(void 0,1,1,1,0,0),Be.bind(void 0,1,1,1,0,1),Be.bind(void 0,1,1,1,0,2),Be.bind(void 0,1,1,1,0,3),Be.bind(void 0,1,1,1,1,0),Be.bind(void 0,1,1,1,1,1),Be.bind(void 0,1,1,1,1,2),Be.bind(void 0,1,1,1,1,3)];function Mn(n){this.char=n,this.state={},this.activeState=null}function ro(n,e,t){this.contextName=t,this.startIndex=n,this.endOffset=e}function M5(n,e,t){this.contextName=n,this.openRange=null,this.ranges=[],this.checkStart=e,this.checkEnd=t}function $t(n,e){this.context=n,this.index=e,this.length=n.length,this.current=n[e],this.backtrack=n.slice(0,e),this.lookahead=n.slice(e+1)}function Ks(n){this.eventId=n,this.subscribers=[]}function R5(n){var e=this,t=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];t.forEach(function(s){Object.defineProperty(e.events,s,{value:new Ks(s)})}),n&&t.forEach(function(s){var r=n[s];typeof r=="function"&&e.events[s].subscribe(r)});var i=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];i.forEach(function(s){e.events[s].subscribe(e.updateContextsRanges)})}function ot(n){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],R5.call(this,n)}Mn.prototype.setState=function(n,e){return this.state[n]=e,this.activeState={key:n,value:this.state[n]},this.activeState};Mn.prototype.getState=function(n){return this.state[n]||null};ot.prototype.inboundIndex=function(n){return n>=0&&n<this.tokens.length};ot.prototype.composeRUD=function(n){var e=this,t=!0,i=n.map(function(r){return e[r[0]].apply(e,r.slice(1).concat(t))}),s=function(r){return typeof r=="object"&&r.hasOwnProperty("FAIL")};if(i.every(s))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:i.filter(s)};this.dispatch("composeRUD",[i.filter(function(r){return!s(r)})])};ot.prototype.replaceRange=function(n,e,t,i){e=e!==null?e:this.tokens.length;var s=t.every(function(o){return o instanceof Mn});if(!isNaN(n)&&this.inboundIndex(n)&&s){var r=this.tokens.splice.apply(this.tokens,[n,e].concat(t));return i||this.dispatch("replaceToken",[n,e,t]),[r,t]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};ot.prototype.replaceToken=function(n,e,t){if(!isNaN(n)&&this.inboundIndex(n)&&e instanceof Mn){var i=this.tokens.splice(n,1,e);return t||this.dispatch("replaceToken",[n,e]),[i[0],e]}else return{FAIL:"replaceToken: invalid token or index."}};ot.prototype.removeRange=function(n,e,t){e=isNaN(e)?this.tokens.length:e;var i=this.tokens.splice(n,e);return t||this.dispatch("removeRange",[i,n,e]),i};ot.prototype.removeToken=function(n,e){if(!isNaN(n)&&this.inboundIndex(n)){var t=this.tokens.splice(n,1);return e||this.dispatch("removeToken",[t,n]),t}else return{FAIL:"removeToken: invalid token index."}};ot.prototype.insertToken=function(n,e,t){var i=n.every(function(s){return s instanceof Mn});return i?(this.tokens.splice.apply(this.tokens,[e,0].concat(n)),t||this.dispatch("insertToken",[n,e]),n):{FAIL:"insertToken: invalid token(s)."}};ot.prototype.registerModifier=function(n,e,t){this.events.newToken.subscribe(function(i,s){var r=[i,s],o=e===null||e.apply(this,r)===!0,a=[i,s];if(o){var A=t.apply(this,a);i.setState(n,A)}}),this.registeredModifiers.push(n)};Ks.prototype.subscribe=function(n){return typeof n=="function"?this.subscribers.push(n)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};Ks.prototype.unsubscribe=function(n){this.subscribers.splice(n,1)};$t.prototype.setCurrentIndex=function(n){this.index=n,this.current=this.context[n],this.backtrack=this.context.slice(0,n),this.lookahead=this.context.slice(n+1)};$t.prototype.get=function(n){switch(!0){case n===0:return this.current;case(n<0&&Math.abs(n)<=this.backtrack.length):return this.backtrack.slice(n)[0];case(n>0&&n<=this.lookahead.length):return this.lookahead[n-1];default:return null}};ot.prototype.rangeToText=function(n){if(n instanceof ro)return this.getRangeTokens(n).map(function(e){return e.char}).join("")};ot.prototype.getText=function(){return this.tokens.map(function(n){return n.char}).join("")};ot.prototype.getContext=function(n){var e=this.registeredContexts[n];return e||null};ot.prototype.on=function(n,e){var t=this.events[n];return t?t.subscribe(e):null};ot.prototype.dispatch=function(n,e){var t=this,i=this.events[n];i instanceof Ks&&i.subscribers.forEach(function(s){s.apply(t,e||[])})};ot.prototype.registerContextChecker=function(n,e,t){if(this.getContext(n))return{FAIL:"context name '"+n+"' is already registered."};if(typeof e!="function")return{FAIL:"missing context start check."};if(typeof t!="function")return{FAIL:"missing context end check."};var i=new M5(n,e,t);return this.registeredContexts[n]=i,this.contextCheckers.push(i),i};ot.prototype.getRangeTokens=function(n){var e=n.startIndex+n.endOffset;return[].concat(this.tokens.slice(n.startIndex,e))};ot.prototype.getContextRanges=function(n){var e=this.getContext(n);return e?e.ranges:{FAIL:"context checker '"+n+"' is not registered."}};ot.prototype.resetContextsRanges=function(){var n=this.registeredContexts;for(var e in n)if(n.hasOwnProperty(e)){var t=n[e];t.ranges=[]}};ot.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var n=this.tokens.map(function(i){return i.char}),e=0;e<n.length;e++){var t=new $t(n,e);this.runContextCheck(t)}this.dispatch("updateContextsRanges",[this.registeredContexts])};ot.prototype.setEndOffset=function(n,e){var t=this.getContext(e).openRange.startIndex,i=new ro(t,n,e),s=this.getContext(e).ranges;return i.rangeId=e+"."+s.length,s.push(i),this.getContext(e).openRange=null,i};ot.prototype.runContextCheck=function(n){var e=this,t=n.index;this.contextCheckers.forEach(function(i){var s=i.contextName,r=e.getContext(s).openRange;if(!r&&i.checkStart(n)&&(r=new ro(t,null,s),e.getContext(s).openRange=r,e.dispatch("contextStart",[s,t])),r&&i.checkEnd(n)){var o=t-r.startIndex+1,a=e.setEndOffset(o,s);e.dispatch("contextEnd",[s,a])}})};ot.prototype.tokenize=function(n){this.tokens=[],this.resetContextsRanges();var e=Array.from(n);this.dispatch("start");for(var t=0;t<e.length;t++){var i=e[t],s=new $t(e,t);this.dispatch("next",[s]),this.runContextCheck(s);var r=new Mn(i);this.tokens.push(r),this.dispatch("newToken",[r,s])}return this.dispatch("end",[this.tokens]),this.tokens};function Ki(n){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(n)}function T3(n){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(n)}function Xi(n){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(n)}function Ms(n){return/[A-z]/.test(n)}function _5(n){return/\s/.test(n)}function Rt(n){this.font=n,this.features={}}function sn(n){this.id=n.id,this.tag=n.tag,this.substitution=n.substitution}function cs(n,e){if(!n)return-1;switch(e.format){case 1:return e.glyphs.indexOf(n);case 2:for(var t=e.ranges,i=0;i<t.length;i++){var s=t[i];if(n>=s.start&&n<=s.end){var r=n-s.start;return s.index+r}}break;default:return-1}return-1}function L5(n,e){var t=cs(n,e.coverage);return t===-1?null:n+e.deltaGlyphId}function k5(n,e){var t=cs(n,e.coverage);return t===-1?null:e.substitute[t]}function Ar(n,e){for(var t=[],i=0;i<n.length;i++){var s=n[i],r=e.current;r=Array.isArray(r)?r[0]:r;var o=cs(r,s);o!==-1&&t.push(o)}return t.length!==n.length?-1:t}function G5(n,e){var t=e.inputCoverage.length+e.lookaheadCoverage.length+e.backtrackCoverage.length;if(n.context.length<t)return[];var i=Ar(e.inputCoverage,n);if(i===-1)return[];var s=e.inputCoverage.length-1;if(n.lookahead.length<e.lookaheadCoverage.length)return[];for(var r=n.lookahead.slice(s);r.length&&Xi(r[0].char);)r.shift();var o=new $t(r,0),a=Ar(e.lookaheadCoverage,o),A=[].concat(n.backtrack);for(A.reverse();A.length&&Xi(A[0].char);)A.shift();if(A.length<e.backtrackCoverage.length)return[];var c=new $t(A,0),h=Ar(e.backtrackCoverage,c),l=i.length===e.inputCoverage.length&&a.length===e.lookaheadCoverage.length&&h.length===e.backtrackCoverage.length,u=[];if(l)for(var p=0;p<e.lookupRecords.length;p++)for(var C=e.lookupRecords[p],v=C.lookupListIndex,B=this.getLookupByIndex(v),I=0;I<B.subtables.length;I++){var E=B.subtables[I],g=this.getLookupMethod(B,E),x=this.getSubstitutionType(B,E);if(x==="12")for(var w=0;w<i.length;w++){var b=n.get(w),D=g(b);D&&u.push(D)}}return u}function U5(n,e){var t=n.current,i=cs(t,e.coverage);if(i===-1)return null;for(var s,r=e.ligatureSets[i],o=0;o<r.length;o++){s=r[o];for(var a=0;a<s.components.length;a++){var A=n.lookahead[a],c=s.components[a];if(A!==c)break;if(a===s.components.length-1)return s}}return null}function P5(n,e){var t=cs(n,e.coverage);return t===-1?null:e.sequences[t]}Rt.prototype.getDefaultScriptFeaturesIndexes=function(){for(var n=this.font.tables.gsub.scripts,e=0;e<n.length;e++){var t=n[e];if(t.tag==="DFLT")return t.script.defaultLangSys.featureIndexes}return[]};Rt.prototype.getScriptFeaturesIndexes=function(n){var e=this.font.tables;if(!e.gsub)return[];if(!n)return this.getDefaultScriptFeaturesIndexes();for(var t=this.font.tables.gsub.scripts,i=0;i<t.length;i++){var s=t[i];if(s.tag===n&&s.script.defaultLangSys)return s.script.defaultLangSys.featureIndexes;var r=s.langSysRecords;if(r)for(var o=0;o<r.length;o++){var a=r[o];if(a.tag===n){var A=a.langSys;return A.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};Rt.prototype.mapTagsToFeatures=function(n,e){for(var t={},i=0;i<n.length;i++){var s=n[i].tag,r=n[i].feature;t[s]=r}this.features[e].tags=t};Rt.prototype.getScriptFeatures=function(n){var e=this.features[n];if(this.features.hasOwnProperty(n))return e;var t=this.getScriptFeaturesIndexes(n);if(!t)return null;var i=this.font.tables.gsub;return e=t.map(function(s){return i.features[s]}),this.features[n]=e,this.mapTagsToFeatures(e,n),e};Rt.prototype.getSubstitutionType=function(n,e){var t=n.lookupType.toString(),i=e.substFormat.toString();return t+i};Rt.prototype.getLookupMethod=function(n,e){var t=this,i=this.getSubstitutionType(n,e);switch(i){case"11":return function(s){return L5.apply(t,[s,e])};case"12":return function(s){return k5.apply(t,[s,e])};case"63":return function(s){return G5.apply(t,[s,e])};case"41":return function(s){return U5.apply(t,[s,e])};case"21":return function(s){return P5.apply(t,[s,e])};default:throw new Error("lookupType: "+n.lookupType+" - substFormat: "+e.substFormat+" is not yet supported")}};Rt.prototype.lookupFeature=function(n){var e=n.contextParams,t=e.index,i=this.getFeature({tag:n.tag,script:n.script});if(!i)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+n.tag+"' for script '"+n.script+"'.");for(var s=this.getFeatureLookups(i),r=[].concat(e.context),o=0;o<s.length;o++)for(var a=s[o],A=this.getLookupSubtables(a),c=0;c<A.length;c++){var h=A[c],l=this.getSubstitutionType(a,h),u=this.getLookupMethod(a,h),p=void 0;switch(l){case"11":p=u(e.current),p&&r.splice(t,1,new sn({id:11,tag:n.tag,substitution:p}));break;case"12":p=u(e.current),p&&r.splice(t,1,new sn({id:12,tag:n.tag,substitution:p}));break;case"63":p=u(e),Array.isArray(p)&&p.length&&r.splice(t,1,new sn({id:63,tag:n.tag,substitution:p}));break;case"41":p=u(e),p&&r.splice(t,1,new sn({id:41,tag:n.tag,substitution:p}));break;case"21":p=u(e.current),p&&r.splice(t,1,new sn({id:21,tag:n.tag,substitution:p}));break}e=new $t(r,t),!(Array.isArray(p)&&!p.length)&&(p=null)}return r.length?r:null};Rt.prototype.supports=function(n){if(!n.script)return!1;this.getScriptFeatures(n.script);var e=this.features.hasOwnProperty(n.script);if(!n.tag)return e;var t=this.features[n.script].some(function(i){return i.tag===n.tag});return e&&t};Rt.prototype.getLookupSubtables=function(n){return n.subtables||null};Rt.prototype.getLookupByIndex=function(n){var e=this.font.tables.gsub.lookups;return e[n]||null};Rt.prototype.getFeatureLookups=function(n){return n.lookupListIndexes.map(this.getLookupByIndex.bind(this))};Rt.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var t=this.features[e.script];return t?t.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};function O5(n){var e=n.current,t=n.get(-1);return t===null&&Ki(e)||!Ki(t)&&Ki(e)}function N5(n){var e=n.get(1);return e===null||!Ki(e)}var H5={startCheck:O5,endCheck:N5};function J5(n){var e=n.current,t=n.get(-1);return(Ki(e)||Xi(e))&&!Ki(t)}function z5(n){var e=n.get(1);switch(!0){case e===null:return!0;case(!Ki(e)&&!Xi(e)):var t=_5(e);if(!t)return!0;if(t){var i=!1;if(i=n.lookahead.some(function(s){return Ki(s)||Xi(s)}),!i)return!0}break;default:return!1}}var Y5={startCheck:J5,endCheck:z5};function K5(n,e,t){e[t].setState(n.tag,n.substitution)}function X5(n,e,t){e[t].setState(n.tag,n.substitution)}function q5(n,e,t){n.substitution.forEach(function(i,s){var r=e[t+s];r.setState(n.tag,i)})}function j5(n,e,t){var i=e[t];i.setState(n.tag,n.substitution.ligGlyph);for(var s=n.substitution.components.length,r=0;r<s;r++)i=e[t+r+1],i.setState("deleted",!0)}var Zo={11:K5,12:X5,63:q5,41:j5};function oo(n,e,t){n instanceof sn&&Zo[n.id]&&Zo[n.id](n,e,t)}function V5(n){for(var e=[].concat(n.backtrack),t=e.length-1;t>=0;t--){var i=e[t],s=T3(i),r=Xi(i);if(!s&&!r)return!0;if(s)return!1}return!1}function W5(n){if(T3(n.current))return!1;for(var e=0;e<n.lookahead.length;e++){var t=n.lookahead[e],i=Xi(t);if(!i)return!0}return!1}function Z5(n){var e=this,t="arab",i=this.featuresTags[t],s=this.tokenizer.getRangeTokens(n);if(s.length!==1){var r=new $t(s.map(function(a){return a.getState("glyphIndex")}),0),o=new $t(s.map(function(a){return a.char}),0);s.forEach(function(a,A){if(!Xi(a.char)){r.setCurrentIndex(A),o.setCurrentIndex(A);var c=0;V5(o)&&(c|=1),W5(o)&&(c|=2);var h;switch(c){case 1:h="fina";break;case 2:h="init";break;case 3:h="medi";break}if(i.indexOf(h)!==-1){var l=e.query.lookupFeature({tag:h,script:t,contextParams:r});if(l instanceof Error)return console.info(l.message);l.forEach(function(u,p){u instanceof sn&&(oo(u,s,p),r.context[p]=u.substitution)})}}})}}function $o(n,e){var t=n.map(function(i){return i.activeState.value});return new $t(t,e||0)}function $5(n){var e=this,t="arab",i=this.tokenizer.getRangeTokens(n),s=$o(i);s.context.forEach(function(r,o){s.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"rlig",script:t,contextParams:s});a.length&&(a.forEach(function(A){return oo(A,i,o)}),s=$o(i))})}function ec(n){var e=n.current,t=n.get(-1);return t===null&&Ms(e)||!Ms(t)&&Ms(e)}function tc(n){var e=n.get(1);return e===null||!Ms(e)}var ic={startCheck:ec,endCheck:tc};function ea(n,e){var t=n.map(function(i){return i.activeState.value});return new $t(t,e||0)}function nc(n){var e=this,t="latn",i=this.tokenizer.getRangeTokens(n),s=ea(i);s.context.forEach(function(r,o){s.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"liga",script:t,contextParams:s});a.length&&(a.forEach(function(A){return oo(A,i,o)}),s=ea(i))})}function ti(n){this.baseDir=n||"ltr",this.tokenizer=new ot,this.featuresTags={}}ti.prototype.setText=function(n){this.text=n};ti.prototype.contextChecks={latinWordCheck:ic,arabicWordCheck:H5,arabicSentenceCheck:Y5};function cr(n){var e=this.contextChecks[n+"Check"];return this.tokenizer.registerContextChecker(n,e.startCheck,e.endCheck)}function sc(){return cr.call(this,"latinWord"),cr.call(this,"arabicWord"),cr.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function rc(){var n=this,e=this.tokenizer.getContextRanges("arabicSentence");e.forEach(function(t){var i=n.tokenizer.getRangeTokens(t);n.tokenizer.replaceRange(t.startIndex,t.endOffset,i.reverse())})}ti.prototype.registerFeatures=function(n,e){var t=this,i=e.filter(function(s){return t.query.supports({script:n,tag:s})});this.featuresTags.hasOwnProperty(n)?this.featuresTags[n]=this.featuresTags[n].concat(i):this.featuresTags[n]=i};ti.prototype.applyFeatures=function(n,e){if(!n)throw new Error("No valid font was provided to apply features");this.query||(this.query=new Rt(n));for(var t=0;t<e.length;t++){var i=e[t];this.query.supports({script:i.script})&&this.registerFeatures(i.script,i.tags)}};ti.prototype.registerModifier=function(n,e,t){this.tokenizer.registerModifier(n,e,t)};function ao(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function oc(){var n=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){ao.call(this);var t=this.tokenizer.getContextRanges("arabicWord");t.forEach(function(i){Z5.call(n,i)})}}function ac(){var n=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){var t=this.featuresTags[e];if(t.indexOf("rlig")!==-1){ao.call(this);var i=this.tokenizer.getContextRanges("arabicWord");i.forEach(function(s){$5.call(n,s)})}}}function Ac(){var n=this,e="latn";if(this.featuresTags.hasOwnProperty(e)){var t=this.featuresTags[e];if(t.indexOf("liga")!==-1){ao.call(this);var i=this.tokenizer.getContextRanges("latinWord");i.forEach(function(s){nc.call(n,s)})}}}ti.prototype.checkContextReady=function(n){return!!this.tokenizer.getContext(n)};ti.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(oc.call(this),ac.call(this)),this.checkContextReady("latinWord")&&Ac.call(this),this.checkContextReady("arabicSentence")&&rc.call(this)};ti.prototype.processText=function(n){(!this.text||this.text!==n)&&(this.setText(n),sc.call(this),this.applyFeaturesToContexts())};ti.prototype.getBidiText=function(n){return this.processText(n),this.tokenizer.getText()};ti.prototype.getTextGlyphs=function(n){this.processText(n);for(var e=[],t=0;t<this.tokenizer.tokens.length;t++){var i=this.tokenizer.tokens[t];if(!i.state.deleted){var s=i.activeState.value;e.push(Array.isArray(s)?s[0]:s)}}return e};function We(n){n=n||{},n.tables=n.tables||{},n.empty||(Gn(n.familyName,"When creating a new Font object, familyName is required."),Gn(n.styleName,"When creating a new Font object, styleName is required."),Gn(n.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Gn(n.ascender,"When creating a new Font object, ascender is required."),Gn(n.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:n.familyName||" "},fontSubfamily:{en:n.styleName||" "},fullName:{en:n.fullName||n.familyName+" "+n.styleName},postScriptName:{en:n.postScriptName||(n.familyName+n.styleName).replace(/\s/g,"")},designer:{en:n.designer||" "},designerURL:{en:n.designerURL||" "},manufacturer:{en:n.manufacturer||" "},manufacturerURL:{en:n.manufacturerURL||" "},license:{en:n.license||" "},licenseURL:{en:n.licenseURL||" "},version:{en:n.version||"Version 0.1"},description:{en:n.description||" "},copyright:{en:n.copyright||" "},trademark:{en:n.trademark||" "}},this.unitsPerEm=n.unitsPerEm||1e3,this.ascender=n.ascender,this.descender=n.descender,this.createdTimestamp=n.createdTimestamp,this.tables=Object.assign(n.tables,{os2:Object.assign({usWeightClass:n.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:n.widthClass||this.usWidthClasses.MEDIUM,fsSelection:n.fsSelection||this.fsSelectionValues.REGULAR},n.tables.os2)})),this.supported=!0,this.glyphs=new di.GlyphSet(this,n.glyphs||[]),this.encoding=new A3(this),this.position=new os(this),this.substitution=new Mt(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new b3(this)}})}We.prototype.hasChar=function(n){return this.encoding.charToGlyphIndex(n)!==null};We.prototype.charToGlyphIndex=function(n){return this.encoding.charToGlyphIndex(n)};We.prototype.charToGlyph=function(n){var e=this.charToGlyphIndex(n),t=this.glyphs.get(e);return t||(t=this.glyphs.get(0)),t};We.prototype.updateFeatures=function(n){return this.defaultRenderOptions.features.map(function(e){return e.script==="latn"?{script:"latn",tags:e.tags.filter(function(t){return n[t]})}:e})};We.prototype.stringToGlyphs=function(n,e){var t=this,i=new ti,s=function(l){return t.charToGlyphIndex(l.char)};i.registerModifier("glyphIndex",null,s);var r=e?this.updateFeatures(e.features):this.defaultRenderOptions.features;i.applyFeatures(this,r);for(var o=i.getTextGlyphs(n),a=o.length,A=new Array(a),c=this.glyphs.get(0),h=0;h<a;h+=1)A[h]=this.glyphs.get(o[h])||c;return A};We.prototype.nameToGlyphIndex=function(n){return this.glyphNames.nameToGlyphIndex(n)};We.prototype.nameToGlyph=function(n){var e=this.nameToGlyphIndex(n),t=this.glyphs.get(e);return t||(t=this.glyphs.get(0)),t};We.prototype.glyphIndexToName=function(n){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(n):""};We.prototype.getKerningValue=function(n,e){n=n.index||n,e=e.index||e;var t=this.position.defaultKerningTables;return t?this.position.getKerningValue(t,n,e):this.kerningPairs[n+","+e]||0};We.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};We.prototype.forEachGlyph=function(n,e,t,i,s,r){e=e!==void 0?e:0,t=t!==void 0?t:0,i=i!==void 0?i:72,s=Object.assign({},this.defaultRenderOptions,s);var o=1/this.unitsPerEm*i,a=this.stringToGlyphs(n,s),A;if(s.kerning){var c=s.script||this.position.getDefaultScriptName();A=this.position.getKerningTables(c,s.language)}for(var h=0;h<a.length;h+=1){var l=a[h];if(r.call(this,l,e,t,i,s),l.advanceWidth&&(e+=l.advanceWidth*o),s.kerning&&h<a.length-1){var u=A?this.position.getKerningValue(A,l.index,a[h+1].index):this.getKerningValue(l,a[h+1]);e+=u*o}s.letterSpacing?e+=s.letterSpacing*i:s.tracking&&(e+=s.tracking/1e3*i)}return e};We.prototype.getPath=function(n,e,t,i,s){var r=new ft;return this.forEachGlyph(n,e,t,i,s,function(o,a,A,c){var h=o.getPath(a,A,c,s,this);r.extend(h)}),r};We.prototype.getPaths=function(n,e,t,i,s){var r=[];return this.forEachGlyph(n,e,t,i,s,function(o,a,A,c){var h=o.getPath(a,A,c,s,this);r.push(h)}),r};We.prototype.getAdvanceWidth=function(n,e,t){return this.forEachGlyph(n,0,0,e,t,function(){})};We.prototype.draw=function(n,e,t,i,s,r){this.getPath(e,t,i,s,r).draw(n)};We.prototype.drawPoints=function(n,e,t,i,s,r){this.forEachGlyph(e,t,i,s,r,function(o,a,A,c){o.drawPoints(n,a,A,c)})};We.prototype.drawMetrics=function(n,e,t,i,s,r){this.forEachGlyph(e,t,i,s,r,function(o,a,A,c){o.drawMetrics(n,a,A,c)})};We.prototype.getEnglishName=function(n){var e=this.names[n];if(e)return e.en};We.prototype.validate=function(){var n=this;function e(i,s){}function t(i){var s=n.getEnglishName(i);s&&s.trim().length>0}t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),this.unitsPerEm>0};We.prototype.toTables=function(){return q1.fontToTable(this)};We.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};We.prototype.toArrayBuffer=function(){for(var n=this.toTables(),e=n.encode(),t=new ArrayBuffer(e.length),i=new Uint8Array(t),s=0;s<e.length;s++)i[s]=e[s];return t};We.prototype.download=function(n){var e=this.getEnglishName("fontFamily"),t=this.getEnglishName("fontSubfamily");n=n||e.replace(/\s/g,"")+"-"+t+".otf";var i=this.toArrayBuffer();if(V1())if(window.URL=window.URL||window.webkitURL,window.URL){var s=new DataView(i),r=new Blob([s],{type:"font/opentype"}),o=document.createElement("a");o.href=window.URL.createObjectURL(r),o.download=n;var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!1),o.dispatchEvent(a)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var A=require("fs"),c=W1(i);A.writeFileSync(n,c)}};We.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};We.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};We.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Qi=new Array(10);Qi[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{posFormat:1,coverage:this.parsePointer(X.coverage),value:this.parseValueRecord()};if(t===2)return{posFormat:2,coverage:this.parsePointer(X.coverage),values:this.parseValueRecordList()};Te.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};Qi[2]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();Te.assert(t===1||t===2,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var i=this.parsePointer(X.coverage),s=this.parseUShort(),r=this.parseUShort();if(t===1)return{posFormat:t,coverage:i,valueFormat1:s,valueFormat2:r,pairSets:this.parseList(X.pointer(X.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(s),value2:this.parseValueRecord(r)}})))};if(t===2){var o=this.parsePointer(X.classDef),a=this.parsePointer(X.classDef),A=this.parseUShort(),c=this.parseUShort();return{posFormat:t,coverage:i,valueFormat1:s,valueFormat2:r,classDef1:o,classDef2:a,class1Count:A,class2Count:c,classRecords:this.parseList(A,X.list(c,function(){return{value1:this.parseValueRecord(s),value2:this.parseValueRecord(r)}}))}}};Qi[3]=function(){return{error:"GPOS Lookup 3 not supported"}};Qi[4]=function(){return{error:"GPOS Lookup 4 not supported"}};Qi[5]=function(){return{error:"GPOS Lookup 5 not supported"}};Qi[6]=function(){return{error:"GPOS Lookup 6 not supported"}};Qi[7]=function(){return{error:"GPOS Lookup 7 not supported"}};Qi[8]=function(){return{error:"GPOS Lookup 8 not supported"}};Qi[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var cc=Object.defineProperty,hc=(n,e,t)=>e in n?cc(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,f=(n,e,t)=>(hc(n,typeof e!="symbol"?e+"":e,t),t);const Bn=4,xn=1024,li=4,lc=(n=1)=>{const e=new Float32Array(xn*li*n*Bn),t=new La(e,xn,li*n,an,Wt);return t.wrapS=cn,t.wrapT=cn,t.magFilter=Ls,t.needsUpdate=!0,t},uc=(n,e,t=0)=>{const i=Math.floor(xn*(li/4));e.arcLengthDivisions=i/2,e.updateArcLengths();const s=e.getSpacedPoints(i),r=e.computeFrenetFrames(i,!0);for(let o=0;o<i;o++){const a=Math.floor(o/xn),A=o%xn;let c=s[o];Cs(n,A,c.x,c.y,c.z,0+a+li*t),c=r.tangents[o],Cs(n,A,c.x,c.y,c.z,1+a+li*t),c=r.normals[o],Cs(n,A,c.x,c.y,c.z,2+a+li*t),c=r.binormals[o],Cs(n,A,c.x,c.y,c.z,3+a+li*t)}n.needsUpdate=!0},Cs=(n,e,t,i,s,r)=>{const o=n.image,{data:a}=o,A=Bn*xn*r;a[e*Bn+A+0]=t,a[e*Bn+A+1]=i,a[e*Bn+A+2]=s,a[e*Bn+A+3]=1},fc=n=>({spineTexture:{value:n},pathOffset:{type:"f",value:0},pathSegment:{type:"f",value:1},spineOffset:{type:"f",value:161},spineLength:{type:"f",value:400},flow:{type:"i",value:1}});function pc(n,e,t=1){n.__ok||(n.__ok=!0,n.onBeforeCompile=i=>{if(i.__modified)return;i.__modified=!0,Object.assign(i.uniforms,e);const s=`
		uniform sampler2D spineTexture;
		uniform float pathOffset;
		uniform float pathSegment;
		uniform float spineOffset;
		uniform float spineLength;
		uniform int flow;

		float textureLayers = ${li*t}.;
		float textureStacks = ${li/4}.;

		${i.vertexShader}
		`.replace("#include <beginnormal_vertex>","").replace("#include <defaultnormal_vertex>","").replace("#include <begin_vertex>","").replace(/void\s*main\s*\(\)\s*\{/,`
        void main() {
        #include <beginnormal_vertex>

        vec4 worldPos = modelMatrix * vec4(position, 1.);

        bool bend = flow > 0;
        float xWeight = bend ? 0. : 1.;

        #ifdef USE_INSTANCING
        float pathOffsetFromInstanceMatrix = instanceMatrix[3][2];
        float spineLengthFromInstanceMatrix = instanceMatrix[3][0];
        float spinePortion = bend ? (worldPos.x + spineOffset) / spineLengthFromInstanceMatrix : 0.;
        float mt = (spinePortion * pathSegment + pathOffset + pathOffsetFromInstanceMatrix)*textureStacks;
        #else
        float spinePortion = bend ? (worldPos.x + spineOffset) / spineLength : 0.;
        float mt = (spinePortion * pathSegment + pathOffset)*textureStacks;
        #endif

        mt = mod(mt, textureStacks);
        float rowOffset = floor(mt);

        #ifdef USE_INSTANCING
        rowOffset += instanceMatrix[3][1] * ${li}.;
        #endif

        vec3 spinePos = texture2D(spineTexture, vec2(mt, (0. + rowOffset + 0.5) / textureLayers)).xyz;
        vec3 a =        texture2D(spineTexture, vec2(mt, (1. + rowOffset + 0.5) / textureLayers)).xyz;
        vec3 b =        texture2D(spineTexture, vec2(mt, (2. + rowOffset + 0.5) / textureLayers)).xyz;
        vec3 c =        texture2D(spineTexture, vec2(mt, (3. + rowOffset + 0.5) / textureLayers)).xyz;
        mat3 basis = mat3(a, b, c);

        vec3 transformed = basis
          * vec3(worldPos.x * xWeight, worldPos.y * 1., worldPos.z * 1.)
          + spinePos;

        vec3 transformedNormal = normalMatrix * (basis * objectNormal);
			`).replace("#include <project_vertex>",`vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );
				gl_Position = projectionMatrix * mvPosition;`);i.vertexShader=s})}class zh{constructor(e,t=1){f(this,"curveArray"),f(this,"curveLengthArray"),f(this,"object3D"),f(this,"splineTexure"),f(this,"uniforms");const i=e.clone(),s=lc(t),r=fc(s);i.traverse(o=>{(o instanceof Ie||o instanceof ba)&&(o.material=o.material.clone(),pc(o.material,r,t))}),this.curveArray=new Array(t),this.curveLengthArray=new Array(t),this.object3D=i,this.splineTexure=s,this.uniforms=r}updateCurve(e,t){if(e>=this.curveArray.length)throw Error("Index out of range for Flow");const i=t.getLength();this.uniforms.spineLength.value=i,this.curveLengthArray[e]=i,this.curveArray[e]=t,uc(this.splineTexure,t,e)}moveAlongCurve(e){this.uniforms.pathOffset.value+=e}}function Yh(n,e=1e-4){e=Math.max(e,Number.EPSILON);const t={},i=n.getIndex(),s=n.getAttribute("position"),r=i?i.count:s.count;let o=0;const a=Object.keys(n.attributes),A={},c={},h=[],l=["getX","getY","getZ","getW"];for(let v=0,B=a.length;v<B;v++){const I=a[v];A[I]=[];const E=n.morphAttributes[I];E&&(c[I]=new Array(E.length).fill(0).map(()=>[]))}const u=Math.log10(1/e),p=Math.pow(10,u);for(let v=0;v<r;v++){const B=i?i.getX(v):v;let I="";for(let E=0,g=a.length;E<g;E++){const x=a[E],w=n.getAttribute(x),b=w.itemSize;for(let D=0;D<b;D++)I+=`${~~(w[l[D]](B)*p)},`}if(I in t)h.push(t[I]);else{for(let E=0,g=a.length;E<g;E++){const x=a[E],w=n.getAttribute(x),b=n.morphAttributes[x],D=w.itemSize,S=A[x],M=c[x];for(let T=0;T<D;T++){const U=l[T];if(S.push(w[U](B)),b)for(let k=0,K=b.length;k<K;k++)M[k].push(b[k][U](B))}}t[I]=o,h.push(o),o++}}const C=n.clone();for(let v=0,B=a.length;v<B;v++){const I=a[v],E=n.getAttribute(I),g=new E.array.constructor(A[I]),x=new Ot(g,E.itemSize,E.normalized);if(C.setAttribute(I,x),I in c)for(let w=0;w<c[I].length;w++){const b=n.morphAttributes[I][w],D=new b.array.constructor(c[I][w]),S=new Ot(D,b.itemSize,b.normalized);C.morphAttributes[I][w]=S}}return C.setIndex(h),C}function ta(n,e){if(e===h0)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===Dr||e===Ra){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let A=0;A<a.count;A++)o.push(A);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,s=[];if(t)if(e===Dr)for(let o=1;o<=i;o++)s.push(t.getX(0)),s.push(t.getX(o)),s.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(s.push(t.getX(o)),s.push(t.getX(o+1)),s.push(t.getX(o+2))):(s.push(t.getX(o+2)),s.push(t.getX(o+1)),s.push(t.getX(o)));s.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=n.clone();return r.setIndex(s),r.clearGroups(),r}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}function Kh(n,e=Math.PI/3){const t=Math.cos(e),i=(1+1e-10)*100,s=[new H,new H,new H],r=new H,o=new H,a=new H,A=new H;function c(v){const B=~~(v.x*i),I=~~(v.y*i),E=~~(v.z*i);return`${B},${I},${E}`}const h=n.index?n.toNonIndexed():n,l=h.attributes.position,u={};for(let v=0,B=l.count/3;v<B;v++){const I=3*v,E=s[0].fromBufferAttribute(l,I+0),g=s[1].fromBufferAttribute(l,I+1),x=s[2].fromBufferAttribute(l,I+2);r.subVectors(x,g),o.subVectors(E,g);const w=new H().crossVectors(r,o).normalize();for(let b=0;b<3;b++){const D=s[b],S=c(D);S in u||(u[S]=[]),u[S].push(w)}}const p=new Float32Array(l.count*3),C=new Ot(p,3,!1);for(let v=0,B=l.count/3;v<B;v++){const I=3*v,E=s[0].fromBufferAttribute(l,I+0),g=s[1].fromBufferAttribute(l,I+1),x=s[2].fromBufferAttribute(l,I+2);r.subVectors(x,g),o.subVectors(E,g),a.crossVectors(r,o).normalize();for(let w=0;w<3;w++){const b=s[w],D=c(b),S=u[D];A.set(0,0,0);for(let M=0,T=S.length;M<T;M++){const U=S[M];a.dot(U)>t&&A.add(U)}A.normalize(),C.setXYZ(I+w,A.x,A.y,A.z)}}return h.setAttribute("normal",C),h}const M3=parseInt(jr.replace(/\D+/g,""));class Xh extends Ie{constructor(e,t,i=!1,s=!1,r=1e4){const o=new bt;super(o,t),this.isMarchingCubes=!0;const a=this,A=new Float32Array(12*3),c=new Float32Array(12*3),h=new Float32Array(12*3);this.enableUvs=i,this.enableColors=s,this.init=function(E){this.resolution=E,this.isolation=80,this.size=E,this.size2=this.size*this.size,this.size3=this.size2*this.size,this.halfsize=this.size/2,this.delta=2/this.size,this.yd=this.size,this.zd=this.size2,this.field=new Float32Array(this.size3),this.normal_cache=new Float32Array(this.size3*3),this.palette=new Float32Array(this.size3*3),this.count=0;const g=r*3;this.positionArray=new Float32Array(g*3);const x=new Ot(this.positionArray,3);x.setUsage(us),o.setAttribute("position",x),this.normalArray=new Float32Array(g*3);const w=new Ot(this.normalArray,3);if(w.setUsage(us),o.setAttribute("normal",w),this.enableUvs){this.uvArray=new Float32Array(g*2);const b=new Ot(this.uvArray,2);b.setUsage(us),o.setAttribute("uv",b)}if(this.enableColors){this.colorArray=new Float32Array(g*3);const b=new Ot(this.colorArray,3);b.setUsage(us),o.setAttribute("color",b)}o.boundingSphere=new ns(new H,1)};function l(E,g,x){return E+(g-E)*x}function u(E,g,x,w,b,D,S,M,T,U){const k=(x-S)/(M-S),K=a.normal_cache;A[g+0]=w+k*a.delta,A[g+1]=b,A[g+2]=D,c[g+0]=l(K[E+0],K[E+3],k),c[g+1]=l(K[E+1],K[E+4],k),c[g+2]=l(K[E+2],K[E+5],k),h[g+0]=l(a.palette[T*3+0],a.palette[U*3+0],k),h[g+1]=l(a.palette[T*3+1],a.palette[U*3+1],k),h[g+2]=l(a.palette[T*3+2],a.palette[U*3+2],k)}function p(E,g,x,w,b,D,S,M,T,U){const k=(x-S)/(M-S),K=a.normal_cache;A[g+0]=w,A[g+1]=b+k*a.delta,A[g+2]=D;const z=E+a.yd*3;c[g+0]=l(K[E+0],K[z+0],k),c[g+1]=l(K[E+1],K[z+1],k),c[g+2]=l(K[E+2],K[z+2],k),h[g+0]=l(a.palette[T*3+0],a.palette[U*3+0],k),h[g+1]=l(a.palette[T*3+1],a.palette[U*3+1],k),h[g+2]=l(a.palette[T*3+2],a.palette[U*3+2],k)}function C(E,g,x,w,b,D,S,M,T,U){const k=(x-S)/(M-S),K=a.normal_cache;A[g+0]=w,A[g+1]=b,A[g+2]=D+k*a.delta;const z=E+a.zd*3;c[g+0]=l(K[E+0],K[z+0],k),c[g+1]=l(K[E+1],K[z+1],k),c[g+2]=l(K[E+2],K[z+2],k),h[g+0]=l(a.palette[T*3+0],a.palette[U*3+0],k),h[g+1]=l(a.palette[T*3+1],a.palette[U*3+1],k),h[g+2]=l(a.palette[T*3+2],a.palette[U*3+2],k)}function v(E){const g=E*3;a.normal_cache[g]===0&&(a.normal_cache[g+0]=a.field[E-1]-a.field[E+1],a.normal_cache[g+1]=a.field[E-a.yd]-a.field[E+a.yd],a.normal_cache[g+2]=a.field[E-a.zd]-a.field[E+a.zd])}function B(E,g,x,w,b){const D=w+1,S=w+a.yd,M=w+a.zd,T=D+a.yd,U=D+a.zd,k=w+a.yd+a.zd,K=D+a.yd+a.zd;let z=0;const $=a.field[w],ae=a.field[D],Z=a.field[S],Y=a.field[T],re=a.field[M],W=a.field[U],ee=a.field[k],_=a.field[K];$<b&&(z|=1),ae<b&&(z|=2),Z<b&&(z|=8),Y<b&&(z|=4),re<b&&(z|=16),W<b&&(z|=32),ee<b&&(z|=128),_<b&&(z|=64);const F=gc[z];if(F===0)return 0;const m=a.delta,G=E+m,N=g+m,L=x+m;F&1&&(v(w),v(D),u(w*3,0,b,E,g,x,$,ae,w,D)),F&2&&(v(D),v(T),p(D*3,3,b,G,g,x,ae,Y,D,T)),F&4&&(v(S),v(T),u(S*3,6,b,E,N,x,Z,Y,S,T)),F&8&&(v(w),v(S),p(w*3,9,b,E,g,x,$,Z,w,S)),F&16&&(v(M),v(U),u(M*3,12,b,E,g,L,re,W,M,U)),F&32&&(v(U),v(K),p(U*3,15,b,G,g,L,W,_,U,K)),F&64&&(v(k),v(K),u(k*3,18,b,E,N,L,ee,_,k,K)),F&128&&(v(M),v(k),p(M*3,21,b,E,g,L,re,ee,M,k)),F&256&&(v(w),v(M),C(w*3,24,b,E,g,x,$,re,w,M)),F&512&&(v(D),v(U),C(D*3,27,b,G,g,x,ae,W,D,U)),F&1024&&(v(T),v(K),C(T*3,30,b,G,N,x,Y,_,T,K)),F&2048&&(v(S),v(k),C(S*3,33,b,E,N,x,Z,ee,S,k)),z<<=4;let V,ve,ge,pe=0,ce=0;for(;Es[z+ce]!=-1;)V=z+ce,ve=V+1,ge=V+2,I(A,c,h,3*Es[V],3*Es[ve],3*Es[ge]),ce+=3,pe++;return pe}function I(E,g,x,w,b,D){const S=a.count*3;if(a.positionArray[S+0]=E[w],a.positionArray[S+1]=E[w+1],a.positionArray[S+2]=E[w+2],a.positionArray[S+3]=E[b],a.positionArray[S+4]=E[b+1],a.positionArray[S+5]=E[b+2],a.positionArray[S+6]=E[D],a.positionArray[S+7]=E[D+1],a.positionArray[S+8]=E[D+2],a.material.flatShading===!0){const M=(g[w+0]+g[b+0]+g[D+0])/3,T=(g[w+1]+g[b+1]+g[D+1])/3,U=(g[w+2]+g[b+2]+g[D+2])/3;a.normalArray[S+0]=M,a.normalArray[S+1]=T,a.normalArray[S+2]=U,a.normalArray[S+3]=M,a.normalArray[S+4]=T,a.normalArray[S+5]=U,a.normalArray[S+6]=M,a.normalArray[S+7]=T,a.normalArray[S+8]=U}else a.normalArray[S+0]=g[w+0],a.normalArray[S+1]=g[w+1],a.normalArray[S+2]=g[w+2],a.normalArray[S+3]=g[b+0],a.normalArray[S+4]=g[b+1],a.normalArray[S+5]=g[b+2],a.normalArray[S+6]=g[D+0],a.normalArray[S+7]=g[D+1],a.normalArray[S+8]=g[D+2];if(a.enableUvs){const M=a.count*2;a.uvArray[M+0]=E[w+0],a.uvArray[M+1]=E[w+2],a.uvArray[M+2]=E[b+0],a.uvArray[M+3]=E[b+2],a.uvArray[M+4]=E[D+0],a.uvArray[M+5]=E[D+2]}a.enableColors&&(a.colorArray[S+0]=x[w+0],a.colorArray[S+1]=x[w+1],a.colorArray[S+2]=x[w+2],a.colorArray[S+3]=x[b+0],a.colorArray[S+4]=x[b+1],a.colorArray[S+5]=x[b+2],a.colorArray[S+6]=x[D+0],a.colorArray[S+7]=x[D+1],a.colorArray[S+8]=x[D+2]),a.count+=3}this.addBall=function(E,g,x,w,b,D){const S=Math.sign(w);w=Math.abs(w);const M=D!=null;let T=new et(E,g,x);if(M)try{T=D instanceof et?D:Array.isArray(D)?new et(Math.min(Math.abs(D[0]),1),Math.min(Math.abs(D[1]),1),Math.min(Math.abs(D[2]),1)):new et(D)}catch{T=new et(E,g,x)}const U=this.size*Math.sqrt(w/b),k=x*this.size,K=g*this.size,z=E*this.size;let $=Math.floor(k-U);$<1&&($=1);let ae=Math.floor(k+U);ae>this.size-1&&(ae=this.size-1);let Z=Math.floor(K-U);Z<1&&(Z=1);let Y=Math.floor(K+U);Y>this.size-1&&(Y=this.size-1);let re=Math.floor(z-U);re<1&&(re=1);let W=Math.floor(z+U);W>this.size-1&&(W=this.size-1);let ee,_,F,m,G,N,L,V,ve,ge,pe;for(F=$;F<ae;F++)for(G=this.size2*F,V=F/this.size-x,ve=V*V,_=Z;_<Y;_++)for(m=G+this.size*_,L=_/this.size-g,ge=L*L,ee=re;ee<W;ee++)if(N=ee/this.size-E,pe=w/(1e-6+N*N+ge+ve)-b,pe>0){this.field[m+ee]+=pe*S;const ce=Math.sqrt((ee-z)*(ee-z)+(_-K)*(_-K)+(F-k)*(F-k))/U,Qe=1-ce*ce*ce*(ce*(ce*6-15)+10);this.palette[(m+ee)*3+0]+=T.r*Qe,this.palette[(m+ee)*3+1]+=T.g*Qe,this.palette[(m+ee)*3+2]+=T.b*Qe}},this.addPlaneX=function(E,g){const x=this.size,w=this.yd,b=this.zd,D=this.field;let S,M,T,U,k,K,z,$=x*Math.sqrt(E/g);for($>x&&($=x),S=0;S<$;S++)if(K=S/x,U=K*K,k=E/(1e-4+U)-g,k>0)for(M=0;M<x;M++)for(z=S+M*w,T=0;T<x;T++)D[b*T+z]+=k},this.addPlaneY=function(E,g){const x=this.size,w=this.yd,b=this.zd,D=this.field;let S,M,T,U,k,K,z,$,ae=x*Math.sqrt(E/g);for(ae>x&&(ae=x),M=0;M<ae;M++)if(K=M/x,U=K*K,k=E/(1e-4+U)-g,k>0)for(z=M*w,S=0;S<x;S++)for($=z+S,T=0;T<x;T++)D[b*T+$]+=k},this.addPlaneZ=function(E,g){const x=this.size,w=this.yd,b=this.zd,D=this.field;let S,M,T,U,k,K,z,$,ae=x*Math.sqrt(E/g);for(ae>x&&(ae=x),T=0;T<ae;T++)if(K=T/x,U=K*K,k=E/(1e-4+U)-g,k>0)for(z=b*T,M=0;M<x;M++)for($=z+M*w,S=0;S<x;S++)D[$+S]+=k},this.setCell=function(E,g,x,w){const b=this.size2*x+this.size*g+E;this.field[b]=w},this.getCell=function(E,g,x){const w=this.size2*x+this.size*g+E;return this.field[w]},this.blur=function(E=1){const g=this.field,x=g.slice(),w=this.size,b=this.size2;for(let D=0;D<w;D++)for(let S=0;S<w;S++)for(let M=0;M<w;M++){const T=b*M+w*S+D;let U=x[T],k=1;for(let K=-1;K<=1;K+=2){const z=K+D;if(!(z<0||z>=w))for(let $=-1;$<=1;$+=2){const ae=$+S;if(!(ae<0||ae>=w))for(let Z=-1;Z<=1;Z+=2){const Y=Z+M;if(Y<0||Y>=w)continue;const re=b*Y+w*ae+z,W=x[re];k++,U+=E*(W-U)/k}}}g[T]=U}},this.reset=function(){for(let E=0;E<this.size3;E++)this.normal_cache[E*3]=0,this.field[E]=0,this.palette[E*3]=this.palette[E*3+1]=this.palette[E*3+2]=0},this.update=function(){this.count=0;const E=this.size-2;for(let g=1;g<E;g++){const x=this.size2*g,w=(g-this.halfsize)/this.halfsize;for(let b=1;b<E;b++){const D=x+this.size*b,S=(b-this.halfsize)/this.halfsize;for(let M=1;M<E;M++){const T=(M-this.halfsize)/this.halfsize,U=D+M;B(T,S,w,U,this.isolation)}}}this.geometry.setDrawRange(0,this.count),o.getAttribute("position").needsUpdate=!0,o.getAttribute("normal").needsUpdate=!0,this.enableUvs&&(o.getAttribute("uv").needsUpdate=!0),this.enableColors&&(o.getAttribute("color").needsUpdate=!0),this.count/3>r&&console.warn("THREE.MarchingCubes: Geometry buffers too small for rendering. Please create an instance with a higher poly count.")},this.init(e)}}const gc=new Int32Array([0,265,515,778,1030,1295,1541,1804,2060,2309,2575,2822,3082,3331,3593,3840,400,153,915,666,1430,1183,1941,1692,2460,2197,2975,2710,3482,3219,3993,3728,560,825,51,314,1590,1855,1077,1340,2620,2869,2111,2358,3642,3891,3129,3376,928,681,419,170,1958,1711,1445,1196,2988,2725,2479,2214,4010,3747,3497,3232,1120,1385,1635,1898,102,367,613,876,3180,3429,3695,3942,2154,2403,2665,2912,1520,1273,2035,1786,502,255,1013,764,3580,3317,4095,3830,2554,2291,3065,2800,1616,1881,1107,1370,598,863,85,348,3676,3925,3167,3414,2650,2899,2137,2384,1984,1737,1475,1226,966,719,453,204,4044,3781,3535,3270,3018,2755,2505,2240,2240,2505,2755,3018,3270,3535,3781,4044,204,453,719,966,1226,1475,1737,1984,2384,2137,2899,2650,3414,3167,3925,3676,348,85,863,598,1370,1107,1881,1616,2800,3065,2291,2554,3830,4095,3317,3580,764,1013,255,502,1786,2035,1273,1520,2912,2665,2403,2154,3942,3695,3429,3180,876,613,367,102,1898,1635,1385,1120,3232,3497,3747,4010,2214,2479,2725,2988,1196,1445,1711,1958,170,419,681,928,3376,3129,3891,3642,2358,2111,2869,2620,1340,1077,1855,1590,314,51,825,560,3728,3993,3219,3482,2710,2975,2197,2460,1692,1941,1183,1430,666,915,153,400,3840,3593,3331,3082,2822,2575,2309,2060,1804,1541,1295,1030,778,515,265,0]),Es=new Int32Array([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,9,8,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,2,10,0,2,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,8,3,2,10,8,10,9,8,-1,-1,-1,-1,-1,-1,-1,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,8,11,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,11,2,1,9,11,9,8,11,-1,-1,-1,-1,-1,-1,-1,3,10,1,11,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,10,1,0,8,10,8,11,10,-1,-1,-1,-1,-1,-1,-1,3,9,0,3,11,9,11,10,9,-1,-1,-1,-1,-1,-1,-1,9,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,7,3,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,1,9,4,7,1,7,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,4,7,3,0,4,1,2,10,-1,-1,-1,-1,-1,-1,-1,9,2,10,9,0,2,8,4,7,-1,-1,-1,-1,-1,-1,-1,2,10,9,2,9,7,2,7,3,7,9,4,-1,-1,-1,-1,8,4,7,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,4,7,11,2,4,2,0,4,-1,-1,-1,-1,-1,-1,-1,9,0,1,8,4,7,2,3,11,-1,-1,-1,-1,-1,-1,-1,4,7,11,9,4,11,9,11,2,9,2,1,-1,-1,-1,-1,3,10,1,3,11,10,7,8,4,-1,-1,-1,-1,-1,-1,-1,1,11,10,1,4,11,1,0,4,7,11,4,-1,-1,-1,-1,4,7,8,9,0,11,9,11,10,11,0,3,-1,-1,-1,-1,4,7,11,4,11,9,9,11,10,-1,-1,-1,-1,-1,-1,-1,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,5,4,1,5,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,5,4,8,3,5,3,1,5,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,10,4,9,5,-1,-1,-1,-1,-1,-1,-1,5,2,10,5,4,2,4,0,2,-1,-1,-1,-1,-1,-1,-1,2,10,5,3,2,5,3,5,4,3,4,8,-1,-1,-1,-1,9,5,4,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,0,8,11,4,9,5,-1,-1,-1,-1,-1,-1,-1,0,5,4,0,1,5,2,3,11,-1,-1,-1,-1,-1,-1,-1,2,1,5,2,5,8,2,8,11,4,8,5,-1,-1,-1,-1,10,3,11,10,1,3,9,5,4,-1,-1,-1,-1,-1,-1,-1,4,9,5,0,8,1,8,10,1,8,11,10,-1,-1,-1,-1,5,4,0,5,0,11,5,11,10,11,0,3,-1,-1,-1,-1,5,4,8,5,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,9,7,8,5,7,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,3,0,9,5,3,5,7,3,-1,-1,-1,-1,-1,-1,-1,0,7,8,0,1,7,1,5,7,-1,-1,-1,-1,-1,-1,-1,1,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,7,8,9,5,7,10,1,2,-1,-1,-1,-1,-1,-1,-1,10,1,2,9,5,0,5,3,0,5,7,3,-1,-1,-1,-1,8,0,2,8,2,5,8,5,7,10,5,2,-1,-1,-1,-1,2,10,5,2,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,7,9,5,7,8,9,3,11,2,-1,-1,-1,-1,-1,-1,-1,9,5,7,9,7,2,9,2,0,2,7,11,-1,-1,-1,-1,2,3,11,0,1,8,1,7,8,1,5,7,-1,-1,-1,-1,11,2,1,11,1,7,7,1,5,-1,-1,-1,-1,-1,-1,-1,9,5,8,8,5,7,10,1,3,10,3,11,-1,-1,-1,-1,5,7,0,5,0,9,7,11,0,1,0,10,11,10,0,-1,11,10,0,11,0,3,10,5,0,8,0,7,5,7,0,-1,11,10,5,7,11,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,0,1,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,1,9,8,5,10,6,-1,-1,-1,-1,-1,-1,-1,1,6,5,2,6,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,6,5,1,2,6,3,0,8,-1,-1,-1,-1,-1,-1,-1,9,6,5,9,0,6,0,2,6,-1,-1,-1,-1,-1,-1,-1,5,9,8,5,8,2,5,2,6,3,2,8,-1,-1,-1,-1,2,3,11,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,0,8,11,2,0,10,6,5,-1,-1,-1,-1,-1,-1,-1,0,1,9,2,3,11,5,10,6,-1,-1,-1,-1,-1,-1,-1,5,10,6,1,9,2,9,11,2,9,8,11,-1,-1,-1,-1,6,3,11,6,5,3,5,1,3,-1,-1,-1,-1,-1,-1,-1,0,8,11,0,11,5,0,5,1,5,11,6,-1,-1,-1,-1,3,11,6,0,3,6,0,6,5,0,5,9,-1,-1,-1,-1,6,5,9,6,9,11,11,9,8,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,4,7,3,6,5,10,-1,-1,-1,-1,-1,-1,-1,1,9,0,5,10,6,8,4,7,-1,-1,-1,-1,-1,-1,-1,10,6,5,1,9,7,1,7,3,7,9,4,-1,-1,-1,-1,6,1,2,6,5,1,4,7,8,-1,-1,-1,-1,-1,-1,-1,1,2,5,5,2,6,3,0,4,3,4,7,-1,-1,-1,-1,8,4,7,9,0,5,0,6,5,0,2,6,-1,-1,-1,-1,7,3,9,7,9,4,3,2,9,5,9,6,2,6,9,-1,3,11,2,7,8,4,10,6,5,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,2,4,2,0,2,7,11,-1,-1,-1,-1,0,1,9,4,7,8,2,3,11,5,10,6,-1,-1,-1,-1,9,2,1,9,11,2,9,4,11,7,11,4,5,10,6,-1,8,4,7,3,11,5,3,5,1,5,11,6,-1,-1,-1,-1,5,1,11,5,11,6,1,0,11,7,11,4,0,4,11,-1,0,5,9,0,6,5,0,3,6,11,6,3,8,4,7,-1,6,5,9,6,9,11,4,7,9,7,11,9,-1,-1,-1,-1,10,4,9,6,4,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,10,6,4,9,10,0,8,3,-1,-1,-1,-1,-1,-1,-1,10,0,1,10,6,0,6,4,0,-1,-1,-1,-1,-1,-1,-1,8,3,1,8,1,6,8,6,4,6,1,10,-1,-1,-1,-1,1,4,9,1,2,4,2,6,4,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,9,2,4,9,2,6,4,-1,-1,-1,-1,0,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,3,2,8,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,10,4,9,10,6,4,11,2,3,-1,-1,-1,-1,-1,-1,-1,0,8,2,2,8,11,4,9,10,4,10,6,-1,-1,-1,-1,3,11,2,0,1,6,0,6,4,6,1,10,-1,-1,-1,-1,6,4,1,6,1,10,4,8,1,2,1,11,8,11,1,-1,9,6,4,9,3,6,9,1,3,11,6,3,-1,-1,-1,-1,8,11,1,8,1,0,11,6,1,9,1,4,6,4,1,-1,3,11,6,3,6,0,0,6,4,-1,-1,-1,-1,-1,-1,-1,6,4,8,11,6,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,10,6,7,8,10,8,9,10,-1,-1,-1,-1,-1,-1,-1,0,7,3,0,10,7,0,9,10,6,7,10,-1,-1,-1,-1,10,6,7,1,10,7,1,7,8,1,8,0,-1,-1,-1,-1,10,6,7,10,7,1,1,7,3,-1,-1,-1,-1,-1,-1,-1,1,2,6,1,6,8,1,8,9,8,6,7,-1,-1,-1,-1,2,6,9,2,9,1,6,7,9,0,9,3,7,3,9,-1,7,8,0,7,0,6,6,0,2,-1,-1,-1,-1,-1,-1,-1,7,3,2,6,7,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,11,10,6,8,10,8,9,8,6,7,-1,-1,-1,-1,2,0,7,2,7,11,0,9,7,6,7,10,9,10,7,-1,1,8,0,1,7,8,1,10,7,6,7,10,2,3,11,-1,11,2,1,11,1,7,10,6,1,6,7,1,-1,-1,-1,-1,8,9,6,8,6,7,9,1,6,11,6,3,1,3,6,-1,0,9,1,11,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,8,0,7,0,6,3,11,0,11,6,0,-1,-1,-1,-1,7,11,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,1,9,8,3,1,11,7,6,-1,-1,-1,-1,-1,-1,-1,10,1,2,6,11,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,8,6,11,7,-1,-1,-1,-1,-1,-1,-1,2,9,0,2,10,9,6,11,7,-1,-1,-1,-1,-1,-1,-1,6,11,7,2,10,3,10,8,3,10,9,8,-1,-1,-1,-1,7,2,3,6,2,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,0,8,7,6,0,6,2,0,-1,-1,-1,-1,-1,-1,-1,2,7,6,2,3,7,0,1,9,-1,-1,-1,-1,-1,-1,-1,1,6,2,1,8,6,1,9,8,8,7,6,-1,-1,-1,-1,10,7,6,10,1,7,1,3,7,-1,-1,-1,-1,-1,-1,-1,10,7,6,1,7,10,1,8,7,1,0,8,-1,-1,-1,-1,0,3,7,0,7,10,0,10,9,6,10,7,-1,-1,-1,-1,7,6,10,7,10,8,8,10,9,-1,-1,-1,-1,-1,-1,-1,6,8,4,11,8,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,6,11,3,0,6,0,4,6,-1,-1,-1,-1,-1,-1,-1,8,6,11,8,4,6,9,0,1,-1,-1,-1,-1,-1,-1,-1,9,4,6,9,6,3,9,3,1,11,3,6,-1,-1,-1,-1,6,8,4,6,11,8,2,10,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,11,0,6,11,0,4,6,-1,-1,-1,-1,4,11,8,4,6,11,0,2,9,2,10,9,-1,-1,-1,-1,10,9,3,10,3,2,9,4,3,11,3,6,4,6,3,-1,8,2,3,8,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,0,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,4,2,4,6,4,3,8,-1,-1,-1,-1,1,9,4,1,4,2,2,4,6,-1,-1,-1,-1,-1,-1,-1,8,1,3,8,6,1,8,4,6,6,10,1,-1,-1,-1,-1,10,1,0,10,0,6,6,0,4,-1,-1,-1,-1,-1,-1,-1,4,6,3,4,3,8,6,10,3,0,3,9,10,9,3,-1,10,9,4,6,10,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,5,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,5,11,7,6,-1,-1,-1,-1,-1,-1,-1,5,0,1,5,4,0,7,6,11,-1,-1,-1,-1,-1,-1,-1,11,7,6,8,3,4,3,5,4,3,1,5,-1,-1,-1,-1,9,5,4,10,1,2,7,6,11,-1,-1,-1,-1,-1,-1,-1,6,11,7,1,2,10,0,8,3,4,9,5,-1,-1,-1,-1,7,6,11,5,4,10,4,2,10,4,0,2,-1,-1,-1,-1,3,4,8,3,5,4,3,2,5,10,5,2,11,7,6,-1,7,2,3,7,6,2,5,4,9,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,6,0,6,2,6,8,7,-1,-1,-1,-1,3,6,2,3,7,6,1,5,0,5,4,0,-1,-1,-1,-1,6,2,8,6,8,7,2,1,8,4,8,5,1,5,8,-1,9,5,4,10,1,6,1,7,6,1,3,7,-1,-1,-1,-1,1,6,10,1,7,6,1,0,7,8,7,0,9,5,4,-1,4,0,10,4,10,5,0,3,10,6,10,7,3,7,10,-1,7,6,10,7,10,8,5,4,10,4,8,10,-1,-1,-1,-1,6,9,5,6,11,9,11,8,9,-1,-1,-1,-1,-1,-1,-1,3,6,11,0,6,3,0,5,6,0,9,5,-1,-1,-1,-1,0,11,8,0,5,11,0,1,5,5,6,11,-1,-1,-1,-1,6,11,3,6,3,5,5,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,11,9,11,8,11,5,6,-1,-1,-1,-1,0,11,3,0,6,11,0,9,6,5,6,9,1,2,10,-1,11,8,5,11,5,6,8,0,5,10,5,2,0,2,5,-1,6,11,3,6,3,5,2,10,3,10,5,3,-1,-1,-1,-1,5,8,9,5,2,8,5,6,2,3,8,2,-1,-1,-1,-1,9,5,6,9,6,0,0,6,2,-1,-1,-1,-1,-1,-1,-1,1,5,8,1,8,0,5,6,8,3,8,2,6,2,8,-1,1,5,6,2,1,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,6,1,6,10,3,8,6,5,6,9,8,9,6,-1,10,1,0,10,0,6,9,5,0,5,6,0,-1,-1,-1,-1,0,3,8,5,6,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,7,5,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,11,7,5,8,3,0,-1,-1,-1,-1,-1,-1,-1,5,11,7,5,10,11,1,9,0,-1,-1,-1,-1,-1,-1,-1,10,7,5,10,11,7,9,8,1,8,3,1,-1,-1,-1,-1,11,1,2,11,7,1,7,5,1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,7,1,7,5,7,2,11,-1,-1,-1,-1,9,7,5,9,2,7,9,0,2,2,11,7,-1,-1,-1,-1,7,5,2,7,2,11,5,9,2,3,2,8,9,8,2,-1,2,5,10,2,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,8,2,0,8,5,2,8,7,5,10,2,5,-1,-1,-1,-1,9,0,1,5,10,3,5,3,7,3,10,2,-1,-1,-1,-1,9,8,2,9,2,1,8,7,2,10,2,5,7,5,2,-1,1,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,7,0,7,1,1,7,5,-1,-1,-1,-1,-1,-1,-1,9,0,3,9,3,5,5,3,7,-1,-1,-1,-1,-1,-1,-1,9,8,7,5,9,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,8,4,5,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,5,0,4,5,11,0,5,10,11,11,3,0,-1,-1,-1,-1,0,1,9,8,4,10,8,10,11,10,4,5,-1,-1,-1,-1,10,11,4,10,4,5,11,3,4,9,4,1,3,1,4,-1,2,5,1,2,8,5,2,11,8,4,5,8,-1,-1,-1,-1,0,4,11,0,11,3,4,5,11,2,11,1,5,1,11,-1,0,2,5,0,5,9,2,11,5,4,5,8,11,8,5,-1,9,4,5,2,11,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,5,10,3,5,2,3,4,5,3,8,4,-1,-1,-1,-1,5,10,2,5,2,4,4,2,0,-1,-1,-1,-1,-1,-1,-1,3,10,2,3,5,10,3,8,5,4,5,8,0,1,9,-1,5,10,2,5,2,4,1,9,2,9,4,2,-1,-1,-1,-1,8,4,5,8,5,3,3,5,1,-1,-1,-1,-1,-1,-1,-1,0,4,5,1,0,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,4,5,8,5,3,9,0,5,0,3,5,-1,-1,-1,-1,9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,11,7,4,9,11,9,10,11,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,7,9,11,7,9,10,11,-1,-1,-1,-1,1,10,11,1,11,4,1,4,0,7,4,11,-1,-1,-1,-1,3,1,4,3,4,8,1,10,4,7,4,11,10,11,4,-1,4,11,7,9,11,4,9,2,11,9,1,2,-1,-1,-1,-1,9,7,4,9,11,7,9,1,11,2,11,1,0,8,3,-1,11,7,4,11,4,2,2,4,0,-1,-1,-1,-1,-1,-1,-1,11,7,4,11,4,2,8,3,4,3,2,4,-1,-1,-1,-1,2,9,10,2,7,9,2,3,7,7,4,9,-1,-1,-1,-1,9,10,7,9,7,4,10,2,7,8,7,0,2,0,7,-1,3,7,10,3,10,2,7,4,10,1,10,0,4,0,10,-1,1,10,2,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,7,1,3,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,0,8,1,8,7,1,-1,-1,-1,-1,4,0,3,7,4,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,11,9,10,-1,-1,-1,-1,-1,-1,-1,0,1,10,0,10,8,8,10,11,-1,-1,-1,-1,-1,-1,-1,3,1,10,11,3,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,11,1,11,9,9,11,8,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,1,2,9,2,11,9,-1,-1,-1,-1,0,2,11,8,0,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,2,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,10,8,9,-1,-1,-1,-1,-1,-1,-1,9,10,2,0,9,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,0,1,8,1,10,8,-1,-1,-1,-1,1,10,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,8,9,1,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,9,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]);class qh{constructor(e=Math){f(this,"grad3",[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]]),f(this,"grad4",[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]]),f(this,"p",[]),f(this,"perm",[]),f(this,"simplex",[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]),f(this,"dot",(t,i,s)=>t[0]*i+t[1]*s),f(this,"dot3",(t,i,s,r)=>t[0]*i+t[1]*s+t[2]*r),f(this,"dot4",(t,i,s,r,o)=>t[0]*i+t[1]*s+t[2]*r+t[3]*o),f(this,"noise",(t,i)=>{let s,r,o;const a=.5*(Math.sqrt(3)-1),A=(t+i)*a,c=Math.floor(t+A),h=Math.floor(i+A),l=(3-Math.sqrt(3))/6,u=(c+h)*l,p=c-u,C=h-u,v=t-p,B=i-C;let I=0,E=1;v>B&&(I=1,E=0);const g=v-I+l,x=B-E+l,w=v-1+2*l,b=B-1+2*l,D=c&255,S=h&255,M=this.perm[D+this.perm[S]]%12,T=this.perm[D+I+this.perm[S+E]]%12,U=this.perm[D+1+this.perm[S+1]]%12;let k=.5-v*v-B*B;k<0?s=0:(k*=k,s=k*k*this.dot(this.grad3[M],v,B));let K=.5-g*g-x*x;K<0?r=0:(K*=K,r=K*K*this.dot(this.grad3[T],g,x));let z=.5-w*w-b*b;return z<0?o=0:(z*=z,o=z*z*this.dot(this.grad3[U],w,b)),70*(s+r+o)}),f(this,"noise3d",(t,i,s)=>{let r,o,a,A;const c=.3333333333333333,h=(t+i+s)*c,l=Math.floor(t+h),u=Math.floor(i+h),p=Math.floor(s+h),C=1/6,v=(l+u+p)*C,B=l-v,I=u-v,E=p-v,g=t-B,x=i-I,w=s-E;let b,D,S,M,T,U;g>=x?x>=w?(b=1,D=0,S=0,M=1,T=1,U=0):g>=w?(b=1,D=0,S=0,M=1,T=0,U=1):(b=0,D=0,S=1,M=1,T=0,U=1):x<w?(b=0,D=0,S=1,M=0,T=1,U=1):g<w?(b=0,D=1,S=0,M=0,T=1,U=1):(b=0,D=1,S=0,M=1,T=1,U=0);const k=g-b+C,K=x-D+C,z=w-S+C,$=g-M+2*C,ae=x-T+2*C,Z=w-U+2*C,Y=g-1+3*C,re=x-1+3*C,W=w-1+3*C,ee=l&255,_=u&255,F=p&255,m=this.perm[ee+this.perm[_+this.perm[F]]]%12,G=this.perm[ee+b+this.perm[_+D+this.perm[F+S]]]%12,N=this.perm[ee+M+this.perm[_+T+this.perm[F+U]]]%12,L=this.perm[ee+1+this.perm[_+1+this.perm[F+1]]]%12;let V=.6-g*g-x*x-w*w;V<0?r=0:(V*=V,r=V*V*this.dot3(this.grad3[m],g,x,w));let ve=.6-k*k-K*K-z*z;ve<0?o=0:(ve*=ve,o=ve*ve*this.dot3(this.grad3[G],k,K,z));let ge=.6-$*$-ae*ae-Z*Z;ge<0?a=0:(ge*=ge,a=ge*ge*this.dot3(this.grad3[N],$,ae,Z));let pe=.6-Y*Y-re*re-W*W;return pe<0?A=0:(pe*=pe,A=pe*pe*this.dot3(this.grad3[L],Y,re,W)),32*(r+o+a+A)}),f(this,"noise4d",(t,i,s,r)=>{const o=this.grad4,a=this.simplex,A=this.perm,c=(Math.sqrt(5)-1)/4,h=(5-Math.sqrt(5))/20;let l,u,p,C,v;const B=(t+i+s+r)*c,I=Math.floor(t+B),E=Math.floor(i+B),g=Math.floor(s+B),x=Math.floor(r+B),w=(I+E+g+x)*h,b=I-w,D=E-w,S=g-w,M=x-w,T=t-b,U=i-D,k=s-S,K=r-M,z=T>U?32:0,$=T>k?16:0,ae=U>k?8:0,Z=T>K?4:0,Y=U>K?2:0,re=k>K?1:0,W=z+$+ae+Z+Y+re;let ee,_,F,m,G,N,L,V,ve,ge,pe,ce;ee=a[W][0]>=3?1:0,_=a[W][1]>=3?1:0,F=a[W][2]>=3?1:0,m=a[W][3]>=3?1:0,G=a[W][0]>=2?1:0,N=a[W][1]>=2?1:0,L=a[W][2]>=2?1:0,V=a[W][3]>=2?1:0,ve=a[W][0]>=1?1:0,ge=a[W][1]>=1?1:0,pe=a[W][2]>=1?1:0,ce=a[W][3]>=1?1:0;const Qe=T-ee+h,ue=U-_+h,me=k-F+h,P=K-m+h,Q=T-G+2*h,Ce=U-N+2*h,Le=k-L+2*h,Je=K-V+2*h,it=T-ve+3*h,ct=U-ge+3*h,Et=k-pe+3*h,ii=K-ce+3*h,Jt=T-1+4*h,ni=U-1+4*h,si=k-1+4*h,Qt=K-1+4*h,_t=I&255,vi=E&255,ri=g&255,Bi=x&255,oi=A[_t+A[vi+A[ri+A[Bi]]]]%32,ht=A[_t+ee+A[vi+_+A[ri+F+A[Bi+m]]]]%32,Fi=A[_t+G+A[vi+N+A[ri+L+A[Bi+V]]]]%32,O=A[_t+ve+A[vi+ge+A[ri+pe+A[Bi+ce]]]]%32,ie=A[_t+1+A[vi+1+A[ri+1+A[Bi+1]]]]%32;let de=.6-T*T-U*U-k*k-K*K;de<0?l=0:(de*=de,l=de*de*this.dot4(o[oi],T,U,k,K));let ke=.6-Qe*Qe-ue*ue-me*me-P*P;ke<0?u=0:(ke*=ke,u=ke*ke*this.dot4(o[ht],Qe,ue,me,P));let ne=.6-Q*Q-Ce*Ce-Le*Le-Je*Je;ne<0?p=0:(ne*=ne,p=ne*ne*this.dot4(o[Fi],Q,Ce,Le,Je));let at=.6-it*it-ct*ct-Et*Et-ii*ii;at<0?C=0:(at*=at,C=at*at*this.dot4(o[O],it,ct,Et,ii));let It=.6-Jt*Jt-ni*ni-si*si-Qt*Qt;return It<0?v=0:(It*=It,v=It*It*this.dot4(o[ie],Jt,ni,si,Qt)),27*(l+u+p+C+v)});for(let t=0;t<256;t++)this.p[t]=Math.floor(e.random()*256);for(let t=0;t<512;t++)this.perm[t]=this.p[t&255]}}const hr={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new H},up:{value:new H(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${M3>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `},dc=new $n({name:"SkyShader",fragmentShader:hr.fragmentShader,vertexShader:hr.vertexShader,uniforms:_s.clone(hr.uniforms),side:l0,depthWrite:!1});class jh extends Ie{constructor(){super(new ki(1,1,1),dc)}}const mc=n=>n&&n.isCubeTexture;class Vh extends Ie{constructor(e,t){var i,s;const r=mc(e),a=((s=r?(i=e.image[0])==null?void 0:i.width:e.image.width)!=null?s:1024)/4,A=Math.floor(Math.log2(a)),c=Math.pow(2,A),h=3*Math.max(c,16*7),l=4*c,u=[r?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/h}`,`#define CUBEUV_TEXEL_HEIGHT ${1/l}`,`#define CUBEUV_MAX_MIP ${A}.0`],p=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,C=u.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(jr.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,v={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},B=new Q0(1,16),I=new $n({uniforms:v,fragmentShader:C,vertexShader:p,side:Js});super(B,I)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}function R3(n,e,t={}){const i=new H,s=new He,r=new H,o=new De,a=new De,A=new De;t.preserveMatrix=t.preserveMatrix!==void 0?t.preserveMatrix:!0,t.preservePosition=t.preservePosition!==void 0?t.preservePosition:!0,t.preserveHipPosition=t.preserveHipPosition!==void 0?t.preserveHipPosition:!1,t.useTargetMatrix=t.useTargetMatrix!==void 0?t.useTargetMatrix:!1,t.hip=t.hip!==void 0?t.hip:"hip",t.names=t.names||{};const c=e.isObject3D?e.skeleton.bones:Hs(e),h=n.isObject3D?n.skeleton.bones:Hs(n);let l,u,p,C,v;if(n.isObject3D?n.skeleton.pose():(t.useTargetMatrix=!0,t.preserveMatrix=!1),t.preservePosition){v=[];for(let B=0;B<h.length;B++)v.push(h[B].position.clone())}if(t.preserveMatrix){n.updateMatrixWorld(),n.matrixWorld.identity();for(let B=0;B<n.children.length;++B)n.children[B].updateMatrixWorld(!0)}if(t.offsets){l=[];for(let B=0;B<h.length;++B)u=h[B],p=t.names[u.name]||u.name,t.offsets[p]&&(u.matrix.multiply(t.offsets[p]),u.matrix.decompose(u.position,u.quaternion,u.scale),u.updateMatrixWorld()),l.push(u.matrixWorld.clone())}for(let B=0;B<h.length;++B){if(u=h[B],p=t.names[u.name]||u.name,C=_3(p,c),A.copy(u.matrixWorld),C){if(C.updateMatrixWorld(),t.useTargetMatrix?a.copy(C.matrixWorld):(a.copy(n.matrixWorld).invert(),a.multiply(C.matrixWorld)),r.setFromMatrixScale(a),a.scale(r.set(1/r.x,1/r.y,1/r.z)),A.makeRotationFromQuaternion(s.setFromRotationMatrix(a)),n.isObject3D){const I=h.indexOf(u),E=l?l[I]:o.copy(n.skeleton.boneInverses[I]).invert();A.multiply(E)}A.copyPosition(a)}u.parent&&u.parent.isBone?(u.matrix.copy(u.parent.matrixWorld).invert(),u.matrix.multiply(A)):u.matrix.copy(A),t.preserveHipPosition&&p===t.hip&&u.matrix.setPosition(i.set(0,u.position.y,0)),u.matrix.decompose(u.position,u.quaternion,u.scale),u.updateMatrixWorld()}if(t.preservePosition)for(let B=0;B<h.length;++B)u=h[B],p=t.names[u.name]||u.name,p!==t.hip&&u.position.copy(v[B]);t.preserveMatrix&&n.updateMatrixWorld(!0)}function vc(n,e,t,i={}){i.useFirstFramePosition=i.useFirstFramePosition!==void 0?i.useFirstFramePosition:!1,i.fps=i.fps!==void 0?i.fps:30,i.names=i.names||[],e.isObject3D||(e=Cc(e));const s=Math.round(t.duration*(i.fps/1e3)*1e3),r=1/i.fps,o=[],a=new ka(e),A=Hs(n.skeleton),c=[];let h,l,u,p,C;a.clipAction(t).play(),a.update(0),e.updateMatrixWorld();for(let v=0;v<s;++v){const B=v*r;R3(n,e,i);for(let I=0;I<A.length;++I)C=i.names[A[I].name]||A[I].name,u=_3(C,e.skeleton),u&&(l=A[I],p=c[I]=c[I]||{bone:l},i.hip===C&&(p.pos||(p.pos={times:new Float32Array(s),values:new Float32Array(s*3)}),i.useFirstFramePosition&&(v===0&&(h=l.position.clone()),l.position.sub(h)),p.pos.times[v]=B,l.position.toArray(p.pos.values,v*3)),p.quat||(p.quat={times:new Float32Array(s),values:new Float32Array(s*4)}),p.quat.times[v]=B,l.quaternion.toArray(p.quat.values,v*4));a.update(r),e.updateMatrixWorld()}for(let v=0;v<c.length;++v)p=c[v],p&&(p.pos&&o.push(new qr(".bones["+p.bone.name+"].position",p.pos.times,p.pos.values)),o.push(new Rs(".bones["+p.bone.name+"].quaternion",p.quat.times,p.quat.values)));return a.uncacheAction(t),new Xr(t.name,-1,o)}function Bc(n){const e=new Map,t=new Map,i=n.clone();return L3(n,i,function(s,r){e.set(r,s),t.set(s,r)}),i.traverse(function(s){if(!s.isSkinnedMesh)return;const r=s,o=e.get(s),a=o.skeleton.bones;r.skeleton=o.skeleton.clone(),r.bindMatrix.copy(o.bindMatrix),r.skeleton.bones=a.map(function(A){return t.get(A)}),r.bind(r.skeleton,r.bindMatrix)}),i}function _3(n,e){for(let t=0,i=Hs(e);t<i.length;t++)if(n===i[t].name)return i[t]}function Hs(n){return Array.isArray(n)?n:n.bones}function Cc(n){const e=new F0(n.bones[0]);return e.skeleton=n,e}function L3(n,e,t){t(n,e);for(let i=0;i<n.children.length;i++)L3(n.children[i],e.children[i],t)}const Wh={retarget:R3,retargetClip:vc,clone:Bc},vt=new T0,Is=new H;class Zh{constructor(e){let t=e.geometry;t.index&&(console.warn("THREE.MeshSurfaceSampler: Converting geometry to non-indexed BufferGeometry."),t=t.toNonIndexed()),this.geometry=t,this.randomFunction=Math.random,this.positionAttribute=this.geometry.getAttribute("position"),this.colorAttribute=this.geometry.getAttribute("color"),this.weightAttribute=null,this.distribution=null}setWeightAttribute(e){return this.weightAttribute=e?this.geometry.getAttribute(e):null,this}build(){const e=this.positionAttribute,t=this.weightAttribute,i=new Float32Array(e.count/3);for(let r=0;r<e.count;r+=3){let o=1;t&&(o=t.getX(r)+t.getX(r+1)+t.getX(r+2)),vt.a.fromBufferAttribute(e,r),vt.b.fromBufferAttribute(e,r+1),vt.c.fromBufferAttribute(e,r+2),o*=vt.getArea(),i[r/3]=o}this.distribution=new Float32Array(e.count/3);let s=0;for(let r=0;r<i.length;r++)s+=i[r],this.distribution[r]=s;return this}setRandomGenerator(e){return this.randomFunction=e,this}sample(e,t,i){const s=this.sampleFaceIndex();return this.sampleFace(s,e,t,i)}sampleFaceIndex(){const e=this.distribution[this.distribution.length-1];return this.binarySearch(this.randomFunction()*e)}binarySearch(e){const t=this.distribution;let i=0,s=t.length-1,r=-1;for(;i<=s;){const o=Math.ceil((i+s)/2);if(o===0||t[o-1]<=e&&t[o]>e){r=o;break}else e<t[o]?s=o-1:i=o+1}return r}sampleFace(e,t,i,s){let r=this.randomFunction(),o=this.randomFunction();return r+o>1&&(r=1-r,o=1-o),vt.a.fromBufferAttribute(this.positionAttribute,e*3),vt.b.fromBufferAttribute(this.positionAttribute,e*3+1),vt.c.fromBufferAttribute(this.positionAttribute,e*3+2),t.set(0,0,0).addScaledVector(vt.a,r).addScaledVector(vt.b,o).addScaledVector(vt.c,1-(r+o)),i!==void 0&&vt.getNormal(i),s!==void 0&&this.colorAttribute!==void 0&&(vt.a.fromBufferAttribute(this.colorAttribute,e*3),vt.b.fromBufferAttribute(this.colorAttribute,e*3+1),vt.c.fromBufferAttribute(this.colorAttribute,e*3+2),Is.set(0,0,0).addScaledVector(vt.a,r).addScaledVector(vt.b,o).addScaledVector(vt.c,1-(r+o)),s.r=Is.x,s.g=Is.y,s.b=Is.z),this}}const ia=new H;class $h extends ln{constructor(e,t){super(),f(this,"object"),f(this,"domElement"),f(this,"enabled",!0),f(this,"movementSpeed",1),f(this,"lookSpeed",.005),f(this,"lookVertical",!0),f(this,"autoForward",!1),f(this,"activeLook",!0),f(this,"heightSpeed",!1),f(this,"heightCoef",1),f(this,"heightMin",0),f(this,"heightMax",1),f(this,"constrainVertical",!1),f(this,"verticalMin",0),f(this,"verticalMax",Math.PI),f(this,"mouseDragOn",!1),f(this,"autoSpeedFactor",0),f(this,"mouseX",0),f(this,"mouseY",0),f(this,"moveForward",!1),f(this,"moveBackward",!1),f(this,"moveLeft",!1),f(this,"moveRight",!1),f(this,"moveUp",!1),f(this,"moveDown",!1),f(this,"viewHalfX",0),f(this,"viewHalfY",0),f(this,"lat",0),f(this,"lon",0),f(this,"lookDirection",new H),f(this,"spherical",new Qr),f(this,"target",new H),f(this,"connect",i=>{i.setAttribute("tabindex","-1"),i.style.touchAction="none",i.addEventListener("contextmenu",this.contextmenu),i.addEventListener("mousemove",this.onMouseMove),i.addEventListener("mousedown",this.onMouseDown),i.addEventListener("mouseup",this.onMouseUp),this.domElement=i,window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp),this.handleResize()}),f(this,"dispose",()=>{var i,s,r,o;(i=this.domElement)==null||i.removeEventListener("contextmenu",this.contextmenu),(s=this.domElement)==null||s.removeEventListener("mousedown",this.onMouseDown),(r=this.domElement)==null||r.removeEventListener("mousemove",this.onMouseMove),(o=this.domElement)==null||o.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)}),f(this,"handleResize",()=>{this.domElement&&(this.viewHalfX=this.domElement.offsetWidth/2,this.viewHalfY=this.domElement.offsetHeight/2)}),f(this,"onMouseDown",i=>{var s;if((s=this.domElement)==null||s.focus(),this.activeLook)switch(i.button){case 0:this.moveForward=!0;break;case 2:this.moveBackward=!0;break}this.mouseDragOn=!0}),f(this,"onMouseUp",i=>{if(this.activeLook)switch(i.button){case 0:this.moveForward=!1;break;case 2:this.moveBackward=!1;break}this.mouseDragOn=!1}),f(this,"onMouseMove",i=>{this.domElement&&(this.mouseX=i.pageX-this.domElement.offsetLeft-this.viewHalfX,this.mouseY=i.pageY-this.domElement.offsetTop-this.viewHalfY)}),f(this,"onKeyDown",i=>{switch(i.code){case"ArrowUp":case"KeyW":this.moveForward=!0;break;case"ArrowLeft":case"KeyA":this.moveLeft=!0;break;case"ArrowDown":case"KeyS":this.moveBackward=!0;break;case"ArrowRight":case"KeyD":this.moveRight=!0;break;case"KeyR":this.moveUp=!0;break;case"KeyF":this.moveDown=!0;break}}),f(this,"onKeyUp",i=>{switch(i.code){case"ArrowUp":case"KeyW":this.moveForward=!1;break;case"ArrowLeft":case"KeyA":this.moveLeft=!1;break;case"ArrowDown":case"KeyS":this.moveBackward=!1;break;case"ArrowRight":case"KeyD":this.moveRight=!1;break;case"KeyR":this.moveUp=!1;break;case"KeyF":this.moveDown=!1;break}}),f(this,"lookAt",(i,s,r)=>(i instanceof H?this.target.copy(i):s&&r&&this.target.set(i,s,r),this.object.lookAt(this.target),this.setOrientation(),this)),f(this,"update",i=>{if(!this.enabled)return;if(this.heightSpeed){const l=Fe.clamp(this.object.position.y,this.heightMin,this.heightMax)-this.heightMin;this.autoSpeedFactor=i*(l*this.heightCoef)}else this.autoSpeedFactor=0;const s=i*this.movementSpeed;(this.moveForward||this.autoForward&&!this.moveBackward)&&this.object.translateZ(-(s+this.autoSpeedFactor)),this.moveBackward&&this.object.translateZ(s),this.moveLeft&&this.object.translateX(-s),this.moveRight&&this.object.translateX(s),this.moveUp&&this.object.translateY(s),this.moveDown&&this.object.translateY(-s);let r=i*this.lookSpeed;this.activeLook||(r=0);let o=1;this.constrainVertical&&(o=Math.PI/(this.verticalMax-this.verticalMin)),this.lon-=this.mouseX*r,this.lookVertical&&(this.lat-=this.mouseY*r*o),this.lat=Math.max(-85,Math.min(85,this.lat));let a=Fe.degToRad(90-this.lat);const A=Fe.degToRad(this.lon);this.constrainVertical&&(a=Fe.mapLinear(a,0,Math.PI,this.verticalMin,this.verticalMax));const c=this.object.position;ia.setFromSphericalCoords(1,a,A).add(c),this.object.lookAt(ia)}),f(this,"contextmenu",i=>i.preventDefault()),f(this,"setOrientation",()=>{this.lookDirection.set(0,0,-1).applyQuaternion(this.object.quaternion),this.spherical.setFromVector3(this.lookDirection),this.lat=90-Fe.radToDeg(this.spherical.phi),this.lon=Fe.radToDeg(this.spherical.theta)}),this.object=e,this.domElement=t,this.setOrientation(),t&&this.connect(t)}}class el extends wi{constructor(e,t){super(),f(this,"isTransformControls",!0),f(this,"visible",!1),f(this,"domElement"),f(this,"raycaster",new _a),f(this,"gizmo"),f(this,"plane"),f(this,"tempVector",new H),f(this,"tempVector2",new H),f(this,"tempQuaternion",new He),f(this,"unit",{X:new H(1,0,0),Y:new H(0,1,0),Z:new H(0,0,1)}),f(this,"pointStart",new H),f(this,"pointEnd",new H),f(this,"offset",new H),f(this,"rotationAxis",new H),f(this,"startNorm",new H),f(this,"endNorm",new H),f(this,"rotationAngle",0),f(this,"cameraPosition",new H),f(this,"cameraQuaternion",new He),f(this,"cameraScale",new H),f(this,"parentPosition",new H),f(this,"parentQuaternion",new He),f(this,"parentQuaternionInv",new He),f(this,"parentScale",new H),f(this,"worldPositionStart",new H),f(this,"worldQuaternionStart",new He),f(this,"worldScaleStart",new H),f(this,"worldPosition",new H),f(this,"worldQuaternion",new He),f(this,"worldQuaternionInv",new He),f(this,"worldScale",new H),f(this,"eye",new H),f(this,"positionStart",new H),f(this,"quaternionStart",new He),f(this,"scaleStart",new H),f(this,"camera"),f(this,"object"),f(this,"enabled",!0),f(this,"axis",null),f(this,"mode","translate"),f(this,"translationSnap",null),f(this,"rotationSnap",null),f(this,"scaleSnap",null),f(this,"space","world"),f(this,"size",1),f(this,"dragging",!1),f(this,"showX",!0),f(this,"showY",!0),f(this,"showZ",!0),f(this,"changeEvent",{type:"change"}),f(this,"mouseDownEvent",{type:"mouseDown",mode:this.mode}),f(this,"mouseUpEvent",{type:"mouseUp",mode:this.mode}),f(this,"objectChangeEvent",{type:"objectChange"}),f(this,"intersectObjectWithRay",(s,r,o)=>{const a=r.intersectObject(s,!0);for(let A=0;A<a.length;A++)if(a[A].object.visible||o)return a[A];return!1}),f(this,"attach",s=>(this.object=s,this.visible=!0,this)),f(this,"detach",()=>(this.object=void 0,this.visible=!1,this.axis=null,this)),f(this,"reset",()=>this.enabled?(this.dragging&&this.object!==void 0&&(this.object.position.copy(this.positionStart),this.object.quaternion.copy(this.quaternionStart),this.object.scale.copy(this.scaleStart),this.dispatchEvent(this.changeEvent),this.dispatchEvent(this.objectChangeEvent),this.pointStart.copy(this.pointEnd)),this):this),f(this,"updateMatrixWorld",()=>{this.object!==void 0&&(this.object.updateMatrixWorld(),this.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this.parentPosition,this.parentQuaternion,this.parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this.worldScale),this.parentQuaternionInv.copy(this.parentQuaternion).invert(),this.worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this.cameraScale),this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld()}),f(this,"pointerHover",s=>{if(this.object===void 0||this.dragging===!0)return;this.raycaster.setFromCamera(s,this.camera);const r=this.intersectObjectWithRay(this.gizmo.picker[this.mode],this.raycaster);r?this.axis=r.object.name:this.axis=null}),f(this,"pointerDown",s=>{if(!(this.object===void 0||this.dragging===!0||s.button!==0)&&this.axis!==null){this.raycaster.setFromCamera(s,this.camera);const r=this.intersectObjectWithRay(this.plane,this.raycaster,!0);if(r){let o=this.space;if(this.mode==="scale"?o="local":(this.axis==="E"||this.axis==="XYZE"||this.axis==="XYZ")&&(o="world"),o==="local"&&this.mode==="rotate"){const a=this.rotationSnap;this.axis==="X"&&a&&(this.object.rotation.x=Math.round(this.object.rotation.x/a)*a),this.axis==="Y"&&a&&(this.object.rotation.y=Math.round(this.object.rotation.y/a)*a),this.axis==="Z"&&a&&(this.object.rotation.z=Math.round(this.object.rotation.z/a)*a)}this.object.updateMatrixWorld(),this.object.parent&&this.object.parent.updateMatrixWorld(),this.positionStart.copy(this.object.position),this.quaternionStart.copy(this.object.quaternion),this.scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this.worldScaleStart),this.pointStart.copy(r.point).sub(this.worldPositionStart)}this.dragging=!0,this.mouseDownEvent.mode=this.mode,this.dispatchEvent(this.mouseDownEvent)}}),f(this,"pointerMove",s=>{const r=this.axis,o=this.mode,a=this.object;let A=this.space;if(o==="scale"?A="local":(r==="E"||r==="XYZE"||r==="XYZ")&&(A="world"),a===void 0||r===null||this.dragging===!1||s.button!==-1)return;this.raycaster.setFromCamera(s,this.camera);const c=this.intersectObjectWithRay(this.plane,this.raycaster,!0);if(c){if(this.pointEnd.copy(c.point).sub(this.worldPositionStart),o==="translate")this.offset.copy(this.pointEnd).sub(this.pointStart),A==="local"&&r!=="XYZ"&&this.offset.applyQuaternion(this.worldQuaternionInv),r.indexOf("X")===-1&&(this.offset.x=0),r.indexOf("Y")===-1&&(this.offset.y=0),r.indexOf("Z")===-1&&(this.offset.z=0),A==="local"&&r!=="XYZ"?this.offset.applyQuaternion(this.quaternionStart).divide(this.parentScale):this.offset.applyQuaternion(this.parentQuaternionInv).divide(this.parentScale),a.position.copy(this.offset).add(this.positionStart),this.translationSnap&&(A==="local"&&(a.position.applyQuaternion(this.tempQuaternion.copy(this.quaternionStart).invert()),r.search("X")!==-1&&(a.position.x=Math.round(a.position.x/this.translationSnap)*this.translationSnap),r.search("Y")!==-1&&(a.position.y=Math.round(a.position.y/this.translationSnap)*this.translationSnap),r.search("Z")!==-1&&(a.position.z=Math.round(a.position.z/this.translationSnap)*this.translationSnap),a.position.applyQuaternion(this.quaternionStart)),A==="world"&&(a.parent&&a.position.add(this.tempVector.setFromMatrixPosition(a.parent.matrixWorld)),r.search("X")!==-1&&(a.position.x=Math.round(a.position.x/this.translationSnap)*this.translationSnap),r.search("Y")!==-1&&(a.position.y=Math.round(a.position.y/this.translationSnap)*this.translationSnap),r.search("Z")!==-1&&(a.position.z=Math.round(a.position.z/this.translationSnap)*this.translationSnap),a.parent&&a.position.sub(this.tempVector.setFromMatrixPosition(a.parent.matrixWorld))));else if(o==="scale"){if(r.search("XYZ")!==-1){let h=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(h*=-1),this.tempVector2.set(h,h,h)}else this.tempVector.copy(this.pointStart),this.tempVector2.copy(this.pointEnd),this.tempVector.applyQuaternion(this.worldQuaternionInv),this.tempVector2.applyQuaternion(this.worldQuaternionInv),this.tempVector2.divide(this.tempVector),r.search("X")===-1&&(this.tempVector2.x=1),r.search("Y")===-1&&(this.tempVector2.y=1),r.search("Z")===-1&&(this.tempVector2.z=1);a.scale.copy(this.scaleStart).multiply(this.tempVector2),this.scaleSnap&&this.object&&(r.search("X")!==-1&&(this.object.scale.x=Math.round(a.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),r.search("Y")!==-1&&(a.scale.y=Math.round(a.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),r.search("Z")!==-1&&(a.scale.z=Math.round(a.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(o==="rotate"){this.offset.copy(this.pointEnd).sub(this.pointStart);const h=20/this.worldPosition.distanceTo(this.tempVector.setFromMatrixPosition(this.camera.matrixWorld));r==="E"?(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this.startNorm.copy(this.pointStart).normalize(),this.endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this.endNorm.cross(this.startNorm).dot(this.eye)<0?1:-1):r==="XYZE"?(this.rotationAxis.copy(this.offset).cross(this.eye).normalize(),this.rotationAngle=this.offset.dot(this.tempVector.copy(this.rotationAxis).cross(this.eye))*h):(r==="X"||r==="Y"||r==="Z")&&(this.rotationAxis.copy(this.unit[r]),this.tempVector.copy(this.unit[r]),A==="local"&&this.tempVector.applyQuaternion(this.worldQuaternion),this.rotationAngle=this.offset.dot(this.tempVector.cross(this.eye).normalize())*h),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),A==="local"&&r!=="E"&&r!=="XYZE"?(a.quaternion.copy(this.quaternionStart),a.quaternion.multiply(this.tempQuaternion.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this.parentQuaternionInv),a.quaternion.copy(this.tempQuaternion.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),a.quaternion.multiply(this.quaternionStart).normalize())}this.dispatchEvent(this.changeEvent),this.dispatchEvent(this.objectChangeEvent)}}),f(this,"pointerUp",s=>{s.button===0&&(this.dragging&&this.axis!==null&&(this.mouseUpEvent.mode=this.mode,this.dispatchEvent(this.mouseUpEvent)),this.dragging=!1,this.axis=null)}),f(this,"getPointer",s=>{var r,o;if(this.domElement&&((r=this.domElement.ownerDocument)!=null&&r.pointerLockElement))return{x:0,y:0,button:s.button};{const a=s.changedTouches?s.changedTouches[0]:s,A=(o=this.domElement)==null?void 0:o.getBoundingClientRect();return{x:(a.clientX-A.left)/A.width*2-1,y:-(a.clientY-A.top)/A.height*2+1,button:s.button}}}),f(this,"onPointerHover",s=>{if(this.enabled)switch(s.pointerType){case"mouse":case"pen":this.pointerHover(this.getPointer(s));break}}),f(this,"onPointerDown",s=>{!this.enabled||!this.domElement||(this.domElement.style.touchAction="none",this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.pointerHover(this.getPointer(s)),this.pointerDown(this.getPointer(s)))}),f(this,"onPointerMove",s=>{this.enabled&&this.pointerMove(this.getPointer(s))}),f(this,"onPointerUp",s=>{!this.enabled||!this.domElement||(this.domElement.style.touchAction="",this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.pointerUp(this.getPointer(s)))}),f(this,"getMode",()=>this.mode),f(this,"setMode",s=>{this.mode=s}),f(this,"setTranslationSnap",s=>{this.translationSnap=s}),f(this,"setRotationSnap",s=>{this.rotationSnap=s}),f(this,"setScaleSnap",s=>{this.scaleSnap=s}),f(this,"setSize",s=>{this.size=s}),f(this,"setSpace",s=>{this.space=s}),f(this,"update",()=>{console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}),f(this,"connect",s=>{s===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.domElement=s,this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("pointermove",this.onPointerHover),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp)}),f(this,"dispose",()=>{var s,r,o,a,A,c;(s=this.domElement)==null||s.removeEventListener("pointerdown",this.onPointerDown),(r=this.domElement)==null||r.removeEventListener("pointermove",this.onPointerHover),(a=(o=this.domElement)==null?void 0:o.ownerDocument)==null||a.removeEventListener("pointermove",this.onPointerMove),(c=(A=this.domElement)==null?void 0:A.ownerDocument)==null||c.removeEventListener("pointerup",this.onPointerUp),this.traverse(h=>{const l=h;l.geometry&&l.geometry.dispose(),l.material&&l.material.dispose()})}),this.domElement=t,this.camera=e,this.gizmo=new Ec,this.add(this.gizmo),this.plane=new Ic,this.add(this.plane);const i=(s,r)=>{let o=r;Object.defineProperty(this,s,{get:function(){return o!==void 0?o:r},set:function(a){o!==a&&(o=a,this.plane[s]=a,this.gizmo[s]=a,this.dispatchEvent({type:s+"-changed",value:a}),this.dispatchEvent(this.changeEvent))}}),this[s]=r,this.plane[s]=r,this.gizmo[s]=r};i("camera",this.camera),i("object",this.object),i("enabled",this.enabled),i("axis",this.axis),i("mode",this.mode),i("translationSnap",this.translationSnap),i("rotationSnap",this.rotationSnap),i("scaleSnap",this.scaleSnap),i("space",this.space),i("size",this.size),i("dragging",this.dragging),i("showX",this.showX),i("showY",this.showY),i("showZ",this.showZ),i("worldPosition",this.worldPosition),i("worldPositionStart",this.worldPositionStart),i("worldQuaternion",this.worldQuaternion),i("worldQuaternionStart",this.worldQuaternionStart),i("cameraPosition",this.cameraPosition),i("cameraQuaternion",this.cameraQuaternion),i("pointStart",this.pointStart),i("pointEnd",this.pointEnd),i("rotationAxis",this.rotationAxis),i("rotationAngle",this.rotationAngle),i("eye",this.eye),t!==void 0&&this.connect(t)}}class Ec extends wi{constructor(){super(),f(this,"isTransformControlsGizmo",!0),f(this,"type","TransformControlsGizmo"),f(this,"tempVector",new H(0,0,0)),f(this,"tempEuler",new Ji),f(this,"alignVector",new H(0,1,0)),f(this,"zeroVector",new H(0,0,0)),f(this,"lookAtMatrix",new De),f(this,"tempQuaternion",new He),f(this,"tempQuaternion2",new He),f(this,"identityQuaternion",new He),f(this,"unitX",new H(1,0,0)),f(this,"unitY",new H(0,1,0)),f(this,"unitZ",new H(0,0,1)),f(this,"gizmo"),f(this,"picker"),f(this,"helper"),f(this,"rotationAxis",new H),f(this,"cameraPosition",new H),f(this,"worldPositionStart",new H),f(this,"worldQuaternionStart",new He),f(this,"worldPosition",new H),f(this,"worldQuaternion",new He),f(this,"eye",new H),f(this,"camera",null),f(this,"enabled",!0),f(this,"axis",null),f(this,"mode","translate"),f(this,"space","world"),f(this,"size",1),f(this,"dragging",!1),f(this,"showX",!0),f(this,"showY",!0),f(this,"showZ",!0),f(this,"updateMatrixWorld",()=>{let W=this.space;this.mode==="scale"&&(W="local");const ee=W==="local"?this.worldQuaternion:this.identityQuaternion;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let _=[];_=_.concat(this.picker[this.mode].children),_=_.concat(this.gizmo[this.mode].children),_=_.concat(this.helper[this.mode].children);for(let F=0;F<_.length;F++){const m=_[F];m.visible=!0,m.rotation.set(0,0,0),m.position.copy(this.worldPosition);let G;if(this.camera.isOrthographicCamera?G=(this.camera.top-this.camera.bottom)/this.camera.zoom:G=this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),m.scale.set(1,1,1).multiplyScalar(G*this.size/7),m.tag==="helper"){m.visible=!1,m.name==="AXIS"?(m.position.copy(this.worldPositionStart),m.visible=!!this.axis,this.axis==="X"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,0,0)),m.quaternion.copy(ee).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(ee).dot(this.eye))>.9&&(m.visible=!1)),this.axis==="Y"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,0,Math.PI/2)),m.quaternion.copy(ee).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(ee).dot(this.eye))>.9&&(m.visible=!1)),this.axis==="Z"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,Math.PI/2,0)),m.quaternion.copy(ee).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(ee).dot(this.eye))>.9&&(m.visible=!1)),this.axis==="XYZE"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,Math.PI/2,0)),this.alignVector.copy(this.rotationAxis),m.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.zeroVector,this.alignVector,this.unitY)),m.quaternion.multiply(this.tempQuaternion),m.visible=this.dragging),this.axis==="E"&&(m.visible=!1)):m.name==="START"?(m.position.copy(this.worldPositionStart),m.visible=this.dragging):m.name==="END"?(m.position.copy(this.worldPosition),m.visible=this.dragging):m.name==="DELTA"?(m.position.copy(this.worldPositionStart),m.quaternion.copy(this.worldQuaternionStart),this.tempVector.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),this.tempVector.applyQuaternion(this.worldQuaternionStart.clone().invert()),m.scale.copy(this.tempVector),m.visible=this.dragging):(m.quaternion.copy(ee),this.dragging?m.position.copy(this.worldPositionStart):m.position.copy(this.worldPosition),this.axis&&(m.visible=this.axis.search(m.name)!==-1));continue}m.quaternion.copy(ee),this.mode==="translate"||this.mode==="scale"?((m.name==="X"||m.name==="XYZX")&&Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(ee).dot(this.eye))>.99&&(m.scale.set(1e-10,1e-10,1e-10),m.visible=!1),(m.name==="Y"||m.name==="XYZY")&&Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(ee).dot(this.eye))>.99&&(m.scale.set(1e-10,1e-10,1e-10),m.visible=!1),(m.name==="Z"||m.name==="XYZZ")&&Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(ee).dot(this.eye))>.99&&(m.scale.set(1e-10,1e-10,1e-10),m.visible=!1),m.name==="XY"&&Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(ee).dot(this.eye))<.2&&(m.scale.set(1e-10,1e-10,1e-10),m.visible=!1),m.name==="YZ"&&Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(ee).dot(this.eye))<.2&&(m.scale.set(1e-10,1e-10,1e-10),m.visible=!1),m.name==="XZ"&&Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(ee).dot(this.eye))<.2&&(m.scale.set(1e-10,1e-10,1e-10),m.visible=!1),m.name.search("X")!==-1&&(this.alignVector.copy(this.unitX).applyQuaternion(ee).dot(this.eye)<0?m.tag==="fwd"?m.visible=!1:m.scale.x*=-1:m.tag==="bwd"&&(m.visible=!1)),m.name.search("Y")!==-1&&(this.alignVector.copy(this.unitY).applyQuaternion(ee).dot(this.eye)<0?m.tag==="fwd"?m.visible=!1:m.scale.y*=-1:m.tag==="bwd"&&(m.visible=!1)),m.name.search("Z")!==-1&&(this.alignVector.copy(this.unitZ).applyQuaternion(ee).dot(this.eye)<0?m.tag==="fwd"?m.visible=!1:m.scale.z*=-1:m.tag==="bwd"&&(m.visible=!1))):this.mode==="rotate"&&(this.tempQuaternion2.copy(ee),this.alignVector.copy(this.eye).applyQuaternion(this.tempQuaternion.copy(ee).invert()),m.name.search("E")!==-1&&m.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.eye,this.zeroVector,this.unitY)),m.name==="X"&&(this.tempQuaternion.setFromAxisAngle(this.unitX,Math.atan2(-this.alignVector.y,this.alignVector.z)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),m.quaternion.copy(this.tempQuaternion)),m.name==="Y"&&(this.tempQuaternion.setFromAxisAngle(this.unitY,Math.atan2(this.alignVector.x,this.alignVector.z)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),m.quaternion.copy(this.tempQuaternion)),m.name==="Z"&&(this.tempQuaternion.setFromAxisAngle(this.unitZ,Math.atan2(this.alignVector.y,this.alignVector.x)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),m.quaternion.copy(this.tempQuaternion))),m.visible=m.visible&&(m.name.indexOf("X")===-1||this.showX),m.visible=m.visible&&(m.name.indexOf("Y")===-1||this.showY),m.visible=m.visible&&(m.name.indexOf("Z")===-1||this.showZ),m.visible=m.visible&&(m.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),m.material.tempOpacity=m.material.tempOpacity||m.material.opacity,m.material.tempColor=m.material.tempColor||m.material.color.clone(),m.material.color.copy(m.material.tempColor),m.material.opacity=m.material.tempOpacity,this.enabled?this.axis&&(m.name===this.axis?(m.material.opacity=1,m.material.color.lerp(new et(1,1,1),.5)):this.axis.split("").some(function(N){return m.name===N})?(m.material.opacity=1,m.material.color.lerp(new et(1,1,1),.5)):(m.material.opacity*=.25,m.material.color.lerp(new et(1,1,1),.5))):(m.material.opacity*=.5,m.material.color.lerp(new et(1,1,1),.5))}super.updateMatrixWorld()});const e=new rn({depthTest:!1,depthWrite:!1,transparent:!0,side:Js,fog:!1,toneMapped:!1}),t=new En({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),i=e.clone();i.opacity=.15;const s=e.clone();s.opacity=.33;const r=e.clone();r.color.set(16711680);const o=e.clone();o.color.set(65280);const a=e.clone();a.color.set(255);const A=e.clone();A.opacity=.25;const c=A.clone();c.color.set(16776960);const h=A.clone();h.color.set(65535);const l=A.clone();l.color.set(16711935),e.clone().color.set(16776960);const p=t.clone();p.color.set(16711680);const C=t.clone();C.color.set(65280);const v=t.clone();v.color.set(255);const B=t.clone();B.color.set(65535);const I=t.clone();I.color.set(16711935);const E=t.clone();E.color.set(16776960);const g=t.clone();g.color.set(7895160);const x=E.clone();x.opacity=.25;const w=new Kt(0,.05,.2,12,1,!1),b=new ki(.125,.125,.125),D=new bt;D.setAttribute("position",new dt([0,0,0,1,0,0],3));const S=(W,ee)=>{const _=new bt,F=[];for(let m=0;m<=64*ee;++m)F.push(0,Math.cos(m/32*Math.PI)*W,Math.sin(m/32*Math.PI)*W);return _.setAttribute("position",new dt(F,3)),_},M=()=>{const W=new bt;return W.setAttribute("position",new dt([0,0,0,1,1,1],3)),W},T={X:[[new Ie(w,r),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new Ie(w,r),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new Pe(D,p)]],Y:[[new Ie(w,o),[0,1,0],null,null,"fwd"],[new Ie(w,o),[0,1,0],[Math.PI,0,0],null,"bwd"],[new Pe(D,C),null,[0,0,Math.PI/2]]],Z:[[new Ie(w,a),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new Ie(w,a),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new Pe(D,v),null,[0,-Math.PI/2,0]]],XYZ:[[new Ie(new $i(.1,0),A.clone()),[0,0,0],[0,0,0]]],XY:[[new Ie(new Pi(.295,.295),c.clone()),[.15,.15,0]],[new Pe(D,E),[.18,.3,0],null,[.125,1,1]],[new Pe(D,E),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new Ie(new Pi(.295,.295),h.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new Pe(D,B),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new Pe(D,B),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new Ie(new Pi(.295,.295),l.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new Pe(D,I),[.18,0,.3],null,[.125,1,1]],[new Pe(D,I),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},U={X:[[new Ie(new Kt(.2,0,1,4,1,!1),i),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new Ie(new Kt(.2,0,1,4,1,!1),i),[0,.6,0]]],Z:[[new Ie(new Kt(.2,0,1,4,1,!1),i),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new Ie(new $i(.2,0),i)]],XY:[[new Ie(new Pi(.4,.4),i),[.2,.2,0]]],YZ:[[new Ie(new Pi(.4,.4),i),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new Ie(new Pi(.4,.4),i),[.2,0,.2],[-Math.PI/2,0,0]]]},k={START:[[new Ie(new $i(.01,2),s),null,null,null,"helper"]],END:[[new Ie(new $i(.01,2),s),null,null,null,"helper"]],DELTA:[[new Pe(M(),s),null,null,null,"helper"]],X:[[new Pe(D,s.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Pe(D,s.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Pe(D,s.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},K={X:[[new Pe(S(1,.5),p)],[new Ie(new $i(.04,0),r),[0,0,.99],null,[1,3,1]]],Y:[[new Pe(S(1,.5),C),null,[0,0,-Math.PI/2]],[new Ie(new $i(.04,0),o),[0,0,.99],null,[3,1,1]]],Z:[[new Pe(S(1,.5),v),null,[0,Math.PI/2,0]],[new Ie(new $i(.04,0),a),[.99,0,0],null,[1,3,1]]],E:[[new Pe(S(1.25,1),x),null,[0,Math.PI/2,0]],[new Ie(new Kt(.03,0,.15,4,1,!1),x),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new Ie(new Kt(.03,0,.15,4,1,!1),x),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new Ie(new Kt(.03,0,.15,4,1,!1),x),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new Ie(new Kt(.03,0,.15,4,1,!1),x),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new Pe(S(1,1),g),null,[0,Math.PI/2,0]]]},z={AXIS:[[new Pe(D,s.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},$={X:[[new Ie(new fs(1,.1,4,24),i),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new Ie(new fs(1,.1,4,24),i),[0,0,0],[Math.PI/2,0,0]]],Z:[[new Ie(new fs(1,.1,4,24),i),[0,0,0],[0,0,-Math.PI/2]]],E:[[new Ie(new fs(1.25,.1,2,24),i)]],XYZE:[[new Ie(new u0(.7,10,8),i)]]},ae={X:[[new Ie(b,r),[.8,0,0],[0,0,-Math.PI/2]],[new Pe(D,p),null,null,[.8,1,1]]],Y:[[new Ie(b,o),[0,.8,0]],[new Pe(D,C),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new Ie(b,a),[0,0,.8],[Math.PI/2,0,0]],[new Pe(D,v),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new Ie(b,c),[.85,.85,0],null,[2,2,.2]],[new Pe(D,E),[.855,.98,0],null,[.125,1,1]],[new Pe(D,E),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new Ie(b,h),[0,.85,.85],null,[.2,2,2]],[new Pe(D,B),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new Pe(D,B),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new Ie(b,l),[.85,0,.85],null,[2,.2,2]],[new Pe(D,I),[.855,0,.98],null,[.125,1,1]],[new Pe(D,I),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new Ie(new ki(.125,.125,.125),A.clone()),[1.1,0,0]]],XYZY:[[new Ie(new ki(.125,.125,.125),A.clone()),[0,1.1,0]]],XYZZ:[[new Ie(new ki(.125,.125,.125),A.clone()),[0,0,1.1]]]},Z={X:[[new Ie(new Kt(.2,0,.8,4,1,!1),i),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new Ie(new Kt(.2,0,.8,4,1,!1),i),[0,.5,0]]],Z:[[new Ie(new Kt(.2,0,.8,4,1,!1),i),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new Ie(b,i),[.85,.85,0],null,[3,3,.2]]],YZ:[[new Ie(b,i),[0,.85,.85],null,[.2,3,3]]],XZ:[[new Ie(b,i),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new Ie(new ki(.2,.2,.2),i),[1.1,0,0]]],XYZY:[[new Ie(new ki(.2,.2,.2),i),[0,1.1,0]]],XYZZ:[[new Ie(new ki(.2,.2,.2),i),[0,0,1.1]]]},Y={X:[[new Pe(D,s.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Pe(D,s.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Pe(D,s.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},re=W=>{const ee=new wi;for(let _ in W)for(let F=W[_].length;F--;){const m=W[_][F][0].clone(),G=W[_][F][1],N=W[_][F][2],L=W[_][F][3],V=W[_][F][4];m.name=_,m.tag=V,G&&m.position.set(G[0],G[1],G[2]),N&&m.rotation.set(N[0],N[1],N[2]),L&&m.scale.set(L[0],L[1],L[2]),m.updateMatrix();const ve=m.geometry.clone();ve.applyMatrix4(m.matrix),m.geometry=ve,m.renderOrder=1/0,m.position.set(0,0,0),m.rotation.set(0,0,0),m.scale.set(1,1,1),ee.add(m)}return ee};this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=re(T)),this.add(this.gizmo.rotate=re(K)),this.add(this.gizmo.scale=re(ae)),this.add(this.picker.translate=re(U)),this.add(this.picker.rotate=re($)),this.add(this.picker.scale=re(Z)),this.add(this.helper.translate=re(k)),this.add(this.helper.rotate=re(z)),this.add(this.helper.scale=re(Y)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}}class Ic extends Ie{constructor(){super(new Pi(1e5,1e5,2,2),new rn({visible:!1,wireframe:!0,side:Js,transparent:!0,opacity:.1,toneMapped:!1})),f(this,"isTransformControlsPlane",!0),f(this,"type","TransformControlsPlane"),f(this,"unitX",new H(1,0,0)),f(this,"unitY",new H(0,1,0)),f(this,"unitZ",new H(0,0,1)),f(this,"tempVector",new H),f(this,"dirVector",new H),f(this,"alignVector",new H),f(this,"tempMatrix",new De),f(this,"identityQuaternion",new He),f(this,"cameraQuaternion",new He),f(this,"worldPosition",new H),f(this,"worldQuaternion",new He),f(this,"eye",new H),f(this,"axis",null),f(this,"mode","translate"),f(this,"space","world"),f(this,"updateMatrixWorld",()=>{let e=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(e="local"),this.unitX.set(1,0,0).applyQuaternion(e==="local"?this.worldQuaternion:this.identityQuaternion),this.unitY.set(0,1,0).applyQuaternion(e==="local"?this.worldQuaternion:this.identityQuaternion),this.unitZ.set(0,0,1).applyQuaternion(e==="local"?this.worldQuaternion:this.identityQuaternion),this.alignVector.copy(this.unitY),this.mode){case"translate":case"scale":switch(this.axis){case"X":this.alignVector.copy(this.eye).cross(this.unitX),this.dirVector.copy(this.unitX).cross(this.alignVector);break;case"Y":this.alignVector.copy(this.eye).cross(this.unitY),this.dirVector.copy(this.unitY).cross(this.alignVector);break;case"Z":this.alignVector.copy(this.eye).cross(this.unitZ),this.dirVector.copy(this.unitZ).cross(this.alignVector);break;case"XY":this.dirVector.copy(this.unitZ);break;case"YZ":this.dirVector.copy(this.unitX);break;case"XZ":this.alignVector.copy(this.unitZ),this.dirVector.copy(this.unitY);break;case"XYZ":case"E":this.dirVector.set(0,0,0);break}break;case"rotate":default:this.dirVector.set(0,0,0)}this.dirVector.length()===0?this.quaternion.copy(this.cameraQuaternion):(this.tempMatrix.lookAt(this.tempVector.set(0,0,0),this.dirVector,this.alignVector),this.quaternion.setFromRotationMatrix(this.tempMatrix)),super.updateMatrixWorld()})}}const gn=new Ji(0,0,0,"YXZ"),dn=new H,yc={type:"change"},xc={type:"lock"},Sc={type:"unlock"},na=Math.PI/2;class tl extends ln{constructor(e,t){super(),f(this,"camera"),f(this,"domElement"),f(this,"isLocked"),f(this,"minPolarAngle"),f(this,"maxPolarAngle"),f(this,"pointerSpeed"),f(this,"onMouseMove",i=>{if(!this.domElement||this.isLocked===!1)return;const s=i.movementX||i.mozMovementX||i.webkitMovementX||0,r=i.movementY||i.mozMovementY||i.webkitMovementY||0;gn.setFromQuaternion(this.camera.quaternion),gn.y-=s*.002*this.pointerSpeed,gn.x-=r*.002*this.pointerSpeed,gn.x=Math.max(na-this.maxPolarAngle,Math.min(na-this.minPolarAngle,gn.x)),this.camera.quaternion.setFromEuler(gn),this.dispatchEvent(yc)}),f(this,"onPointerlockChange",()=>{this.domElement&&(this.domElement.ownerDocument.pointerLockElement===this.domElement?(this.dispatchEvent(xc),this.isLocked=!0):(this.dispatchEvent(Sc),this.isLocked=!1))}),f(this,"onPointerlockError",()=>{console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}),f(this,"connect",i=>{this.domElement=i||this.domElement,this.domElement&&(this.domElement.ownerDocument.addEventListener("mousemove",this.onMouseMove),this.domElement.ownerDocument.addEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this.onPointerlockError))}),f(this,"disconnect",()=>{this.domElement&&(this.domElement.ownerDocument.removeEventListener("mousemove",this.onMouseMove),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this.onPointerlockError))}),f(this,"dispose",()=>{this.disconnect()}),f(this,"getObject",()=>this.camera),f(this,"direction",new H(0,0,-1)),f(this,"getDirection",i=>i.copy(this.direction).applyQuaternion(this.camera.quaternion)),f(this,"moveForward",i=>{dn.setFromMatrixColumn(this.camera.matrix,0),dn.crossVectors(this.camera.up,dn),this.camera.position.addScaledVector(dn,i)}),f(this,"moveRight",i=>{dn.setFromMatrixColumn(this.camera.matrix,0),this.camera.position.addScaledVector(dn,i)}),f(this,"lock",()=>{this.domElement&&this.domElement.requestPointerLock()}),f(this,"unlock",()=>{this.domElement&&this.domElement.ownerDocument.exitPointerLock()}),this.camera=e,this.domElement=t,this.isLocked=!1,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.pointerSpeed=1,t&&this.connect(t)}}class il extends ln{constructor(e){super(),f(this,"object"),f(this,"changeEvent",{type:"change"}),f(this,"EPS",1e-6),f(this,"enabled",!0),f(this,"deviceOrientation",{alpha:0,beta:0,gamma:0}),f(this,"screenOrientation",0),f(this,"alphaOffset",0),f(this,"onDeviceOrientationChangeEvent",t=>{this.deviceOrientation=t}),f(this,"onScreenOrientationChangeEvent",()=>{this.screenOrientation=window.orientation||0}),f(this,"zee",new H(0,0,1)),f(this,"euler",new Ji),f(this,"q0",new He),f(this,"q1",new He(-Math.sqrt(.5),0,0,Math.sqrt(.5))),f(this,"setObjectQuaternion",(t,i,s,r,o)=>{this.euler.set(s,i,-r,"YXZ"),t.setFromEuler(this.euler),t.multiply(this.q1),t.multiply(this.q0.setFromAxisAngle(this.zee,-o))}),f(this,"connect",()=>{this.onScreenOrientationChangeEvent(),window.DeviceOrientationEvent!==void 0&&typeof window.DeviceOrientationEvent.requestPermission=="function"?window.DeviceOrientationEvent.requestPermission().then(t=>{t=="granted"&&(window.addEventListener("orientationchange",this.onScreenOrientationChangeEvent),window.addEventListener("deviceorientation",this.onDeviceOrientationChangeEvent))}).catch(t=>{console.error("THREE.DeviceOrientationControls: Unable to use DeviceOrientation API:",t)}):(window.addEventListener("orientationchange",this.onScreenOrientationChangeEvent),window.addEventListener("deviceorientation",this.onDeviceOrientationChangeEvent)),this.enabled=!0}),f(this,"disconnect",()=>{window.removeEventListener("orientationchange",this.onScreenOrientationChangeEvent),window.removeEventListener("deviceorientation",this.onDeviceOrientationChangeEvent),this.enabled=!1}),f(this,"lastQuaternion",new He),f(this,"update",()=>{if(this.enabled===!1)return;const t=this.deviceOrientation;if(t){const i=t.alpha?Fe.degToRad(t.alpha)+this.alphaOffset:0,s=t.beta?Fe.degToRad(t.beta):0,r=t.gamma?Fe.degToRad(t.gamma):0,o=this.screenOrientation?Fe.degToRad(this.screenOrientation):0;this.setObjectQuaternion(this.object.quaternion,i,s,r,o),8*(1-this.lastQuaternion.dot(this.object.quaternion))>this.EPS&&(this.lastQuaternion.copy(this.object.quaternion),this.dispatchEvent(this.changeEvent))}}),f(this,"dispose",()=>this.disconnect()),this.object=e,this.object.rotation.reorder("YXZ"),this.connect()}}class nl extends ln{constructor(e,t){super(),f(this,"enabled",!0),f(this,"screen",{left:0,top:0,width:0,height:0}),f(this,"rotateSpeed",1),f(this,"zoomSpeed",1.2),f(this,"panSpeed",.3),f(this,"noRotate",!1),f(this,"noZoom",!1),f(this,"noPan",!1),f(this,"staticMoving",!1),f(this,"dynamicDampingFactor",.2),f(this,"minDistance",0),f(this,"maxDistance",1/0),f(this,"keys",["KeyA","KeyS","KeyD"]),f(this,"mouseButtons",{LEFT:Vt.ROTATE,MIDDLE:Vt.DOLLY,RIGHT:Vt.PAN}),f(this,"object"),f(this,"domElement"),f(this,"cursorZoom",!1),f(this,"target",new H),f(this,"mousePosition",new Se),f(this,"STATE",{NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4}),f(this,"EPS",1e-6),f(this,"lastZoom",1),f(this,"lastPosition",new H),f(this,"cursorVector",new H),f(this,"targetVector",new H),f(this,"_state",this.STATE.NONE),f(this,"_keyState",this.STATE.NONE),f(this,"_eye",new H),f(this,"_movePrev",new Se),f(this,"_moveCurr",new Se),f(this,"_lastAxis",new H),f(this,"_lastAngle",0),f(this,"_zoomStart",new Se),f(this,"_zoomEnd",new Se),f(this,"_touchZoomDistanceStart",0),f(this,"_touchZoomDistanceEnd",0),f(this,"_panStart",new Se),f(this,"_panEnd",new Se),f(this,"target0"),f(this,"position0"),f(this,"up0"),f(this,"zoom0"),f(this,"changeEvent",{type:"change"}),f(this,"startEvent",{type:"start"}),f(this,"endEvent",{type:"end"}),f(this,"onScreenVector",new Se),f(this,"getMouseOnScreen",(i,s)=>(this.onScreenVector.set((i-this.screen.left)/this.screen.width,(s-this.screen.top)/this.screen.height),this.onScreenVector)),f(this,"onCircleVector",new Se),f(this,"getMouseOnCircle",(i,s)=>(this.onCircleVector.set((i-this.screen.width*.5-this.screen.left)/(this.screen.width*.5),(this.screen.height+2*(this.screen.top-s))/this.screen.width),this.onCircleVector)),f(this,"axis",new H),f(this,"quaternion",new He),f(this,"eyeDirection",new H),f(this,"objectUpDirection",new H),f(this,"objectSidewaysDirection",new H),f(this,"moveDirection",new H),f(this,"angle",0),f(this,"rotateCamera",()=>{this.moveDirection.set(this._moveCurr.x-this._movePrev.x,this._moveCurr.y-this._movePrev.y,0),this.angle=this.moveDirection.length(),this.angle?(this._eye.copy(this.object.position).sub(this.target),this.eyeDirection.copy(this._eye).normalize(),this.objectUpDirection.copy(this.object.up).normalize(),this.objectSidewaysDirection.crossVectors(this.objectUpDirection,this.eyeDirection).normalize(),this.objectUpDirection.setLength(this._moveCurr.y-this._movePrev.y),this.objectSidewaysDirection.setLength(this._moveCurr.x-this._movePrev.x),this.moveDirection.copy(this.objectUpDirection.add(this.objectSidewaysDirection)),this.axis.crossVectors(this.moveDirection,this._eye).normalize(),this.angle*=this.rotateSpeed,this.quaternion.setFromAxisAngle(this.axis,this.angle),this._eye.applyQuaternion(this.quaternion),this.object.up.applyQuaternion(this.quaternion),this._lastAxis.copy(this.axis),this._lastAngle=this.angle):!this.staticMoving&&this._lastAngle&&(this._lastAngle*=Math.sqrt(1-this.dynamicDampingFactor),this._eye.copy(this.object.position).sub(this.target),this.quaternion.setFromAxisAngle(this._lastAxis,this._lastAngle),this._eye.applyQuaternion(this.quaternion),this.object.up.applyQuaternion(this.quaternion)),this._movePrev.copy(this._moveCurr)}),f(this,"zoomCamera",()=>{let i;if(this._state===this.STATE.TOUCH_ZOOM_PAN)i=this._touchZoomDistanceStart/this._touchZoomDistanceEnd,this._touchZoomDistanceStart=this._touchZoomDistanceEnd,this.object.isPerspectiveCamera?this._eye.multiplyScalar(i):this.object.isOrthographicCamera?(this.object.zoom/=i,this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type");else{if(i=1+(this._zoomEnd.y-this._zoomStart.y)*this.zoomSpeed,Math.abs(i-1)>this.EPS&&i>0&&(this.object.isPerspectiveCamera?(i>1&&this._eye.length()>=this.maxDistance-this.EPS&&(i=1),this._eye.multiplyScalar(i)):this.object.isOrthographicCamera?(i>1&&this.object.zoom<this.maxDistance*this.maxDistance&&(i=1),this.object.zoom/=i):console.warn("THREE.TrackballControls: Unsupported camera type")),this.staticMoving?this._zoomStart.copy(this._zoomEnd):this._zoomStart.y+=(this._zoomEnd.y-this._zoomStart.y)*this.dynamicDampingFactor,this.cursorZoom){this.targetVector.copy(this.target).project(this.object);let s=this.cursorVector.set(this.mousePosition.x,this.mousePosition.y,this.targetVector.z).unproject(this.object);this.target.lerpVectors(s,this.target,i)}this.object.isOrthographicCamera&&this.object.updateProjectionMatrix()}}),f(this,"mouseChange",new Se),f(this,"objectUp",new H),f(this,"pan",new H),f(this,"panCamera",()=>{if(this.domElement&&(this.mouseChange.copy(this._panEnd).sub(this._panStart),this.mouseChange.lengthSq()>this.EPS)){if(this.object.isOrthographicCamera){const i=this.object,s=(i.right-i.left)/this.object.zoom,r=(i.top-i.bottom)/this.object.zoom;this.mouseChange.x*=s,this.mouseChange.y*=r}else this.mouseChange.multiplyScalar(this._eye.length()*this.panSpeed);this.pan.copy(this._eye).cross(this.object.up).setLength(this.mouseChange.x),this.pan.add(this.objectUp.copy(this.object.up).setLength(this.mouseChange.y)),this.object.position.add(this.pan),this.target.add(this.pan),this.staticMoving?this._panStart.copy(this._panEnd):this._panStart.add(this.mouseChange.subVectors(this._panEnd,this._panStart).multiplyScalar(this.dynamicDampingFactor))}}),f(this,"checkDistances",()=>{(!this.noZoom||!this.noPan)&&(this._eye.lengthSq()>this.maxDistance*this.maxDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.maxDistance)),this._zoomStart.copy(this._zoomEnd)),this._eye.lengthSq()<this.minDistance*this.minDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.minDistance)),this._zoomStart.copy(this._zoomEnd)))}),f(this,"handleResize",()=>{if(!this.domElement)return;const i=this.domElement.getBoundingClientRect(),s=this.domElement.ownerDocument.documentElement;this.screen.left=i.left+window.pageXOffset-s.clientLeft,this.screen.top=i.top+window.pageYOffset-s.clientTop,this.screen.width=i.width,this.screen.height=i.height}),f(this,"update",()=>{this._eye.subVectors(this.object.position,this.target),this.noRotate||this.rotateCamera(),this.noZoom||this.zoomCamera(),this.noPan||this.panCamera(),this.object.position.addVectors(this.target,this._eye),this.object.isPerspectiveCamera?(this.checkDistances(),this.object.lookAt(this.target),this.lastPosition.distanceToSquared(this.object.position)>this.EPS&&(this.dispatchEvent(this.changeEvent),this.lastPosition.copy(this.object.position))):this.object.isOrthographicCamera?(this.object.lookAt(this.target),(this.lastPosition.distanceToSquared(this.object.position)>this.EPS||this.lastZoom!==this.object.zoom)&&(this.dispatchEvent(this.changeEvent),this.lastPosition.copy(this.object.position),this.lastZoom=this.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")}),f(this,"reset",()=>{this._state=this.STATE.NONE,this._keyState=this.STATE.NONE,this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.up.copy(this.up0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this._eye.subVectors(this.object.position,this.target),this.object.lookAt(this.target),this.dispatchEvent(this.changeEvent),this.lastPosition.copy(this.object.position),this.lastZoom=this.object.zoom}),f(this,"keydown",i=>{this.enabled!==!1&&(window.removeEventListener("keydown",this.keydown),this._keyState===this.STATE.NONE&&(i.code===this.keys[this.STATE.ROTATE]&&!this.noRotate?this._keyState=this.STATE.ROTATE:i.code===this.keys[this.STATE.ZOOM]&&!this.noZoom?this._keyState=this.STATE.ZOOM:i.code===this.keys[this.STATE.PAN]&&!this.noPan&&(this._keyState=this.STATE.PAN)))}),f(this,"onPointerDown",i=>{if(this.enabled!==!1)switch(i.pointerType){case"mouse":case"pen":this.onMouseDown(i);break}}),f(this,"onPointerMove",i=>{if(this.enabled!==!1)switch(i.pointerType){case"mouse":case"pen":this.onMouseMove(i);break}}),f(this,"onPointerUp",i=>{if(this.enabled!==!1)switch(i.pointerType){case"mouse":case"pen":this.onMouseUp();break}}),f(this,"keyup",()=>{this.enabled!==!1&&(this._keyState=this.STATE.NONE,window.addEventListener("keydown",this.keydown))}),f(this,"onMouseDown",i=>{if(!this.domElement)return;if(this._state===this.STATE.NONE)switch(i.button){case this.mouseButtons.LEFT:this._state=this.STATE.ROTATE;break;case this.mouseButtons.MIDDLE:this._state=this.STATE.ZOOM;break;case this.mouseButtons.RIGHT:this._state=this.STATE.PAN;break;default:this._state=this.STATE.NONE}const s=this._keyState!==this.STATE.NONE?this._keyState:this._state;s===this.STATE.ROTATE&&!this.noRotate?(this._moveCurr.copy(this.getMouseOnCircle(i.pageX,i.pageY)),this._movePrev.copy(this._moveCurr)):s===this.STATE.ZOOM&&!this.noZoom?(this._zoomStart.copy(this.getMouseOnScreen(i.pageX,i.pageY)),this._zoomEnd.copy(this._zoomStart)):s===this.STATE.PAN&&!this.noPan&&(this._panStart.copy(this.getMouseOnScreen(i.pageX,i.pageY)),this._panEnd.copy(this._panStart)),this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp),this.dispatchEvent(this.startEvent)}),f(this,"onMouseMove",i=>{if(this.enabled===!1)return;const s=this._keyState!==this.STATE.NONE?this._keyState:this._state;s===this.STATE.ROTATE&&!this.noRotate?(this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this.getMouseOnCircle(i.pageX,i.pageY))):s===this.STATE.ZOOM&&!this.noZoom?this._zoomEnd.copy(this.getMouseOnScreen(i.pageX,i.pageY)):s===this.STATE.PAN&&!this.noPan&&this._panEnd.copy(this.getMouseOnScreen(i.pageX,i.pageY))}),f(this,"onMouseUp",()=>{this.domElement&&this.enabled!==!1&&(this._state=this.STATE.NONE,this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this.onPointerUp),this.dispatchEvent(this.endEvent))}),f(this,"mousewheel",i=>{if(this.enabled!==!1&&this.noZoom!==!0){switch(i.preventDefault(),i.deltaMode){case 2:this._zoomStart.y-=i.deltaY*.025;break;case 1:this._zoomStart.y-=i.deltaY*.01;break;default:this._zoomStart.y-=i.deltaY*25e-5;break}this.mousePosition.x=i.offsetX/this.screen.width*2-1,this.mousePosition.y=-(i.offsetY/this.screen.height)*2+1,this.dispatchEvent(this.startEvent),this.dispatchEvent(this.endEvent)}}),f(this,"touchstart",i=>{if(this.enabled!==!1){switch(i.preventDefault(),i.touches.length){case 1:this._state=this.STATE.TOUCH_ROTATE,this._moveCurr.copy(this.getMouseOnCircle(i.touches[0].pageX,i.touches[0].pageY)),this._movePrev.copy(this._moveCurr);break;default:this._state=this.STATE.TOUCH_ZOOM_PAN;const s=i.touches[0].pageX-i.touches[1].pageX,r=i.touches[0].pageY-i.touches[1].pageY;this._touchZoomDistanceEnd=this._touchZoomDistanceStart=Math.sqrt(s*s+r*r);const o=(i.touches[0].pageX+i.touches[1].pageX)/2,a=(i.touches[0].pageY+i.touches[1].pageY)/2;this._panStart.copy(this.getMouseOnScreen(o,a)),this._panEnd.copy(this._panStart);break}this.dispatchEvent(this.startEvent)}}),f(this,"touchmove",i=>{if(this.enabled!==!1)switch(i.preventDefault(),i.touches.length){case 1:this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this.getMouseOnCircle(i.touches[0].pageX,i.touches[0].pageY));break;default:const s=i.touches[0].pageX-i.touches[1].pageX,r=i.touches[0].pageY-i.touches[1].pageY;this._touchZoomDistanceEnd=Math.sqrt(s*s+r*r);const o=(i.touches[0].pageX+i.touches[1].pageX)/2,a=(i.touches[0].pageY+i.touches[1].pageY)/2;this._panEnd.copy(this.getMouseOnScreen(o,a));break}}),f(this,"touchend",i=>{if(this.enabled!==!1){switch(i.touches.length){case 0:this._state=this.STATE.NONE;break;case 1:this._state=this.STATE.TOUCH_ROTATE,this._moveCurr.copy(this.getMouseOnCircle(i.touches[0].pageX,i.touches[0].pageY)),this._movePrev.copy(this._moveCurr);break}this.dispatchEvent(this.endEvent)}}),f(this,"contextmenu",i=>{this.enabled!==!1&&i.preventDefault()}),f(this,"connect",i=>{i===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.domElement=i,this.domElement.addEventListener("contextmenu",this.contextmenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("wheel",this.mousewheel),this.domElement.addEventListener("touchstart",this.touchstart),this.domElement.addEventListener("touchend",this.touchend),this.domElement.addEventListener("touchmove",this.touchmove),this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp),window.addEventListener("keydown",this.keydown),window.addEventListener("keyup",this.keyup),this.handleResize()}),f(this,"dispose",()=>{this.domElement&&(this.domElement.removeEventListener("contextmenu",this.contextmenu),this.domElement.removeEventListener("pointerdown",this.onPointerDown),this.domElement.removeEventListener("wheel",this.mousewheel),this.domElement.removeEventListener("touchstart",this.touchstart),this.domElement.removeEventListener("touchend",this.touchend),this.domElement.removeEventListener("touchmove",this.touchmove),this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("keydown",this.keydown),window.removeEventListener("keyup",this.keyup))}),this.object=e,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,t!==void 0&&this.connect(t),this.update()}}const ys=new M0,sa=new R0,wc=Math.cos(70*(Math.PI/180)),ra=(n,e)=>(n%e+e)%e;class bc extends ln{constructor(e,t){super(),f(this,"object"),f(this,"domElement"),f(this,"enabled",!0),f(this,"target",new H),f(this,"minDistance",0),f(this,"maxDistance",1/0),f(this,"minZoom",0),f(this,"maxZoom",1/0),f(this,"minPolarAngle",0),f(this,"maxPolarAngle",Math.PI),f(this,"minAzimuthAngle",-1/0),f(this,"maxAzimuthAngle",1/0),f(this,"enableDamping",!1),f(this,"dampingFactor",.05),f(this,"enableZoom",!0),f(this,"zoomSpeed",1),f(this,"enableRotate",!0),f(this,"rotateSpeed",1),f(this,"enablePan",!0),f(this,"panSpeed",1),f(this,"screenSpacePanning",!0),f(this,"keyPanSpeed",7),f(this,"zoomToCursor",!1),f(this,"autoRotate",!1),f(this,"autoRotateSpeed",2),f(this,"reverseOrbit",!1),f(this,"reverseHorizontalOrbit",!1),f(this,"reverseVerticalOrbit",!1),f(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),f(this,"mouseButtons",{LEFT:Vt.ROTATE,MIDDLE:Vt.DOLLY,RIGHT:Vt.PAN}),f(this,"touches",{ONE:Oi.ROTATE,TWO:Oi.DOLLY_PAN}),f(this,"target0"),f(this,"position0"),f(this,"zoom0"),f(this,"_domElementKeyEvents",null),f(this,"getPolarAngle"),f(this,"getAzimuthalAngle"),f(this,"setPolarAngle"),f(this,"setAzimuthalAngle"),f(this,"getDistance"),f(this,"listenToKeyEvents"),f(this,"stopListenToKeyEvents"),f(this,"saveState"),f(this,"reset"),f(this,"update"),f(this,"connect"),f(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>h.phi,this.getAzimuthalAngle=()=>h.theta,this.setPolarAngle=O=>{let ie=ra(O,2*Math.PI),de=h.phi;de<0&&(de+=2*Math.PI),ie<0&&(ie+=2*Math.PI);let ke=Math.abs(ie-de);2*Math.PI-ke<ke&&(ie<de?ie+=2*Math.PI:de+=2*Math.PI),l.phi=ie-de,i.update()},this.setAzimuthalAngle=O=>{let ie=ra(O,2*Math.PI),de=h.theta;de<0&&(de+=2*Math.PI),ie<0&&(ie+=2*Math.PI);let ke=Math.abs(ie-de);2*Math.PI-ke<ke&&(ie<de?ie+=2*Math.PI:de+=2*Math.PI),l.theta=ie-de,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=O=>{O.addEventListener("keydown",Qt),this._domElementKeyEvents=O},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Qt),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(s),i.update(),A=a.NONE},this.update=(()=>{const O=new H,ie=new H(0,1,0),de=new He().setFromUnitVectors(e.up,ie),ke=de.clone().invert(),ne=new H,at=new He,It=2*Math.PI;return function(){const hs=i.object.position;de.setFromUnitVectors(e.up,ie),ke.copy(de).invert(),O.copy(hs).sub(i.target),O.applyQuaternion(de),h.setFromVector3(O),i.autoRotate&&A===a.NONE&&z(k()),i.enableDamping?(h.theta+=l.theta*i.dampingFactor,h.phi+=l.phi*i.dampingFactor):(h.theta+=l.theta,h.phi+=l.phi);let zt=i.minAzimuthAngle,Yt=i.maxAzimuthAngle;isFinite(zt)&&isFinite(Yt)&&(zt<-Math.PI?zt+=It:zt>Math.PI&&(zt-=It),Yt<-Math.PI?Yt+=It:Yt>Math.PI&&(Yt-=It),zt<=Yt?h.theta=Math.max(zt,Math.min(Yt,h.theta)):h.theta=h.theta>(zt+Yt)/2?Math.max(zt,h.theta):Math.min(Yt,h.theta)),h.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,h.phi)),h.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(p,i.dampingFactor):i.target.add(p),i.zoomToCursor&&M||i.object.isOrthographicCamera?h.radius=_(h.radius):h.radius=_(h.radius*u),O.setFromSpherical(h),O.applyQuaternion(ke),hs.copy(i.target).add(O),i.object.lookAt(i.target),i.enableDamping===!0?(l.theta*=1-i.dampingFactor,l.phi*=1-i.dampingFactor,p.multiplyScalar(1-i.dampingFactor)):(l.set(0,0,0),p.set(0,0,0));let un=!1;if(i.zoomToCursor&&M){let Vi=null;if(i.object instanceof st&&i.object.isPerspectiveCamera){const Wi=O.length();Vi=_(Wi*u);const fn=Wi-Vi;i.object.position.addScaledVector(D,fn),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Wi=new H(S.x,S.y,0);Wi.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/u)),i.object.updateProjectionMatrix(),un=!0;const fn=new H(S.x,S.y,0);fn.unproject(i.object),i.object.position.sub(fn).add(Wi),i.object.updateMatrixWorld(),Vi=O.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Vi!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Vi).add(i.object.position):(ys.origin.copy(i.object.position),ys.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(ys.direction))<wc?e.lookAt(i.target):(sa.setFromNormalAndCoplanarPoint(i.object.up,i.target),ys.intersectPlane(sa,i.target))))}else i.object instanceof ut&&i.object.isOrthographicCamera&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/u)),i.object.updateProjectionMatrix(),un=!0);return u=1,M=!1,un||ne.distanceToSquared(i.object.position)>c||8*(1-at.dot(i.object.quaternion))>c?(i.dispatchEvent(s),ne.copy(i.object.position),at.copy(i.object.quaternion),un=!1,!0):!1}})(),this.connect=O=>{O===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=O,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",ri),i.domElement.addEventListener("pointerdown",it),i.domElement.addEventListener("pointercancel",ii),i.domElement.addEventListener("wheel",si)},this.dispose=()=>{var O,ie,de,ke,ne,at;(O=i.domElement)==null||O.removeEventListener("contextmenu",ri),(ie=i.domElement)==null||ie.removeEventListener("pointerdown",it),(de=i.domElement)==null||de.removeEventListener("pointercancel",ii),(ke=i.domElement)==null||ke.removeEventListener("wheel",si),(ne=i.domElement)==null||ne.ownerDocument.removeEventListener("pointermove",ct),(at=i.domElement)==null||at.ownerDocument.removeEventListener("pointerup",Et),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Qt)};const i=this,s={type:"change"},r={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let A=a.NONE;const c=1e-6,h=new Qr,l=new Qr;let u=1;const p=new H,C=new Se,v=new Se,B=new Se,I=new Se,E=new Se,g=new Se,x=new Se,w=new Se,b=new Se,D=new H,S=new Se;let M=!1;const T=[],U={};function k(){return 2*Math.PI/60/60*i.autoRotateSpeed}function K(){return Math.pow(.95,i.zoomSpeed)}function z(O){i.reverseOrbit||i.reverseHorizontalOrbit?l.theta+=O:l.theta-=O}function $(O){i.reverseOrbit||i.reverseVerticalOrbit?l.phi+=O:l.phi-=O}const ae=(()=>{const O=new H;return function(de,ke){O.setFromMatrixColumn(ke,0),O.multiplyScalar(-de),p.add(O)}})(),Z=(()=>{const O=new H;return function(de,ke){i.screenSpacePanning===!0?O.setFromMatrixColumn(ke,1):(O.setFromMatrixColumn(ke,0),O.crossVectors(i.object.up,O)),O.multiplyScalar(de),p.add(O)}})(),Y=(()=>{const O=new H;return function(de,ke){const ne=i.domElement;if(ne&&i.object instanceof st&&i.object.isPerspectiveCamera){const at=i.object.position;O.copy(at).sub(i.target);let It=O.length();It*=Math.tan(i.object.fov/2*Math.PI/180),ae(2*de*It/ne.clientHeight,i.object.matrix),Z(2*ke*It/ne.clientHeight,i.object.matrix)}else ne&&i.object instanceof ut&&i.object.isOrthographicCamera?(ae(de*(i.object.right-i.object.left)/i.object.zoom/ne.clientWidth,i.object.matrix),Z(ke*(i.object.top-i.object.bottom)/i.object.zoom/ne.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function re(O){i.object instanceof st&&i.object.isPerspectiveCamera||i.object instanceof ut&&i.object.isOrthographicCamera?u/=O:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function W(O){i.object instanceof st&&i.object.isPerspectiveCamera||i.object instanceof ut&&i.object.isOrthographicCamera?u*=O:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function ee(O){if(!i.zoomToCursor||!i.domElement)return;M=!0;const ie=i.domElement.getBoundingClientRect(),de=O.clientX-ie.left,ke=O.clientY-ie.top,ne=ie.width,at=ie.height;S.x=de/ne*2-1,S.y=-(ke/at)*2+1,D.set(S.x,S.y,1).unproject(i.object).sub(i.object.position).normalize()}function _(O){return Math.max(i.minDistance,Math.min(i.maxDistance,O))}function F(O){C.set(O.clientX,O.clientY)}function m(O){ee(O),x.set(O.clientX,O.clientY)}function G(O){I.set(O.clientX,O.clientY)}function N(O){v.set(O.clientX,O.clientY),B.subVectors(v,C).multiplyScalar(i.rotateSpeed);const ie=i.domElement;ie&&(z(2*Math.PI*B.x/ie.clientHeight),$(2*Math.PI*B.y/ie.clientHeight)),C.copy(v),i.update()}function L(O){w.set(O.clientX,O.clientY),b.subVectors(w,x),b.y>0?re(K()):b.y<0&&W(K()),x.copy(w),i.update()}function V(O){E.set(O.clientX,O.clientY),g.subVectors(E,I).multiplyScalar(i.panSpeed),Y(g.x,g.y),I.copy(E),i.update()}function ve(O){ee(O),O.deltaY<0?W(K()):O.deltaY>0&&re(K()),i.update()}function ge(O){let ie=!1;switch(O.code){case i.keys.UP:Y(0,i.keyPanSpeed),ie=!0;break;case i.keys.BOTTOM:Y(0,-i.keyPanSpeed),ie=!0;break;case i.keys.LEFT:Y(i.keyPanSpeed,0),ie=!0;break;case i.keys.RIGHT:Y(-i.keyPanSpeed,0),ie=!0;break}ie&&(O.preventDefault(),i.update())}function pe(){if(T.length==1)C.set(T[0].pageX,T[0].pageY);else{const O=.5*(T[0].pageX+T[1].pageX),ie=.5*(T[0].pageY+T[1].pageY);C.set(O,ie)}}function ce(){if(T.length==1)I.set(T[0].pageX,T[0].pageY);else{const O=.5*(T[0].pageX+T[1].pageX),ie=.5*(T[0].pageY+T[1].pageY);I.set(O,ie)}}function Qe(){const O=T[0].pageX-T[1].pageX,ie=T[0].pageY-T[1].pageY,de=Math.sqrt(O*O+ie*ie);x.set(0,de)}function ue(){i.enableZoom&&Qe(),i.enablePan&&ce()}function me(){i.enableZoom&&Qe(),i.enableRotate&&pe()}function P(O){if(T.length==1)v.set(O.pageX,O.pageY);else{const de=Fi(O),ke=.5*(O.pageX+de.x),ne=.5*(O.pageY+de.y);v.set(ke,ne)}B.subVectors(v,C).multiplyScalar(i.rotateSpeed);const ie=i.domElement;ie&&(z(2*Math.PI*B.x/ie.clientHeight),$(2*Math.PI*B.y/ie.clientHeight)),C.copy(v)}function Q(O){if(T.length==1)E.set(O.pageX,O.pageY);else{const ie=Fi(O),de=.5*(O.pageX+ie.x),ke=.5*(O.pageY+ie.y);E.set(de,ke)}g.subVectors(E,I).multiplyScalar(i.panSpeed),Y(g.x,g.y),I.copy(E)}function Ce(O){const ie=Fi(O),de=O.pageX-ie.x,ke=O.pageY-ie.y,ne=Math.sqrt(de*de+ke*ke);w.set(0,ne),b.set(0,Math.pow(w.y/x.y,i.zoomSpeed)),re(b.y),x.copy(w)}function Le(O){i.enableZoom&&Ce(O),i.enablePan&&Q(O)}function Je(O){i.enableZoom&&Ce(O),i.enableRotate&&P(O)}function it(O){var ie,de;i.enabled!==!1&&(T.length===0&&((ie=i.domElement)==null||ie.ownerDocument.addEventListener("pointermove",ct),(de=i.domElement)==null||de.ownerDocument.addEventListener("pointerup",Et)),Bi(O),O.pointerType==="touch"?_t(O):Jt(O))}function ct(O){i.enabled!==!1&&(O.pointerType==="touch"?vi(O):ni(O))}function Et(O){var ie,de,ke;oi(O),T.length===0&&((ie=i.domElement)==null||ie.releasePointerCapture(O.pointerId),(de=i.domElement)==null||de.ownerDocument.removeEventListener("pointermove",ct),(ke=i.domElement)==null||ke.ownerDocument.removeEventListener("pointerup",Et)),i.dispatchEvent(o),A=a.NONE}function ii(O){oi(O)}function Jt(O){let ie;switch(O.button){case 0:ie=i.mouseButtons.LEFT;break;case 1:ie=i.mouseButtons.MIDDLE;break;case 2:ie=i.mouseButtons.RIGHT;break;default:ie=-1}switch(ie){case Vt.DOLLY:if(i.enableZoom===!1)return;m(O),A=a.DOLLY;break;case Vt.ROTATE:if(O.ctrlKey||O.metaKey||O.shiftKey){if(i.enablePan===!1)return;G(O),A=a.PAN}else{if(i.enableRotate===!1)return;F(O),A=a.ROTATE}break;case Vt.PAN:if(O.ctrlKey||O.metaKey||O.shiftKey){if(i.enableRotate===!1)return;F(O),A=a.ROTATE}else{if(i.enablePan===!1)return;G(O),A=a.PAN}break;default:A=a.NONE}A!==a.NONE&&i.dispatchEvent(r)}function ni(O){if(i.enabled!==!1)switch(A){case a.ROTATE:if(i.enableRotate===!1)return;N(O);break;case a.DOLLY:if(i.enableZoom===!1)return;L(O);break;case a.PAN:if(i.enablePan===!1)return;V(O);break}}function si(O){i.enabled===!1||i.enableZoom===!1||A!==a.NONE&&A!==a.ROTATE||(O.preventDefault(),i.dispatchEvent(r),ve(O),i.dispatchEvent(o))}function Qt(O){i.enabled===!1||i.enablePan===!1||ge(O)}function _t(O){switch(ht(O),T.length){case 1:switch(i.touches.ONE){case Oi.ROTATE:if(i.enableRotate===!1)return;pe(),A=a.TOUCH_ROTATE;break;case Oi.PAN:if(i.enablePan===!1)return;ce(),A=a.TOUCH_PAN;break;default:A=a.NONE}break;case 2:switch(i.touches.TWO){case Oi.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ue(),A=a.TOUCH_DOLLY_PAN;break;case Oi.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;me(),A=a.TOUCH_DOLLY_ROTATE;break;default:A=a.NONE}break;default:A=a.NONE}A!==a.NONE&&i.dispatchEvent(r)}function vi(O){switch(ht(O),A){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;P(O),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;Q(O),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Le(O),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Je(O),i.update();break;default:A=a.NONE}}function ri(O){i.enabled!==!1&&O.preventDefault()}function Bi(O){T.push(O)}function oi(O){delete U[O.pointerId];for(let ie=0;ie<T.length;ie++)if(T[ie].pointerId==O.pointerId){T.splice(ie,1);return}}function ht(O){let ie=U[O.pointerId];ie===void 0&&(ie=new Se,U[O.pointerId]=ie),ie.set(O.pageX,O.pageY)}function Fi(O){const ie=O.pointerId===T[0].pointerId?T[1]:T[0];return U[ie.pointerId]}t!==void 0&&this.connect(t),this.update()}}class sl extends bc{constructor(e,t){super(e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=Vt.PAN,this.mouseButtons.RIGHT=Vt.ROTATE,this.touches.ONE=Oi.PAN,this.touches.TWO=Oi.DOLLY_ROTATE}}const xe={IDLE:Symbol(),ROTATE:Symbol(),PAN:Symbol(),SCALE:Symbol(),FOV:Symbol(),FOCUS:Symbol(),ZROTATE:Symbol(),TOUCH_MULTI:Symbol(),ANIMATION_FOCUS:Symbol(),ANIMATION_ROTATE:Symbol()},Ye={NONE:Symbol(),ONE_FINGER:Symbol(),ONE_FINGER_SWITCHED:Symbol(),TWO_FINGER:Symbol(),MULT_FINGER:Symbol(),CURSOR:Symbol()},Re={x:0,y:0},Tt={camera:new De,gizmos:new De},$e={type:"change"},qt={type:"start"},Gt={type:"end"};class rl extends ln{constructor(e,t=null,i=null){super(),f(this,"camera"),f(this,"domElement"),f(this,"scene"),f(this,"mouseActions"),f(this,"_mouseOp"),f(this,"_v2_1"),f(this,"_v3_1"),f(this,"_v3_2"),f(this,"_m4_1"),f(this,"_m4_2"),f(this,"_quat"),f(this,"_translationMatrix"),f(this,"_rotationMatrix"),f(this,"_scaleMatrix"),f(this,"_rotationAxis"),f(this,"_cameraMatrixState"),f(this,"_cameraProjectionState"),f(this,"_fovState"),f(this,"_upState"),f(this,"_zoomState"),f(this,"_nearPos"),f(this,"_farPos"),f(this,"_gizmoMatrixState"),f(this,"_up0"),f(this,"_zoom0"),f(this,"_fov0"),f(this,"_initialNear"),f(this,"_nearPos0"),f(this,"_initialFar"),f(this,"_farPos0"),f(this,"_cameraMatrixState0"),f(this,"_gizmoMatrixState0"),f(this,"_button"),f(this,"_touchStart"),f(this,"_touchCurrent"),f(this,"_input"),f(this,"_switchSensibility"),f(this,"_startFingerDistance"),f(this,"_currentFingerDistance"),f(this,"_startFingerRotation"),f(this,"_currentFingerRotation"),f(this,"_devPxRatio"),f(this,"_downValid"),f(this,"_nclicks"),f(this,"_downEvents"),f(this,"_clickStart"),f(this,"_maxDownTime"),f(this,"_maxInterval"),f(this,"_posThreshold"),f(this,"_movementThreshold"),f(this,"_currentCursorPosition"),f(this,"_startCursorPosition"),f(this,"_grid"),f(this,"_gridPosition"),f(this,"_gizmos"),f(this,"_curvePts"),f(this,"_timeStart"),f(this,"_animationId"),f(this,"focusAnimationTime"),f(this,"_timePrev"),f(this,"_timeCurrent"),f(this,"_anglePrev"),f(this,"_angleCurrent"),f(this,"_cursorPosPrev"),f(this,"_cursorPosCurr"),f(this,"_wPrev"),f(this,"_wCurr"),f(this,"adjustNearFar"),f(this,"scaleFactor"),f(this,"dampingFactor"),f(this,"wMax"),f(this,"enableAnimations"),f(this,"enableGrid"),f(this,"cursorZoom"),f(this,"minFov"),f(this,"maxFov"),f(this,"enabled"),f(this,"enablePan"),f(this,"enableRotate"),f(this,"enableZoom"),f(this,"minDistance"),f(this,"maxDistance"),f(this,"minZoom"),f(this,"maxZoom"),f(this,"target"),f(this,"_currentTarget"),f(this,"_tbRadius"),f(this,"_state"),f(this,"onWindowResize",()=>{const s=(this._gizmos.scale.x+this._gizmos.scale.y+this._gizmos.scale.z)/3;if(this.camera){const c=this.calculateTbRadius(this.camera);c!==void 0&&(this._tbRadius=c)}const r=this._tbRadius/s,a=new Ws(0,0,r,r).getPoints(this._curvePts),A=new bt().setFromPoints(a);for(const c in this._gizmos.children){const h=this._gizmos.children[c];h.geometry=A}this.dispatchEvent($e)}),f(this,"onContextMenu",s=>{if(this.enabled){for(let r=0;r<this.mouseActions.length;r++)if(this.mouseActions[r].mouse==2){s.preventDefault();break}}}),f(this,"onPointerCancel",()=>{this._touchStart.splice(0,this._touchStart.length),this._touchCurrent.splice(0,this._touchCurrent.length),this._input=Ye.NONE}),f(this,"onPointerDown",s=>{if(s.button==0&&s.isPrimary?(this._downValid=!0,this._downEvents.push(s)):this._downValid=!1,s.pointerType=="touch"&&this._input!=Ye.CURSOR)switch(this._touchStart.push(s),this._touchCurrent.push(s),this._input){case Ye.NONE:this._input=Ye.ONE_FINGER,this.onSinglePanStart(s,"ROTATE"),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp);break;case Ye.ONE_FINGER:case Ye.ONE_FINGER_SWITCHED:this._input=Ye.TWO_FINGER,this.onRotateStart(),this.onPinchStart(),this.onDoublePanStart();break;case Ye.TWO_FINGER:this._input=Ye.MULT_FINGER,this.onTriplePanStart();break}else if(s.pointerType!="touch"&&this._input==Ye.NONE){let r=null;s.ctrlKey||s.metaKey?r="CTRL":s.shiftKey&&(r="SHIFT"),this._mouseOp=this.getOpFromAction(s.button,r),this._mouseOp&&(window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp),this._input=Ye.CURSOR,this._button=s.button,this.onSinglePanStart(s,this._mouseOp))}}),f(this,"onPointerMove",s=>{if(s.pointerType=="touch"&&this._input!=Ye.CURSOR)switch(this._input){case Ye.ONE_FINGER:this.updateTouchEvent(s),this.onSinglePanMove(s,xe.ROTATE);break;case Ye.ONE_FINGER_SWITCHED:if(this.calculatePointersDistance(this._touchCurrent[0],s)*this._devPxRatio>=this._switchSensibility){this._input=Ye.ONE_FINGER,this.updateTouchEvent(s),this.onSinglePanStart(s,"ROTATE");break}break;case Ye.TWO_FINGER:this.updateTouchEvent(s),this.onRotateMove(),this.onPinchMove(),this.onDoublePanMove();break;case Ye.MULT_FINGER:this.updateTouchEvent(s),this.onTriplePanMove();break}else if(s.pointerType!="touch"&&this._input==Ye.CURSOR){let r=null;s.ctrlKey||s.metaKey?r="CTRL":s.shiftKey&&(r="SHIFT");const o=this.getOpStateFromAction(this._button,r);o&&this.onSinglePanMove(s,o)}this._downValid&&this.calculatePointersDistance(this._downEvents[this._downEvents.length-1],s)*this._devPxRatio>this._movementThreshold&&(this._downValid=!1)}),f(this,"onPointerUp",s=>{if(s.pointerType=="touch"&&this._input!=Ye.CURSOR){const r=this._touchCurrent.length;for(let o=0;o<r;o++)if(this._touchCurrent[o].pointerId==s.pointerId){this._touchCurrent.splice(o,1),this._touchStart.splice(o,1);break}switch(this._input){case Ye.ONE_FINGER:case Ye.ONE_FINGER_SWITCHED:window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),this._input=Ye.NONE,this.onSinglePanEnd();break;case Ye.TWO_FINGER:this.onDoublePanEnd(),this.onPinchEnd(),this.onRotateEnd(),this._input=Ye.ONE_FINGER_SWITCHED;break;case Ye.MULT_FINGER:this._touchCurrent.length==0&&(window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),this._input=Ye.NONE,this.onTriplePanEnd());break}}else s.pointerType!="touch"&&this._input==Ye.CURSOR&&(window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),this._input=Ye.NONE,this.onSinglePanEnd(),this._button=-1);if(s.isPrimary)if(this._downValid)if(s.timeStamp-this._downEvents[this._downEvents.length-1].timeStamp<=this._maxDownTime)if(this._nclicks==0)this._nclicks=1,this._clickStart=performance.now();else{const o=s.timeStamp-this._clickStart,a=this.calculatePointersDistance(this._downEvents[1],this._downEvents[0])*this._devPxRatio;o<=this._maxInterval&&a<=this._posThreshold?(this._nclicks=0,this._downEvents.splice(0,this._downEvents.length),this.onDoubleTap(s)):(this._nclicks=1,this._downEvents.shift(),this._clickStart=performance.now())}else this._downValid=!1,this._nclicks=0,this._downEvents.splice(0,this._downEvents.length);else this._nclicks=0,this._downEvents.splice(0,this._downEvents.length)}),f(this,"onWheel",s=>{var r,o;if(this.enabled&&this.enableZoom&&this.domElement){let a=null;s.ctrlKey||s.metaKey?a="CTRL":s.shiftKey&&(a="SHIFT");const A=this.getOpFromAction("WHEEL",a);if(A){s.preventDefault(),this.dispatchEvent(qt);const c=125;let h=s.deltaY/c,l=1;switch(h>0?l=1/this.scaleFactor:h<0&&(l=this.scaleFactor),A){case"ZOOM":if(this.updateTbState(xe.SCALE,!0),h>0?l=1/Math.pow(this.scaleFactor,h):h<0&&(l=Math.pow(this.scaleFactor,-h)),this.cursorZoom&&this.enablePan){let u;this.camera instanceof ut&&(u=(r=this.unprojectOnTbPlane(this.camera,s.clientX,s.clientY,this.domElement))==null?void 0:r.applyQuaternion(this.camera.quaternion).multiplyScalar(1/this.camera.zoom).add(this._gizmos.position)),this.camera instanceof st&&(u=(o=this.unprojectOnTbPlane(this.camera,s.clientX,s.clientY,this.domElement))==null?void 0:o.applyQuaternion(this.camera.quaternion).add(this._gizmos.position)),u!==void 0&&this.applyTransformMatrix(this.applyScale(l,u))}else this.applyTransformMatrix(this.applyScale(l,this._gizmos.position));this._grid&&(this.disposeGrid(),this.drawGrid()),this.updateTbState(xe.IDLE,!1),this.dispatchEvent($e),this.dispatchEvent(Gt);break;case"FOV":if(this.camera instanceof st){this.updateTbState(xe.FOV,!0),s.deltaX!=0&&(h=s.deltaX/c,l=1,h>0?l=1/Math.pow(this.scaleFactor,h):h<0&&(l=Math.pow(this.scaleFactor,-h))),this._v3_1.setFromMatrixPosition(this._cameraMatrixState);const u=this._v3_1.distanceTo(this._gizmos.position);let p=u/l;p=Fe.clamp(p,this.minDistance,this.maxDistance);const C=u*Math.tan(Fe.DEG2RAD*this.camera.fov*.5);let v=Fe.RAD2DEG*(Math.atan(C/p)*2);v>this.maxFov?v=this.maxFov:v<this.minFov&&(v=this.minFov);const B=C/Math.tan(Fe.DEG2RAD*(v/2));l=u/B,this.setFov(v),this.applyTransformMatrix(this.applyScale(l,this._gizmos.position,!1))}this._grid&&(this.disposeGrid(),this.drawGrid()),this.updateTbState(xe.IDLE,!1),this.dispatchEvent($e),this.dispatchEvent(Gt);break}}}}),f(this,"onSinglePanStart",(s,r)=>{if(this.enabled&&this.domElement)switch(this.dispatchEvent(qt),this.setCenter(s.clientX,s.clientY),r){case"PAN":if(!this.enablePan)return;if(this._animationId!=-1&&(cancelAnimationFrame(this._animationId),this._animationId=-1,this._timeStart=-1,this.activateGizmos(!1),this.dispatchEvent($e)),this.camera){this.updateTbState(xe.PAN,!0);const o=this.unprojectOnTbPlane(this.camera,Re.x,Re.y,this.domElement);o!==void 0&&this._startCursorPosition.copy(o),this.enableGrid&&(this.drawGrid(),this.dispatchEvent($e))}break;case"ROTATE":if(!this.enableRotate)return;if(this._animationId!=-1&&(cancelAnimationFrame(this._animationId),this._animationId=-1,this._timeStart=-1),this.camera){this.updateTbState(xe.ROTATE,!0);const o=this.unprojectOnTbSurface(this.camera,Re.x,Re.y,this.domElement,this._tbRadius);o!==void 0&&this._startCursorPosition.copy(o),this.activateGizmos(!0),this.enableAnimations&&(this._timePrev=this._timeCurrent=performance.now(),this._angleCurrent=this._anglePrev=0,this._cursorPosPrev.copy(this._startCursorPosition),this._cursorPosCurr.copy(this._cursorPosPrev),this._wCurr=0,this._wPrev=this._wCurr)}this.dispatchEvent($e);break;case"FOV":if(!this.enableZoom)return;this.camera instanceof st&&(this._animationId!=-1&&(cancelAnimationFrame(this._animationId),this._animationId=-1,this._timeStart=-1,this.activateGizmos(!1),this.dispatchEvent($e)),this.updateTbState(xe.FOV,!0),this._startCursorPosition.setY(this.getCursorNDC(Re.x,Re.y,this.domElement).y*.5),this._currentCursorPosition.copy(this._startCursorPosition));break;case"ZOOM":if(!this.enableZoom)return;this._animationId!=-1&&(cancelAnimationFrame(this._animationId),this._animationId=-1,this._timeStart=-1,this.activateGizmos(!1),this.dispatchEvent($e)),this.updateTbState(xe.SCALE,!0),this._startCursorPosition.setY(this.getCursorNDC(Re.x,Re.y,this.domElement).y*.5),this._currentCursorPosition.copy(this._startCursorPosition);break}}),f(this,"onSinglePanMove",(s,r)=>{if(this.enabled&&this.domElement){const o=r!=this._state;switch(this.setCenter(s.clientX,s.clientY),r){case xe.PAN:if(this.enablePan&&this.camera)if(o){this.dispatchEvent(Gt),this.dispatchEvent(qt),this.updateTbState(r,!0);const a=this.unprojectOnTbPlane(this.camera,Re.x,Re.y,this.domElement);a!==void 0&&this._startCursorPosition.copy(a),this.enableGrid&&this.drawGrid(),this.activateGizmos(!1)}else{const a=this.unprojectOnTbPlane(this.camera,Re.x,Re.y,this.domElement);a!==void 0&&this._currentCursorPosition.copy(a),this.applyTransformMatrix(this.pan(this._startCursorPosition,this._currentCursorPosition))}break;case xe.ROTATE:if(this.enableRotate&&this.camera)if(o){this.dispatchEvent(Gt),this.dispatchEvent(qt),this.updateTbState(r,!0);const a=this.unprojectOnTbSurface(this.camera,Re.x,Re.y,this.domElement,this._tbRadius);a!==void 0&&this._startCursorPosition.copy(a),this.enableGrid&&this.disposeGrid(),this.activateGizmos(!0)}else{const a=this.unprojectOnTbSurface(this.camera,Re.x,Re.y,this.domElement,this._tbRadius);a!==void 0&&this._currentCursorPosition.copy(a);const A=this._startCursorPosition.distanceTo(this._currentCursorPosition),c=this._startCursorPosition.angleTo(this._currentCursorPosition),h=Math.max(A/this._tbRadius,c);this.applyTransformMatrix(this.rotate(this.calculateRotationAxis(this._startCursorPosition,this._currentCursorPosition),h)),this.enableAnimations&&(this._timePrev=this._timeCurrent,this._timeCurrent=performance.now(),this._anglePrev=this._angleCurrent,this._angleCurrent=h,this._cursorPosPrev.copy(this._cursorPosCurr),this._cursorPosCurr.copy(this._currentCursorPosition),this._wPrev=this._wCurr,this._wCurr=this.calculateAngularSpeed(this._anglePrev,this._angleCurrent,this._timePrev,this._timeCurrent))}break;case xe.SCALE:if(this.enableZoom)if(o)this.dispatchEvent(Gt),this.dispatchEvent(qt),this.updateTbState(r,!0),this._startCursorPosition.setY(this.getCursorNDC(Re.x,Re.y,this.domElement).y*.5),this._currentCursorPosition.copy(this._startCursorPosition),this.enableGrid&&this.disposeGrid(),this.activateGizmos(!1);else{this._currentCursorPosition.setY(this.getCursorNDC(Re.x,Re.y,this.domElement).y*.5);const A=this._currentCursorPosition.y-this._startCursorPosition.y;let c=1;A<0?c=1/Math.pow(this.scaleFactor,-A*8):A>0&&(c=Math.pow(this.scaleFactor,A*8)),this.applyTransformMatrix(this.applyScale(c,this._gizmos.position))}break;case xe.FOV:if(this.enableZoom&&this.camera instanceof st)if(o)this.dispatchEvent(Gt),this.dispatchEvent(qt),this.updateTbState(r,!0),this._startCursorPosition.setY(this.getCursorNDC(Re.x,Re.y,this.domElement).y*.5),this._currentCursorPosition.copy(this._startCursorPosition),this.enableGrid&&this.disposeGrid(),this.activateGizmos(!1);else{this._currentCursorPosition.setY(this.getCursorNDC(Re.x,Re.y,this.domElement).y*.5);const A=this._currentCursorPosition.y-this._startCursorPosition.y;let c=1;A<0?c=1/Math.pow(this.scaleFactor,-A*8):A>0&&(c=Math.pow(this.scaleFactor,A*8)),this._v3_1.setFromMatrixPosition(this._cameraMatrixState);const h=this._v3_1.distanceTo(this._gizmos.position);let l=h/c;l=Fe.clamp(l,this.minDistance,this.maxDistance);const u=h*Math.tan(Fe.DEG2RAD*this._fovState*.5);let p=Fe.RAD2DEG*(Math.atan(u/l)*2);p=Fe.clamp(p,this.minFov,this.maxFov);const C=u/Math.tan(Fe.DEG2RAD*(p/2));c=h/C,this._v3_2.setFromMatrixPosition(this._gizmoMatrixState),this.setFov(p),this.applyTransformMatrix(this.applyScale(c,this._v3_2,!1));const v=this._gizmos.position.clone().sub(this.camera.position).normalize().multiplyScalar(C/h);this._m4_1.makeTranslation(v.x,v.y,v.z)}break}this.dispatchEvent($e)}}),f(this,"onSinglePanEnd",()=>{if(this._state==xe.ROTATE){if(!this.enableRotate)return;if(this.enableAnimations)if(performance.now()-this._timeCurrent<120){const r=Math.abs((this._wPrev+this._wCurr)/2),o=this;this._animationId=window.requestAnimationFrame(function(a){o.updateTbState(xe.ANIMATION_ROTATE,!0);const A=o.calculateRotationAxis(o._cursorPosPrev,o._cursorPosCurr);o.onRotationAnim(a,A,Math.min(r,o.wMax))})}else this.updateTbState(xe.IDLE,!1),this.activateGizmos(!1),this.dispatchEvent($e);else this.updateTbState(xe.IDLE,!1),this.activateGizmos(!1),this.dispatchEvent($e)}else(this._state==xe.PAN||this._state==xe.IDLE)&&(this.updateTbState(xe.IDLE,!1),this.enableGrid&&this.disposeGrid(),this.activateGizmos(!1),this.dispatchEvent($e));this.dispatchEvent(Gt)}),f(this,"onDoubleTap",s=>{if(this.enabled&&this.enablePan&&this.scene&&this.camera&&this.domElement){this.dispatchEvent(qt),this.setCenter(s.clientX,s.clientY);const r=this.unprojectOnObj(this.getCursorNDC(Re.x,Re.y,this.domElement),this.camera);if(r&&this.enableAnimations){const o=this;this._animationId!=-1&&window.cancelAnimationFrame(this._animationId),this._timeStart=-1,this._animationId=window.requestAnimationFrame(function(a){o.updateTbState(xe.ANIMATION_FOCUS,!0),o.onFocusAnim(a,r,o._cameraMatrixState,o._gizmoMatrixState)})}else r&&!this.enableAnimations&&(this.updateTbState(xe.FOCUS,!0),this.focus(r,this.scaleFactor),this.updateTbState(xe.IDLE,!1),this.dispatchEvent($e))}this.dispatchEvent(Gt)}),f(this,"onDoublePanStart",()=>{if(this.enabled&&this.enablePan&&this.camera&&this.domElement){this.dispatchEvent(qt),this.updateTbState(xe.PAN,!0),this.setCenter((this._touchCurrent[0].clientX+this._touchCurrent[1].clientX)/2,(this._touchCurrent[0].clientY+this._touchCurrent[1].clientY)/2);const s=this.unprojectOnTbPlane(this.camera,Re.x,Re.y,this.domElement,!0);s!==void 0&&this._startCursorPosition.copy(s),this._currentCursorPosition.copy(this._startCursorPosition),this.activateGizmos(!1)}}),f(this,"onDoublePanMove",()=>{if(this.enabled&&this.enablePan&&this.camera&&this.domElement){this.setCenter((this._touchCurrent[0].clientX+this._touchCurrent[1].clientX)/2,(this._touchCurrent[0].clientY+this._touchCurrent[1].clientY)/2),this._state!=xe.PAN&&(this.updateTbState(xe.PAN,!0),this._startCursorPosition.copy(this._currentCursorPosition));const s=this.unprojectOnTbPlane(this.camera,Re.x,Re.y,this.domElement,!0);s!==void 0&&this._currentCursorPosition.copy(s),this.applyTransformMatrix(this.pan(this._startCursorPosition,this._currentCursorPosition,!0)),this.dispatchEvent($e)}}),f(this,"onDoublePanEnd",()=>{this.updateTbState(xe.IDLE,!1),this.dispatchEvent(Gt)}),f(this,"onRotateStart",()=>{var s;this.enabled&&this.enableRotate&&(this.dispatchEvent(qt),this.updateTbState(xe.ZROTATE,!0),this._startFingerRotation=this.getAngle(this._touchCurrent[1],this._touchCurrent[0])+this.getAngle(this._touchStart[1],this._touchStart[0]),this._currentFingerRotation=this._startFingerRotation,(s=this.camera)==null||s.getWorldDirection(this._rotationAxis),!this.enablePan&&!this.enableZoom&&this.activateGizmos(!0))}),f(this,"onRotateMove",()=>{var s;if(this.enabled&&this.enableRotate&&this.camera&&this.domElement){this.setCenter((this._touchCurrent[0].clientX+this._touchCurrent[1].clientX)/2,(this._touchCurrent[0].clientY+this._touchCurrent[1].clientY)/2);let r;this._state!=xe.ZROTATE&&(this.updateTbState(xe.ZROTATE,!0),this._startFingerRotation=this._currentFingerRotation),this._currentFingerRotation=this.getAngle(this._touchCurrent[1],this._touchCurrent[0])+this.getAngle(this._touchStart[1],this._touchStart[0]),this.enablePan?this.camera&&(this._v3_2.setFromMatrixPosition(this._gizmoMatrixState),r=(s=this.unprojectOnTbPlane(this.camera,Re.x,Re.y,this.domElement))==null?void 0:s.applyQuaternion(this.camera.quaternion).multiplyScalar(1/this.camera.zoom).add(this._v3_2)):r=new H().setFromMatrixPosition(this._gizmoMatrixState);const o=Fe.DEG2RAD*(this._startFingerRotation-this._currentFingerRotation);r!==void 0&&this.applyTransformMatrix(this.zRotate(r,o)),this.dispatchEvent($e)}}),f(this,"onRotateEnd",()=>{this.updateTbState(xe.IDLE,!1),this.activateGizmos(!1),this.dispatchEvent(Gt)}),f(this,"onPinchStart",()=>{this.enabled&&this.enableZoom&&(this.dispatchEvent(qt),this.updateTbState(xe.SCALE,!0),this._startFingerDistance=this.calculatePointersDistance(this._touchCurrent[0],this._touchCurrent[1]),this._currentFingerDistance=this._startFingerDistance,this.activateGizmos(!1))}),f(this,"onPinchMove",()=>{var s,r;if(this.enabled&&this.enableZoom&&this.domElement){this.setCenter((this._touchCurrent[0].clientX+this._touchCurrent[1].clientX)/2,(this._touchCurrent[0].clientY+this._touchCurrent[1].clientY)/2);const o=12;this._state!=xe.SCALE&&(this._startFingerDistance=this._currentFingerDistance,this.updateTbState(xe.SCALE,!0)),this._currentFingerDistance=Math.max(this.calculatePointersDistance(this._touchCurrent[0],this._touchCurrent[1]),o*this._devPxRatio);const a=this._currentFingerDistance/this._startFingerDistance;let A;this.enablePan?this.camera instanceof ut?A=(s=this.unprojectOnTbPlane(this.camera,Re.x,Re.y,this.domElement))==null?void 0:s.applyQuaternion(this.camera.quaternion).multiplyScalar(1/this.camera.zoom).add(this._gizmos.position):this.camera instanceof st&&(A=(r=this.unprojectOnTbPlane(this.camera,Re.x,Re.y,this.domElement))==null?void 0:r.applyQuaternion(this.camera.quaternion).add(this._gizmos.position)):A=this._gizmos.position,A!==void 0&&this.applyTransformMatrix(this.applyScale(a,A)),this.dispatchEvent($e)}}),f(this,"onPinchEnd",()=>{this.updateTbState(xe.IDLE,!1),this.dispatchEvent(Gt)}),f(this,"onTriplePanStart",()=>{if(this.enabled&&this.enableZoom&&this.domElement){this.dispatchEvent(qt),this.updateTbState(xe.SCALE,!0);let s=0,r=0;const o=this._touchCurrent.length;for(let a=0;a<o;a++)s+=this._touchCurrent[a].clientX,r+=this._touchCurrent[a].clientY;this.setCenter(s/o,r/o),this._startCursorPosition.setY(this.getCursorNDC(Re.x,Re.y,this.domElement).y*.5),this._currentCursorPosition.copy(this._startCursorPosition)}}),f(this,"onTriplePanMove",()=>{if(this.enabled&&this.enableZoom&&this.camera&&this.domElement){let s=0,r=0;const o=this._touchCurrent.length;for(let B=0;B<o;B++)s+=this._touchCurrent[B].clientX,r+=this._touchCurrent[B].clientY;this.setCenter(s/o,r/o);const a=8;this._currentCursorPosition.setY(this.getCursorNDC(Re.x,Re.y,this.domElement).y*.5);const A=this._currentCursorPosition.y-this._startCursorPosition.y;let c=1;A<0?c=1/Math.pow(this.scaleFactor,-A*a):A>0&&(c=Math.pow(this.scaleFactor,A*a)),this._v3_1.setFromMatrixPosition(this._cameraMatrixState);const h=this._v3_1.distanceTo(this._gizmos.position);let l=h/c;l=Fe.clamp(l,this.minDistance,this.maxDistance);const u=h*Math.tan(Fe.DEG2RAD*this._fovState*.5);let p=Fe.RAD2DEG*(Math.atan(u/l)*2);p=Fe.clamp(p,this.minFov,this.maxFov);const C=u/Math.tan(Fe.DEG2RAD*(p/2));c=h/C,this._v3_2.setFromMatrixPosition(this._gizmoMatrixState),this.setFov(p),this.applyTransformMatrix(this.applyScale(c,this._v3_2,!1));const v=this._gizmos.position.clone().sub(this.camera.position).normalize().multiplyScalar(C/h);this._m4_1.makeTranslation(v.x,v.y,v.z),this.dispatchEvent($e)}}),f(this,"onTriplePanEnd",()=>{this.updateTbState(xe.IDLE,!1),this.dispatchEvent(Gt)}),f(this,"setCenter",(s,r)=>{Re.x=s,Re.y=r}),f(this,"initializeMouseActions",()=>{this.setMouseAction("PAN",0,"CTRL"),this.setMouseAction("PAN",2),this.setMouseAction("ROTATE",0),this.setMouseAction("ZOOM","WHEEL"),this.setMouseAction("ZOOM",1),this.setMouseAction("FOV","WHEEL","SHIFT"),this.setMouseAction("FOV",1,"SHIFT")}),f(this,"setMouseAction",(s,r,o=null)=>{const a=["PAN","ROTATE","ZOOM","FOV"],A=[0,1,2,"WHEEL"],c=["CTRL","SHIFT",null];let h;if(!a.includes(s)||!A.includes(r)||!c.includes(o)||r=="WHEEL"&&s!="ZOOM"&&s!="FOV")return!1;switch(s){case"PAN":h=xe.PAN;break;case"ROTATE":h=xe.ROTATE;break;case"ZOOM":h=xe.SCALE;break;case"FOV":h=xe.FOV;break}const l={operation:s,mouse:r,key:o,state:h};for(let u=0;u<this.mouseActions.length;u++)if(this.mouseActions[u].mouse==l.mouse&&this.mouseActions[u].key==l.key)return this.mouseActions.splice(u,1,l),!0;return this.mouseActions.push(l),!0}),f(this,"getOpFromAction",(s,r)=>{let o;for(let a=0;a<this.mouseActions.length;a++)if(o=this.mouseActions[a],o.mouse==s&&o.key==r)return o.operation;if(r){for(let a=0;a<this.mouseActions.length;a++)if(o=this.mouseActions[a],o.mouse==s&&o.key==null)return o.operation}return null}),f(this,"getOpStateFromAction",(s,r)=>{let o;for(let a=0;a<this.mouseActions.length;a++)if(o=this.mouseActions[a],o.mouse==s&&o.key==r)return o.state;if(r){for(let a=0;a<this.mouseActions.length;a++)if(o=this.mouseActions[a],o.mouse==s&&o.key==null)return o.state}return null}),f(this,"getAngle",(s,r)=>Math.atan2(r.clientY-s.clientY,r.clientX-s.clientX)*180/Math.PI),f(this,"updateTouchEvent",s=>{for(let r=0;r<this._touchCurrent.length;r++)if(this._touchCurrent[r].pointerId==s.pointerId){this._touchCurrent.splice(r,1,s);break}}),f(this,"calculateAngularSpeed",(s,r,o,a)=>{const A=r-s,c=(a-o)/1e3;return c==0?0:A/c}),f(this,"calculatePointersDistance",(s,r)=>Math.sqrt(Math.pow(r.clientX-s.clientX,2)+Math.pow(r.clientY-s.clientY,2))),f(this,"calculateRotationAxis",(s,r)=>(this._rotationMatrix.extractRotation(this._cameraMatrixState),this._quat.setFromRotationMatrix(this._rotationMatrix),this._rotationAxis.crossVectors(s,r).applyQuaternion(this._quat),this._rotationAxis.normalize().clone())),f(this,"calculateTbRadius",s=>{const o=s.position.distanceTo(this._gizmos.position);if(s instanceof st){const a=Fe.DEG2RAD*s.fov*.5,A=Math.atan(s.aspect*Math.tan(a));return Math.tan(Math.min(a,A))*o*.67}else if(s instanceof ut)return Math.min(s.top,s.right)*.67}),f(this,"focus",(s,r,o=1)=>{if(this.camera){const a=s.clone();a.sub(this._gizmos.position).multiplyScalar(o),this._translationMatrix.makeTranslation(a.x,a.y,a.z);const A=this._gizmoMatrixState.clone();this._gizmoMatrixState.premultiply(this._translationMatrix),this._gizmoMatrixState.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale);const c=this._cameraMatrixState.clone();this._cameraMatrixState.premultiply(this._translationMatrix),this._cameraMatrixState.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.enableZoom&&this.applyTransformMatrix(this.applyScale(r,this._gizmos.position)),this._gizmoMatrixState.copy(A),this._cameraMatrixState.copy(c)}}),f(this,"drawGrid",()=>{if(this.scene){let o,a,A,c;if(this.camera instanceof ut){const h=this.camera.right-this.camera.left,l=this.camera.bottom-this.camera.top;A=Math.max(h,l),c=A/20,o=A/this.camera.zoom*3,a=o/c*this.camera.zoom}else if(this.camera instanceof st){const h=this.camera.position.distanceTo(this._gizmos.position),l=Fe.DEG2RAD*this.camera.fov*.5,u=Math.atan(this.camera.aspect*Math.tan(l));A=Math.tan(Math.max(l,u))*h*2,c=A/20,o=A*3,a=o/c}this._grid==null&&this.camera&&(this._grid=new _0(o,a,8947848,8947848),this._grid.position.copy(this._gizmos.position),this._gridPosition.copy(this._grid.position),this._grid.quaternion.copy(this.camera.quaternion),this._grid.rotateX(Math.PI*.5),this.scene.add(this._grid))}}),f(this,"connect",s=>{s===document&&console.error('THREE.ArcballControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.domElement=s,this.domElement.style.touchAction="none",this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("pointercancel",this.onPointerCancel),this.domElement.addEventListener("wheel",this.onWheel)}),f(this,"dispose",()=>{var s,r,o,a,A;this._animationId!=-1&&window.cancelAnimationFrame(this._animationId),(s=this.domElement)==null||s.removeEventListener("pointerdown",this.onPointerDown),(r=this.domElement)==null||r.removeEventListener("pointercancel",this.onPointerCancel),(o=this.domElement)==null||o.removeEventListener("wheel",this.onWheel),(a=this.domElement)==null||a.removeEventListener("contextmenu",this.onContextMenu),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("resize",this.onWindowResize),(A=this.scene)==null||A.remove(this._gizmos),this.disposeGrid()}),f(this,"disposeGrid",()=>{this._grid&&this.scene&&(this.scene.remove(this._grid),this._grid=null)}),f(this,"easeOutCubic",s=>1-Math.pow(1-s,3)),f(this,"activateGizmos",s=>{for(const r of this._gizmos.children)r.material.setValues({opacity:s?1:.6})}),f(this,"getCursorNDC",(s,r,o)=>{const a=o.getBoundingClientRect();return this._v2_1.setX((s-a.left)/a.width*2-1),this._v2_1.setY((a.bottom-r)/a.height*2-1),this._v2_1.clone()}),f(this,"getCursorPosition",(s,r,o)=>(this._v2_1.copy(this.getCursorNDC(s,r,o)),this.camera instanceof ut&&(this._v2_1.x*=(this.camera.right-this.camera.left)*.5,this._v2_1.y*=(this.camera.top-this.camera.bottom)*.5),this._v2_1.clone())),f(this,"setCamera",s=>{if(s){s.lookAt(this.target),s.updateMatrix(),s instanceof st&&(this._fov0=s.fov,this._fovState=s.fov),this._cameraMatrixState0.copy(s.matrix),this._cameraMatrixState.copy(this._cameraMatrixState0),this._cameraProjectionState.copy(s.projectionMatrix),this._zoom0=s.zoom,this._zoomState=this._zoom0,this._initialNear=s.near,this._nearPos0=s.position.distanceTo(this.target)-s.near,this._nearPos=this._initialNear,this._initialFar=s.far,this._farPos0=s.position.distanceTo(this.target)-s.far,this._farPos=this._initialFar,this._up0.copy(s.up),this._upState.copy(s.up),this.camera=s,this.camera.updateProjectionMatrix();const r=this.calculateTbRadius(s);r!==void 0&&(this._tbRadius=r),this.makeGizmos(this.target,this._tbRadius)}}),f(this,"makeGizmos",(s,r)=>{const a=new Ws(0,0,r,r).getPoints(this._curvePts),A=new bt().setFromPoints(a),c=new En({color:16744576,fog:!1,transparent:!0,opacity:.6}),h=new En({color:8454016,fog:!1,transparent:!0,opacity:.6}),l=new En({color:8421631,fog:!1,transparent:!0,opacity:.6}),u=new Pe(A,c),p=new Pe(A,h),C=new Pe(A,l),v=Math.PI*.5;if(u.rotation.x=v,p.rotation.y=v,this._gizmoMatrixState0.identity().setPosition(s),this._gizmoMatrixState.copy(this._gizmoMatrixState0),this.camera&&this.camera.zoom!=1){const B=1/this.camera.zoom;this._scaleMatrix.makeScale(B,B,B),this._translationMatrix.makeTranslation(-s.x,-s.y,-s.z),this._gizmoMatrixState.premultiply(this._translationMatrix).premultiply(this._scaleMatrix),this._translationMatrix.makeTranslation(s.x,s.y,s.z),this._gizmoMatrixState.premultiply(this._translationMatrix)}this._gizmoMatrixState.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this._gizmos.clear(),this._gizmos.add(u),this._gizmos.add(p),this._gizmos.add(C)}),f(this,"onFocusAnim",(s,r,o,a)=>{if(this._timeStart==-1&&(this._timeStart=s),this._state==xe.ANIMATION_FOCUS){const c=(s-this._timeStart)/this.focusAnimationTime;if(this._gizmoMatrixState.copy(a),c>=1)this._gizmoMatrixState.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this.focus(r,this.scaleFactor),this._timeStart=-1,this.updateTbState(xe.IDLE,!1),this.activateGizmos(!1),this.dispatchEvent($e);else{const h=this.easeOutCubic(c),l=1-h+this.scaleFactor*h;this._gizmoMatrixState.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this.focus(r,l,h),this.dispatchEvent($e);const u=this;this._animationId=window.requestAnimationFrame(function(p){u.onFocusAnim(p,r,o,a.clone())})}}else this._animationId=-1,this._timeStart=-1}),f(this,"onRotationAnim",(s,r,o)=>{if(this._timeStart==-1&&(this._anglePrev=0,this._angleCurrent=0,this._timeStart=s),this._state==xe.ANIMATION_ROTATE){const a=(s-this._timeStart)/1e3;if(o+-this.dampingFactor*a>0){this._angleCurrent=.5*-this.dampingFactor*Math.pow(a,2)+o*a+0,this.applyTransformMatrix(this.rotate(r,this._angleCurrent)),this.dispatchEvent($e);const c=this;this._animationId=window.requestAnimationFrame(function(h){c.onRotationAnim(h,r,o)})}else this._animationId=-1,this._timeStart=-1,this.updateTbState(xe.IDLE,!1),this.activateGizmos(!1),this.dispatchEvent($e)}else this._animationId=-1,this._timeStart=-1,this._state!=xe.ROTATE&&(this.activateGizmos(!1),this.dispatchEvent($e))}),f(this,"pan",(s,r,o=!1)=>{if(this.camera){const a=s.clone().sub(r);if(this.camera instanceof ut&&a.multiplyScalar(1/this.camera.zoom),this.camera instanceof st&&o){this._v3_1.setFromMatrixPosition(this._cameraMatrixState0),this._v3_2.setFromMatrixPosition(this._gizmoMatrixState0);const A=this._v3_1.distanceTo(this._v3_2)/this.camera.position.distanceTo(this._gizmos.position);a.multiplyScalar(1/A)}this._v3_1.set(a.x,a.y,0).applyQuaternion(this.camera.quaternion),this._m4_1.makeTranslation(this._v3_1.x,this._v3_1.y,this._v3_1.z),this.setTransformationMatrices(this._m4_1,this._m4_1)}return Tt}),f(this,"reset",()=>{if(this.camera){this.camera.zoom=this._zoom0,this.camera instanceof st&&(this.camera.fov=this._fov0),this.camera.near=this._nearPos,this.camera.far=this._farPos,this._cameraMatrixState.copy(this._cameraMatrixState0),this._cameraMatrixState.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.up.copy(this._up0),this.camera.updateMatrix(),this.camera.updateProjectionMatrix(),this._gizmoMatrixState.copy(this._gizmoMatrixState0),this._gizmoMatrixState0.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this._gizmos.updateMatrix();const s=this.calculateTbRadius(this.camera);s!==void 0&&(this._tbRadius=s),this.makeGizmos(this._gizmos.position,this._tbRadius),this.camera.lookAt(this._gizmos.position),this.updateTbState(xe.IDLE,!1),this.dispatchEvent($e)}}),f(this,"rotate",(s,r)=>{const o=this._gizmos.position;return this._translationMatrix.makeTranslation(-o.x,-o.y,-o.z),this._rotationMatrix.makeRotationAxis(s,-r),this._m4_1.makeTranslation(o.x,o.y,o.z),this._m4_1.multiply(this._rotationMatrix),this._m4_1.multiply(this._translationMatrix),this.setTransformationMatrices(this._m4_1),Tt}),f(this,"copyState",()=>{if(this.camera){const s=JSON.stringify(this.camera instanceof ut?{arcballState:{cameraFar:this.camera.far,cameraMatrix:this.camera.matrix,cameraNear:this.camera.near,cameraUp:this.camera.up,cameraZoom:this.camera.zoom,gizmoMatrix:this._gizmos.matrix}}:{arcballState:{cameraFar:this.camera.far,cameraFov:this.camera.fov,cameraMatrix:this.camera.matrix,cameraNear:this.camera.near,cameraUp:this.camera.up,cameraZoom:this.camera.zoom,gizmoMatrix:this._gizmos.matrix}});navigator.clipboard.writeText(s)}}),f(this,"pasteState",()=>{const s=this;navigator.clipboard.readText().then(function(o){s.setStateFromJSON(o)})}),f(this,"saveState",()=>{this.camera&&(this._cameraMatrixState0.copy(this.camera.matrix),this._gizmoMatrixState0.copy(this._gizmos.matrix),this._nearPos=this.camera.near,this._farPos=this.camera.far,this._zoom0=this.camera.zoom,this._up0.copy(this.camera.up),this.camera instanceof st&&(this._fov0=this.camera.fov))}),f(this,"applyScale",(s,r,o=!0)=>{if(!this.camera)return;const a=r.clone();let A=1/s;if(this.camera instanceof ut){this.camera.zoom=this._zoomState,this.camera.zoom*=s,this.camera.zoom>this.maxZoom?(this.camera.zoom=this.maxZoom,A=this._zoomState/this.maxZoom):this.camera.zoom<this.minZoom&&(this.camera.zoom=this.minZoom,A=this._zoomState/this.minZoom),this.camera.updateProjectionMatrix(),this._v3_1.setFromMatrixPosition(this._gizmoMatrixState),this._scaleMatrix.makeScale(A,A,A),this._translationMatrix.makeTranslation(-this._v3_1.x,-this._v3_1.y,-this._v3_1.z),this._m4_2.makeTranslation(this._v3_1.x,this._v3_1.y,this._v3_1.z).multiply(this._scaleMatrix),this._m4_2.multiply(this._translationMatrix),a.sub(this._v3_1);const c=a.clone().multiplyScalar(A);return a.sub(c),this._m4_1.makeTranslation(a.x,a.y,a.z),this._m4_2.premultiply(this._m4_1),this.setTransformationMatrices(this._m4_1,this._m4_2),Tt}if(this.camera instanceof st){this._v3_1.setFromMatrixPosition(this._cameraMatrixState),this._v3_2.setFromMatrixPosition(this._gizmoMatrixState);let c=this._v3_1.distanceTo(a),h=c-c*A;const l=c-h;l<this.minDistance?(A=this.minDistance/c,h=c-c*A):l>this.maxDistance&&(A=this.maxDistance/c,h=c-c*A);let u=a.clone().sub(this._v3_1).normalize().multiplyScalar(h);if(this._m4_1.makeTranslation(u.x,u.y,u.z),o){const p=this._v3_2;c=p.distanceTo(a),h=c-c*A,u=a.clone().sub(this._v3_2).normalize().multiplyScalar(h),this._translationMatrix.makeTranslation(p.x,p.y,p.z),this._scaleMatrix.makeScale(A,A,A),this._m4_2.makeTranslation(u.x,u.y,u.z).multiply(this._translationMatrix),this._m4_2.multiply(this._scaleMatrix),this._translationMatrix.makeTranslation(-p.x,-p.y,-p.z),this._m4_2.multiply(this._translationMatrix),this.setTransformationMatrices(this._m4_1,this._m4_2)}else this.setTransformationMatrices(this._m4_1);return Tt}}),f(this,"setFov",s=>{this.camera instanceof st&&(this.camera.fov=Fe.clamp(s,this.minFov,this.maxFov),this.camera.updateProjectionMatrix())}),f(this,"setTarget",(s,r,o)=>{if(this.camera){this.target.set(s,r,o),this._gizmos.position.set(s,r,o);const a=this.calculateTbRadius(this.camera);a!==void 0&&(this._tbRadius=a),this.makeGizmos(this.target,this._tbRadius),this.camera.lookAt(this.target)}}),f(this,"zRotate",(s,r)=>(this._rotationMatrix.makeRotationAxis(this._rotationAxis,r),this._translationMatrix.makeTranslation(-s.x,-s.y,-s.z),this._m4_1.makeTranslation(s.x,s.y,s.z),this._m4_1.multiply(this._rotationMatrix),this._m4_1.multiply(this._translationMatrix),this._v3_1.setFromMatrixPosition(this._gizmoMatrixState).sub(s),this._v3_2.copy(this._v3_1).applyAxisAngle(this._rotationAxis,r),this._v3_2.sub(this._v3_1),this._m4_2.makeTranslation(this._v3_2.x,this._v3_2.y,this._v3_2.z),this.setTransformationMatrices(this._m4_1,this._m4_2),Tt)),f(this,"unprojectOnObj",(s,r)=>{if(!this.scene)return null;const o=new _a;o.near=r.near,o.far=r.far,o.setFromCamera(s,r);const a=o.intersectObjects(this.scene.children,!0);for(let A=0;A<a.length;A++)if(a[A].object.uuid!=this._gizmos.uuid&&a[A].face)return a[A].point.clone();return null}),f(this,"unprojectOnTbSurface",(s,r,o,a,A)=>{if(s instanceof ut){this._v2_1.copy(this.getCursorPosition(r,o,a)),this._v3_1.set(this._v2_1.x,this._v2_1.y,0);const c=Math.pow(this._v2_1.x,2),h=Math.pow(this._v2_1.y,2),l=Math.pow(this._tbRadius,2);return c+h<=l*.5?this._v3_1.setZ(Math.sqrt(l-(c+h))):this._v3_1.setZ(l*.5/Math.sqrt(c+h)),this._v3_1}if(s instanceof st){this._v2_1.copy(this.getCursorNDC(r,o,a)),this._v3_1.set(this._v2_1.x,this._v2_1.y,-1),this._v3_1.applyMatrix4(s.projectionMatrixInverse);const c=this._v3_1.clone().normalize(),h=s.position.distanceTo(this._gizmos.position),l=Math.pow(A,2),u=this._v3_1.z,p=Math.sqrt(Math.pow(this._v3_1.x,2)+Math.pow(this._v3_1.y,2));if(p==0)return c.set(this._v3_1.x,this._v3_1.y,A),c;const C=u/p,v=h;let B=Math.pow(C,2)+1,I=2*C*v,E=Math.pow(v,2)-l,g=Math.pow(I,2)-4*B*E;if(g>=0&&(this._v2_1.setX((-I-Math.sqrt(g))/(2*B)),this._v2_1.setY(C*this._v2_1.x+v),Fe.RAD2DEG*this._v2_1.angle()>=45)){const b=Math.sqrt(Math.pow(this._v2_1.x,2)+Math.pow(h-this._v2_1.y,2));return c.multiplyScalar(b),c.z+=h,c}B=C,I=v,E=-l*.5,g=Math.pow(I,2)-4*B*E,this._v2_1.setX((-I-Math.sqrt(g))/(2*B)),this._v2_1.setY(C*this._v2_1.x+v);const x=Math.sqrt(Math.pow(this._v2_1.x,2)+Math.pow(h-this._v2_1.y,2));return c.multiplyScalar(x),c.z+=h,c}}),f(this,"unprojectOnTbPlane",(s,r,o,a,A=!1)=>{if(s instanceof ut)return this._v2_1.copy(this.getCursorPosition(r,o,a)),this._v3_1.set(this._v2_1.x,this._v2_1.y,0),this._v3_1.clone();if(s instanceof st){this._v2_1.copy(this.getCursorNDC(r,o,a)),this._v3_1.set(this._v2_1.x,this._v2_1.y,-1),this._v3_1.applyMatrix4(s.projectionMatrixInverse);const c=this._v3_1.clone().normalize(),h=this._v3_1.z,l=Math.sqrt(Math.pow(this._v3_1.x,2)+Math.pow(this._v3_1.y,2));let u;if(A?u=this._v3_1.setFromMatrixPosition(this._cameraMatrixState0).distanceTo(this._v3_2.setFromMatrixPosition(this._gizmoMatrixState0)):u=s.position.distanceTo(this._gizmos.position),l==0)return c.set(0,0,0),c;const p=h/l,C=u,v=-C/p,B=Math.sqrt(Math.pow(C,2)+Math.pow(v,2));return c.multiplyScalar(B),c.z=0,c}}),f(this,"updateMatrixState",()=>{this.camera&&(this._cameraMatrixState.copy(this.camera.matrix),this._gizmoMatrixState.copy(this._gizmos.matrix),this.camera instanceof ut&&(this._cameraProjectionState.copy(this.camera.projectionMatrix),this.camera.updateProjectionMatrix(),this._zoomState=this.camera.zoom),this.camera instanceof st&&(this._fovState=this.camera.fov))}),f(this,"updateTbState",(s,r)=>{this._state=s,r&&this.updateMatrixState()}),f(this,"update",()=>{if(!this.target.equals(this._currentTarget)&&this.camera){this._gizmos.position.set(this.target.x,this.target.y,this.target.z);const r=this.calculateTbRadius(this.camera);r!==void 0&&(this._tbRadius=r),this.makeGizmos(this.target,this._tbRadius),this._currentTarget.copy(this.target)}if(this.camera){if(this.camera instanceof ut&&(this.camera.zoom>this.maxZoom||this.camera.zoom<this.minZoom)){const r=Fe.clamp(this.camera.zoom,this.minZoom,this.maxZoom);this.applyTransformMatrix(this.applyScale(r/this.camera.zoom,this._gizmos.position,!0))}if(this.camera instanceof st){const r=this.camera.position.distanceTo(this._gizmos.position);if(r>this.maxDistance+1e-6||r<this.minDistance-1e-6){const A=Fe.clamp(r,this.minDistance,this.maxDistance);this.applyTransformMatrix(this.applyScale(A/r,this._gizmos.position)),this.updateMatrixState()}(this.camera.fov<this.minFov||this.camera.fov>this.maxFov)&&(this.camera.fov=Fe.clamp(this.camera.fov,this.minFov,this.maxFov),this.camera.updateProjectionMatrix());const o=this._tbRadius,a=this.calculateTbRadius(this.camera);if(a!==void 0&&(this._tbRadius=a),o<this._tbRadius-1e-6||o>this._tbRadius+1e-6){const A=(this._gizmos.scale.x+this._gizmos.scale.y+this._gizmos.scale.z)/3,c=this._tbRadius/A,l=new Ws(0,0,c,c).getPoints(this._curvePts),u=new bt().setFromPoints(l);for(const p in this._gizmos.children){const C=this._gizmos.children[p];C.geometry=u}}}this.camera.lookAt(this._gizmos.position)}}),f(this,"setStateFromJSON",s=>{const r=JSON.parse(s);if(r.arcballState&&this.camera){this._cameraMatrixState.fromArray(r.arcballState.cameraMatrix.elements),this._cameraMatrixState.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.up.copy(r.arcballState.cameraUp),this.camera.near=r.arcballState.cameraNear,this.camera.far=r.arcballState.cameraFar,this.camera.zoom=r.arcballState.cameraZoom,this.camera instanceof st&&(this.camera.fov=r.arcballState.cameraFov),this._gizmoMatrixState.fromArray(r.arcballState.gizmoMatrix.elements),this._gizmoMatrixState.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this.camera.updateMatrix(),this.camera.updateProjectionMatrix(),this._gizmos.updateMatrix();const o=this.calculateTbRadius(this.camera);o!==void 0&&(this._tbRadius=o);const a=new De().copy(this._gizmoMatrixState0);this.makeGizmos(this._gizmos.position,this._tbRadius),this._gizmoMatrixState0.copy(a),this.camera.lookAt(this._gizmos.position),this.updateTbState(xe.IDLE,!1),this.dispatchEvent($e)}}),this.camera=null,this.domElement=t,this.scene=i,this.mouseActions=[],this._mouseOp=null,this._v2_1=new Se,this._v3_1=new H,this._v3_2=new H,this._m4_1=new De,this._m4_2=new De,this._quat=new He,this._translationMatrix=new De,this._rotationMatrix=new De,this._scaleMatrix=new De,this._rotationAxis=new H,this._cameraMatrixState=new De,this._cameraProjectionState=new De,this._fovState=1,this._upState=new H,this._zoomState=1,this._nearPos=0,this._farPos=0,this._gizmoMatrixState=new De,this._up0=new H,this._zoom0=1,this._fov0=0,this._initialNear=0,this._nearPos0=0,this._initialFar=0,this._farPos0=0,this._cameraMatrixState0=new De,this._gizmoMatrixState0=new De,this._button=-1,this._touchStart=[],this._touchCurrent=[],this._input=Ye.NONE,this._switchSensibility=32,this._startFingerDistance=0,this._currentFingerDistance=0,this._startFingerRotation=0,this._currentFingerRotation=0,this._devPxRatio=0,this._downValid=!0,this._nclicks=0,this._downEvents=[],this._clickStart=0,this._maxDownTime=250,this._maxInterval=300,this._posThreshold=24,this._movementThreshold=24,this._currentCursorPosition=new H,this._startCursorPosition=new H,this._grid=null,this._gridPosition=new H,this._gizmos=new In,this._curvePts=128,this._timeStart=-1,this._animationId=-1,this.focusAnimationTime=500,this._timePrev=0,this._timeCurrent=0,this._anglePrev=0,this._angleCurrent=0,this._cursorPosPrev=new H,this._cursorPosCurr=new H,this._wPrev=0,this._wCurr=0,this.adjustNearFar=!1,this.scaleFactor=1.1,this.dampingFactor=25,this.wMax=20,this.enableAnimations=!0,this.enableGrid=!1,this.cursorZoom=!1,this.minFov=5,this.maxFov=90,this.enabled=!0,this.enablePan=!0,this.enableRotate=!0,this.enableZoom=!0,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.target=new H(0,0,0),this._currentTarget=new H(0,0,0),this._tbRadius=1,this._state=xe.IDLE,this.setCamera(e),this.scene&&this.scene.add(this._gizmos),this._devPxRatio=window.devicePixelRatio,this.initializeMouseActions(),this.domElement&&this.connect(this.domElement),window.addEventListener("resize",this.onWindowResize)}applyTransformMatrix(e){if(e!=null&&e.camera&&this.camera&&(this._m4_1.copy(this._cameraMatrixState).premultiply(e.camera),this._m4_1.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.updateMatrix(),(this._state==xe.ROTATE||this._state==xe.ZROTATE||this._state==xe.ANIMATION_ROTATE)&&this.camera.up.copy(this._upState).applyQuaternion(this.camera.quaternion)),e!=null&&e.gizmos&&(this._m4_1.copy(this._gizmoMatrixState).premultiply(e.gizmos),this._m4_1.decompose(this._gizmos.position,this._gizmos.quaternion,this._gizmos.scale),this._gizmos.updateMatrix()),(this._state==xe.SCALE||this._state==xe.FOCUS||this._state==xe.ANIMATION_FOCUS)&&this.camera){const t=this.calculateTbRadius(this.camera);if(t!==void 0&&(this._tbRadius=t),this.adjustNearFar){const i=this.camera.position.distanceTo(this._gizmos.position),s=new Qn;s.setFromObject(this._gizmos);const r=new ns;s.getBoundingSphere(r);const o=Math.max(this._nearPos0,r.radius+r.center.length()),a=i-this._initialNear,A=Math.min(o,a);this.camera.near=i-A;const c=Math.min(this._farPos0,-r.radius+r.center.length()),h=i-this._initialFar,l=Math.min(c,h);this.camera.far=i-l,this.camera.updateProjectionMatrix()}else{let i=!1;this.camera.near!=this._initialNear&&(this.camera.near=this._initialNear,i=!0),this.camera.far!=this._initialFar&&(this.camera.far=this._initialFar,i=!0),i&&this.camera.updateProjectionMatrix()}}}setGizmosVisible(e){this._gizmos.visible=e,this.dispatchEvent($e)}setTransformationMatrices(e=null,t=null){e?Tt.camera?Tt.camera.copy(e):Tt.camera=e.clone():Tt.camera=null,t?Tt.gizmos?Tt.gizmos.copy(t):Tt.gizmos=t.clone():Tt.gizmos=null}}function oa(n){n.preventDefault()}class ol extends ln{constructor(e,t){super(),f(this,"object"),f(this,"domElement",null),f(this,"movementSpeed",1),f(this,"rollSpeed",.005),f(this,"dragToLook",!1),f(this,"autoForward",!1),f(this,"changeEvent",{type:"change"}),f(this,"EPS",1e-6),f(this,"tmpQuaternion",new He),f(this,"mouseStatus",0),f(this,"movementSpeedMultiplier",1),f(this,"moveState",{up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0}),f(this,"moveVector",new H(0,0,0)),f(this,"rotationVector",new H(0,0,0)),f(this,"keydown",i=>{if(!i.altKey){switch(i.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=.1;break;case"KeyW":this.moveState.forward=1;break;case"KeyS":this.moveState.back=1;break;case"KeyA":this.moveState.left=1;break;case"KeyD":this.moveState.right=1;break;case"KeyR":this.moveState.up=1;break;case"KeyF":this.moveState.down=1;break;case"ArrowUp":this.moveState.pitchUp=1;break;case"ArrowDown":this.moveState.pitchDown=1;break;case"ArrowLeft":this.moveState.yawLeft=1;break;case"ArrowRight":this.moveState.yawRight=1;break;case"KeyQ":this.moveState.rollLeft=1;break;case"KeyE":this.moveState.rollRight=1;break}this.updateMovementVector(),this.updateRotationVector()}}),f(this,"keyup",i=>{switch(i.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=1;break;case"KeyW":this.moveState.forward=0;break;case"KeyS":this.moveState.back=0;break;case"KeyA":this.moveState.left=0;break;case"KeyD":this.moveState.right=0;break;case"KeyR":this.moveState.up=0;break;case"KeyF":this.moveState.down=0;break;case"ArrowUp":this.moveState.pitchUp=0;break;case"ArrowDown":this.moveState.pitchDown=0;break;case"ArrowLeft":this.moveState.yawLeft=0;break;case"ArrowRight":this.moveState.yawRight=0;break;case"KeyQ":this.moveState.rollLeft=0;break;case"KeyE":this.moveState.rollRight=0;break}this.updateMovementVector(),this.updateRotationVector()}),f(this,"pointerdown",i=>{if(this.dragToLook)this.mouseStatus++;else{switch(i.button){case 0:this.moveState.forward=1;break;case 2:this.moveState.back=1;break}this.updateMovementVector()}}),f(this,"pointermove",i=>{if(!this.dragToLook||this.mouseStatus>0){const s=this.getContainerDimensions(),r=s.size[0]/2,o=s.size[1]/2;this.moveState.yawLeft=-(i.pageX-s.offset[0]-r)/r,this.moveState.pitchDown=(i.pageY-s.offset[1]-o)/o,this.updateRotationVector()}}),f(this,"pointerup",i=>{if(this.dragToLook)this.mouseStatus--,this.moveState.yawLeft=this.moveState.pitchDown=0;else{switch(i.button){case 0:this.moveState.forward=0;break;case 2:this.moveState.back=0;break}this.updateMovementVector()}this.updateRotationVector()}),f(this,"lastQuaternion",new He),f(this,"lastPosition",new H),f(this,"update",i=>{const s=i*this.movementSpeed,r=i*this.rollSpeed;this.object.translateX(this.moveVector.x*s),this.object.translateY(this.moveVector.y*s),this.object.translateZ(this.moveVector.z*s),this.tmpQuaternion.set(this.rotationVector.x*r,this.rotationVector.y*r,this.rotationVector.z*r,1).normalize(),this.object.quaternion.multiply(this.tmpQuaternion),(this.lastPosition.distanceToSquared(this.object.position)>this.EPS||8*(1-this.lastQuaternion.dot(this.object.quaternion))>this.EPS)&&(this.dispatchEvent(this.changeEvent),this.lastQuaternion.copy(this.object.quaternion),this.lastPosition.copy(this.object.position))}),f(this,"updateMovementVector",()=>{const i=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.y=-this.moveState.down+this.moveState.up,this.moveVector.z=-i+this.moveState.back}),f(this,"updateRotationVector",()=>{this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft}),f(this,"getContainerDimensions",()=>this.domElement!=document&&!(this.domElement instanceof Document)?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}),f(this,"connect",i=>{this.domElement=i,i&&!(i instanceof Document)&&i.setAttribute("tabindex",-1),this.domElement.addEventListener("contextmenu",oa),this.domElement.addEventListener("pointermove",this.pointermove),this.domElement.addEventListener("pointerdown",this.pointerdown),this.domElement.addEventListener("pointerup",this.pointerup),window.addEventListener("keydown",this.keydown),window.addEventListener("keyup",this.keyup)}),f(this,"dispose",()=>{this.domElement.removeEventListener("contextmenu",oa),this.domElement.removeEventListener("pointermove",this.pointermove),this.domElement.removeEventListener("pointerdown",this.pointerdown),this.domElement.removeEventListener("pointerup",this.pointerup),window.removeEventListener("keydown",this.keydown),window.removeEventListener("keyup",this.keyup)}),this.object=e,t!==void 0&&this.connect(t),this.updateMovementVector(),this.updateRotationVector()}}class Xs{constructor(){f(this,"enabled",!0),f(this,"needsSwap",!0),f(this,"clear",!1),f(this,"renderToScreen",!1)}setSize(e,t){}render(e,t,i,s,r){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}class Dc{constructor(e){f(this,"camera",new ut(-1,1,1,-1,0,1)),f(this,"geometry",new Pi(2,2)),f(this,"mesh"),this.mesh=new Ie(this.geometry,e)}get material(){return this.mesh.material}set material(e){this.mesh.material=e}dispose(){this.mesh.geometry.dispose()}render(e){e.render(this.mesh,this.camera)}}class aa extends Xs{constructor(e,t="tDiffuse"){super(),f(this,"textureID"),f(this,"uniforms"),f(this,"material"),f(this,"fsQuad"),this.textureID=t,e instanceof $n?(this.uniforms=e.uniforms,this.material=e):(this.uniforms=_s.clone(e.uniforms),this.material=new $n({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new Dc(this.material)}render(e,t,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}}const Aa={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	gl_FragColor = opacity * texel;","}"].join(`
`)};class ca extends Xs{constructor(e,t){super(),f(this,"scene"),f(this,"camera"),f(this,"inverse"),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,i){const s=e.getContext(),r=e.state;r.buffers.color.setMask(!1),r.buffers.depth.setMask(!1),r.buffers.color.setLocked(!0),r.buffers.depth.setLocked(!0);let o,a;this.inverse?(o=0,a=1):(o=1,a=0),r.buffers.stencil.setTest(!0),r.buffers.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),r.buffers.stencil.setFunc(s.ALWAYS,o,4294967295),r.buffers.stencil.setClear(a),r.buffers.stencil.setLocked(!0),e.setRenderTarget(i),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),r.buffers.color.setLocked(!1),r.buffers.depth.setLocked(!1),r.buffers.stencil.setLocked(!1),r.buffers.stencil.setFunc(s.EQUAL,1,4294967295),r.buffers.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),r.buffers.stencil.setLocked(!0)}}class Qc extends Xs{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class al{constructor(e,t){if(f(this,"renderer"),f(this,"_pixelRatio"),f(this,"_width"),f(this,"_height"),f(this,"renderTarget1"),f(this,"renderTarget2"),f(this,"writeBuffer"),f(this,"readBuffer"),f(this,"renderToScreen"),f(this,"passes",[]),f(this,"copyPass"),f(this,"clock"),this.renderer=e,t===void 0){const i={minFilter:mi,magFilter:mi,format:an},s=e.getSize(new Se);this._pixelRatio=e.getPixelRatio(),this._width=s.width,this._height=s.height,t=new f0(this._width*this._pixelRatio,this._height*this._pixelRatio,i),t.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,Aa===void 0&&console.error("THREE.EffectComposer relies on CopyShader"),aa===void 0&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new aa(Aa),this.copyPass.material.blending=p0,this.clock=new g0}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const t=this.passes.indexOf(e);t!==-1&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const t=this.renderer.getRenderTarget();let i=!1;const s=this.passes.length;for(let r=0;r<s;r++){const o=this.passes[r];if(o.enabled!==!1){if(o.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),o.render(this.renderer,this.writeBuffer,this.readBuffer,e,i),o.needsSwap){if(i){const a=this.renderer.getContext(),A=this.renderer.state.buffers.stencil;A.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),A.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}ca!==void 0&&(o instanceof ca?i=!0:o instanceof Qc&&(i=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(e===void 0){const t=this.renderer.getSize(new Se);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;const i=this._width*this._pixelRatio,s=this._height*this._pixelRatio;this.renderTarget1.setSize(i,s),this.renderTarget2.setSize(i,s);for(let r=0;r<this.passes.length;r++)this.passes[r].setSize(i,s)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}}class Al extends Xs{constructor(e,t,i,s,r=0){super(),f(this,"scene"),f(this,"camera"),f(this,"overrideMaterial"),f(this,"clearColor"),f(this,"clearAlpha"),f(this,"clearDepth",!1),f(this,"_oldClearColor",new et),this.scene=e,this.camera=t,this.overrideMaterial=i,this.clearColor=s,this.clearAlpha=r,this.clear=!0,this.needsSwap=!1}render(e,t,i){let s=e.autoClear;e.autoClear=!1;let r,o=null;this.overrideMaterial!==void 0&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),r=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:i),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,r),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=o),e.autoClear=s}}class Ao extends Dn{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new _c(t)}),this.register(function(t){return new Hc(t)}),this.register(function(t){return new Jc(t)}),this.register(function(t){return new zc(t)}),this.register(function(t){return new kc(t)}),this.register(function(t){return new Gc(t)}),this.register(function(t){return new Uc(t)}),this.register(function(t){return new Pc(t)}),this.register(function(t){return new Rc(t)}),this.register(function(t){return new Oc(t)}),this.register(function(t){return new Lc(t)}),this.register(function(t){return new Nc(t)}),this.register(function(t){return new Tc(t)}),this.register(function(t){return new Yc(t)}),this.register(function(t){return new Kc(t)})}load(e,t,i,s){const r=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=pi.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){s?s(c):console.error(c),r.manager.itemError(e),r.manager.itemEnd(e)},A=new gi(this.manager);A.setPath(this.path),A.setResponseType("arraybuffer"),A.setRequestHeader(this.requestHeader),A.setWithCredentials(this.withCredentials),A.load(e,function(c){try{r.parse(c,o,function(h){t(h),r.manager.itemEnd(e)},a)}catch(h){a(h)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,s){let r;const o={},a={};if(typeof e=="string")r=JSON.parse(e);else if(e instanceof ArrayBuffer)if(pi.decodeText(new Uint8Array(e.slice(0,4)))===k3){try{o[Ne.KHR_BINARY_GLTF]=new Xc(e)}catch(h){s&&s(h);return}r=JSON.parse(o[Ne.KHR_BINARY_GLTF].content)}else r=JSON.parse(pi.decodeText(new Uint8Array(e)));else r=e;if(r.asset===void 0||r.asset.version[0]<2){s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const A=new oh(r,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});A.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const h=this.pluginCallbacks[c](A);a[h.name]=h,o[h.name]=!0}if(r.extensionsUsed)for(let c=0;c<r.extensionsUsed.length;++c){const h=r.extensionsUsed[c],l=r.extensionsRequired||[];switch(h){case Ne.KHR_MATERIALS_UNLIT:o[h]=new Mc;break;case Ne.KHR_DRACO_MESH_COMPRESSION:o[h]=new qc(r,this.dracoLoader);break;case Ne.KHR_TEXTURE_TRANSFORM:o[h]=new jc;break;case Ne.KHR_MESH_QUANTIZATION:o[h]=new Vc;break;default:l.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}A.setExtensions(o),A.setPlugins(a),A.parse(i,s)}parseAsync(e,t){const i=this;return new Promise(function(s,r){i.parse(e,t,s,r)})}}function Fc(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Ne={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Tc{constructor(e){this.parser=e,this.name=Ne.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,s=t.length;i<s;i++){const r=t[i];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let s=t.cache.get(i);if(s)return s;const r=t.json,A=((r.extensions&&r.extensions[this.name]||{}).lights||[])[e];let c;const h=new et(16777215);A.color!==void 0&&h.fromArray(A.color);const l=A.range!==void 0?A.range:0;switch(A.type){case"directional":c=new wa(h),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new wr(h),c.distance=l;break;case"spot":c=new Sa(h),c.distance=l,A.spot=A.spot||{},A.spot.innerConeAngle=A.spot.innerConeAngle!==void 0?A.spot.innerConeAngle:0,A.spot.outerConeAngle=A.spot.outerConeAngle!==void 0?A.spot.outerConeAngle:Math.PI/4,c.angle=A.spot.outerConeAngle,c.penumbra=1-A.spot.innerConeAngle/A.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+A.type)}return c.position.set(0,0,0),c.decay=2,Hi(c,A),A.intensity!==void 0&&(c.intensity=A.intensity),c.name=t.createUniqueName(A.name||"light_"+e),s=Promise.resolve(c),t.cache.add(i,s),s}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,r=i.json.nodes[e],a=(r.extensions&&r.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(A){return i._getNodeRef(t.cache,a,A)})}}class Mc{constructor(){this.name=Ne.KHR_MATERIALS_UNLIT}getMaterialType(){return rn}extendParams(e,t,i){const s=[];e.color=new et(1,1,1),e.opacity=1;const r=t.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const o=r.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}r.baseColorTexture!==void 0&&s.push(i.assignTexture(e,"map",r.baseColorTexture,3001))}return Promise.all(s)}}class Rc{constructor(e){this.parser=e,this.name=Ne.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name].emissiveStrength;return r!==void 0&&(t.emissiveIntensity=r),Promise.resolve()}}class _c{constructor(e){this.parser=e,this.name=Ne.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Di}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&r.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&r.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(r.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Se(a,a)}return Promise.all(r)}}class Lc{constructor(e){this.parser=e,this.name=Ne.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Di}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&r.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&r.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(r)}}class kc{constructor(e){this.parser=e,this.name=Ne.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Di}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[];t.sheenColor=new et(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=s.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&r.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&r.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(r)}}class Gc{constructor(e){this.parser=e,this.name=Ne.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Di}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&r.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(r)}}class Uc{constructor(e){this.parser=e,this.name=Ne.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Di}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&r.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new et(a[0],a[1],a[2]),Promise.all(r)}}class Pc{constructor(e){this.parser=e,this.name=Ne.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Di}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name];return t.ior=r.ior!==void 0?r.ior:1.5,Promise.resolve()}}class Oc{constructor(e){this.parser=e,this.name=Ne.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Di}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&r.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new et(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&r.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,3001)),Promise.all(r)}}class Nc{constructor(e){this.parser=e,this.name=Ne.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Di}extendMaterialParams(e,t){const i=this.parser,s=i.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&r.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(r)}}class Hc{constructor(e){this.parser=e,this.name=Ne.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,s=i.textures[e];if(!s.extensions||!s.extensions[this.name])return null;const r=s.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,r.source,o)}}class Jc{constructor(e){this.parser=e,this.name=Ne.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,s=i.json,r=s.textures[e];if(!r.extensions||!r.extensions[t])return null;const o=r.extensions[t],a=s.images[o.source];let A=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(A=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,A);if(s.extensionsRequired&&s.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class zc{constructor(e){this.parser=e,this.name=Ne.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,s=i.json,r=s.textures[e];if(!r.extensions||!r.extensions[t])return null;const o=r.extensions[t],a=s.images[o.source];let A=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(A=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,A);if(s.extensionsRequired&&s.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Yc{constructor(e){this.name=Ne.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const s=i.extensions[this.name],r=this.parser.getDependency("buffer",s.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then(function(a){const A=s.byteOffset||0,c=s.byteLength||0,h=s.count,l=s.byteStride,u=new Uint8Array(a,A,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(h,l,u,s.mode,s.filter).then(function(p){return p.buffer}):o.ready.then(function(){const p=new ArrayBuffer(h*l);return o.decodeGltfBuffer(new Uint8Array(p),h,l,u,s.mode,s.filter),p})})}else return null}}class Kc{constructor(e){this.name=Ne.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const s=t.meshes[i.mesh];for(const c of s.primitives)if(c.mode!==Ut.TRIANGLES&&c.mode!==Ut.TRIANGLE_STRIP&&c.mode!==Ut.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],A={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(h=>(A[c]=h,A[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const h=c.pop(),l=h.isGroup?h.children:[h],u=c[0].count,p=[];for(const C of l){const v=new De,B=new H,I=new He,E=new H(1,1,1),g=new ba(C.geometry,C.material,u);for(let x=0;x<u;x++)A.TRANSLATION&&B.fromBufferAttribute(A.TRANSLATION,x),A.ROTATION&&I.fromBufferAttribute(A.ROTATION,x),A.SCALE&&E.fromBufferAttribute(A.SCALE,x),g.setMatrixAt(x,v.compose(B,I,E));for(const x in A)x!=="TRANSLATION"&&x!=="ROTATION"&&x!=="SCALE"&&C.geometry.setAttribute(x,A[x]);wi.prototype.copy.call(g,C),this.parser.assignFinalMaterial(g),p.push(g)}return h.isGroup?(h.clear(),h.add(...p),h):p[0]}))}}const k3="glTF",Un=12,ha={JSON:1313821514,BIN:5130562};class Xc{constructor(e){this.name=Ne.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Un);if(this.header={magic:pi.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==k3)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Un,s=new DataView(e,Un);let r=0;for(;r<i;){const o=s.getUint32(r,!0);r+=4;const a=s.getUint32(r,!0);if(r+=4,a===ha.JSON){const A=new Uint8Array(e,Un+r,o);this.content=pi.decodeText(A)}else if(a===ha.BIN){const A=Un+r;this.body=e.slice(A,A+o)}r+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class qc{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Ne.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,s=this.dracoLoader,r=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},A={},c={};for(const h in o){const l=Hr[h]||h.toLowerCase();a[l]=o[h]}for(const h in e.attributes){const l=Hr[h]||h.toLowerCase();if(o[h]!==void 0){const u=i.accessors[e.attributes[h]],p=Sn[u.componentType];c[l]=p.name,A[l]=u.normalized===!0}}return t.getDependency("bufferView",r).then(function(h){return new Promise(function(l){s.decodeDracoFile(h,function(u){for(const p in u.attributes){const C=u.attributes[p],v=A[p];v!==void 0&&(C.normalized=v)}l(u)},a,c)})})}}class jc{constructor(){this.name=Ne.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Vc{constructor(){this.name=Ne.KHR_MESH_QUANTIZATION}}class G3 extends L0{constructor(e,t,i,s){super(e,t,i,s)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=e*s*3+s;for(let o=0;o!==s;o++)t[o]=i[r+o];return t}interpolate_(e,t,i,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,A=a*2,c=a*3,h=s-t,l=(i-t)/h,u=l*l,p=u*l,C=e*c,v=C-c,B=-2*p+3*u,I=p-u,E=1-B,g=I-u+l;for(let x=0;x!==a;x++){const w=o[v+x+a],b=o[v+x+A]*h,D=o[C+x+a],S=o[C+x]*h;r[x]=E*w+g*b+B*D+I*S}return r}}const Wc=new He;class Zc extends G3{interpolate_(e,t,i,s){const r=super.interpolate_(e,t,i,s);return Wc.fromArray(r).normalize().toArray(r),r}}const Ut={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Sn={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},la={9728:Ls,9729:mi,9984:d0,9985:m0,9986:v0,9987:Yr},ua={33071:Zn,33648:B0,10497:cn},lr={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Hr={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...M3>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Li={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},$c={CUBICSPLINE:void 0,LINEAR:Ta,STEP:C0},ur={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function eh(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Kr({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:E0})),n.DefaultMaterial}function tn(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Hi(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function th(n,e,t){let i=!1,s=!1,r=!1;for(let c=0,h=e.length;c<h;c++){const l=e[c];if(l.POSITION!==void 0&&(i=!0),l.NORMAL!==void 0&&(s=!0),l.COLOR_0!==void 0&&(r=!0),i&&s&&r)break}if(!i&&!s&&!r)return Promise.resolve(n);const o=[],a=[],A=[];for(let c=0,h=e.length;c<h;c++){const l=e[c];if(i){const u=l.POSITION!==void 0?t.getDependency("accessor",l.POSITION):n.attributes.position;o.push(u)}if(s){const u=l.NORMAL!==void 0?t.getDependency("accessor",l.NORMAL):n.attributes.normal;a.push(u)}if(r){const u=l.COLOR_0!==void 0?t.getDependency("accessor",l.COLOR_0):n.attributes.color;A.push(u)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(A)]).then(function(c){const h=c[0],l=c[1],u=c[2];return i&&(n.morphAttributes.position=h),s&&(n.morphAttributes.normal=l),r&&(n.morphAttributes.color=u),n.morphTargetsRelative=!0,n})}function ih(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,s=t.length;i<s;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function nh(n){let e;const t=n.extensions&&n.extensions[Ne.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+fr(t.attributes):e=n.indices+":"+fr(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,s=n.targets.length;i<s;i++)e+=":"+fr(n.targets[i]);return e}function fr(n){let e="";const t=Object.keys(n).sort();for(let i=0,s=t.length;i<s;i++)e+=t[i]+":"+n[t[i]]+";";return e}function Jr(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function sh(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const rh=new De;class oh{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Fc,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,s=!1,r=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,s=navigator.userAgent.indexOf("Firefox")>-1,r=s?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||s&&r<98?this.textureLoader=new Da(this.options.manager):this.textureLoader=new e0(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new gi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,s=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][s.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:s.asset,parser:i,userData:{}};tn(r,a,s),Hi(a,s),Promise.all(i._invokeAll(function(A){return A.afterRoot&&A.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let s=0,r=t.length;s<r;s++){const o=t[s].joints;for(let a=0,A=o.length;a<A;a++)e[o[a]].isBone=!0}for(let s=0,r=e.length;s<r;s++){const o=e[s];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const s=i.clone(),r=(o,a)=>{const A=this.associations.get(o);A!=null&&this.associations.set(a,A);for(const[c,h]of o.children.entries())r(h,a.children[c])};return r(i,s),s.name+="_instance_"+e.uses[t]++,s}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const s=e(t[i]);if(s)return s}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let s=0;s<t.length;s++){const r=e(t[s]);r&&i.push(r)}return i}getDependency(e,t){const i=e+":"+t;let s=this.cache.get(i);if(!s){switch(e){case"scene":s=this.loadScene(t);break;case"node":s=this._invokeOne(function(r){return r.loadNode&&r.loadNode(t)});break;case"mesh":s=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(t)});break;case"accessor":s=this.loadAccessor(t);break;case"bufferView":s=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(t)});break;case"buffer":s=this.loadBuffer(t);break;case"material":s=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(t)});break;case"texture":s=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(t)});break;case"skin":s=this.loadSkin(t);break;case"animation":s=this._invokeOne(function(r){return r.loadAnimation&&r.loadAnimation(t)});break;case"camera":s=this.loadCamera(t);break;default:if(s=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(e,t)}),!s)throw new Error("Unknown type: "+e);break}this.cache.add(i,s)}return s}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,s=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(s.map(function(r,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Ne.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(r,o){i.load(pi.resolveURL(t.uri,s.path),r,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const s=t.byteLength||0,r=t.byteOffset||0;return i.slice(r,r+s)})}loadAccessor(e){const t=this,i=this.json,s=this.json.accessors[e];if(s.bufferView===void 0&&s.sparse===void 0){const o=lr[s.type],a=Sn[s.componentType],A=s.normalized===!0,c=new a(s.count*o);return Promise.resolve(new Ot(c,o,A))}const r=[];return s.bufferView!==void 0?r.push(this.getDependency("bufferView",s.bufferView)):r.push(null),s.sparse!==void 0&&(r.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(r).then(function(o){const a=o[0],A=lr[s.type],c=Sn[s.componentType],h=c.BYTES_PER_ELEMENT,l=h*A,u=s.byteOffset||0,p=s.bufferView!==void 0?i.bufferViews[s.bufferView].byteStride:void 0,C=s.normalized===!0;let v,B;if(p&&p!==l){const I=Math.floor(u/p),E="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+I+":"+s.count;let g=t.cache.get(E);g||(v=new c(a,I*p,s.count*p/h),g=new t0(v,p/h),t.cache.add(E,g)),B=new on(g,A,u%p/h,C)}else a===null?v=new c(s.count*A):v=new c(a,u,s.count*A),B=new Ot(v,A,C);if(s.sparse!==void 0){const I=lr.SCALAR,E=Sn[s.sparse.indices.componentType],g=s.sparse.indices.byteOffset||0,x=s.sparse.values.byteOffset||0,w=new E(o[1],g,s.sparse.count*I),b=new c(o[2],x,s.sparse.count*A);a!==null&&(B=new Ot(B.array.slice(),B.itemSize,B.normalized));for(let D=0,S=w.length;D<S;D++){const M=w[D];if(B.setX(M,b[D*A]),A>=2&&B.setY(M,b[D*A+1]),A>=3&&B.setZ(M,b[D*A+2]),A>=4&&B.setW(M,b[D*A+3]),A>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return B})}loadTexture(e){const t=this.json,i=this.options,r=t.textures[e].source,o=t.images[r];let a=this.textureLoader;if(o.uri){const A=i.manager.getHandler(o.uri);A!==null&&(a=A)}return this.loadTextureImage(e,r,a)}loadTextureImage(e,t,i){const s=this,r=this.json,o=r.textures[e],a=r.images[t],A=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[A])return this.textureCache[A];const c=this.loadImageSource(t,i).then(function(h){h.flipY=!1,h.name=o.name||a.name||"",h.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(h.name=a.uri);const u=(r.samplers||{})[o.sampler]||{};return h.magFilter=la[u.magFilter]||mi,h.minFilter=la[u.minFilter]||Yr,h.wrapS=ua[u.wrapS]||cn,h.wrapT=ua[u.wrapT]||cn,s.associations.set(h,{textures:e}),h}).catch(function(){return null});return this.textureCache[A]=c,c}loadImageSource(e,t){const i=this,s=this.json,r=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(l=>l.clone());const o=s.images[e],a=self.URL||self.webkitURL;let A=o.uri||"",c=!1;if(o.bufferView!==void 0)A=i.getDependency("bufferView",o.bufferView).then(function(l){c=!0;const u=new Blob([l],{type:o.mimeType});return A=a.createObjectURL(u),A});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(A).then(function(l){return new Promise(function(u,p){let C=u;t.isImageBitmapLoader===!0&&(C=function(v){const B=new wn(v);B.needsUpdate=!0,u(B)}),t.load(pi.resolveURL(l,r.path),C,void 0,p)})}).then(function(l){return c===!0&&a.revokeObjectURL(A),l.userData.mimeType=o.mimeType||sh(o.uri),l}).catch(function(l){throw console.error("THREE.GLTFLoader: Couldn't load texture",A),l});return this.sourceCache[e]=h,h}assignTexture(e,t,i,s){const r=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),r.extensions[Ne.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Ne.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const A=r.associations.get(o);o=r.extensions[Ne.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),r.associations.set(o,A)}}return s!==void 0&&("colorSpace"in o?o.colorSpace=s===3001?"srgb":"srgb-linear":o.encoding=s),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const s=t.attributes.tangent===void 0,r=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let A=this.cache.get(a);A||(A=new i0,qs.prototype.copy.call(A,i),A.color.copy(i.color),A.map=i.map,A.sizeAttenuation=!1,this.cache.add(a,A)),i=A}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let A=this.cache.get(a);A||(A=new En,qs.prototype.copy.call(A,i),A.color.copy(i.color),A.map=i.map,this.cache.add(a,A)),i=A}if(s||r||o){let a="ClonedMaterial:"+i.uuid+":";s&&(a+="derivative-tangents:"),r&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let A=this.cache.get(a);A||(A=i.clone(),r&&(A.vertexColors=!0),o&&(A.flatShading=!0),s&&(A.normalScale&&(A.normalScale.y*=-1),A.clearcoatNormalScale&&(A.clearcoatNormalScale.y*=-1)),this.cache.add(a,A),this.associations.set(A,this.associations.get(i))),i=A}e.material=i}getMaterialType(){return Kr}loadMaterial(e){const t=this,i=this.json,s=this.extensions,r=i.materials[e];let o;const a={},A=r.extensions||{},c=[];if(A[Ne.KHR_MATERIALS_UNLIT]){const l=s[Ne.KHR_MATERIALS_UNLIT];o=l.getMaterialType(),c.push(l.extendParams(a,r,t))}else{const l=r.pbrMetallicRoughness||{};if(a.color=new et(1,1,1),a.opacity=1,Array.isArray(l.baseColorFactor)){const u=l.baseColorFactor;a.color.fromArray(u),a.opacity=u[3]}l.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",l.baseColorTexture,3001)),a.metalness=l.metallicFactor!==void 0?l.metallicFactor:1,a.roughness=l.roughnessFactor!==void 0?l.roughnessFactor:1,l.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",l.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",l.metallicRoughnessTexture))),o=this._invokeOne(function(u){return u.getMaterialType&&u.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(u){return u.extendMaterialParams&&u.extendMaterialParams(e,a)})))}r.doubleSided===!0&&(a.side=Js);const h=r.alphaMode||ur.OPAQUE;if(h===ur.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,h===ur.MASK&&(a.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&o!==rn&&(c.push(t.assignTexture(a,"normalMap",r.normalTexture)),a.normalScale=new Se(1,1),r.normalTexture.scale!==void 0)){const l=r.normalTexture.scale;a.normalScale.set(l,l)}return r.occlusionTexture!==void 0&&o!==rn&&(c.push(t.assignTexture(a,"aoMap",r.occlusionTexture)),r.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&o!==rn&&(a.emissive=new et().fromArray(r.emissiveFactor)),r.emissiveTexture!==void 0&&o!==rn&&c.push(t.assignTexture(a,"emissiveMap",r.emissiveTexture,3001)),Promise.all(c).then(function(){const l=new o(a);return r.name&&(l.name=r.name),Hi(l,r),t.associations.set(l,{materials:e}),r.extensions&&tn(s,l,r),l})}createUniqueName(e){const t=Wn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,s=this.primitiveCache;function r(a){return i[Ne.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(A){return fa(A,a,t)})}const o=[];for(let a=0,A=e.length;a<A;a++){const c=e[a],h=nh(c),l=s[h];if(l)o.push(l.promise);else{let u;c.extensions&&c.extensions[Ne.KHR_DRACO_MESH_COMPRESSION]?u=r(c):u=fa(new bt,c,t),s[h]={primitive:c,promise:u},o.push(u)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,s=this.extensions,r=i.meshes[e],o=r.primitives,a=[];for(let A=0,c=o.length;A<c;A++){const h=o[A].material===void 0?eh(this.cache):this.getDependency("material",o[A].material);a.push(h)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(A){const c=A.slice(0,A.length-1),h=A[A.length-1],l=[];for(let p=0,C=h.length;p<C;p++){const v=h[p],B=o[p];let I;const E=c[p];if(B.mode===Ut.TRIANGLES||B.mode===Ut.TRIANGLE_STRIP||B.mode===Ut.TRIANGLE_FAN||B.mode===void 0)I=r.isSkinnedMesh===!0?new Qa(v,E):new Ie(v,E),I.isSkinnedMesh===!0&&I.normalizeSkinWeights(),B.mode===Ut.TRIANGLE_STRIP?I.geometry=ta(I.geometry,Ra):B.mode===Ut.TRIANGLE_FAN&&(I.geometry=ta(I.geometry,Dr));else if(B.mode===Ut.LINES)I=new n0(v,E);else if(B.mode===Ut.LINE_STRIP)I=new Pe(v,E);else if(B.mode===Ut.LINE_LOOP)I=new s0(v,E);else if(B.mode===Ut.POINTS)I=new r0(v,E);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+B.mode);Object.keys(I.geometry.morphAttributes).length>0&&ih(I,r),I.name=t.createUniqueName(r.name||"mesh_"+e),Hi(I,r),B.extensions&&tn(s,I,B),t.assignFinalMaterial(I),l.push(I)}for(let p=0,C=l.length;p<C;p++)t.associations.set(l[p],{meshes:e,primitives:p});if(l.length===1)return r.extensions&&tn(s,l[0],r),l[0];const u=new In;r.extensions&&tn(s,u,r),t.associations.set(u,{meshes:e});for(let p=0,C=l.length;p<C;p++)u.add(l[p]);return u})}loadCamera(e){let t;const i=this.json.cameras[e],s=i[i.type];if(!s){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new st(Fe.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):i.type==="orthographic"&&(t=new ut(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Hi(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let s=0,r=t.joints.length;s<r;s++)i.push(this._loadNodeShallow(t.joints[s]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(s){const r=s.pop(),o=s,a=[],A=[];for(let c=0,h=o.length;c<h;c++){const l=o[c];if(l){a.push(l);const u=new De;r!==null&&u.fromArray(r.array,c*16),A.push(u)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new Fa(a,A)})}loadAnimation(e){const i=this.json.animations[e],s=i.name?i.name:"animation_"+e,r=[],o=[],a=[],A=[],c=[];for(let h=0,l=i.channels.length;h<l;h++){const u=i.channels[h],p=i.samplers[u.sampler],C=u.target,v=C.node,B=i.parameters!==void 0?i.parameters[p.input]:p.input,I=i.parameters!==void 0?i.parameters[p.output]:p.output;C.node!==void 0&&(r.push(this.getDependency("node",v)),o.push(this.getDependency("accessor",B)),a.push(this.getDependency("accessor",I)),A.push(p),c.push(C))}return Promise.all([Promise.all(r),Promise.all(o),Promise.all(a),Promise.all(A),Promise.all(c)]).then(function(h){const l=h[0],u=h[1],p=h[2],C=h[3],v=h[4],B=[];for(let I=0,E=l.length;I<E;I++){const g=l[I],x=u[I],w=p[I],b=C[I],D=v[I];if(g===void 0)continue;g.updateMatrix();let S;switch(Li[D.path]){case Li.weights:S=Ma;break;case Li.rotation:S=Rs;break;case Li.position:case Li.scale:default:S=qr;break}const M=g.name?g.name:g.uuid,T=b.interpolation!==void 0?$c[b.interpolation]:Ta,U=[];Li[D.path]===Li.weights?g.traverse(function(K){K.morphTargetInfluences&&U.push(K.name?K.name:K.uuid)}):U.push(M);let k=w.array;if(w.normalized){const K=Jr(k.constructor),z=new Float32Array(k.length);for(let $=0,ae=k.length;$<ae;$++)z[$]=k[$]*K;k=z}for(let K=0,z=U.length;K<z;K++){const $=new S(U[K]+"."+Li[D.path],x.array,k,T);b.interpolation==="CUBICSPLINE"&&($.createInterpolant=function(Z){const Y=this instanceof Rs?Zc:G3;return new Y(this.times,this.values,this.getValueSize()/3,Z)},$.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),B.push($)}}return new Xr(s,void 0,B)})}createNodeMesh(e){const t=this.json,i=this,s=t.nodes[e];return s.mesh===void 0?null:i.getDependency("mesh",s.mesh).then(function(r){const o=i._getNodeRef(i.meshCache,s.mesh,r);return s.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let A=0,c=s.weights.length;A<c;A++)a.morphTargetInfluences[A]=s.weights[A]}),o})}loadNode(e){const t=this.json,i=this,s=t.nodes[e],r=i._loadNodeShallow(e),o=[],a=s.children||[];for(let c=0,h=a.length;c<h;c++)o.push(i.getDependency("node",a[c]));const A=s.skin===void 0?Promise.resolve(null):i.getDependency("skin",s.skin);return Promise.all([r,Promise.all(o),A]).then(function(c){const h=c[0],l=c[1],u=c[2];u!==null&&h.traverse(function(p){p.isSkinnedMesh&&p.bind(u,rh)});for(let p=0,C=l.length;p<C;p++)h.add(l[p]);return h})}_loadNodeShallow(e){const t=this.json,i=this.extensions,s=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const r=t.nodes[e],o=r.name?s.createUniqueName(r.name):"",a=[],A=s._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return A&&a.push(A),r.camera!==void 0&&a.push(s.getDependency("camera",r.camera).then(function(c){return s._getNodeRef(s.cameraCache,r.camera,c)})),s._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let h;if(r.isBone===!0?h=new br:c.length>1?h=new In:c.length===1?h=c[0]:h=new wi,h!==c[0])for(let l=0,u=c.length;l<u;l++)h.add(c[l]);if(r.name&&(h.userData.name=r.name,h.name=o),Hi(h,r),r.extensions&&tn(i,h,r),r.matrix!==void 0){const l=new De;l.fromArray(r.matrix),h.applyMatrix4(l)}else r.translation!==void 0&&h.position.fromArray(r.translation),r.rotation!==void 0&&h.quaternion.fromArray(r.rotation),r.scale!==void 0&&h.scale.fromArray(r.scale);return s.associations.has(h)||s.associations.set(h,{}),s.associations.get(h).nodes=e,h}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],s=this,r=new In;i.name&&(r.name=s.createUniqueName(i.name)),Hi(r,i),i.extensions&&tn(t,r,i);const o=i.nodes||[],a=[];for(let A=0,c=o.length;A<c;A++)a.push(s.getDependency("node",o[A]));return Promise.all(a).then(function(A){for(let h=0,l=A.length;h<l;h++)r.add(A[h]);const c=h=>{const l=new Map;for(const[u,p]of s.associations)(u instanceof qs||u instanceof wn)&&l.set(u,p);return h.traverse(u=>{const p=s.associations.get(u);p!=null&&l.set(u,p)}),l};return s.associations=c(r),r})}}function ah(n,e,t){const i=e.attributes,s=new Qn;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],A=a.min,c=a.max;if(A!==void 0&&c!==void 0){if(s.set(new H(A[0],A[1],A[2]),new H(c[0],c[1],c[2])),a.normalized){const h=Jr(Sn[a.componentType]);s.min.multiplyScalar(h),s.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const r=e.targets;if(r!==void 0){const a=new H,A=new H;for(let c=0,h=r.length;c<h;c++){const l=r[c];if(l.POSITION!==void 0){const u=t.json.accessors[l.POSITION],p=u.min,C=u.max;if(p!==void 0&&C!==void 0){if(A.setX(Math.max(Math.abs(p[0]),Math.abs(C[0]))),A.setY(Math.max(Math.abs(p[1]),Math.abs(C[1]))),A.setZ(Math.max(Math.abs(p[2]),Math.abs(C[2]))),u.normalized){const v=Jr(Sn[u.componentType]);A.multiplyScalar(v)}a.max(A)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(a)}n.boundingBox=s;const o=new ns;s.getCenter(o.center),o.radius=s.min.distanceTo(s.max)/2,n.boundingSphere=o}function fa(n,e,t){const i=e.attributes,s=[];function r(o,a){return t.getDependency("accessor",o).then(function(A){n.setAttribute(a,A)})}for(const o in i){const a=Hr[o]||o.toLowerCase();a in n.attributes||s.push(r(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});s.push(o)}return Hi(n,e),ah(n,e,t),Promise.all(s).then(function(){return e.targets!==void 0?th(n,e.targets,t):n})}class cl extends bt{constructor(e,t,i,s){super();const r=[],o=[],a=[],A=new H,c=new De;c.makeRotationFromEuler(i),c.setPosition(t);const h=new De;h.copy(c).invert(),l(),this.setAttribute("position",new dt(r,3)),this.setAttribute("normal",new dt(o,3)),this.setAttribute("uv",new dt(a,2));function l(){let v,B=[];const I=new H,E=new H;if(e.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const g=e.geometry,x=g.attributes.position,w=g.attributes.normal;if(g.index!==null){const b=g.index;for(v=0;v<b.count;v++)I.fromBufferAttribute(x,b.getX(v)),E.fromBufferAttribute(w,b.getX(v)),u(B,I,E)}else for(v=0;v<x.count;v++)I.fromBufferAttribute(x,v),E.fromBufferAttribute(w,v),u(B,I,E);for(B=p(B,A.set(1,0,0)),B=p(B,A.set(-1,0,0)),B=p(B,A.set(0,1,0)),B=p(B,A.set(0,-1,0)),B=p(B,A.set(0,0,1)),B=p(B,A.set(0,0,-1)),v=0;v<B.length;v++){const b=B[v];a.push(.5+b.position.x/s.x,.5+b.position.y/s.y),b.position.applyMatrix4(c),r.push(b.position.x,b.position.y,b.position.z),o.push(b.normal.x,b.normal.y,b.normal.z)}}function u(v,B,I){B.applyMatrix4(e.matrixWorld),B.applyMatrix4(h),I.transformDirection(e.matrixWorld),v.push(new pa(B.clone(),I.clone()))}function p(v,B){const I=[],E=.5*Math.abs(s.dot(B));for(let g=0;g<v.length;g+=3){let x,w,b,D=0,S,M,T,U;const k=v[g+0].position.dot(B)-E,K=v[g+1].position.dot(B)-E,z=v[g+2].position.dot(B)-E;switch(x=k>0,w=K>0,b=z>0,D=(x?1:0)+(w?1:0)+(b?1:0),D){case 0:{I.push(v[g]),I.push(v[g+1]),I.push(v[g+2]);break}case 1:{if(x&&(S=v[g+1],M=v[g+2],T=C(v[g],S,B,E),U=C(v[g],M,B,E)),w){S=v[g],M=v[g+2],T=C(v[g+1],S,B,E),U=C(v[g+1],M,B,E),I.push(T),I.push(M.clone()),I.push(S.clone()),I.push(M.clone()),I.push(T.clone()),I.push(U);break}b&&(S=v[g],M=v[g+1],T=C(v[g+2],S,B,E),U=C(v[g+2],M,B,E)),I.push(S.clone()),I.push(M.clone()),I.push(T),I.push(U),I.push(T.clone()),I.push(M.clone());break}case 2:{x||(S=v[g].clone(),M=C(S,v[g+1],B,E),T=C(S,v[g+2],B,E),I.push(S),I.push(M),I.push(T)),w||(S=v[g+1].clone(),M=C(S,v[g+2],B,E),T=C(S,v[g],B,E),I.push(S),I.push(M),I.push(T)),b||(S=v[g+2].clone(),M=C(S,v[g],B,E),T=C(S,v[g+1],B,E),I.push(S),I.push(M),I.push(T));break}}}return I}function C(v,B,I,E){const g=v.position.dot(I)-E,x=B.position.dot(I)-E,w=g/(g-x);return new pa(new H(v.position.x+w*(B.position.x-v.position.x),v.position.y+w*(B.position.y-v.position.y),v.position.z+w*(B.position.z-v.position.z)),new H(v.normal.x+w*(B.normal.x-v.normal.x),v.normal.y+w*(B.normal.y-v.normal.y),v.normal.z+w*(B.normal.z-v.normal.z)))}}}class pa{constructor(e,t){this.position=e,this.normal=t}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}class hl extends I0{constructor(e,t={}){const{bevelEnabled:i=!1,bevelSize:s=8,bevelThickness:r=10,font:o,height:a=50,size:A=100,lineHeight:c=1,letterSpacing:h=0,...l}=t;if(o===void 0)super();else{const u=o.generateShapes(e,A,{lineHeight:c,letterSpacing:h});super(u,{...l,bevelEnabled:i,bevelSize:s,bevelThickness:r,depth:a})}this.type="TextGeometry"}}const ll={uniforms:{tDiffuse:{value:null}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 tex = texture2D( tDiffuse, vUv );","	gl_FragColor = LinearTosRGB( tex );","}"].join(`
`)},ul={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},fl={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `},pr=new k0,gr=new H,mn=new H,jt=new H,Ei=new H,Ai=new H,Ii=new H,yi=new H,Pn=new H,On=new H,Nn=new H,xs=new H,Hn=new H,Jn=new H,zn=new H;class pl{constructor(e,t,i){this.camera=e,this.scene=t,this.startPoint=new H,this.endPoint=new H,this.collection=[],this.deep=i||Number.MAX_VALUE}select(e,t){return this.startPoint=e||this.startPoint,this.endPoint=t||this.endPoint,this.collection=[],this.updateFrustum(this.startPoint,this.endPoint),this.searchChildInFrustum(pr,this.scene),this.collection}updateFrustum(e,t){if(e=e||this.startPoint,t=t||this.endPoint,e.x===t.x&&(t.x+=Number.EPSILON),e.y===t.y&&(t.y+=Number.EPSILON),this.camera.updateProjectionMatrix(),this.camera.updateMatrixWorld(),this.camera.isPerspectiveCamera){mn.copy(e),mn.x=Math.min(e.x,t.x),mn.y=Math.max(e.y,t.y),t.x=Math.max(e.x,t.x),t.y=Math.min(e.y,t.y),jt.setFromMatrixPosition(this.camera.matrixWorld),Ei.copy(mn),Ai.set(t.x,mn.y,0),Ii.copy(t),yi.set(mn.x,t.y,0),Ei.unproject(this.camera),Ai.unproject(this.camera),Ii.unproject(this.camera),yi.unproject(this.camera),Hn.copy(Ei).sub(jt),Jn.copy(Ai).sub(jt),zn.copy(Ii).sub(jt),Hn.normalize(),Jn.normalize(),zn.normalize(),Hn.multiplyScalar(this.deep),Jn.multiplyScalar(this.deep),zn.multiplyScalar(this.deep),Hn.add(jt),Jn.add(jt),zn.add(jt);var i=pr.planes;i[0].setFromCoplanarPoints(jt,Ei,Ai),i[1].setFromCoplanarPoints(jt,Ai,Ii),i[2].setFromCoplanarPoints(Ii,yi,jt),i[3].setFromCoplanarPoints(yi,Ei,jt),i[4].setFromCoplanarPoints(Ai,Ii,yi),i[5].setFromCoplanarPoints(zn,Jn,Hn),i[5].normal.multiplyScalar(-1)}else if(this.camera.isOrthographicCamera){const s=Math.min(e.x,t.x),r=Math.max(e.y,t.y),o=Math.max(e.x,t.x),a=Math.min(e.y,t.y);Ei.set(s,r,-1),Ai.set(o,r,-1),Ii.set(o,a,-1),yi.set(s,a,-1),Pn.set(s,r,1),On.set(o,r,1),Nn.set(o,a,1),xs.set(s,a,1),Ei.unproject(this.camera),Ai.unproject(this.camera),Ii.unproject(this.camera),yi.unproject(this.camera),Pn.unproject(this.camera),On.unproject(this.camera),Nn.unproject(this.camera),xs.unproject(this.camera);var i=pr.planes;i[0].setFromCoplanarPoints(Ei,Pn,On),i[1].setFromCoplanarPoints(Ai,On,Nn),i[2].setFromCoplanarPoints(Nn,xs,yi),i[3].setFromCoplanarPoints(xs,Pn,Ei),i[4].setFromCoplanarPoints(Ai,Ii,yi),i[5].setFromCoplanarPoints(Nn,On,Pn),i[5].normal.multiplyScalar(-1)}else console.error("THREE.SelectionBox: Unsupported camera type.")}searchChildInFrustum(e,t){if((t.isMesh||t.isLine||t.isPoints)&&t.material!==void 0&&(t.geometry.boundingSphere===null&&t.geometry.computeBoundingSphere(),gr.copy(t.geometry.boundingSphere.center),gr.applyMatrix4(t.matrixWorld),e.containsPoint(gr)&&this.collection.push(t)),t.children.length>0)for(let i=0;i<t.children.length;i++)this.searchChildInFrustum(e,t.children[i])}}class gl{constructor(e,t=" .:-=+*#%@",i={}){const s=i.resolution||.15,r=i.scale||1,o=i.color||!1,a=i.alpha||!1,A=i.block||!1,c=i.invert||!1,h=i.strResolution||"low";let l,u;const p=document.createElement("div");p.style.cursor="default";const C=document.createElement("table");p.appendChild(C);let v,B,I;this.setSize=function(z,$){l=z,u=$,e.setSize(z,$),E()},this.render=function(z,$){e.render(z,$),K(C)},this.domElement=p;function E(){v=Math.floor(l*s),B=Math.floor(u*s),D.width=v,D.height=B,I=e.domElement,I.style.backgroundColor&&(C.rows[0].cells[0].style.backgroundColor=I.style.backgroundColor,C.rows[0].cells[0].style.color=I.style.color),C.cellSpacing=0,C.cellPadding=0;const z=C.style;z.whiteSpace="pre",z.margin="0px",z.padding="0px",z.letterSpacing=k+"px",z.fontFamily=w,z.fontSize=T+"px",z.lineHeight=U+"px",z.textAlign="left",z.textDecoration="none"}const g=" .,:;i1tfLCG08@".split(""),x=" CGO08@".split(""),w="courier new, monospace",b=e.domElement,D=document.createElement("canvas");if(!D.getContext)return;const S=D.getContext("2d");if(!S.getImageData)return;let M=o?x:g;t&&(M=t);const T=2/s*r,U=2/s*r;let k=0;if(h=="low")switch(r){case 1:k=-1;break;case 2:case 3:k=-2.1;break;case 4:k=-3.1;break;case 5:k=-4.15;break}if(h=="medium")switch(r){case 1:k=0;break;case 2:k=-1;break;case 3:k=-1.04;break;case 4:case 5:k=-2.1;break}if(h=="high")switch(r){case 1:case 2:k=0;break;case 3:case 4:case 5:k=-1;break}function K(z){S.clearRect(0,0,v,B),S.drawImage(b,0,0,v,B);const $=S.getImageData(0,0,v,B).data;let ae="";for(let Z=0;Z<B;Z+=2){for(let Y=0;Y<v;Y++){const re=(Z*v+Y)*4,W=$[re],ee=$[re+1],_=$[re+2],F=$[re+3];let m,G;G=(.3*W+.59*ee+.11*_)/255,F==0&&(G=1),m=Math.floor((1-G)*(M.length-1)),c&&(m=M.length-m-1);let N=M[m];(N===void 0||N==" ")&&(N="&nbsp;"),o?ae+="<span style='color:rgb("+W+","+ee+","+_+");"+(A?"background-color:rgb("+W+","+ee+","+_+");":"")+(a?"opacity:"+F/255+";":"")+"'>"+N+"</span>":ae+=N}ae+="<br/>"}z.innerHTML=`<tr><td style="display:block;width:${l}px;height:${u}px;overflow:hidden">${ae}</td></tr>`}}}function U3(n,e,t){const i=t.length-n-1;if(e>=t[i])return i-1;if(e<=t[n])return n;let s=n,r=i,o=Math.floor((s+r)/2);for(;e<t[o]||e>=t[o+1];)e<t[o]?r=o:s=o,o=Math.floor((s+r)/2);return o}function Ah(n,e,t,i){const s=[],r=[],o=[];s[0]=1;for(let a=1;a<=t;++a){r[a]=e-i[n+1-a],o[a]=i[n+a]-e;let A=0;for(let c=0;c<a;++c){const h=o[c+1],l=r[a-c],u=s[c]/(h+l);s[c]=A+h*u,A=l*u}s[a]=A}return s}function ch(n,e,t,i){const s=U3(n,i,e),r=Ah(s,i,n,e),o=new qi(0,0,0,0);for(let a=0;a<=n;++a){const A=t[s-n+a],c=r[a],h=A.w*c;o.x+=A.x*h,o.y+=A.y*h,o.z+=A.z*h,o.w+=A.w*c}return o}function hh(n,e,t,i,s){const r=[];for(let l=0;l<=t;++l)r[l]=0;const o=[];for(let l=0;l<=i;++l)o[l]=r.slice(0);const a=[];for(let l=0;l<=t;++l)a[l]=r.slice(0);a[0][0]=1;const A=r.slice(0),c=r.slice(0);for(let l=1;l<=t;++l){A[l]=e-s[n+1-l],c[l]=s[n+l]-e;let u=0;for(let p=0;p<l;++p){const C=c[p+1],v=A[l-p];a[l][p]=C+v;const B=a[p][l-1]/a[l][p];a[p][l]=u+C*B,u=v*B}a[l][l]=u}for(let l=0;l<=t;++l)o[0][l]=a[l][t];for(let l=0;l<=t;++l){let u=0,p=1;const C=[];for(let v=0;v<=t;++v)C[v]=r.slice(0);C[0][0]=1;for(let v=1;v<=i;++v){let B=0;const I=l-v,E=t-v;l>=v&&(C[p][0]=C[u][0]/a[E+1][I],B=C[p][0]*a[I][E]);const g=I>=-1?1:-I,x=l-1<=E?v-1:t-l;for(let b=g;b<=x;++b)C[p][b]=(C[u][b]-C[u][b-1])/a[E+1][I+b],B+=C[p][b]*a[I+b][E];l<=E&&(C[p][v]=-C[u][v-1]/a[E+1][l],B+=C[p][v]*a[l][E]),o[v][l]=B;const w=u;u=p,p=w}}let h=t;for(let l=1;l<=i;++l){for(let u=0;u<=t;++u)o[l][u]*=h;h*=t-l}return o}function lh(n,e,t,i,s){const r=s<n?s:n,o=[],a=U3(n,i,e),A=hh(a,i,n,r,e),c=[];for(let h=0;h<t.length;++h){const l=t[h].clone(),u=l.w;l.x*=u,l.y*=u,l.z*=u,c[h]=l}for(let h=0;h<=r;++h){const l=c[a-n].clone().multiplyScalar(A[h][0]);for(let u=1;u<=n;++u)l.add(c[a-n+u].clone().multiplyScalar(A[h][u]));o[h]=l}for(let h=r+1;h<=s+1;++h)o[h]=new qi(0,0,0);return o}function uh(n,e){let t=1;for(let s=2;s<=n;++s)t*=s;let i=1;for(let s=2;s<=e;++s)i*=s;for(let s=2;s<=n-e;++s)i*=s;return t/i}function fh(n){const e=n.length,t=[],i=[];for(let r=0;r<e;++r){const o=n[r];t[r]=new H(o.x,o.y,o.z),i[r]=o.w}const s=[];for(let r=0;r<e;++r){const o=t[r].clone();for(let a=1;a<=r;++a)o.sub(s[r-a].clone().multiplyScalar(uh(r,a)*i[a]));s[r]=o.divideScalar(i[0])}return s}function ph(n,e,t,i,s){const r=lh(n,e,t,i,s);return fh(r)}class ga extends y0{constructor(e,t,i,s,r){super(),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=s||0,this.endKnot=r||this.knots.length-1;for(let o=0;o<i.length;++o){const a=i[o];this.controlPoints[o]=new qi(a.x,a.y,a.z,a.w)}}getPoint(e,t){const i=t||new H,s=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),r=ch(this.degree,this.knots,this.controlPoints,s);return r.w!=1&&r.divideScalar(r.w),i.set(r.x,r.y,r.z)}getTangent(e,t){const i=t||new H,s=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),r=ph(this.degree,this.knots,this.controlPoints,s,1);return i.copy(r[1]).normalize(),i}}let Ue,At,Dt;class co extends Dn{constructor(e){super(e)}load(e,t,i,s){const r=this,o=r.path===""?pi.extractUrlBase(e):r.path,a=new gi(this.manager);a.setPath(r.path),a.setResponseType("arraybuffer"),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(e,function(A){try{t(r.parse(A,o))}catch(c){s?s(c):console.error(c),r.manager.itemError(e)}},i,s)}parse(e,t){if(Ch(e))Ue=new Bh().parse(e);else{const s=H3(e);if(!Eh(s))throw new Error("THREE.FBXLoader: Unknown format.");if(ma(s)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+ma(s));Ue=new vh().parse(s)}const i=new Da(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new gh(i,this.manager).parse(Ue)}}class gh{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){At=this.parseConnections();const e=this.parseImages(),t=this.parseTextures(e),i=this.parseMaterials(t),s=this.parseDeformers(),r=new dh().parse(s);return this.parseScene(s,r,i),Dt}parseConnections(){const e=new Map;return"Connections"in Ue&&Ue.Connections.connections.forEach(function(i){const s=i[0],r=i[1],o=i[2];e.has(s)||e.set(s,{parents:[],children:[]});const a={ID:r,relationship:o};e.get(s).parents.push(a),e.has(r)||e.set(r,{parents:[],children:[]});const A={ID:s,relationship:o};e.get(r).children.push(A)}),e}parseImages(){const e={},t={};if("Video"in Ue.Objects){const i=Ue.Objects.Video;for(const s in i){const r=i[s],o=parseInt(s);if(e[o]=r.RelativeFilename||r.Filename,"Content"in r){const a=r.Content instanceof ArrayBuffer&&r.Content.byteLength>0,A=typeof r.Content=="string"&&r.Content!=="";if(a||A){const c=this.parseImage(i[s]);t[r.RelativeFilename||r.Filename]=c}}}}for(const i in e){const s=e[i];t[s]!==void 0?e[i]=t[s]:e[i]=e[i].split("\\").pop()}return e}parseImage(e){const t=e.Content,i=e.RelativeFilename||e.Filename,s=i.slice(i.lastIndexOf(".")+1).toLowerCase();let r;switch(s){case"bmp":r="image/bmp";break;case"jpg":case"jpeg":r="image/jpeg";break;case"png":r="image/png";break;case"tif":r="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",i),r="image/tga";break;default:console.warn('FBXLoader: Image type "'+s+'" is not supported.');return}if(typeof t=="string")return"data:"+r+";base64,"+t;{const o=new Uint8Array(t);return window.URL.createObjectURL(new Blob([o],{type:r}))}}parseTextures(e){const t=new Map;if("Texture"in Ue.Objects){const i=Ue.Objects.Texture;for(const s in i){const r=this.parseTexture(i[s],e);t.set(parseInt(s),r)}}return t}parseTexture(e,t){const i=this.loadTexture(e,t);i.ID=e.id,i.name=e.attrName;const s=e.WrapModeU,r=e.WrapModeV,o=s!==void 0?s.value:0,a=r!==void 0?r.value:0;if(i.wrapS=o===0?cn:Zn,i.wrapT=a===0?cn:Zn,"Scaling"in e){const A=e.Scaling.value;i.repeat.x=A[0],i.repeat.y=A[1]}return i}loadTexture(e,t){let i;const s=this.textureLoader.path,r=At.get(e.id).children;r!==void 0&&r.length>0&&t[r[0].ID]!==void 0&&(i=t[r[0].ID],(i.indexOf("blob:")===0||i.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));let o;const a=e.FileName.slice(-3).toLowerCase();if(a==="tga"){const A=this.manager.getHandler(".tga");A===null?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),o=new wn):(A.setPath(this.textureLoader.path),o=A.load(i))}else a==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),o=new wn):o=this.textureLoader.load(i);return this.textureLoader.setPath(s),o}parseMaterials(e){const t=new Map;if("Material"in Ue.Objects){const i=Ue.Objects.Material;for(const s in i){const r=this.parseMaterial(i[s],e);r!==null&&t.set(parseInt(s),r)}}return t}parseMaterial(e,t){const i=e.id,s=e.attrName;let r=e.ShadingModel;if(typeof r=="object"&&(r=r.value),!At.has(i))return null;const o=this.parseParameters(e,t,i);let a;switch(r.toLowerCase()){case"phong":a=new js;break;case"lambert":a=new o0;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',r),a=new js;break}return a.setValues(o),a.name=s,a}parseParameters(e,t,i){const s={};e.BumpFactor&&(s.bumpScale=e.BumpFactor.value),e.Diffuse?s.color=new et().fromArray(e.Diffuse.value):e.DiffuseColor&&(e.DiffuseColor.type==="Color"||e.DiffuseColor.type==="ColorRGB")&&(s.color=new et().fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(s.displacementScale=e.DisplacementFactor.value),e.Emissive?s.emissive=new et().fromArray(e.Emissive.value):e.EmissiveColor&&(e.EmissiveColor.type==="Color"||e.EmissiveColor.type==="ColorRGB")&&(s.emissive=new et().fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(s.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(s.opacity=parseFloat(e.Opacity.value)),s.opacity<1&&(s.transparent=!0),e.ReflectionFactor&&(s.reflectivity=e.ReflectionFactor.value),e.Shininess&&(s.shininess=e.Shininess.value),e.Specular?s.specular=new et().fromArray(e.Specular.value):e.SpecularColor&&e.SpecularColor.type==="Color"&&(s.specular=new et().fromArray(e.SpecularColor.value));const r=this;return At.get(i).children.forEach(function(o){const a=o.relationship;switch(a){case"Bump":s.bumpMap=r.getTexture(t,o.ID);break;case"Maya|TEX_ao_map":s.aoMap=r.getTexture(t,o.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":s.map=r.getTexture(t,o.ID),s.map!==void 0&&("colorSpace"in s.map?s.map.colorSpace="srgb":s.map.encoding=3001);break;case"DisplacementColor":s.displacementMap=r.getTexture(t,o.ID);break;case"EmissiveColor":s.emissiveMap=r.getTexture(t,o.ID),s.emissiveMap!==void 0&&("colorSpace"in s.emissiveMap?s.emissiveMap.colorSpace="srgb":s.emissiveMap.encoding=3001);break;case"NormalMap":case"Maya|TEX_normal_map":s.normalMap=r.getTexture(t,o.ID);break;case"ReflectionColor":s.envMap=r.getTexture(t,o.ID),s.envMap!==void 0&&(s.envMap.mapping=a0,"colorSpace"in s.envMap?s.envMap.colorSpace="srgb":s.envMap.encoding=3001);break;case"SpecularColor":s.specularMap=r.getTexture(t,o.ID),s.specularMap!==void 0&&("colorSpace"in s.specularMap?s.specularMap.colorSpace="srgb":s.specularMap.encoding=3001);break;case"TransparentColor":case"TransparencyFactor":s.alphaMap=r.getTexture(t,o.ID),s.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",a);break}}),s}getTexture(e,t){return"LayeredTexture"in Ue.Objects&&t in Ue.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=At.get(t).children[0].ID),e.get(t)}parseDeformers(){const e={},t={};if("Deformer"in Ue.Objects){const i=Ue.Objects.Deformer;for(const s in i){const r=i[s],o=At.get(parseInt(s));if(r.attrType==="Skin"){const a=this.parseSkeleton(o,i);a.ID=s,o.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),a.geometryID=o.parents[0].ID,e[s]=a}else if(r.attrType==="BlendShape"){const a={id:s};a.rawTargets=this.parseMorphTargets(o,i),a.id=s,o.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[s]=a}}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const i=[];return e.children.forEach(function(s){const r=t[s.ID];if(r.attrType!=="Cluster")return;const o={ID:s.ID,indices:[],weights:[],transformLink:new De().fromArray(r.TransformLink.a)};"Indexes"in r&&(o.indices=r.Indexes.a,o.weights=r.Weights.a),i.push(o)}),{rawBones:i,bones:[]}}parseMorphTargets(e,t){const i=[];for(let s=0;s<e.children.length;s++){const r=e.children[s],o=t[r.ID],a={name:o.attrName,initialWeight:o.DeformPercent,id:o.id,fullWeights:o.FullWeights.a};if(o.attrType!=="BlendShapeChannel")return;a.geoID=At.get(parseInt(r.ID)).children.filter(function(A){return A.relationship===void 0})[0].ID,i.push(a)}return i}parseScene(e,t,i){Dt=new In;const s=this.parseModels(e.skeletons,t,i),r=Ue.Objects.Model,o=this;s.forEach(function(A){const c=r[A.ID];o.setLookAtProperties(A,c),At.get(A.ID).parents.forEach(function(l){const u=s.get(l.ID);u!==void 0&&u.add(A)}),A.parent===null&&Dt.add(A)}),this.bindSkeleton(e.skeletons,t,s),this.createAmbientLight(),Dt.traverse(function(A){if(A.userData.transformData){A.parent&&(A.userData.transformData.parentMatrix=A.parent.matrix,A.userData.transformData.parentMatrixWorld=A.parent.matrixWorld);const c=O3(A.userData.transformData);A.applyMatrix4(c),A.updateWorldMatrix()}});const a=new mh().parse();Dt.children.length===1&&Dt.children[0].isGroup&&(Dt.children[0].animations=a,Dt=Dt.children[0]),Dt.animations=a}parseModels(e,t,i){const s=new Map,r=Ue.Objects.Model;for(const o in r){const a=parseInt(o),A=r[o],c=At.get(a);let h=this.buildSkeleton(c,e,a,A.attrName);if(!h){switch(A.attrType){case"Camera":h=this.createCamera(c);break;case"Light":h=this.createLight(c);break;case"Mesh":h=this.createMesh(c,t,i);break;case"NurbsCurve":h=this.createCurve(c,t);break;case"LimbNode":case"Root":h=new br;break;case"Null":default:h=new In;break}h.name=A.attrName?Wn.sanitizeNodeName(A.attrName):"",h.ID=a}this.getTransformData(h,A),s.set(a,h)}return s}buildSkeleton(e,t,i,s){let r=null;return e.parents.forEach(function(o){for(const a in t){const A=t[a];A.rawBones.forEach(function(c,h){if(c.ID===o.ID){const l=r;r=new br,r.matrixWorld.copy(c.transformLink),r.name=s?Wn.sanitizeNodeName(s):"",r.ID=i,A.bones[h]=r,l!==null&&r.add(l)}})}}),r}createCamera(e){let t,i;if(e.children.forEach(function(s){const r=Ue.Objects.NodeAttribute[s.ID];r!==void 0&&(i=r)}),i===void 0)t=new wi;else{let s=0;i.CameraProjectionType!==void 0&&i.CameraProjectionType.value===1&&(s=1);let r=1;i.NearPlane!==void 0&&(r=i.NearPlane.value/1e3);let o=1e3;i.FarPlane!==void 0&&(o=i.FarPlane.value/1e3);let a=window.innerWidth,A=window.innerHeight;i.AspectWidth!==void 0&&i.AspectHeight!==void 0&&(a=i.AspectWidth.value,A=i.AspectHeight.value);const c=a/A;let h=45;i.FieldOfView!==void 0&&(h=i.FieldOfView.value);const l=i.FocalLength?i.FocalLength.value:null;switch(s){case 0:t=new st(h,c,r,o),l!==null&&t.setFocalLength(l);break;case 1:t=new ut(-a/2,a/2,A/2,-A/2,r,o);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+s+"."),t=new wi;break}}return t}createLight(e){let t,i;if(e.children.forEach(function(s){const r=Ue.Objects.NodeAttribute[s.ID];r!==void 0&&(i=r)}),i===void 0)t=new wi;else{let s;i.LightType===void 0?s=0:s=i.LightType.value;let r=16777215;i.Color!==void 0&&(r=new et().fromArray(i.Color.value));let o=i.Intensity===void 0?1:i.Intensity.value/100;i.CastLightOnObject!==void 0&&i.CastLightOnObject.value===0&&(o=0);let a=0;i.FarAttenuationEnd!==void 0&&(i.EnableFarAttenuation!==void 0&&i.EnableFarAttenuation.value===0?a=0:a=i.FarAttenuationEnd.value);const A=1;switch(s){case 0:t=new wr(r,o,a,A);break;case 1:t=new wa(r,o);break;case 2:let c=Math.PI/3;i.InnerAngle!==void 0&&(c=Fe.degToRad(i.InnerAngle.value));let h=0;i.OuterAngle!==void 0&&(h=Fe.degToRad(i.OuterAngle.value),h=Math.max(h,1)),t=new Sa(r,o,a,c,h,A);break;default:console.warn("THREE.FBXLoader: Unknown light type "+i.LightType.value+", defaulting to a PointLight."),t=new wr(r,o);break}i.CastShadows!==void 0&&i.CastShadows.value===1&&(t.castShadow=!0)}return t}createMesh(e,t,i){let s,r=null,o=null;const a=[];return e.children.forEach(function(A){t.has(A.ID)&&(r=t.get(A.ID)),i.has(A.ID)&&a.push(i.get(A.ID))}),a.length>1?o=a:a.length>0?o=a[0]:(o=new js({color:13421772}),a.push(o)),"color"in r.attributes&&a.forEach(function(A){A.vertexColors=!0}),r.FBX_Deformer?(s=new Qa(r,o),s.normalizeSkinWeights()):s=new Ie(r,o),s}createCurve(e,t){const i=e.children.reduce(function(r,o){return t.has(o.ID)&&(r=t.get(o.ID)),r},null),s=new En({color:3342591,linewidth:1});return new Pe(i,s)}getTransformData(e,t){const i={};"InheritType"in t&&(i.inheritType=parseInt(t.InheritType.value)),"RotationOrder"in t?i.eulerOrder=N3(t.RotationOrder.value):i.eulerOrder="ZYX","Lcl_Translation"in t&&(i.translation=t.Lcl_Translation.value),"PreRotation"in t&&(i.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(i.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(i.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(i.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(i.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(i.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(i.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(i.rotationPivot=t.RotationPivot.value),e.userData.transformData=i}setLookAtProperties(e,t){"LookAtProperty"in t&&At.get(e.ID).children.forEach(function(s){if(s.relationship==="LookAtProperty"){const r=Ue.Objects.Model[s.ID];if("Lcl_Translation"in r){const o=r.Lcl_Translation.value;e.target!==void 0?(e.target.position.fromArray(o),Dt.add(e.target)):e.lookAt(new H().fromArray(o))}}})}bindSkeleton(e,t,i){const s=this.parsePoseNodes();for(const r in e){const o=e[r];At.get(parseInt(o.ID)).parents.forEach(function(A){if(t.has(A.ID)){const c=A.ID;At.get(c).parents.forEach(function(l){i.has(l.ID)&&i.get(l.ID).bind(new Fa(o.bones),s[l.ID])})}})}}parsePoseNodes(){const e={};if("Pose"in Ue.Objects){const t=Ue.Objects.Pose;for(const i in t)if(t[i].attrType==="BindPose"&&t[i].NbPoseNodes>0){const s=t[i].PoseNode;Array.isArray(s)?s.forEach(function(r){e[r.Node]=new De().fromArray(r.Matrix.a)}):e[s.Node]=new De().fromArray(s.Matrix.a)}}return e}createAmbientLight(){if("GlobalSettings"in Ue&&"AmbientColor"in Ue.GlobalSettings){const e=Ue.GlobalSettings.AmbientColor.value,t=e[0],i=e[1],s=e[2];if(t!==0||i!==0||s!==0){const r=new et(t,i,s);Dt.add(new A0(r,1))}}}}let dh=class{parse(e){const t=new Map;if("Geometry"in Ue.Objects){const i=Ue.Objects.Geometry;for(const s in i){const r=At.get(parseInt(s)),o=this.parseGeometry(r,i[s],e);t.set(parseInt(s),o)}}return t}parseGeometry(e,t,i){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,i);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,i){const s=i.skeletons,r=[],o=e.parents.map(function(l){return Ue.Objects.Model[l.ID]});if(o.length===0)return;const a=e.children.reduce(function(l,u){return s[u.ID]!==void 0&&(l=s[u.ID]),l},null);e.children.forEach(function(l){i.morphTargets[l.ID]!==void 0&&r.push(i.morphTargets[l.ID])});const A=o[0],c={};"RotationOrder"in A&&(c.eulerOrder=N3(A.RotationOrder.value)),"InheritType"in A&&(c.inheritType=parseInt(A.InheritType.value)),"GeometricTranslation"in A&&(c.translation=A.GeometricTranslation.value),"GeometricRotation"in A&&(c.rotation=A.GeometricRotation.value),"GeometricScaling"in A&&(c.scale=A.GeometricScaling.value);const h=O3(c);return this.genGeometry(t,a,r,h)}genGeometry(e,t,i,s){const r=new bt;e.attrName&&(r.name=e.attrName);const o=this.parseGeoNode(e,t),a=this.genBuffers(o),A=new dt(a.vertex,3);if(A.applyMatrix4(s),r.setAttribute("position",A),a.colors.length>0&&r.setAttribute("color",new dt(a.colors,3)),t&&(r.setAttribute("skinIndex",new c0(a.weightsIndices,4)),r.setAttribute("skinWeight",new dt(a.vertexWeights,4)),r.FBX_Deformer=t),a.normal.length>0){const c=new nn().getNormalMatrix(s),h=new dt(a.normal,3);h.applyNormalMatrix(c),r.setAttribute("normal",h)}if(a.uvs.forEach(function(c,h){let l="uv"+(h+1).toString();h===0&&(l="uv"),r.setAttribute(l,new dt(a.uvs[h],2))}),o.material&&o.material.mappingType!=="AllSame"){let c=a.materialIndex[0],h=0;if(a.materialIndex.forEach(function(l,u){l!==c&&(r.addGroup(h,u-h,c),c=l,h=u)}),r.groups.length>0){const l=r.groups[r.groups.length-1],u=l.start+l.count;u!==a.materialIndex.length&&r.addGroup(u,a.materialIndex.length-u,c)}r.groups.length===0&&r.addGroup(0,a.materialIndex.length,a.materialIndex[0])}return this.addMorphTargets(r,e,i,s),r}parseGeoNode(e,t){const i={};if(i.vertexPositions=e.Vertices!==void 0?e.Vertices.a:[],i.vertexIndices=e.PolygonVertexIndex!==void 0?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(i.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(i.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(i.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){i.uv=[];let s=0;for(;e.LayerElementUV[s];)e.LayerElementUV[s].UV&&i.uv.push(this.parseUVs(e.LayerElementUV[s])),s++}return i.weightTable={},t!==null&&(i.skeleton=t,t.rawBones.forEach(function(s,r){s.indices.forEach(function(o,a){i.weightTable[o]===void 0&&(i.weightTable[o]=[]),i.weightTable[o].push({id:r,weight:s.weights[a]})})})),i}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let i=0,s=0,r=!1,o=[],a=[],A=[],c=[],h=[],l=[];const u=this;return e.vertexIndices.forEach(function(p,C){let v,B=!1;p<0&&(p=p^-1,B=!0);let I=[],E=[];if(o.push(p*3,p*3+1,p*3+2),e.color){const g=Ss(C,i,p,e.color);A.push(g[0],g[1],g[2])}if(e.skeleton){if(e.weightTable[p]!==void 0&&e.weightTable[p].forEach(function(g){E.push(g.weight),I.push(g.id)}),E.length>4){r||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),r=!0);const g=[0,0,0,0],x=[0,0,0,0];E.forEach(function(w,b){let D=w,S=I[b];x.forEach(function(M,T,U){if(D>M){U[T]=D,D=M;const k=g[T];g[T]=S,S=k}})}),I=g,E=x}for(;E.length<4;)E.push(0),I.push(0);for(let g=0;g<4;++g)h.push(E[g]),l.push(I[g])}if(e.normal){const g=Ss(C,i,p,e.normal);a.push(g[0],g[1],g[2])}e.material&&e.material.mappingType!=="AllSame"&&(v=Ss(C,i,p,e.material)[0]),e.uv&&e.uv.forEach(function(g,x){const w=Ss(C,i,p,g);c[x]===void 0&&(c[x]=[]),c[x].push(w[0]),c[x].push(w[1])}),s++,B&&(u.genFace(t,e,o,v,a,A,c,h,l,s),i++,s=0,o=[],a=[],A=[],c=[],h=[],l=[])}),t}genFace(e,t,i,s,r,o,a,A,c,h){for(let l=2;l<h;l++)e.vertex.push(t.vertexPositions[i[0]]),e.vertex.push(t.vertexPositions[i[1]]),e.vertex.push(t.vertexPositions[i[2]]),e.vertex.push(t.vertexPositions[i[(l-1)*3]]),e.vertex.push(t.vertexPositions[i[(l-1)*3+1]]),e.vertex.push(t.vertexPositions[i[(l-1)*3+2]]),e.vertex.push(t.vertexPositions[i[l*3]]),e.vertex.push(t.vertexPositions[i[l*3+1]]),e.vertex.push(t.vertexPositions[i[l*3+2]]),t.skeleton&&(e.vertexWeights.push(A[0]),e.vertexWeights.push(A[1]),e.vertexWeights.push(A[2]),e.vertexWeights.push(A[3]),e.vertexWeights.push(A[(l-1)*4]),e.vertexWeights.push(A[(l-1)*4+1]),e.vertexWeights.push(A[(l-1)*4+2]),e.vertexWeights.push(A[(l-1)*4+3]),e.vertexWeights.push(A[l*4]),e.vertexWeights.push(A[l*4+1]),e.vertexWeights.push(A[l*4+2]),e.vertexWeights.push(A[l*4+3]),e.weightsIndices.push(c[0]),e.weightsIndices.push(c[1]),e.weightsIndices.push(c[2]),e.weightsIndices.push(c[3]),e.weightsIndices.push(c[(l-1)*4]),e.weightsIndices.push(c[(l-1)*4+1]),e.weightsIndices.push(c[(l-1)*4+2]),e.weightsIndices.push(c[(l-1)*4+3]),e.weightsIndices.push(c[l*4]),e.weightsIndices.push(c[l*4+1]),e.weightsIndices.push(c[l*4+2]),e.weightsIndices.push(c[l*4+3])),t.color&&(e.colors.push(o[0]),e.colors.push(o[1]),e.colors.push(o[2]),e.colors.push(o[(l-1)*3]),e.colors.push(o[(l-1)*3+1]),e.colors.push(o[(l-1)*3+2]),e.colors.push(o[l*3]),e.colors.push(o[l*3+1]),e.colors.push(o[l*3+2])),t.material&&t.material.mappingType!=="AllSame"&&(e.materialIndex.push(s),e.materialIndex.push(s),e.materialIndex.push(s)),t.normal&&(e.normal.push(r[0]),e.normal.push(r[1]),e.normal.push(r[2]),e.normal.push(r[(l-1)*3]),e.normal.push(r[(l-1)*3+1]),e.normal.push(r[(l-1)*3+2]),e.normal.push(r[l*3]),e.normal.push(r[l*3+1]),e.normal.push(r[l*3+2])),t.uv&&t.uv.forEach(function(u,p){e.uvs[p]===void 0&&(e.uvs[p]=[]),e.uvs[p].push(a[p][0]),e.uvs[p].push(a[p][1]),e.uvs[p].push(a[p][(l-1)*2]),e.uvs[p].push(a[p][(l-1)*2+1]),e.uvs[p].push(a[p][l*2]),e.uvs[p].push(a[p][l*2+1])})}addMorphTargets(e,t,i,s){if(i.length===0)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const r=this;i.forEach(function(o){o.rawTargets.forEach(function(a){const A=Ue.Objects.Geometry[a.geoID];A!==void 0&&r.genMorphGeometry(e,t,A,s,a.name)})})}genMorphGeometry(e,t,i,s,r){const o=t.PolygonVertexIndex!==void 0?t.PolygonVertexIndex.a:[],a=i.Vertices!==void 0?i.Vertices.a:[],A=i.Indexes!==void 0?i.Indexes.a:[],c=e.attributes.position.count*3,h=new Float32Array(c);for(let C=0;C<A.length;C++){const v=A[C]*3;h[v]=a[C*3],h[v+1]=a[C*3+1],h[v+2]=a[C*3+2]}const l={vertexIndices:o,vertexPositions:h},u=this.genBuffers(l),p=new dt(u.vertex,3);p.name=r||i.attrName,p.applyMatrix4(s),e.morphAttributes.position.push(p)}parseNormals(e){const t=e.MappingInformationType,i=e.ReferenceInformationType,s=e.Normals.a;let r=[];return i==="IndexToDirect"&&("NormalIndex"in e?r=e.NormalIndex.a:"NormalsIndex"in e&&(r=e.NormalsIndex.a)),{dataSize:3,buffer:s,indices:r,mappingType:t,referenceType:i}}parseUVs(e){const t=e.MappingInformationType,i=e.ReferenceInformationType,s=e.UV.a;let r=[];return i==="IndexToDirect"&&(r=e.UVIndex.a),{dataSize:2,buffer:s,indices:r,mappingType:t,referenceType:i}}parseVertexColors(e){const t=e.MappingInformationType,i=e.ReferenceInformationType,s=e.Colors.a;let r=[];return i==="IndexToDirect"&&(r=e.ColorIndex.a),{dataSize:4,buffer:s,indices:r,mappingType:t,referenceType:i}}parseMaterialIndices(e){const t=e.MappingInformationType,i=e.ReferenceInformationType;if(t==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:i};const s=e.Materials.a,r=[];for(let o=0;o<s.length;++o)r.push(o);return{dataSize:1,buffer:s,indices:r,mappingType:t,referenceType:i}}parseNurbsGeometry(e){if(ga===void 0)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new bt;const t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new bt;const i=t-1,s=e.KnotVector.a,r=[],o=e.Points.a;for(let l=0,u=o.length;l<u;l+=4)r.push(new qi().fromArray(o,l));let a,A;if(e.Form==="Closed")r.push(r[0]);else if(e.Form==="Periodic"){a=i,A=s.length-1-a;for(let l=0;l<i;++l)r.push(r[l])}const h=new ga(i,s,r,a,A).getPoints(r.length*12);return new bt().setFromPoints(h)}};class mh{parse(){const e=[],t=this.parseClips();if(t!==void 0)for(const i in t){const s=t[i],r=this.addClip(s);e.push(r)}return e}parseClips(){if(Ue.Objects.AnimationCurve===void 0)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}parseAnimationCurveNodes(){const e=Ue.Objects.AnimationCurveNode,t=new Map;for(const i in e){const s=e[i];if(s.attrName.match(/S|R|T|DeformPercent/)!==null){const r={id:s.id,attr:s.attrName,curves:{}};t.set(r.id,r)}}return t}parseAnimationCurves(e){const t=Ue.Objects.AnimationCurve;for(const i in t){const s={id:t[i].id,times:t[i].KeyTime.a.map(Ih),values:t[i].KeyValueFloat.a},r=At.get(s.id);if(r!==void 0){const o=r.parents[0].ID,a=r.parents[0].relationship;a.match(/X/)?e.get(o).curves.x=s:a.match(/Y/)?e.get(o).curves.y=s:a.match(/Z/)?e.get(o).curves.z=s:a.match(/d|DeformPercent/)&&e.has(o)&&(e.get(o).curves.morph=s)}}}parseAnimationLayers(e){const t=Ue.Objects.AnimationLayer,i=new Map;for(const s in t){const r=[],o=At.get(parseInt(s));o!==void 0&&(o.children.forEach(function(A,c){if(e.has(A.ID)){const h=e.get(A.ID);if(h.curves.x!==void 0||h.curves.y!==void 0||h.curves.z!==void 0){if(r[c]===void 0){const l=At.get(A.ID).parents.filter(function(u){return u.relationship!==void 0})[0].ID;if(l!==void 0){const u=Ue.Objects.Model[l.toString()];if(u===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",A);return}const p={modelName:u.attrName?Wn.sanitizeNodeName(u.attrName):"",ID:u.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};Dt.traverse(function(C){C.ID===u.id&&(p.transform=C.matrix,C.userData.transformData&&(p.eulerOrder=C.userData.transformData.eulerOrder))}),p.transform||(p.transform=new De),"PreRotation"in u&&(p.preRotation=u.PreRotation.value),"PostRotation"in u&&(p.postRotation=u.PostRotation.value),r[c]=p}}r[c]&&(r[c][h.attr]=h)}else if(h.curves.morph!==void 0){if(r[c]===void 0){const l=At.get(A.ID).parents.filter(function(I){return I.relationship!==void 0})[0].ID,u=At.get(l).parents[0].ID,p=At.get(u).parents[0].ID,C=At.get(p).parents[0].ID,v=Ue.Objects.Model[C],B={modelName:v.attrName?Wn.sanitizeNodeName(v.attrName):"",morphName:Ue.Objects.Deformer[l].attrName};r[c]=B}r[c][h.attr]=h}}}),i.set(parseInt(s),r))}return i}parseAnimStacks(e){const t=Ue.Objects.AnimationStack,i={};for(const s in t){const r=At.get(parseInt(s)).children;r.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const o=e.get(r[0].ID);i[s]={name:t[s].attrName,layer:o}}return i}addClip(e){let t=[];const i=this;return e.layer.forEach(function(s){t=t.concat(i.generateTracks(s))}),new Xr(e.name,-1,t)}generateTracks(e){const t=[];let i=new H,s=new He,r=new H;if(e.transform&&e.transform.decompose(i,s,r),i=i.toArray(),s=new Ji().setFromQuaternion(s,e.eulerOrder).toArray(),r=r.toArray(),e.T!==void 0&&Object.keys(e.T.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.T.curves,i,"position");o!==void 0&&t.push(o)}if(e.R!==void 0&&Object.keys(e.R.curves).length>0){const o=this.generateRotationTrack(e.modelName,e.R.curves,s,e.preRotation,e.postRotation,e.eulerOrder);o!==void 0&&t.push(o)}if(e.S!==void 0&&Object.keys(e.S.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.S.curves,r,"scale");o!==void 0&&t.push(o)}if(e.DeformPercent!==void 0){const o=this.generateMorphTrack(e);o!==void 0&&t.push(o)}return t}generateVectorTrack(e,t,i,s){const r=this.getTimesForAllAxes(t),o=this.getKeyframeTrackValues(r,t,i);return new qr(e+"."+s,r,o)}generateRotationTrack(e,t,i,s,r,o){t.x!==void 0&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(Fe.degToRad)),t.y!==void 0&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(Fe.degToRad)),t.z!==void 0&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(Fe.degToRad));const a=this.getTimesForAllAxes(t),A=this.getKeyframeTrackValues(a,t,i);s!==void 0&&(s=s.map(Fe.degToRad),s.push(o),s=new Ji().fromArray(s),s=new He().setFromEuler(s)),r!==void 0&&(r=r.map(Fe.degToRad),r.push(o),r=new Ji().fromArray(r),r=new He().setFromEuler(r).invert());const c=new He,h=new Ji,l=[];for(let u=0;u<A.length;u+=3)h.set(A[u],A[u+1],A[u+2],o),c.setFromEuler(h),s!==void 0&&c.premultiply(s),r!==void 0&&c.multiply(r),c.toArray(l,u/3*4);return new Rs(e+".quaternion",a,l)}generateMorphTrack(e){const t=e.DeformPercent.curves.morph,i=t.values.map(function(r){return r/100}),s=Dt.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new Ma(e.modelName+".morphTargetInfluences["+s+"]",t.times,i)}getTimesForAllAxes(e){let t=[];if(e.x!==void 0&&(t=t.concat(e.x.times)),e.y!==void 0&&(t=t.concat(e.y.times)),e.z!==void 0&&(t=t.concat(e.z.times)),t=t.sort(function(i,s){return i-s}),t.length>1){let i=1,s=t[0];for(let r=1;r<t.length;r++){const o=t[r];o!==s&&(t[i]=o,s=o,i++)}t=t.slice(0,i)}return t}getKeyframeTrackValues(e,t,i){const s=i,r=[];let o=-1,a=-1,A=-1;return e.forEach(function(c){if(t.x&&(o=t.x.times.indexOf(c)),t.y&&(a=t.y.times.indexOf(c)),t.z&&(A=t.z.times.indexOf(c)),o!==-1){const h=t.x.values[o];r.push(h),s[0]=h}else r.push(s[0]);if(a!==-1){const h=t.y.values[a];r.push(h),s[1]=h}else r.push(s[1]);if(A!==-1){const h=t.z.values[A];r.push(h),s[2]=h}else r.push(s[2])}),r}interpolateRotations(e){for(let t=1;t<e.values.length;t++){const i=e.values[t-1],s=e.values[t]-i,r=Math.abs(s);if(r>=180){const o=r/180,a=s/o;let A=i+a;const c=e.times[t-1],l=(e.times[t]-c)/o;let u=c+l;const p=[],C=[];for(;u<e.times[t];)p.push(u),u+=l,C.push(A),A+=a;e.times=va(e.times,t,p),e.values=va(e.values,t,C)}}}}class vh{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new P3,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,i=e.split(/[\r\n]+/);return i.forEach(function(s,r){const o=s.match(/^[\s\t]*;/),a=s.match(/^[\s\t]*$/);if(o||a)return;const A=s.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),c=s.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),h=s.match("^\\t{"+(t.currentIndent-1)+"}}");A?t.parseNodeBegin(s,A):c?t.parseNodeProperty(s,c,i[++r]):h?t.popStack():s.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(s)}),this.allNodes}parseNodeBegin(e,t){const i=t[1].trim().replace(/^"/,"").replace(/"$/,""),s=t[2].split(",").map(function(A){return A.trim().replace(/^"/,"").replace(/"$/,"")}),r={name:i},o=this.parseNodeAttr(s),a=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(i,r):i in a?(i==="PoseNode"?a.PoseNode.push(r):a[i].id!==void 0&&(a[i]={},a[i][a[i].id]=a[i]),o.id!==""&&(a[i][o.id]=r)):typeof o.id=="number"?(a[i]={},a[i][o.id]=r):i!=="Properties70"&&(i==="PoseNode"?a[i]=[r]:a[i]=r),typeof o.id=="number"&&(r.id=o.id),o.name!==""&&(r.attrName=o.name),o.type!==""&&(r.attrType=o.type),this.pushStack(r)}parseNodeAttr(e){let t=e[0];e[0]!==""&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));let i="",s="";return e.length>1&&(i=e[1].replace(/^(\w+)::/,""),s=e[2]),{id:t,name:i,type:s}}parseNodeProperty(e,t,i){let s=t[1].replace(/^"/,"").replace(/"$/,"").trim(),r=t[2].replace(/^"/,"").replace(/"$/,"").trim();s==="Content"&&r===","&&(r=i.replace(/"/g,"").replace(/,$/,"").trim());const o=this.getCurrentNode();if(o.name==="Properties70"){this.parseNodeSpecialProperty(e,s,r);return}if(s==="C"){const A=r.split(",").slice(1),c=parseInt(A[0]),h=parseInt(A[1]);let l=r.split(",").slice(3);l=l.map(function(u){return u.trim().replace(/^"/,"")}),s="connections",r=[c,h],xh(r,l),o[s]===void 0&&(o[s]=[])}s==="Node"&&(o.id=r),s in o&&Array.isArray(o[s])?o[s].push(r):s!=="a"?o[s]=r:o.a=r,this.setCurrentProp(o,s),s==="a"&&r.slice(-1)!==","&&(o.a=mr(r))}parseNodePropertyContinued(e){const t=this.getCurrentNode();t.a+=e,e.slice(-1)!==","&&(t.a=mr(t.a))}parseNodeSpecialProperty(e,t,i){const s=i.split('",').map(function(h){return h.trim().replace(/^\"/,"").replace(/\s/,"_")}),r=s[0],o=s[1],a=s[2],A=s[3];let c=s[4];switch(o){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=mr(c);break}this.getPrevNode()[r]={type:o,type2:a,flag:A,value:c},this.setCurrentProp(this.getPrevNode(),r)}}class Bh{parse(e){const t=new da(e);t.skip(23);const i=t.getUint32();if(i<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+i);const s=new P3;for(;!this.endOfContent(t);){const r=this.parseNode(t,i);r!==null&&s.add(r.name,r)}return s}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){const i={},s=t>=7500?e.getUint64():e.getUint32(),r=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();const o=e.getUint8(),a=e.getString(o);if(s===0)return null;const A=[];for(let u=0;u<r;u++)A.push(this.parseProperty(e));const c=A.length>0?A[0]:"",h=A.length>1?A[1]:"",l=A.length>2?A[2]:"";for(i.singleProperty=r===1&&e.getOffset()===s;s>e.getOffset();){const u=this.parseNode(e,t);u!==null&&this.parseSubNode(a,i,u)}return i.propertyList=A,typeof c=="number"&&(i.id=c),h!==""&&(i.attrName=h),l!==""&&(i.attrType=l),a!==""&&(i.name=a),i}parseSubNode(e,t,i){if(i.singleProperty===!0){const s=i.propertyList[0];Array.isArray(s)?(t[i.name]=i,i.a=s):t[i.name]=s}else if(e==="Connections"&&i.name==="C"){const s=[];i.propertyList.forEach(function(r,o){o!==0&&s.push(r)}),t.connections===void 0&&(t.connections=[]),t.connections.push(s)}else if(i.name==="Properties70")Object.keys(i).forEach(function(r){t[r]=i[r]});else if(e==="Properties70"&&i.name==="P"){let s=i.propertyList[0],r=i.propertyList[1];const o=i.propertyList[2],a=i.propertyList[3];let A;s.indexOf("Lcl ")===0&&(s=s.replace("Lcl ","Lcl_")),r.indexOf("Lcl ")===0&&(r=r.replace("Lcl ","Lcl_")),r==="Color"||r==="ColorRGB"||r==="Vector"||r==="Vector3D"||r.indexOf("Lcl_")===0?A=[i.propertyList[4],i.propertyList[5],i.propertyList[6]]:A=i.propertyList[4],t[s]={type:r,type2:o,flag:a,value:A}}else t[i.name]===void 0?typeof i.id=="number"?(t[i.name]={},t[i.name][i.id]=i):t[i.name]=i:i.name==="PoseNode"?(Array.isArray(t[i.name])||(t[i.name]=[t[i.name]]),t[i.name].push(i)):t[i.name][i.id]===void 0&&(t[i.name][i.id]=i)}parseProperty(e){const t=e.getString(1);let i;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return i=e.getUint32(),e.getArrayBuffer(i);case"S":return i=e.getUint32(),e.getString(i);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const s=e.getUint32(),r=e.getUint32(),o=e.getUint32();if(r===0)switch(t){case"b":case"c":return e.getBooleanArray(s);case"d":return e.getFloat64Array(s);case"f":return e.getFloat32Array(s);case"i":return e.getInt32Array(s);case"l":return e.getInt64Array(s)}const a=Xn(new Uint8Array(e.getArrayBuffer(o))),A=new da(a.buffer);switch(t){case"b":case"c":return A.getBooleanArray(s);case"d":return A.getFloat64Array(s);case"f":return A.getFloat32Array(s);case"i":return A.getInt32Array(s);case"l":return A.getInt64Array(s)}default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class da{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=t!==void 0?t:!0}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(e){const t=[];for(let i=0;i<e;i++)t.push(this.getBoolean());return t}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const t=[];for(let i=0;i<e;i++)t.push(this.getInt32());return t}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t&2147483648?(t=~t&4294967295,e=~e&4294967295,e===4294967295&&(t=t+1&4294967295),e=e+1&4294967295,-(t*4294967296+e)):t*4294967296+e}getInt64Array(e){const t=[];for(let i=0;i<e;i++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t*4294967296+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const t=[];for(let i=0;i<e;i++)t.push(this.getFloat32());return t}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const t=[];for(let i=0;i<e;i++)t.push(this.getFloat64());return t}getArrayBuffer(e){const t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){let t=[];for(let s=0;s<e;s++)t[s]=this.getUint8();const i=t.indexOf(0);return i>=0&&(t=t.slice(0,i)),pi.decodeText(new Uint8Array(t))}}class P3{add(e,t){this[e]=t}}function Ch(n){const e="Kaydara FBX Binary  \0";return n.byteLength>=e.length&&e===H3(n,0,e.length)}function Eh(n){const e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let t=0;function i(s){const r=n[s-1];return n=n.slice(t+s),t++,r}for(let s=0;s<e.length;++s)if(i(1)===e[s])return!1;return!0}function ma(n){const e=/FBXVersion: (\d+)/,t=n.match(e);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function Ih(n){return n/46186158e3}const yh=[];function Ss(n,e,t,i){let s;switch(i.mappingType){case"ByPolygonVertex":s=n;break;case"ByPolygon":s=e;break;case"ByVertice":s=t;break;case"AllSame":s=i.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+i.mappingType)}i.referenceType==="IndexToDirect"&&(s=i.indices[s]);const r=s*i.dataSize,o=r+i.dataSize;return Sh(yh,i.buffer,r,o)}const dr=new Ji,vn=new H;function O3(n){const e=new De,t=new De,i=new De,s=new De,r=new De,o=new De,a=new De,A=new De,c=new De,h=new De,l=new De,u=new De,p=n.inheritType?n.inheritType:0;if(n.translation&&e.setPosition(vn.fromArray(n.translation)),n.preRotation){const T=n.preRotation.map(Fe.degToRad);T.push(n.eulerOrder),t.makeRotationFromEuler(dr.fromArray(T))}if(n.rotation){const T=n.rotation.map(Fe.degToRad);T.push(n.eulerOrder),i.makeRotationFromEuler(dr.fromArray(T))}if(n.postRotation){const T=n.postRotation.map(Fe.degToRad);T.push(n.eulerOrder),s.makeRotationFromEuler(dr.fromArray(T)),s.invert()}n.scale&&r.scale(vn.fromArray(n.scale)),n.scalingOffset&&a.setPosition(vn.fromArray(n.scalingOffset)),n.scalingPivot&&o.setPosition(vn.fromArray(n.scalingPivot)),n.rotationOffset&&A.setPosition(vn.fromArray(n.rotationOffset)),n.rotationPivot&&c.setPosition(vn.fromArray(n.rotationPivot)),n.parentMatrixWorld&&(l.copy(n.parentMatrix),h.copy(n.parentMatrixWorld));const C=t.clone().multiply(i).multiply(s),v=new De;v.extractRotation(h);const B=new De;B.copyPosition(h);const I=B.clone().invert().multiply(h),E=v.clone().invert().multiply(I),g=r,x=new De;if(p===0)x.copy(v).multiply(C).multiply(E).multiply(g);else if(p===1)x.copy(v).multiply(E).multiply(C).multiply(g);else{const U=new De().scale(new H().setFromMatrixScale(l)).clone().invert(),k=E.clone().multiply(U);x.copy(v).multiply(C).multiply(k).multiply(g)}const w=c.clone().invert(),b=o.clone().invert();let D=e.clone().multiply(A).multiply(c).multiply(t).multiply(i).multiply(s).multiply(w).multiply(a).multiply(o).multiply(r).multiply(b);const S=new De().copyPosition(D),M=h.clone().multiply(S);return u.copyPosition(M),D=u.clone().multiply(x),D.premultiply(h.invert()),D}function N3(n){n=n||0;const e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return n===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[n]}function mr(n){return n.split(",").map(function(t){return parseFloat(t)})}function H3(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=n.byteLength),pi.decodeText(new Uint8Array(n,e,t))}function xh(n,e){for(let t=0,i=n.length,s=e.length;t<s;t++,i++)n[i]=e[t]}function Sh(n,e,t,i){for(let s=t,r=0;s<i;s++,r++)n[r]=e[s];return n}function va(n,e,t){return n.slice(0,e).concat(t).concat(n.slice(e))}class ml extends Dn{constructor(e){super(e)}load(e,t,i,s){const r=new gi(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,o=>{if(typeof o!="string")throw new Error("unsupported data type");const a=JSON.parse(o),A=this.parse(a);t&&t(A)},i,s)}loadAsync(e,t){return super.loadAsync(e,t)}parse(e){return new wh(e)}}class wh{constructor(e){f(this,"data"),this.data=e}generateShapes(e,t=100,i){const s=[],r={letterSpacing:0,lineHeight:1,...i},o=bh(e,t,this.data,r);for(let a=0,A=o.length;a<A;a++)Array.prototype.push.apply(s,o[a].toShapes(!1));return s}}function bh(n,e,t,i){const s=Array.from(n),r=e/t.resolution,o=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*r,a=[];let A=0,c=0;for(let h=0;h<s.length;h++){const l=s[h];if(l===`
`)A=0,c-=o*i.lineHeight;else{const u=Dh(l,r,A,c,t);u&&(A+=u.offsetX+i.letterSpacing,a.push(u.path))}}return a}function Dh(n,e,t,i,s){const r=s.glyphs[n]||s.glyphs["?"];if(!r){console.error('THREE.Font: character "'+n+'" does not exists in font family '+s.familyName+".");return}const o=new Gi;let a,A,c,h,l,u,p,C;if(r.o){const v=r._cachedOutline||(r._cachedOutline=r.o.split(" "));for(let B=0,I=v.length;B<I;)switch(v[B++]){case"m":a=parseInt(v[B++])*e+t,A=parseInt(v[B++])*e+i,o.moveTo(a,A);break;case"l":a=parseInt(v[B++])*e+t,A=parseInt(v[B++])*e+i,o.lineTo(a,A);break;case"q":c=parseInt(v[B++])*e+t,h=parseInt(v[B++])*e+i,l=parseInt(v[B++])*e+t,u=parseInt(v[B++])*e+i,o.quadraticCurveTo(l,u,c,h);break;case"b":c=parseInt(v[B++])*e+t,h=parseInt(v[B++])*e+i,l=parseInt(v[B++])*e+t,u=parseInt(v[B++])*e+i,p=parseInt(v[B++])*e+t,C=parseInt(v[B++])*e+i,o.bezierCurveTo(l,u,p,C,c,h);break}}return{offsetX:r.ha*e,path:o}}class Qh extends wn{constructor(e=null,t=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:s},this.magFilter=Ls,this.minFilter=Ls,this.wrapR=Zn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Fh{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,t){const i=this.workersResolve[e];if(i&&i(t),this.queue.length){const{resolve:s,msg:r,transfer:o}=this.queue.shift();this.workersResolve[e]=s,this.workers[e].postMessage(r,o)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,t){return new Promise(i=>{const s=this._getIdleWorker();s!==-1?(this._initWorker(s),this.workerStatus|=1<<s,this.workersResolve[s]=i,this.workers[s].postMessage(e,t)):this.queue.push({resolve:i,msg:e,transfer:t})})}dispose(){this.workers.forEach(e=>e.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}class Th extends Ga{constructor(e,t,i,s,r,o){super(e,t,i,r,o),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=Zn}}const vr=new WeakMap;let Br=0,Cr;const qn=class extends Dn{constructor(n){super(n),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new Fh,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(n){return this.transcoderPath=n,this}setWorkerLimit(n){return this.workerPool.setWorkerLimit(n),this}detectSupport(n){return this.workerConfig={astcSupported:n.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:n.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:n.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:n.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:n.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:n.extensions.has("WEBGL_compressed_texture_pvrtc")||n.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},n.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}init(){if(!this.transcoderPending){const n=new gi(this.manager);n.setPath(this.transcoderPath),n.setWithCredentials(this.withCredentials);const e=n.loadAsync("basis_transcoder.js"),t=new gi(this.manager);t.setPath(this.transcoderPath),t.setResponseType("arraybuffer"),t.setWithCredentials(this.withCredentials);const i=t.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([e,i]).then(([s,r])=>{const o=qn.BasisWorker.toString(),a=["/* constants */","let _EngineFormat = "+JSON.stringify(qn.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(qn.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(qn.BasisFormat),"/* basis_transcoder.js */",s,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a])),this.transcoderBinary=r,this.workerPool.setWorkerCreator(()=>{const A=new Worker(this.workerSourceURL),c=this.transcoderBinary.slice(0);return A.postMessage({type:"init",config:this.workerConfig,transcoderBinary:c},[c]),A})}),Br>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),Br++}return this.transcoderPending}load(n,e,t,i){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const s=new gi(this.manager);s.setResponseType("arraybuffer"),s.setWithCredentials(this.withCredentials),s.load(n,r=>{if(vr.has(r))return vr.get(r).promise.then(e).catch(i);this._createTexture(r).then(o=>e?e(o):null).catch(i)},t,i)}_createTextureFrom(n,e){const{mipmaps:t,width:i,height:s,format:r,type:o,error:a,dfdTransferFn:A,dfdFlags:c}=n;if(o==="error")return Promise.reject(a);const h=e.layerCount>1?new Th(t,i,s,e.layerCount,r,Ni):new Ga(t,i,s,r,Ni);return h.minFilter=t.length===1?mi:Yr,h.magFilter=mi,h.generateMipmaps=!1,h.needsUpdate=!0,"colorSpace"in h?h.colorSpace=A===Rr?"srgb":"srgb-linear":h.encoding=A===Rr?3001:3e3,h.premultiplyAlpha=!!(c&a2),h}async _createTexture(n,e={}){const t=l2(new Uint8Array(n));if(t.vkFormat!==Ka)return Rh(t);const i=e,s=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:n,taskConfig:i},[n])).then(r=>this._createTextureFrom(r.data,t));return vr.set(n,{promise:s}),s}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),Br--,this}};let vl=qn;const Ba={[t3]:an,[Za]:an,[ja]:an,[eo]:an,[e3]:ps,[Wa]:ps,[qa]:ps,[$r]:ps,[$a]:Kn,[Va]:Kn,[Zr]:Kn,[Xa]:Kn},Er={[t3]:Wt,[Za]:Nt,[ja]:Ni,[eo]:Ni,[e3]:Wt,[Wa]:Nt,[qa]:Ni,[$r]:Ni,[$a]:Wt,[Va]:Nt,[Zr]:Ni,[Xa]:Ni},Mh={[eo]:3001,[$r]:3001,[Zr]:3001};async function Rh(n){const{vkFormat:e,pixelWidth:t,pixelHeight:i,pixelDepth:s}=n;if(Ba[e]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");const r=n.levels[0];let o,a;if(n.supercompressionScheme===Ya)o=r.levelData;else if(n.supercompressionScheme===t2)Cr||(Cr=new Promise(async c=>{const h=new u2;await h.init(),c(h)})),o=(await Cr).decode(r.levelData,r.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");Er[e]===Wt?a=new Float32Array(o.buffer,o.byteOffset,o.byteLength/Float32Array.BYTES_PER_ELEMENT):Er[e]===Nt?a=new Uint16Array(o.buffer,o.byteOffset,o.byteLength/Uint16Array.BYTES_PER_ELEMENT):a=o;const A=s===0?new La(a,t,i):new Qh(a,t,i,s);return A.type=Er[e],A.format=Ba[e],A.encoding=Mh[e]||3e3,A.needsUpdate=!0,Promise.resolve(A)}class Bl extends Ua{constructor(e){super(e),this.type=Nt}parse(e){const a=function(g,x){switch(g){case 1:console.error("THREE.RGBELoader Read Error: "+(x||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(x||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(x||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(x||""))}return-1},l=`
`,u=function(g,x,w){x=x||1024;let D=g.pos,S=-1,M=0,T="",U=String.fromCharCode.apply(null,new Uint16Array(g.subarray(D,D+128)));for(;0>(S=U.indexOf(l))&&M<x&&D<g.byteLength;)T+=U,M+=U.length,D+=128,U+=String.fromCharCode.apply(null,new Uint16Array(g.subarray(D,D+128)));return-1<S?(w!==!1&&(g.pos+=M+S+1),T+U.slice(0,S)):!1},p=function(g){const x=/^#\?(\S+)/,w=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,b=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,D=/^\s*FORMAT=(\S+)\s*$/,S=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,M={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let T,U;if(g.pos>=g.byteLength||!(T=u(g)))return a(1,"no header found");if(!(U=T.match(x)))return a(3,"bad initial token");for(M.valid|=1,M.programtype=U[1],M.string+=T+`
`;T=u(g),T!==!1;){if(M.string+=T+`
`,T.charAt(0)==="#"){M.comments+=T+`
`;continue}if((U=T.match(w))&&(M.gamma=parseFloat(U[1])),(U=T.match(b))&&(M.exposure=parseFloat(U[1])),(U=T.match(D))&&(M.valid|=2,M.format=U[1]),(U=T.match(S))&&(M.valid|=4,M.height=parseInt(U[1],10),M.width=parseInt(U[2],10)),M.valid&2&&M.valid&4)break}return M.valid&2?M.valid&4?M:a(3,"missing image size specifier"):a(3,"missing format specifier")},C=function(g,x,w){const b=x;if(b<8||b>32767||g[0]!==2||g[1]!==2||g[2]&128)return new Uint8Array(g);if(b!==(g[2]<<8|g[3]))return a(3,"wrong scanline width");const D=new Uint8Array(4*x*w);if(!D.length)return a(4,"unable to allocate buffer space");let S=0,M=0;const T=4*b,U=new Uint8Array(4),k=new Uint8Array(T);let K=w;for(;K>0&&M<g.byteLength;){if(M+4>g.byteLength)return a(1);if(U[0]=g[M++],U[1]=g[M++],U[2]=g[M++],U[3]=g[M++],U[0]!=2||U[1]!=2||(U[2]<<8|U[3])!=b)return a(3,"bad rgbe scanline format");let z=0,$;for(;z<T&&M<g.byteLength;){$=g[M++];const Z=$>128;if(Z&&($-=128),$===0||z+$>T)return a(3,"bad scanline data");if(Z){const Y=g[M++];for(let re=0;re<$;re++)k[z++]=Y}else k.set(g.subarray(M,M+$),z),z+=$,M+=$}const ae=b;for(let Z=0;Z<ae;Z++){let Y=0;D[S]=k[Z+Y],Y+=b,D[S+1]=k[Z+Y],Y+=b,D[S+2]=k[Z+Y],Y+=b,D[S+3]=k[Z+Y],S+=4}K--}return D},v=function(g,x,w,b){const D=g[x+3],S=Math.pow(2,D-128)/255;w[b+0]=g[x+0]*S,w[b+1]=g[x+1]*S,w[b+2]=g[x+2]*S,w[b+3]=1},B=function(g,x,w,b){const D=g[x+3],S=Math.pow(2,D-128)/255;w[b+0]=Cn.toHalfFloat(Math.min(g[x+0]*S,65504)),w[b+1]=Cn.toHalfFloat(Math.min(g[x+1]*S,65504)),w[b+2]=Cn.toHalfFloat(Math.min(g[x+2]*S,65504)),w[b+3]=Cn.toHalfFloat(1)},I=new Uint8Array(e);I.pos=0;const E=p(I);if(E!==-1){const g=E.width,x=E.height,w=C(I.subarray(I.pos),g,x);if(w!==-1){let b,D,S;switch(this.type){case Wt:S=w.length/4;const M=new Float32Array(S*4);for(let U=0;U<S;U++)v(w,U*4,M,U*4);b=M,D=Wt;break;case Nt:S=w.length/4;const T=new Uint16Array(S*4);for(let U=0;U<S;U++)B(w,U*4,T,U*4);b=T,D=Nt;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:g,height:x,data:b,header:E.string,gamma:E.gamma,exposure:E.exposure,type:D}}}return null}setDataType(e){return this.type=e,this}load(e,t,i,s){function r(o,a){switch(o.type){case Wt:case Nt:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=mi,o.magFilter=mi,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,r,i,s)}}const Yn="colorSpace"in new wn;class Cl extends Ua{constructor(e){super(e),this.type=Nt}parse(e){const M=Math.pow(2.7182818,2.2);function T(d,y){for(var R=0,J=0;J<65536;++J)(J==0||d[J>>3]&1<<(J&7))&&(y[R++]=J);for(var q=R-1;R<65536;)y[R++]=0;return q}function U(d){for(var y=0;y<16384;y++)d[y]={},d[y].len=0,d[y].lit=0,d[y].p=null}const k={l:0,c:0,lc:0};function K(d,y,R,J,q){for(;R<d;)y=y<<8|Fi(J,q),R+=8;R-=d,k.l=y>>R&(1<<d)-1,k.c=y,k.lc=R}const z=new Array(59);function $(d){for(var y=0;y<=58;++y)z[y]=0;for(var y=0;y<65537;++y)z[d[y]]+=1;for(var R=0,y=58;y>0;--y){var J=R+z[y]>>1;z[y]=R,R=J}for(var y=0;y<65537;++y){var q=d[y];q>0&&(d[y]=q|z[q]++<<6)}}function ae(d,y,R,J,q,j,se){for(var te=R,he=0,Ae=0;q<=j;q++){if(te.value-R.value>J)return!1;K(6,he,Ae,d,te);var le=k.l;if(he=k.c,Ae=k.lc,se[q]=le,le==63){if(te.value-R.value>J)throw"Something wrong with hufUnpackEncTable";K(8,he,Ae,d,te);var oe=k.l+6;if(he=k.c,Ae=k.lc,q+oe>j+1)throw"Something wrong with hufUnpackEncTable";for(;oe--;)se[q++]=0;q--}else if(le>=59){var oe=le-59+2;if(q+oe>j+1)throw"Something wrong with hufUnpackEncTable";for(;oe--;)se[q++]=0;q--}}$(se)}function Z(d){return d&63}function Y(d){return d>>6}function re(d,y,R,J){for(;y<=R;y++){var q=Y(d[y]),j=Z(d[y]);if(q>>j)throw"Invalid table entry";if(j>14){var se=J[q>>j-14];if(se.len)throw"Invalid table entry";if(se.lit++,se.p){var te=se.p;se.p=new Array(se.lit);for(var he=0;he<se.lit-1;++he)se.p[he]=te[he]}else se.p=new Array(1);se.p[se.lit-1]=y}else if(j)for(var Ae=0,he=1<<14-j;he>0;he--){var se=J[(q<<14-j)+Ae];if(se.len||se.p)throw"Invalid table entry";se.len=j,se.lit=y,Ae++}}return!0}const W={c:0,lc:0};function ee(d,y,R,J){d=d<<8|Fi(R,J),y+=8,W.c=d,W.lc=y}const _={c:0,lc:0};function F(d,y,R,J,q,j,se,te,he,Ae){if(d==y){J<8&&(ee(R,J,q,se),R=W.c,J=W.lc),J-=8;var le=R>>J,le=new Uint8Array([le])[0];if(he.value+le>Ae)return!1;for(var oe=te[he.value-1];le-- >0;)te[he.value++]=oe}else if(he.value<Ae)te[he.value++]=d;else return!1;_.c=R,_.lc=J}function m(d){return d&65535}function G(d){var y=m(d);return y>32767?y-65536:y}const N={a:0,b:0};function L(d,y){var R=G(d),J=G(y),q=J,j=R+(q&1)+(q>>1),se=j,te=j-q;N.a=se,N.b=te}function V(d,y){var R=m(d),J=m(y),q=R-(J>>1)&65535,j=J+q-32768&65535;N.a=j,N.b=q}function ve(d,y,R,J,q,j,se){for(var te=se<16384,he=R>q?q:R,Ae=1,le;Ae<=he;)Ae<<=1;for(Ae>>=1,le=Ae,Ae>>=1;Ae>=1;){for(var oe=0,rt=oe+j*(q-le),ye=j*Ae,we=j*le,Me=J*Ae,Ge=J*le,Ke,qe,lt,St;oe<=rt;oe+=we){for(var je=oe,ai=oe+J*(R-le);je<=ai;je+=Ge){var Ze=je+Me,gt=je+ye,Ci=gt+Me;te?(L(d[je+y],d[gt+y]),Ke=N.a,lt=N.b,L(d[Ze+y],d[Ci+y]),qe=N.a,St=N.b,L(Ke,qe),d[je+y]=N.a,d[Ze+y]=N.b,L(lt,St),d[gt+y]=N.a,d[Ci+y]=N.b):(V(d[je+y],d[gt+y]),Ke=N.a,lt=N.b,V(d[Ze+y],d[Ci+y]),qe=N.a,St=N.b,V(Ke,qe),d[je+y]=N.a,d[Ze+y]=N.b,V(lt,St),d[gt+y]=N.a,d[Ci+y]=N.b)}if(R&Ae){var gt=je+ye;te?L(d[je+y],d[gt+y]):V(d[je+y],d[gt+y]),Ke=N.a,d[gt+y]=N.b,d[je+y]=Ke}}if(q&Ae)for(var je=oe,ai=oe+J*(R-le);je<=ai;je+=Ge){var Ze=je+Me;te?L(d[je+y],d[Ze+y]):V(d[je+y],d[Ze+y]),Ke=N.a,d[Ze+y]=N.b,d[je+y]=Ke}le=Ae,Ae>>=1}return oe}function ge(d,y,R,J,q,j,se,te,he,Ae){for(var le=0,oe=0,rt=te,ye=Math.trunc(q.value+(j+7)/8);q.value<ye;)for(ee(le,oe,R,q),le=W.c,oe=W.lc;oe>=14;){var we=le>>oe-14&16383,Me=y[we];if(Me.len)oe-=Me.len,F(Me.lit,se,le,oe,R,J,q,he,Ae,rt),le=_.c,oe=_.lc;else{if(!Me.p)throw"hufDecode issues";var Ge;for(Ge=0;Ge<Me.lit;Ge++){for(var Ke=Z(d[Me.p[Ge]]);oe<Ke&&q.value<ye;)ee(le,oe,R,q),le=W.c,oe=W.lc;if(oe>=Ke&&Y(d[Me.p[Ge]])==(le>>oe-Ke&(1<<Ke)-1)){oe-=Ke,F(Me.p[Ge],se,le,oe,R,J,q,he,Ae,rt),le=_.c,oe=_.lc;break}}if(Ge==Me.lit)throw"hufDecode issues"}}var qe=8-j&7;for(le>>=qe,oe-=qe;oe>0;){var Me=y[le<<14-oe&16383];if(Me.len)oe-=Me.len,F(Me.lit,se,le,oe,R,J,q,he,Ae,rt),le=_.c,oe=_.lc;else throw"hufDecode issues"}return!0}function pe(d,y,R,J,q,j){var se={value:0},te=R.value,he=ht(y,R),Ae=ht(y,R);R.value+=4;var le=ht(y,R);if(R.value+=4,he<0||he>=65537||Ae<0||Ae>=65537)throw"Something wrong with HUF_ENCSIZE";var oe=new Array(65537),rt=new Array(16384);U(rt);var ye=J-(R.value-te);if(ae(d,y,R,ye,he,Ae,oe),le>8*(J-(R.value-te)))throw"Something wrong with hufUncompress";re(oe,he,Ae,rt),ge(oe,rt,d,y,R,le,Ae,j,q,se)}function ce(d,y,R){for(var J=0;J<R;++J)y[J]=d[y[J]]}function Qe(d){for(var y=1;y<d.length;y++){var R=d[y-1]+d[y]-128;d[y]=R}}function ue(d,y){for(var R=0,J=Math.floor((d.length+1)/2),q=0,j=d.length-1;!(q>j||(y[q++]=d[R++],q>j));)y[q++]=d[J++]}function me(d){for(var y=d.byteLength,R=new Array,J=0,q=new DataView(d);y>0;){var j=q.getInt8(J++);if(j<0){var se=-j;y-=se+1;for(var te=0;te<se;te++)R.push(q.getUint8(J++))}else{var se=j;y-=2;for(var he=q.getUint8(J++),te=0;te<se+1;te++)R.push(he)}}return R}function P(d,y,R,J,q,j){var Ze=new DataView(j.buffer),se=R[d.idx[0]].width,te=R[d.idx[0]].height,he=3,Ae=Math.floor(se/8),le=Math.ceil(se/8),oe=Math.ceil(te/8),rt=se-(le-1)*8,ye=te-(oe-1)*8,we={value:0},Me=new Array(he),Ge=new Array(he),Ke=new Array(he),qe=new Array(he),lt=new Array(he);for(let Xe=0;Xe<he;++Xe)lt[Xe]=y[d.idx[Xe]],Me[Xe]=Xe<1?0:Me[Xe-1]+le*oe,Ge[Xe]=new Float32Array(64),Ke[Xe]=new Uint16Array(64),qe[Xe]=new Uint16Array(le*64);for(let Xe=0;Xe<oe;++Xe){var St=8;Xe==oe-1&&(St=ye);var je=8;for(let nt=0;nt<le;++nt){nt==le-1&&(je=rt);for(let ze=0;ze<he;++ze)Ke[ze].fill(0),Ke[ze][0]=q[Me[ze]++],Q(we,J,Ke[ze]),Ce(Ke[ze],Ge[ze]),Le(Ge[ze]);Je(Ge);for(let ze=0;ze<he;++ze)it(Ge[ze],qe[ze],nt*64)}let yt=0;for(let nt=0;nt<he;++nt){const ze=R[d.idx[nt]].type;for(let kt=8*Xe;kt<8*Xe+St;++kt){yt=lt[nt][kt];for(let Zi=0;Zi<Ae;++Zi){const Ft=Zi*64+(kt&7)*8;Ze.setUint16(yt+0*2*ze,qe[nt][Ft+0],!0),Ze.setUint16(yt+1*2*ze,qe[nt][Ft+1],!0),Ze.setUint16(yt+2*2*ze,qe[nt][Ft+2],!0),Ze.setUint16(yt+3*2*ze,qe[nt][Ft+3],!0),Ze.setUint16(yt+4*2*ze,qe[nt][Ft+4],!0),Ze.setUint16(yt+5*2*ze,qe[nt][Ft+5],!0),Ze.setUint16(yt+6*2*ze,qe[nt][Ft+6],!0),Ze.setUint16(yt+7*2*ze,qe[nt][Ft+7],!0),yt+=8*2*ze}}if(Ae!=le)for(let kt=8*Xe;kt<8*Xe+St;++kt){const Zi=lt[nt][kt]+8*Ae*2*ze,Ft=Ae*64+(kt&7)*8;for(let Ti=0;Ti<je;++Ti)Ze.setUint16(Zi+Ti*2*ze,qe[nt][Ft+Ti],!0)}}}for(var ai=new Uint16Array(se),Ze=new DataView(j.buffer),gt=0;gt<he;++gt){R[d.idx[gt]].decoded=!0;var Ci=R[d.idx[gt]].type;if(R[gt].type==2)for(var Ln=0;Ln<te;++Ln){const Xe=lt[gt][Ln];for(var Lt=0;Lt<se;++Lt)ai[Lt]=Ze.getUint16(Xe+Lt*2*Ci,!0);for(var Lt=0;Lt<se;++Lt)Ze.setFloat32(Xe+Lt*2*Ci,ne(ai[Lt]),!0)}}}function Q(d,y,R){for(var J,q=1;q<64;)J=y[d.value],J==65280?q=64:J>>8==255?q+=J&255:(R[q]=J,q++),d.value++}function Ce(d,y){y[0]=ne(d[0]),y[1]=ne(d[1]),y[2]=ne(d[5]),y[3]=ne(d[6]),y[4]=ne(d[14]),y[5]=ne(d[15]),y[6]=ne(d[27]),y[7]=ne(d[28]),y[8]=ne(d[2]),y[9]=ne(d[4]),y[10]=ne(d[7]),y[11]=ne(d[13]),y[12]=ne(d[16]),y[13]=ne(d[26]),y[14]=ne(d[29]),y[15]=ne(d[42]),y[16]=ne(d[3]),y[17]=ne(d[8]),y[18]=ne(d[12]),y[19]=ne(d[17]),y[20]=ne(d[25]),y[21]=ne(d[30]),y[22]=ne(d[41]),y[23]=ne(d[43]),y[24]=ne(d[9]),y[25]=ne(d[11]),y[26]=ne(d[18]),y[27]=ne(d[24]),y[28]=ne(d[31]),y[29]=ne(d[40]),y[30]=ne(d[44]),y[31]=ne(d[53]),y[32]=ne(d[10]),y[33]=ne(d[19]),y[34]=ne(d[23]),y[35]=ne(d[32]),y[36]=ne(d[39]),y[37]=ne(d[45]),y[38]=ne(d[52]),y[39]=ne(d[54]),y[40]=ne(d[20]),y[41]=ne(d[22]),y[42]=ne(d[33]),y[43]=ne(d[38]),y[44]=ne(d[46]),y[45]=ne(d[51]),y[46]=ne(d[55]),y[47]=ne(d[60]),y[48]=ne(d[21]),y[49]=ne(d[34]),y[50]=ne(d[37]),y[51]=ne(d[47]),y[52]=ne(d[50]),y[53]=ne(d[56]),y[54]=ne(d[59]),y[55]=ne(d[61]),y[56]=ne(d[35]),y[57]=ne(d[36]),y[58]=ne(d[48]),y[59]=ne(d[49]),y[60]=ne(d[57]),y[61]=ne(d[58]),y[62]=ne(d[62]),y[63]=ne(d[63])}function Le(d){const y=.5*Math.cos(.7853975),R=.5*Math.cos(3.14159/16),J=.5*Math.cos(3.14159/8),q=.5*Math.cos(3*3.14159/16),j=.5*Math.cos(5*3.14159/16),se=.5*Math.cos(3*3.14159/8),te=.5*Math.cos(7*3.14159/16);for(var he=new Array(4),Ae=new Array(4),le=new Array(4),oe=new Array(4),rt=0;rt<8;++rt){var ye=rt*8;he[0]=J*d[ye+2],he[1]=se*d[ye+2],he[2]=J*d[ye+6],he[3]=se*d[ye+6],Ae[0]=R*d[ye+1]+q*d[ye+3]+j*d[ye+5]+te*d[ye+7],Ae[1]=q*d[ye+1]-te*d[ye+3]-R*d[ye+5]-j*d[ye+7],Ae[2]=j*d[ye+1]-R*d[ye+3]+te*d[ye+5]+q*d[ye+7],Ae[3]=te*d[ye+1]-j*d[ye+3]+q*d[ye+5]-R*d[ye+7],le[0]=y*(d[ye+0]+d[ye+4]),le[3]=y*(d[ye+0]-d[ye+4]),le[1]=he[0]+he[3],le[2]=he[1]-he[2],oe[0]=le[0]+le[1],oe[1]=le[3]+le[2],oe[2]=le[3]-le[2],oe[3]=le[0]-le[1],d[ye+0]=oe[0]+Ae[0],d[ye+1]=oe[1]+Ae[1],d[ye+2]=oe[2]+Ae[2],d[ye+3]=oe[3]+Ae[3],d[ye+4]=oe[3]-Ae[3],d[ye+5]=oe[2]-Ae[2],d[ye+6]=oe[1]-Ae[1],d[ye+7]=oe[0]-Ae[0]}for(var we=0;we<8;++we)he[0]=J*d[16+we],he[1]=se*d[16+we],he[2]=J*d[48+we],he[3]=se*d[48+we],Ae[0]=R*d[8+we]+q*d[24+we]+j*d[40+we]+te*d[56+we],Ae[1]=q*d[8+we]-te*d[24+we]-R*d[40+we]-j*d[56+we],Ae[2]=j*d[8+we]-R*d[24+we]+te*d[40+we]+q*d[56+we],Ae[3]=te*d[8+we]-j*d[24+we]+q*d[40+we]-R*d[56+we],le[0]=y*(d[we]+d[32+we]),le[3]=y*(d[we]-d[32+we]),le[1]=he[0]+he[3],le[2]=he[1]-he[2],oe[0]=le[0]+le[1],oe[1]=le[3]+le[2],oe[2]=le[3]-le[2],oe[3]=le[0]-le[1],d[0+we]=oe[0]+Ae[0],d[8+we]=oe[1]+Ae[1],d[16+we]=oe[2]+Ae[2],d[24+we]=oe[3]+Ae[3],d[32+we]=oe[3]-Ae[3],d[40+we]=oe[2]-Ae[2],d[48+we]=oe[1]-Ae[1],d[56+we]=oe[0]-Ae[0]}function Je(d){for(var y=0;y<64;++y){var R=d[0][y],J=d[1][y],q=d[2][y];d[0][y]=R+1.5747*q,d[1][y]=R-.1873*J-.4682*q,d[2][y]=R+1.8556*J}}function it(d,y,R){for(var J=0;J<64;++J)y[R+J]=Cn.toHalfFloat(ct(d[J]))}function ct(d){return d<=1?Math.sign(d)*Math.pow(Math.abs(d),2.2):Math.sign(d)*Math.pow(M,Math.abs(d)-1)}function Et(d){return new DataView(d.array.buffer,d.offset.value,d.size)}function ii(d){var y=d.viewer.buffer.slice(d.offset.value,d.offset.value+d.size),R=new Uint8Array(me(y)),J=new Uint8Array(R.length);return Qe(R),ue(R,J),new DataView(J.buffer)}function Jt(d){var y=d.array.slice(d.offset.value,d.offset.value+d.size),R=Xn(y),J=new Uint8Array(R.length);return Qe(R),ue(R,J),new DataView(J.buffer)}function ni(d){for(var y=d.viewer,R={value:d.offset.value},J=new Uint16Array(d.width*d.scanlineBlockSize*(d.channels*d.type)),q=new Uint8Array(8192),j=0,se=new Array(d.channels),te=0;te<d.channels;te++)se[te]={},se[te].start=j,se[te].end=se[te].start,se[te].nx=d.width,se[te].ny=d.lines,se[te].size=d.type,j+=se[te].nx*se[te].ny*se[te].size;var he=at(y,R),Ae=at(y,R);if(Ae>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(he<=Ae)for(var te=0;te<Ae-he+1;te++)q[te+he]=O(y,R);var le=new Uint16Array(65536),oe=T(q,le),rt=ht(y,R);pe(d.array,y,R,rt,J,j);for(var te=0;te<d.channels;++te)for(var ye=se[te],we=0;we<se[te].size;++we)ve(J,ye.start+we,ye.nx,ye.size,ye.ny,ye.nx*ye.size,oe);ce(le,J,j);for(var Me=0,Ge=new Uint8Array(J.buffer.byteLength),Ke=0;Ke<d.lines;Ke++)for(var qe=0;qe<d.channels;qe++){var ye=se[qe],lt=ye.nx*ye.size,St=new Uint8Array(J.buffer,ye.end*2,lt*2);Ge.set(St,Me),Me+=lt*2,ye.end+=lt}return new DataView(Ge.buffer)}function si(d){var y=d.array.slice(d.offset.value,d.offset.value+d.size),R=Xn(y);const J=d.lines*d.channels*d.width,q=d.type==1?new Uint16Array(J):new Uint32Array(J);let j=0,se=0;const te=new Array(4);for(let he=0;he<d.lines;he++)for(let Ae=0;Ae<d.channels;Ae++){let le=0;switch(d.type){case 1:te[0]=j,te[1]=te[0]+d.width,j=te[1]+d.width;for(let oe=0;oe<d.width;++oe){const rt=R[te[0]++]<<8|R[te[1]++];le+=rt,q[se]=le,se++}break;case 2:te[0]=j,te[1]=te[0]+d.width,te[2]=te[1]+d.width,j=te[2]+d.width;for(let oe=0;oe<d.width;++oe){const rt=R[te[0]++]<<24|R[te[1]++]<<16|R[te[2]++]<<8;le+=rt,q[se]=le,se++}break}}return new DataView(q.buffer)}function Qt(d){var y=d.viewer,R={value:d.offset.value},J=new Uint8Array(d.width*d.lines*(d.channels*d.type*2)),q={version:ie(y,R),unknownUncompressedSize:ie(y,R),unknownCompressedSize:ie(y,R),acCompressedSize:ie(y,R),dcCompressedSize:ie(y,R),rleCompressedSize:ie(y,R),rleUncompressedSize:ie(y,R),rleRawSize:ie(y,R),totalAcUncompressedCount:ie(y,R),totalDcUncompressedCount:ie(y,R),acCompression:ie(y,R)};if(q.version<2)throw"EXRLoader.parse: "+_n.compression+" version "+q.version+" is unsupported";for(var j=new Array,se=at(y,R)-2;se>0;){var te=_t(y.buffer,R),he=O(y,R),Ae=he>>2&3,le=(he>>4)-1,oe=new Int8Array([le])[0],rt=O(y,R);j.push({name:te,index:oe,type:rt,compression:Ae}),se-=te.length+3}for(var ye=_n.channels,we=new Array(d.channels),Me=0;Me<d.channels;++Me){var Ge=we[Me]={},Ke=ye[Me];Ge.name=Ke.name,Ge.compression=0,Ge.decoded=!1,Ge.type=Ke.pixelType,Ge.pLinear=Ke.pLinear,Ge.width=d.width,Ge.height=d.lines}for(var qe={idx:new Array(3)},lt=0;lt<d.channels;++lt)for(var Ge=we[lt],Me=0;Me<j.length;++Me){var St=j[Me];Ge.name==St.name&&(Ge.compression=St.compression,St.index>=0&&(qe.idx[St.index]=lt),Ge.offset=lt)}if(q.acCompressedSize>0)switch(q.acCompression){case 0:var Ze=new Uint16Array(q.totalAcUncompressedCount);pe(d.array,y,R,q.acCompressedSize,Ze,q.totalAcUncompressedCount);break;case 1:var je=d.array.slice(R.value,R.value+q.totalAcUncompressedCount),ai=Xn(je),Ze=new Uint16Array(ai.buffer);R.value+=q.totalAcUncompressedCount;break}if(q.dcCompressedSize>0){var gt={array:d.array,offset:R,size:q.dcCompressedSize},Ci=new Uint16Array(Jt(gt).buffer);R.value+=q.dcCompressedSize}if(q.rleRawSize>0){var je=d.array.slice(R.value,R.value+q.rleCompressedSize),ai=Xn(je),Ln=me(ai.buffer);R.value+=q.rleCompressedSize}for(var Lt=0,Xe=new Array(we.length),Me=0;Me<Xe.length;++Me)Xe[Me]=new Array;for(var yt=0;yt<d.lines;++yt)for(var nt=0;nt<we.length;++nt)Xe[nt].push(Lt),Lt+=we[nt].width*d.type*2;P(qe,Xe,we,Ze,Ci,J);for(var Me=0;Me<we.length;++Me){var Ge=we[Me];if(!Ge.decoded)switch(Ge.compression){case 2:for(var ze=0,kt=0,yt=0;yt<d.lines;++yt){for(var Zi=Xe[Me][ze],Ft=0;Ft<Ge.width;++Ft){for(var Ti=0;Ti<2*Ge.type;++Ti)J[Zi++]=Ln[kt+Ti*Ge.width*Ge.height];kt++}ze++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(J.buffer)}function _t(d,y){for(var R=new Uint8Array(d),J=0;R[y.value+J]!=0;)J+=1;var q=new TextDecoder().decode(R.slice(y.value,y.value+J));return y.value=y.value+J+1,q}function vi(d,y,R){var J=new TextDecoder().decode(new Uint8Array(d).slice(y.value,y.value+R));return y.value=y.value+R,J}function ri(d,y){var R=oi(d,y),J=ht(d,y);return[R,J]}function Bi(d,y){var R=ht(d,y),J=ht(d,y);return[R,J]}function oi(d,y){var R=d.getInt32(y.value,!0);return y.value=y.value+4,R}function ht(d,y){var R=d.getUint32(y.value,!0);return y.value=y.value+4,R}function Fi(d,y){var R=d[y.value];return y.value=y.value+1,R}function O(d,y){var R=d.getUint8(y.value);return y.value=y.value+1,R}const ie=function(d,y){let R;return"getBigInt64"in DataView.prototype?R=Number(d.getBigInt64(y.value,!0)):R=d.getUint32(y.value+4,!0)+Number(d.getUint32(y.value,!0)<<32),y.value+=8,R};function de(d,y){var R=d.getFloat32(y.value,!0);return y.value+=4,R}function ke(d,y){return Cn.toHalfFloat(de(d,y))}function ne(d){var y=(d&31744)>>10,R=d&1023;return(d>>15?-1:1)*(y?y===31?R?NaN:1/0:Math.pow(2,y-15)*(1+R/1024):6103515625e-14*(R/1024))}function at(d,y){var R=d.getUint16(y.value,!0);return y.value+=2,R}function It(d,y){return ne(at(d,y))}function ho(d,y,R,J){for(var q=R.value,j=[];R.value<q+J-1;){var se=_t(y,R),te=oi(d,R),he=O(d,R);R.value+=3;var Ae=oi(d,R),le=oi(d,R);j.push({name:se,pixelType:te,pLinear:he,xSampling:Ae,ySampling:le})}return R.value+=1,j}function hs(d,y){var R=de(d,y),J=de(d,y),q=de(d,y),j=de(d,y),se=de(d,y),te=de(d,y),he=de(d,y),Ae=de(d,y);return{redX:R,redY:J,greenX:q,greenY:j,blueX:se,blueY:te,whiteX:he,whiteY:Ae}}function zt(d,y){var R=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],J=O(d,y);return R[J]}function Yt(d,y){var R=ht(d,y),J=ht(d,y),q=ht(d,y),j=ht(d,y);return{xMin:R,yMin:J,xMax:q,yMax:j}}function un(d,y){var R=["INCREASING_Y"],J=O(d,y);return R[J]}function Vi(d,y){var R=de(d,y),J=de(d,y);return[R,J]}function Wi(d,y){var R=de(d,y),J=de(d,y),q=de(d,y);return[R,J,q]}function fn(d,y,R,J,q){if(J==="string"||J==="stringvector"||J==="iccProfile")return vi(y,R,q);if(J==="chlist")return ho(d,y,R,q);if(J==="chromaticities")return hs(d,R);if(J==="compression")return zt(d,R);if(J==="box2i")return Yt(d,R);if(J==="lineOrder")return un(d,R);if(J==="float")return de(d,R);if(J==="v2f")return Vi(d,R);if(J==="v3f")return Wi(d,R);if(J==="int")return oi(d,R);if(J==="rational")return ri(d,R);if(J==="timecode")return Bi(d,R);if(J==="preview")return R.value+=q,"skipped";R.value+=q}function V3(d,y,R){const J={};if(d.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";J.version=d.getUint8(4);const q=d.getUint8(5);J.spec={singleTile:!!(q&2),longName:!!(q&4),deepFormat:!!(q&8),multiPart:!!(q&16)},R.value=8;for(var j=!0;j;){var se=_t(y,R);if(se==0)j=!1;else{var te=_t(y,R),he=ht(d,R),Ae=fn(d,y,R,te,he);Ae===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${te}'.`):J[se]=Ae}}if(q!=0)throw console.error("EXRHeader:",J),"THREE.EXRLoader: provided file is currently unsupported.";return J}function W3(d,y,R,J,q){const j={size:0,viewer:y,array:R,offset:J,width:d.dataWindow.xMax-d.dataWindow.xMin+1,height:d.dataWindow.yMax-d.dataWindow.yMin+1,channels:d.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:d.channels[0].pixelType,uncompress:null,getter:null,format:null,[Yn?"colorSpace":"encoding"]:null};switch(d.compression){case"NO_COMPRESSION":j.lines=1,j.uncompress=Et;break;case"RLE_COMPRESSION":j.lines=1,j.uncompress=ii;break;case"ZIPS_COMPRESSION":j.lines=1,j.uncompress=Jt;break;case"ZIP_COMPRESSION":j.lines=16,j.uncompress=Jt;break;case"PIZ_COMPRESSION":j.lines=32,j.uncompress=ni;break;case"PXR24_COMPRESSION":j.lines=16,j.uncompress=si;break;case"DWAA_COMPRESSION":j.lines=32,j.uncompress=Qt;break;case"DWAB_COMPRESSION":j.lines=256,j.uncompress=Qt;break;default:throw"EXRLoader.parse: "+d.compression+" is unsupported"}if(j.scanlineBlockSize=j.lines,j.type==1)switch(q){case Wt:j.getter=It,j.inputSize=2;break;case Nt:j.getter=at,j.inputSize=2;break}else if(j.type==2)switch(q){case Wt:j.getter=de,j.inputSize=4;break;case Nt:j.getter=ke,j.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+j.type+" for "+d.compression+".";j.blockCount=(d.dataWindow.yMax+1)/j.scanlineBlockSize;for(var se=0;se<j.blockCount;se++)ie(y,J);j.outputChannels=j.channels==3?4:j.channels;const te=j.width*j.height*j.outputChannels;switch(q){case Wt:j.byteArray=new Float32Array(te),j.channels<j.outputChannels&&j.byteArray.fill(1,0,te);break;case Nt:j.byteArray=new Uint16Array(te),j.channels<j.outputChannels&&j.byteArray.fill(15360,0,te);break;default:console.error("THREE.EXRLoader: unsupported type: ",q);break}return j.bytesPerLine=j.width*j.inputSize*j.channels,j.outputChannels==4?j.format=an:j.format=Kn,Yn?j.colorSpace="srgb-linear":j.encoding=3e3,j}const ls=new DataView(e),Z3=new Uint8Array(e),Rn={value:0},_n=V3(ls,e,Rn),Oe=W3(_n,ls,Z3,Rn,this.type),lo={value:0},$3={R:0,G:1,B:2,A:3,Y:0};for(let d=0;d<Oe.height/Oe.scanlineBlockSize;d++){const y=ht(ls,Rn);Oe.size=ht(ls,Rn),Oe.lines=y+Oe.scanlineBlockSize>Oe.height?Oe.height-y:Oe.scanlineBlockSize;const J=Oe.size<Oe.lines*Oe.bytesPerLine?Oe.uncompress(Oe):Et(Oe);Rn.value+=Oe.size;for(let q=0;q<Oe.scanlineBlockSize;q++){const j=q+d*Oe.scanlineBlockSize;if(j>=Oe.height)break;for(let se=0;se<Oe.channels;se++){const te=$3[_n.channels[se].name];for(let he=0;he<Oe.width;he++){lo.value=(q*(Oe.channels*Oe.width)+se*Oe.width+he)*Oe.inputSize;const Ae=(Oe.height-1-j)*(Oe.width*Oe.outputChannels)+he*Oe.outputChannels+te;Oe.byteArray[Ae]=Oe.getter(J,lo)}}}}return{header:_n,width:Oe.width,height:Oe.height,data:Oe.byteArray,format:Oe.format,[Yn?"colorSpace":"encoding"]:Oe[Yn?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,i,s){function r(o,a){Yn?o.colorSpace=a.colorSpace:o.encoding=a.encoding,o.minFilter=mi,o.magFilter=mi,o.generateMipmaps=!1,o.flipY=!1,t&&t(o,a)}return super.load(e,r,i,s)}}class J3 extends Dn{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,t,i,s){const r=this,o=new gi(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(a){try{t(r.parse(a))}catch(A){s?s(A):console.error(A),r.manager.itemError(e)}},i,s)}parse(e){const t=this;function i(_,F){if(_.nodeType!==1)return;const m=x(_);let G=!0,N=null;switch(_.nodeName){case"svg":break;case"style":r(_);break;case"g":F=C(_,F);break;case"path":F=C(_,F),_.hasAttribute("d")&&(N=s(_));break;case"rect":F=C(_,F),N=A(_);break;case"polygon":F=C(_,F),N=c(_);break;case"polyline":F=C(_,F),N=h(_);break;case"circle":F=C(_,F),N=l(_);break;case"ellipse":F=C(_,F),N=u(_);break;case"line":F=C(_,F),N=p(_);break;case"defs":G=!1;break;case"mask":G=!1;break;case"use":F=C(_,F);const L=_.href.baseVal.substring(1),V=_.viewportElement.getElementById(L);V?i(V,F):console.warn("SVGLoader: 'use node' references non-existent node id: "+L);break}if(N&&(F.fill!==void 0&&F.fill!=="none"&&N.color.setStyle(F.fill),b(N,re),T.push(N),N.userData={node:_,style:F}),G){const L=_.childNodes;for(let V=0;V<L.length;V++)i(L[V],F)}m&&(k.pop(),k.length>0?re.copy(k[k.length-1]):re.identity())}function s(_){const F=new Gi,m=new Se,G=new Se,N=new Se;let L=!0,V=!1;const ge=_.getAttribute("d").match(/[a-df-z][^a-df-z]*/gi);for(let pe=0,ce=ge.length;pe<ce;pe++){const Qe=ge[pe],ue=Qe.charAt(0),me=Qe.substr(1).trim();L===!0&&(V=!0,L=!1);let P;switch(ue){case"M":P=B(me);for(let Q=0,Ce=P.length;Q<Ce;Q+=2)m.x=P[Q+0],m.y=P[Q+1],G.x=m.x,G.y=m.y,Q===0?F.moveTo(m.x,m.y):F.lineTo(m.x,m.y),Q===0&&N.copy(m);break;case"H":P=B(me);for(let Q=0,Ce=P.length;Q<Ce;Q++)m.x=P[Q],G.x=m.x,G.y=m.y,F.lineTo(m.x,m.y),Q===0&&V===!0&&N.copy(m);break;case"V":P=B(me);for(let Q=0,Ce=P.length;Q<Ce;Q++)m.y=P[Q],G.x=m.x,G.y=m.y,F.lineTo(m.x,m.y),Q===0&&V===!0&&N.copy(m);break;case"L":P=B(me);for(let Q=0,Ce=P.length;Q<Ce;Q+=2)m.x=P[Q+0],m.y=P[Q+1],G.x=m.x,G.y=m.y,F.lineTo(m.x,m.y),Q===0&&V===!0&&N.copy(m);break;case"C":P=B(me);for(let Q=0,Ce=P.length;Q<Ce;Q+=6)F.bezierCurveTo(P[Q+0],P[Q+1],P[Q+2],P[Q+3],P[Q+4],P[Q+5]),G.x=P[Q+2],G.y=P[Q+3],m.x=P[Q+4],m.y=P[Q+5],Q===0&&V===!0&&N.copy(m);break;case"S":P=B(me);for(let Q=0,Ce=P.length;Q<Ce;Q+=4)F.bezierCurveTo(v(m.x,G.x),v(m.y,G.y),P[Q+0],P[Q+1],P[Q+2],P[Q+3]),G.x=P[Q+0],G.y=P[Q+1],m.x=P[Q+2],m.y=P[Q+3],Q===0&&V===!0&&N.copy(m);break;case"Q":P=B(me);for(let Q=0,Ce=P.length;Q<Ce;Q+=4)F.quadraticCurveTo(P[Q+0],P[Q+1],P[Q+2],P[Q+3]),G.x=P[Q+0],G.y=P[Q+1],m.x=P[Q+2],m.y=P[Q+3],Q===0&&V===!0&&N.copy(m);break;case"T":P=B(me);for(let Q=0,Ce=P.length;Q<Ce;Q+=2){const Le=v(m.x,G.x),Je=v(m.y,G.y);F.quadraticCurveTo(Le,Je,P[Q+0],P[Q+1]),G.x=Le,G.y=Je,m.x=P[Q+0],m.y=P[Q+1],Q===0&&V===!0&&N.copy(m)}break;case"A":P=B(me,[3,4],7);for(let Q=0,Ce=P.length;Q<Ce;Q+=7){if(P[Q+5]==m.x&&P[Q+6]==m.y)continue;const Le=m.clone();m.x=P[Q+5],m.y=P[Q+6],G.x=m.x,G.y=m.y,o(F,P[Q],P[Q+1],P[Q+2],P[Q+3],P[Q+4],Le,m),Q===0&&V===!0&&N.copy(m)}break;case"m":P=B(me);for(let Q=0,Ce=P.length;Q<Ce;Q+=2)m.x+=P[Q+0],m.y+=P[Q+1],G.x=m.x,G.y=m.y,Q===0?F.moveTo(m.x,m.y):F.lineTo(m.x,m.y),Q===0&&N.copy(m);break;case"h":P=B(me);for(let Q=0,Ce=P.length;Q<Ce;Q++)m.x+=P[Q],G.x=m.x,G.y=m.y,F.lineTo(m.x,m.y),Q===0&&V===!0&&N.copy(m);break;case"v":P=B(me);for(let Q=0,Ce=P.length;Q<Ce;Q++)m.y+=P[Q],G.x=m.x,G.y=m.y,F.lineTo(m.x,m.y),Q===0&&V===!0&&N.copy(m);break;case"l":P=B(me);for(let Q=0,Ce=P.length;Q<Ce;Q+=2)m.x+=P[Q+0],m.y+=P[Q+1],G.x=m.x,G.y=m.y,F.lineTo(m.x,m.y),Q===0&&V===!0&&N.copy(m);break;case"c":P=B(me);for(let Q=0,Ce=P.length;Q<Ce;Q+=6)F.bezierCurveTo(m.x+P[Q+0],m.y+P[Q+1],m.x+P[Q+2],m.y+P[Q+3],m.x+P[Q+4],m.y+P[Q+5]),G.x=m.x+P[Q+2],G.y=m.y+P[Q+3],m.x+=P[Q+4],m.y+=P[Q+5],Q===0&&V===!0&&N.copy(m);break;case"s":P=B(me);for(let Q=0,Ce=P.length;Q<Ce;Q+=4)F.bezierCurveTo(v(m.x,G.x),v(m.y,G.y),m.x+P[Q+0],m.y+P[Q+1],m.x+P[Q+2],m.y+P[Q+3]),G.x=m.x+P[Q+0],G.y=m.y+P[Q+1],m.x+=P[Q+2],m.y+=P[Q+3],Q===0&&V===!0&&N.copy(m);break;case"q":P=B(me);for(let Q=0,Ce=P.length;Q<Ce;Q+=4)F.quadraticCurveTo(m.x+P[Q+0],m.y+P[Q+1],m.x+P[Q+2],m.y+P[Q+3]),G.x=m.x+P[Q+0],G.y=m.y+P[Q+1],m.x+=P[Q+2],m.y+=P[Q+3],Q===0&&V===!0&&N.copy(m);break;case"t":P=B(me);for(let Q=0,Ce=P.length;Q<Ce;Q+=2){const Le=v(m.x,G.x),Je=v(m.y,G.y);F.quadraticCurveTo(Le,Je,m.x+P[Q+0],m.y+P[Q+1]),G.x=Le,G.y=Je,m.x=m.x+P[Q+0],m.y=m.y+P[Q+1],Q===0&&V===!0&&N.copy(m)}break;case"a":P=B(me,[3,4],7);for(let Q=0,Ce=P.length;Q<Ce;Q+=7){if(P[Q+5]==0&&P[Q+6]==0)continue;const Le=m.clone();m.x+=P[Q+5],m.y+=P[Q+6],G.x=m.x,G.y=m.y,o(F,P[Q],P[Q+1],P[Q+2],P[Q+3],P[Q+4],Le,m),Q===0&&V===!0&&N.copy(m)}break;case"Z":case"z":F.currentPath.autoClose=!0,F.currentPath.curves.length>0&&(m.copy(N),F.currentPath.currentPoint.copy(m),L=!0);break;default:console.warn(Qe)}V=!1}return F}function r(_){if(!(!_.sheet||!_.sheet.cssRules||!_.sheet.cssRules.length))for(let F=0;F<_.sheet.cssRules.length;F++){const m=_.sheet.cssRules[F];if(m.type!==1)continue;const G=m.selectorText.split(/,/gm).filter(Boolean).map(N=>N.trim());for(let N=0;N<G.length;N++)U[G[N]]=Object.assign(U[G[N]]||{},m.style)}}function o(_,F,m,G,N,L,V,ve){if(F==0||m==0){_.lineTo(ve.x,ve.y);return}G=G*Math.PI/180,F=Math.abs(F),m=Math.abs(m);const ge=(V.x-ve.x)/2,pe=(V.y-ve.y)/2,ce=Math.cos(G)*ge+Math.sin(G)*pe,Qe=-Math.sin(G)*ge+Math.cos(G)*pe;let ue=F*F,me=m*m;const P=ce*ce,Q=Qe*Qe,Ce=P/ue+Q/me;if(Ce>1){const Qt=Math.sqrt(Ce);F=Qt*F,m=Qt*m,ue=F*F,me=m*m}const Le=ue*Q+me*P,Je=(ue*me-Le)/Le;let it=Math.sqrt(Math.max(0,Je));N===L&&(it=-it);const ct=it*F*Qe/m,Et=-it*m*ce/F,ii=Math.cos(G)*ct-Math.sin(G)*Et+(V.x+ve.x)/2,Jt=Math.sin(G)*ct+Math.cos(G)*Et+(V.y+ve.y)/2,ni=a(1,0,(ce-ct)/F,(Qe-Et)/m),si=a((ce-ct)/F,(Qe-Et)/m,(-ce-ct)/F,(-Qe-Et)/m)%(Math.PI*2);_.currentPath.absellipse(ii,Jt,F,m,ni,ni+si,L===0,G)}function a(_,F,m,G){const N=_*m+F*G,L=Math.sqrt(_*_+F*F)*Math.sqrt(m*m+G*G);let V=Math.acos(Math.max(-1,Math.min(1,N/L)));return _*G-F*m<0&&(V=-V),V}function A(_){const F=g(_.getAttribute("x")||0),m=g(_.getAttribute("y")||0),G=g(_.getAttribute("rx")||_.getAttribute("ry")||0),N=g(_.getAttribute("ry")||_.getAttribute("rx")||0),L=g(_.getAttribute("width")),V=g(_.getAttribute("height")),ve=1-.551915024494,ge=new Gi;return ge.moveTo(F+G,m),ge.lineTo(F+L-G,m),(G!==0||N!==0)&&ge.bezierCurveTo(F+L-G*ve,m,F+L,m+N*ve,F+L,m+N),ge.lineTo(F+L,m+V-N),(G!==0||N!==0)&&ge.bezierCurveTo(F+L,m+V-N*ve,F+L-G*ve,m+V,F+L-G,m+V),ge.lineTo(F+G,m+V),(G!==0||N!==0)&&ge.bezierCurveTo(F+G*ve,m+V,F,m+V-N*ve,F,m+V-N),ge.lineTo(F,m+N),(G!==0||N!==0)&&ge.bezierCurveTo(F,m+N*ve,F+G*ve,m,F+G,m),ge}function c(_){function F(L,V,ve){const ge=g(V),pe=g(ve);N===0?G.moveTo(ge,pe):G.lineTo(ge,pe),N++}const m=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,G=new Gi;let N=0;return _.getAttribute("points").replace(m,F),G.currentPath.autoClose=!0,G}function h(_){function F(L,V,ve){const ge=g(V),pe=g(ve);N===0?G.moveTo(ge,pe):G.lineTo(ge,pe),N++}const m=/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,G=new Gi;let N=0;return _.getAttribute("points").replace(m,F),G.currentPath.autoClose=!1,G}function l(_){const F=g(_.getAttribute("cx")||0),m=g(_.getAttribute("cy")||0),G=g(_.getAttribute("r")||0),N=new Vs;N.absarc(F,m,G,0,Math.PI*2);const L=new Gi;return L.subPaths.push(N),L}function u(_){const F=g(_.getAttribute("cx")||0),m=g(_.getAttribute("cy")||0),G=g(_.getAttribute("rx")||0),N=g(_.getAttribute("ry")||0),L=new Vs;L.absellipse(F,m,G,N,0,Math.PI*2);const V=new Gi;return V.subPaths.push(L),V}function p(_){const F=g(_.getAttribute("x1")||0),m=g(_.getAttribute("y1")||0),G=g(_.getAttribute("x2")||0),N=g(_.getAttribute("y2")||0),L=new Gi;return L.moveTo(F,m),L.lineTo(G,N),L.currentPath.autoClose=!1,L}function C(_,F){F=Object.assign({},F);let m={};if(_.hasAttribute("class")){const V=_.getAttribute("class").split(/\s/).filter(Boolean).map(ve=>ve.trim());for(let ve=0;ve<V.length;ve++)m=Object.assign(m,U["."+V[ve]])}_.hasAttribute("id")&&(m=Object.assign(m,U["#"+_.getAttribute("id")]));function G(V,ve,ge){ge===void 0&&(ge=function(ce){return ce.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),ce}),_.hasAttribute(V)&&(F[ve]=ge(_.getAttribute(V))),m[V]&&(F[ve]=ge(m[V])),_.style&&_.style[V]!==""&&(F[ve]=ge(_.style[V]))}function N(V){return Math.max(0,Math.min(1,g(V)))}function L(V){return Math.max(0,g(V))}return G("fill","fill"),G("fill-opacity","fillOpacity",N),G("fill-rule","fillRule"),G("opacity","opacity",N),G("stroke","stroke"),G("stroke-opacity","strokeOpacity",N),G("stroke-width","strokeWidth",L),G("stroke-linejoin","strokeLineJoin"),G("stroke-linecap","strokeLineCap"),G("stroke-miterlimit","strokeMiterLimit",L),G("visibility","visibility"),F}function v(_,F){return _-(F-_)}function B(_,F,m){if(typeof _!="string")throw new TypeError("Invalid input: "+typeof _);const G={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},N=0,L=1,V=2,ve=3;let ge=N,pe=!0,ce="",Qe="";const ue=[];function me(Le,Je,it){const ct=new SyntaxError('Unexpected character "'+Le+'" at index '+Je+".");throw ct.partial=it,ct}function P(){ce!==""&&(Qe===""?ue.push(Number(ce)):ue.push(Number(ce)*Math.pow(10,Number(Qe)))),ce="",Qe=""}let Q;const Ce=_.length;for(let Le=0;Le<Ce;Le++){if(Q=_[Le],Array.isArray(F)&&F.includes(ue.length%m)&&G.FLAGS.test(Q)){ge=L,ce=Q,P();continue}if(ge===N){if(G.WHITESPACE.test(Q))continue;if(G.DIGIT.test(Q)||G.SIGN.test(Q)){ge=L,ce=Q;continue}if(G.POINT.test(Q)){ge=V,ce=Q;continue}G.COMMA.test(Q)&&(pe&&me(Q,Le,ue),pe=!0)}if(ge===L){if(G.DIGIT.test(Q)){ce+=Q;continue}if(G.POINT.test(Q)){ce+=Q,ge=V;continue}if(G.EXP.test(Q)){ge=ve;continue}G.SIGN.test(Q)&&ce.length===1&&G.SIGN.test(ce[0])&&me(Q,Le,ue)}if(ge===V){if(G.DIGIT.test(Q)){ce+=Q;continue}if(G.EXP.test(Q)){ge=ve;continue}G.POINT.test(Q)&&ce[ce.length-1]==="."&&me(Q,Le,ue)}if(ge===ve){if(G.DIGIT.test(Q)){Qe+=Q;continue}if(G.SIGN.test(Q)){if(Qe===""){Qe+=Q;continue}Qe.length===1&&G.SIGN.test(Qe)&&me(Q,Le,ue)}}G.WHITESPACE.test(Q)?(P(),ge=N,pe=!1):G.COMMA.test(Q)?(P(),ge=N,pe=!0):G.SIGN.test(Q)?(P(),ge=L,ce=Q):G.POINT.test(Q)?(P(),ge=V,ce=Q):me(Q,Le,ue)}return P(),ue}const I=["mm","cm","in","pt","pc","px"],E={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function g(_){let F="px";if(typeof _=="string"||_ instanceof String)for(let G=0,N=I.length;G<N;G++){const L=I[G];if(_.endsWith(L)){F=L,_=_.substring(0,_.length-L.length);break}}let m;return F==="px"&&t.defaultUnit!=="px"?m=E.in[t.defaultUnit]/t.defaultDPI:(m=E[F][t.defaultUnit],m<0&&(m=E[F].in*t.defaultDPI)),m*parseFloat(_)}function x(_){if(!(_.hasAttribute("transform")||_.nodeName==="use"&&(_.hasAttribute("x")||_.hasAttribute("y"))))return null;const F=w(_);return k.length>0&&F.premultiply(k[k.length-1]),re.copy(F),k.push(F),F}function w(_){const F=new nn,m=K;if(_.nodeName==="use"&&(_.hasAttribute("x")||_.hasAttribute("y"))){const G=g(_.getAttribute("x")),N=g(_.getAttribute("y"));F.translate(G,N)}if(_.hasAttribute("transform")){const G=_.getAttribute("transform").split(")");for(let N=G.length-1;N>=0;N--){const L=G[N].trim();if(L==="")continue;const V=L.indexOf("("),ve=L.length;if(V>0&&V<ve){const ge=L.substr(0,V),pe=B(L.substr(V+1,ve-V-1));switch(m.identity(),ge){case"translate":if(pe.length>=1){const ce=pe[0];let Qe=ce;pe.length>=2&&(Qe=pe[1]),m.translate(ce,Qe)}break;case"rotate":if(pe.length>=1){let ce=0,Qe=0,ue=0;ce=-pe[0]*Math.PI/180,pe.length>=3&&(Qe=pe[1],ue=pe[2]),z.identity().translate(-Qe,-ue),$.identity().rotate(ce),ae.multiplyMatrices($,z),z.identity().translate(Qe,ue),m.multiplyMatrices(z,ae)}break;case"scale":if(pe.length>=1){const ce=pe[0];let Qe=ce;pe.length>=2&&(Qe=pe[1]),m.scale(ce,Qe)}break;case"skewX":pe.length===1&&m.set(1,Math.tan(pe[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":pe.length===1&&m.set(1,0,0,Math.tan(pe[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":pe.length===6&&m.set(pe[0],pe[2],pe[4],pe[1],pe[3],pe[5],0,0,1);break}}F.premultiply(m)}}return F}function b(_,F){function m(L){Y.set(L.x,L.y,1).applyMatrix3(F),L.set(Y.x,Y.y)}const G=D(F),N=_.subPaths;for(let L=0,V=N.length;L<V;L++){const ge=N[L].curves;for(let pe=0;pe<ge.length;pe++){const ce=ge[pe];ce.isLineCurve?(m(ce.v1),m(ce.v2)):ce.isCubicBezierCurve?(m(ce.v0),m(ce.v1),m(ce.v2),m(ce.v3)):ce.isQuadraticBezierCurve?(m(ce.v0),m(ce.v1),m(ce.v2)):ce.isEllipseCurve&&(G&&console.warn("SVGLoader: Elliptic arc or ellipse rotation or skewing is not implemented."),Z.set(ce.aX,ce.aY),m(Z),ce.aX=Z.x,ce.aY=Z.y,ce.xRadius*=S(F),ce.yRadius*=M(F))}}}function D(_){return _.elements[1]!==0||_.elements[3]!==0}function S(_){const F=_.elements;return Math.sqrt(F[0]*F[0]+F[1]*F[1])}function M(_){const F=_.elements;return Math.sqrt(F[3]*F[3]+F[4]*F[4])}const T=[],U={},k=[],K=new nn,z=new nn,$=new nn,ae=new nn,Z=new Se,Y=new H,re=new nn,W=new DOMParser().parseFromString(e,"image/svg+xml");return i(W.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:T,xml:W.documentElement}}static createShapes(e){const i={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},s={loc:i.ORIGIN,t:0};function r(B,I,E,g){const x=B.x,w=I.x,b=E.x,D=g.x,S=B.y,M=I.y,T=E.y,U=g.y,k=(D-b)*(S-T)-(U-T)*(x-b),K=(w-x)*(S-T)-(M-S)*(x-b),z=(U-T)*(w-x)-(D-b)*(M-S),$=k/z,ae=K/z;if(z===0&&k!==0||$<=0||$>=1||ae<0||ae>1)return null;if(k===0&&z===0){for(let Z=0;Z<2;Z++)if(o(Z===0?E:g,B,I),s.loc==i.ORIGIN){const Y=Z===0?E:g;return{x:Y.x,y:Y.y,t:s.t}}else if(s.loc==i.BETWEEN){const Y=+(x+s.t*(w-x)).toPrecision(10),re=+(S+s.t*(M-S)).toPrecision(10);return{x:Y,y:re,t:s.t}}return null}else{for(let re=0;re<2;re++)if(o(re===0?E:g,B,I),s.loc==i.ORIGIN){const W=re===0?E:g;return{x:W.x,y:W.y,t:s.t}}const Z=+(x+$*(w-x)).toPrecision(10),Y=+(S+$*(M-S)).toPrecision(10);return{x:Z,y:Y,t:$}}}function o(B,I,E){const g=E.x-I.x,x=E.y-I.y,w=B.x-I.x,b=B.y-I.y,D=g*b-w*x;if(B.x===I.x&&B.y===I.y){s.loc=i.ORIGIN,s.t=0;return}if(B.x===E.x&&B.y===E.y){s.loc=i.DESTINATION,s.t=1;return}if(D<-Number.EPSILON){s.loc=i.LEFT;return}if(D>Number.EPSILON){s.loc=i.RIGHT;return}if(g*w<0||x*b<0){s.loc=i.BEHIND;return}if(Math.sqrt(g*g+x*x)<Math.sqrt(w*w+b*b)){s.loc=i.BEYOND;return}let S;g!==0?S=w/g:S=b/x,s.loc=i.BETWEEN,s.t=S}function a(B,I){const E=[],g=[];for(let x=1;x<B.length;x++){const w=B[x-1],b=B[x];for(let D=1;D<I.length;D++){const S=I[D-1],M=I[D],T=r(w,b,S,M);T!==null&&E.find(U=>U.t<=T.t+Number.EPSILON&&U.t>=T.t-Number.EPSILON)===void 0&&(E.push(T),g.push(new Se(T.x,T.y)))}}return g}function A(B,I,E){const g=new Se;I.getCenter(g);const x=[];return E.forEach(w=>{w.boundingBox.containsPoint(g)&&a(B,w.points).forEach(D=>{x.push({identifier:w.identifier,isCW:w.isCW,point:D})})}),x.sort((w,b)=>w.point.x-b.point.x),x}function c(B,I,E,g,x){(x==null||x==="")&&(x="nonzero");const w=new Se;B.boundingBox.getCenter(w);const b=[new Se(E,w.y),new Se(g,w.y)],D=A(b,B.boundingBox,I);D.sort((K,z)=>K.point.x-z.point.x);const S=[],M=[];D.forEach(K=>{K.identifier===B.identifier?S.push(K):M.push(K)});const T=S[0].point.x,U=[];let k=0;for(;k<M.length&&M[k].point.x<T;)U.length>0&&U[U.length-1]===M[k].identifier?U.pop():U.push(M[k].identifier),k++;if(U.push(B.identifier),x==="evenodd"){const K=U.length%2===0,z=U[U.length-2];return{identifier:B.identifier,isHole:K,for:z}}else if(x==="nonzero"){let K=!0,z=null,$=null;for(let ae=0;ae<U.length;ae++){const Z=U[ae];K?($=I[Z].isCW,K=!1,z=Z):$!==I[Z].isCW&&($=I[Z].isCW,K=!0)}return{identifier:B.identifier,isHole:K,for:z}}else console.warn('fill-rule: "'+x+'" is currently not implemented.')}let h=0,l=999999999,u=-999999999,p=e.subPaths.map(B=>{const I=B.getPoints();let E=-999999999,g=999999999,x=-999999999,w=999999999;for(let b=0;b<I.length;b++){const D=I[b];D.y>E&&(E=D.y),D.y<g&&(g=D.y),D.x>x&&(x=D.x),D.x<w&&(w=D.x)}return u<=x&&(u=x+1),l>=w&&(l=w-1),{curves:B.curves,points:I,isCW:x0.isClockWise(I),identifier:h++,boundingBox:new S0(new Se(w,g),new Se(x,E))}});p=p.filter(B=>B.points.length>1);const C=p.map(B=>c(B,p,l,u,e.userData.style.fillRule)),v=[];return p.forEach(B=>{if(!C[B.identifier].isHole){const E=new w0;E.curves=B.curves,C.filter(x=>x.isHole&&x.for===B.identifier).forEach(x=>{const w=p[x.identifier],b=new Vs;b.curves=w.curves,E.holes.push(b)}),v.push(E)}}),v}static getStrokeStyle(e,t,i,s,r){return e=e!==void 0?e:1,t=t!==void 0?t:"#000",i=i!==void 0?i:"miter",s=s!==void 0?s:"butt",r=r!==void 0?r:4,{strokeColor:t,strokeWidth:e,strokeLineJoin:i,strokeLineCap:s,strokeMiterLimit:r}}static pointsToStroke(e,t,i,s){const r=[],o=[],a=[];if(J3.pointsToStrokeWithBuffers(e,t,i,s,r,o,a)===0)return null;const A=new bt;return A.setAttribute("position",new dt(r,3)),A.setAttribute("normal",new dt(o,3)),A.setAttribute("uv",new dt(a,2)),A}static pointsToStrokeWithBuffers(e,t,i,s,r,o,a,A){const c=new Se,h=new Se,l=new Se,u=new Se,p=new Se,C=new Se,v=new Se,B=new Se,I=new Se,E=new Se,g=new Se,x=new Se,w=new Se,b=new Se,D=new Se,S=new Se,M=new Se;i=i!==void 0?i:12,s=s!==void 0?s:.001,A=A!==void 0?A:0,e=Qe(e);const T=e.length;if(T<2)return 0;const U=e[0].equals(e[T-1]);let k,K=e[0],z;const $=t.strokeWidth/2,ae=1/(T-1);let Z=0,Y,re,W,ee,_=!1,F=0,m=A*3,G=A*2;N(e[0],e[1],c).multiplyScalar($),B.copy(e[0]).sub(c),I.copy(e[0]).add(c),E.copy(B),g.copy(I);for(let ue=1;ue<T;ue++){k=e[ue],ue===T-1?U?z=e[1]:z=void 0:z=e[ue+1];const me=c;if(N(K,k,me),l.copy(me).multiplyScalar($),x.copy(k).sub(l),w.copy(k).add(l),Y=Z+ae,re=!1,z!==void 0){N(k,z,h),l.copy(h).multiplyScalar($),b.copy(k).sub(l),D.copy(k).add(l),W=!0,l.subVectors(z,K),me.dot(l)<0&&(W=!1),ue===1&&(_=W),l.subVectors(z,k),l.normalize();const P=Math.abs(me.dot(l));if(P!==0){const Q=$/P;l.multiplyScalar(-Q),u.subVectors(k,K),p.copy(u).setLength(Q).add(l),S.copy(p).negate();const Ce=p.length(),Le=u.length();u.divideScalar(Le),C.subVectors(z,k);const Je=C.length();switch(C.divideScalar(Je),u.dot(S)<Le&&C.dot(S)<Je&&(re=!0),M.copy(p).add(k),S.add(k),ee=!1,re?W?(D.copy(S),w.copy(S)):(b.copy(S),x.copy(S)):ve(),t.strokeLineJoin){case"bevel":ge(W,re,Y);break;case"round":pe(W,re),W?V(k,x,b,Y,0):V(k,D,w,Y,1);break;case"miter":case"miter-clip":default:const it=$*t.strokeMiterLimit/Ce;if(it<1)if(t.strokeLineJoin!=="miter-clip"){ge(W,re,Y);break}else pe(W,re),W?(C.subVectors(M,x).multiplyScalar(it).add(x),v.subVectors(M,b).multiplyScalar(it).add(b),L(x,Y,0),L(C,Y,0),L(k,Y,.5),L(k,Y,.5),L(C,Y,0),L(v,Y,0),L(k,Y,.5),L(v,Y,0),L(b,Y,0)):(C.subVectors(M,w).multiplyScalar(it).add(w),v.subVectors(M,D).multiplyScalar(it).add(D),L(w,Y,1),L(C,Y,1),L(k,Y,.5),L(k,Y,.5),L(C,Y,1),L(v,Y,1),L(k,Y,.5),L(v,Y,1),L(D,Y,1));else re?(W?(L(I,Z,1),L(B,Z,0),L(M,Y,0),L(I,Z,1),L(M,Y,0),L(S,Y,1)):(L(I,Z,1),L(B,Z,0),L(M,Y,1),L(B,Z,0),L(S,Y,0),L(M,Y,1)),W?b.copy(M):D.copy(M)):W?(L(x,Y,0),L(M,Y,0),L(k,Y,.5),L(k,Y,.5),L(M,Y,0),L(b,Y,0)):(L(w,Y,1),L(M,Y,1),L(k,Y,.5),L(k,Y,.5),L(M,Y,1),L(D,Y,1)),ee=!0;break}}else ve()}else ve();!U&&ue===T-1&&ce(e[0],E,g,W,!0,Z),Z=Y,K=k,B.copy(b),I.copy(D)}if(!U)ce(k,x,w,W,!1,Y);else if(re&&r){let ue=M,me=S;_!==W&&(ue=S,me=M),W?(ee||_)&&(me.toArray(r,0*3),me.toArray(r,3*3),ee&&ue.toArray(r,1*3)):(ee||!_)&&(me.toArray(r,1*3),me.toArray(r,3*3),ee&&ue.toArray(r,0*3))}return F;function N(ue,me,P){return P.subVectors(me,ue),P.set(-P.y,P.x).normalize()}function L(ue,me,P){r&&(r[m]=ue.x,r[m+1]=ue.y,r[m+2]=0,o&&(o[m]=0,o[m+1]=0,o[m+2]=1),m+=3,a&&(a[G]=me,a[G+1]=P,G+=2)),F+=3}function V(ue,me,P,Q,Ce){c.copy(me).sub(ue).normalize(),h.copy(P).sub(ue).normalize();let Le=Math.PI;const Je=c.dot(h);Math.abs(Je)<1&&(Le=Math.abs(Math.acos(Je))),Le/=i,l.copy(me);for(let it=0,ct=i-1;it<ct;it++)u.copy(l).rotateAround(ue,Le),L(l,Q,Ce),L(u,Q,Ce),L(ue,Q,.5),l.copy(u);L(u,Q,Ce),L(P,Q,Ce),L(ue,Q,.5)}function ve(){L(I,Z,1),L(B,Z,0),L(x,Y,0),L(I,Z,1),L(x,Y,1),L(w,Y,0)}function ge(ue,me,P){me?ue?(L(I,Z,1),L(B,Z,0),L(x,Y,0),L(I,Z,1),L(x,Y,0),L(S,Y,1),L(x,P,0),L(b,P,0),L(S,P,.5)):(L(I,Z,1),L(B,Z,0),L(w,Y,1),L(B,Z,0),L(S,Y,0),L(w,Y,1),L(w,P,1),L(D,P,0),L(S,P,.5)):ue?(L(x,P,0),L(b,P,0),L(k,P,.5)):(L(w,P,1),L(D,P,0),L(k,P,.5))}function pe(ue,me){me&&(ue?(L(I,Z,1),L(B,Z,0),L(x,Y,0),L(I,Z,1),L(x,Y,0),L(S,Y,1),L(x,Z,0),L(k,Y,.5),L(S,Y,1),L(k,Y,.5),L(b,Z,0),L(S,Y,1)):(L(I,Z,1),L(B,Z,0),L(w,Y,1),L(B,Z,0),L(S,Y,0),L(w,Y,1),L(w,Z,1),L(S,Y,0),L(k,Y,.5),L(k,Y,.5),L(S,Y,0),L(D,Z,1)))}function ce(ue,me,P,Q,Ce,Le){switch(t.strokeLineCap){case"round":Ce?V(ue,P,me,Le,.5):V(ue,me,P,Le,.5);break;case"square":if(Ce)c.subVectors(me,ue),h.set(c.y,-c.x),l.addVectors(c,h).add(ue),u.subVectors(h,c).add(ue),Q?(l.toArray(r,1*3),u.toArray(r,0*3),u.toArray(r,3*3)):(l.toArray(r,1*3),l.toArray(r,3*3),u.toArray(r,0*3));else{c.subVectors(P,ue),h.set(c.y,-c.x),l.addVectors(c,h).add(ue),u.subVectors(h,c).add(ue);const Je=r.length;Q?(l.toArray(r,Je-1*3),u.toArray(r,Je-2*3),u.toArray(r,Je-4*3)):(l.toArray(r,Je-2*3),u.toArray(r,Je-1*3),u.toArray(r,Je-4*3))}break}}function Qe(ue){let me=!1;for(let Q=1,Ce=ue.length-1;Q<Ce;Q++)if(ue[Q].distanceTo(ue[Q+1])<s){me=!0;break}if(!me)return ue;const P=[];P.push(ue[0]);for(let Q=1,Ce=ue.length-1;Q<Ce;Q++)ue[Q].distanceTo(ue[Q+1])>=s&&P.push(ue[Q]);return P.push(ue[ue.length-1]),P}}}const Ir=new WeakMap;class _h extends Dn{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,s){const r=new gi(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(s)},i,s)}decodeDracoFile(e,t,i,s){const r={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:s||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,r).then(t)}decodeGeometry(e,t){for(const A in t.attributeTypes){const c=t.attributeTypes[A];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[A]=c.name)}const i=JSON.stringify(t);if(Ir.has(e)){const A=Ir.get(e);if(A.key===i)return A.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let s;const r=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(r,o).then(A=>(s=A,new Promise((c,h)=>{s._callbacks[r]={resolve:c,reject:h},s.postMessage({type:"decode",id:r,taskConfig:t,buffer:e},[e])}))).then(A=>this._createGeometry(A.geometry));return a.catch(()=>!0).then(()=>{s&&r&&this._releaseTask(s,r)}),Ir.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new bt;e.index&&t.setIndex(new Ot(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const s=e.attributes[i],r=s.name,o=s.array,a=s.itemSize;t.setAttribute(r,new Ot(o,a))}return t}_loadLibrary(e,t){const i=new gi(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((s,r)=>{i.load(e,s,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const s=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const r=Lh.toString(),o=["/* draco decoder */",s,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const s=new Worker(this.workerSourceURL);s._callbacks={},s._taskCosts={},s._taskLoad=0,s.postMessage({type:"init",decoderConfig:this.decoderConfig}),s.onmessage=function(r){const o=r.data;switch(o.type){case"decode":s._callbacks[o.id].resolve(o);break;case"error":s._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(s)}else this.workerPool.sort(function(s,r){return s._taskLoad>r._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Lh(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(h){n.onModuleLoaded=function(l){h({draco:l})},DracoDecoderModule(n)});break;case"decode":const A=a.buffer,c=a.taskConfig;e.then(h=>{const l=h.draco,u=new l.Decoder,p=new l.DecoderBuffer;p.Init(new Int8Array(A),A.byteLength);try{const C=t(l,u,p,c),v=C.attributes.map(B=>B.array.buffer);C.index&&v.push(C.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:C},v)}catch(C){console.error(C),self.postMessage({type:"error",id:a.id,error:C.message})}finally{l.destroy(p),l.destroy(u)}});break}};function t(o,a,A,c){const h=c.attributeIDs,l=c.attributeTypes;let u,p;const C=a.GetEncodedGeometryType(A);if(C===o.TRIANGULAR_MESH)u=new o.Mesh,p=a.DecodeBufferToMesh(A,u);else if(C===o.POINT_CLOUD)u=new o.PointCloud,p=a.DecodeBufferToPointCloud(A,u);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!p.ok()||u.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+p.error_msg());const v={index:null,attributes:[]};for(const B in h){const I=self[l[B]];let E,g;if(c.useUniqueIDs)g=h[B],E=a.GetAttributeByUniqueId(u,g);else{if(g=a.GetAttributeId(u,o[h[B]]),g===-1)continue;E=a.GetAttribute(u,g)}v.attributes.push(s(o,a,u,B,I,E))}return C===o.TRIANGULAR_MESH&&(v.index=i(o,a,u)),o.destroy(u),v}function i(o,a,A){const h=A.num_faces()*3,l=h*4,u=o._malloc(l);a.GetTrianglesUInt32Array(A,l,u);const p=new Uint32Array(o.HEAPF32.buffer,u,h).slice();return o._free(u),{array:p,itemSize:1}}function s(o,a,A,c,h,l){const u=l.num_components(),C=A.num_points()*u,v=C*h.BYTES_PER_ELEMENT,B=r(o,h),I=o._malloc(v);a.GetAttributeDataArrayForAllPoints(A,l,B,v,I);const E=new h(o.HEAPF32.buffer,I,C).slice();return o._free(I),{name:c,array:E,itemSize:u}}function r(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}const Ca=new Qn,ws=new H;class z3 extends b0{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],t=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],i=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(i),this.setAttribute("position",new dt(e,3)),this.setAttribute("uv",new dt(t,2))}applyMatrix4(e){const t=this.attributes.instanceStart,i=this.attributes.instanceEnd;return t!==void 0&&(t.applyMatrix4(e),i.applyMatrix4(e),t.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const i=new Fr(t,6,1);return this.setAttribute("instanceStart",new on(i,3,0)),this.setAttribute("instanceEnd",new on(i,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const i=new Fr(t,6,1);return this.setAttribute("instanceColorStart",new on(i,3,0)),this.setAttribute("instanceColorEnd",new on(i,3,3)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new D0(e.geometry)),this}fromLineSegments(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Qn);const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;e!==void 0&&t!==void 0&&(this.boundingBox.setFromBufferAttribute(e),Ca.setFromBufferAttribute(t),this.boundingBox.union(Ca))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ns),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(e!==void 0&&t!==void 0){const i=this.boundingSphere.center;this.boundingBox.getCenter(i);let s=0;for(let r=0,o=e.count;r<o;r++)ws.fromBufferAttribute(e,r),s=Math.max(s,i.distanceToSquared(ws)),ws.fromBufferAttribute(t,r),s=Math.max(s,i.distanceToSquared(ws));this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class kh extends z3{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const t=e.length-3,i=new Float32Array(2*t);for(let s=0;s<t;s+=3)i[2*s]=e[s],i[2*s+1]=e[s+1],i[2*s+2]=e[s+2],i[2*s+3]=e[s+3],i[2*s+4]=e[s+4],i[2*s+5]=e[s+5];return super.setPositions(i),this}setColors(e){const t=e.length-3,i=new Float32Array(2*t);for(let s=0;s<t;s+=3)i[2*s]=e[s],i[2*s+1]=e[s+1],i[2*s+2]=e[s+2],i[2*s+3]=e[s+3],i[2*s+4]=e[s+4],i[2*s+5]=e[s+5];return super.setColors(i),this}fromLine(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}}class Y3 extends $n{constructor(e){super({type:"LineMaterial",uniforms:_s.clone(_s.merge([uo.common,uo.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Se(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <color_pars_vertex>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				attribute vec3 instanceColorStart;
				attribute vec3 instanceColorEnd;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <color_pars_fragment>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );

					#include <logdepthbuf_fragment>
					#include <color_fragment>

					gl_FragColor = vec4( diffuseColor.rgb, alpha );

					#include <tonemapping_fragment>
					#include <${parseInt(jr.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(t){this.uniforms.diffuse.value=t}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(t){t===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(t){this.uniforms.linewidth.value=t}},dashed:{enumerable:!0,get:function(){return Boolean("USE_DASH"in this.defines)},set(t){Boolean(t)!==Boolean("USE_DASH"in this.defines)&&(this.needsUpdate=!0),t===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(t){this.uniforms.dashScale.value=t}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(t){this.uniforms.dashSize.value=t}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(t){this.uniforms.dashOffset.value=t}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(t){this.uniforms.gapSize.value=t}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(t){this.uniforms.resolution.value.copy(t)}},alphaToCoverage:{enumerable:!0,get:function(){return Boolean("USE_ALPHA_TO_COVERAGE"in this.defines)},set:function(t){Boolean(t)!==Boolean("USE_ALPHA_TO_COVERAGE"in this.defines)&&(this.needsUpdate=!0),t===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const Ea=new H,Ia=new H,Bt=new qi,Ct=new qi,ci=new qi,yr=new H,xr=new De,xt=new G0,ya=new H,bs=new Qn,Ds=new ns,hi=new qi;let ui,zr,K3,An;function xa(n,e,t){return hi.set(0,0,-e,1).applyMatrix4(n.projectionMatrix),hi.multiplyScalar(1/hi.w),hi.x=An/t.width,hi.y=An/t.height,hi.applyMatrix4(n.projectionMatrixInverse),hi.multiplyScalar(1/hi.w),Math.abs(Math.max(hi.x,hi.y))}function Gh(n,e){for(let t=0,i=zr.count;t<i;t++){xt.start.fromBufferAttribute(zr,t),xt.end.fromBufferAttribute(K3,t);const s=new H,r=new H;ui.distanceSqToSegment(xt.start,xt.end,r,s),r.distanceTo(s)<An*.5&&e.push({point:r,pointOnLine:s,distance:ui.origin.distanceTo(r),object:n,face:null,faceIndex:t,uv:null,uv2:null})}}function Uh(n,e,t){const i=e.projectionMatrix,r=n.material.resolution,o=n.matrixWorld,a=n.geometry,A=a.attributes.instanceStart,c=a.attributes.instanceEnd,h=-e.near;ui.at(1,ci),ci.w=1,ci.applyMatrix4(e.matrixWorldInverse),ci.applyMatrix4(i),ci.multiplyScalar(1/ci.w),ci.x*=r.x/2,ci.y*=r.y/2,ci.z=0,yr.copy(ci),xr.multiplyMatrices(e.matrixWorldInverse,o);for(let l=0,u=A.count;l<u;l++){if(Bt.fromBufferAttribute(A,l),Ct.fromBufferAttribute(c,l),Bt.w=1,Ct.w=1,Bt.applyMatrix4(xr),Ct.applyMatrix4(xr),Bt.z>h&&Ct.z>h)continue;if(Bt.z>h){const E=Bt.z-Ct.z,g=(Bt.z-h)/E;Bt.lerp(Ct,g)}else if(Ct.z>h){const E=Ct.z-Bt.z,g=(Ct.z-h)/E;Ct.lerp(Bt,g)}Bt.applyMatrix4(i),Ct.applyMatrix4(i),Bt.multiplyScalar(1/Bt.w),Ct.multiplyScalar(1/Ct.w),Bt.x*=r.x/2,Bt.y*=r.y/2,Ct.x*=r.x/2,Ct.y*=r.y/2,xt.start.copy(Bt),xt.start.z=0,xt.end.copy(Ct),xt.end.z=0;const C=xt.closestPointToPointParameter(yr,!0);xt.at(C,ya);const v=Fe.lerp(Bt.z,Ct.z,C),B=v>=-1&&v<=1,I=yr.distanceTo(ya)<An*.5;if(B&&I){xt.start.fromBufferAttribute(A,l),xt.end.fromBufferAttribute(c,l),xt.start.applyMatrix4(o),xt.end.applyMatrix4(o);const E=new H,g=new H;ui.distanceSqToSegment(xt.start,xt.end,g,E),t.push({point:g,pointOnLine:E,distance:ui.origin.distanceTo(g),object:n,face:null,faceIndex:l,uv:null,uv2:null})}}}class Ph extends Ie{constructor(e=new z3,t=new Y3({color:Math.random()*16777215})){super(e,t),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,t=e.attributes.instanceStart,i=e.attributes.instanceEnd,s=new Float32Array(2*t.count);for(let o=0,a=0,A=t.count;o<A;o++,a+=2)Ea.fromBufferAttribute(t,o),Ia.fromBufferAttribute(i,o),s[a]=a===0?0:s[a-1],s[a+1]=s[a]+Ea.distanceTo(Ia);const r=new Fr(s,2,1);return e.setAttribute("instanceDistanceStart",new on(r,1,0)),e.setAttribute("instanceDistanceEnd",new on(r,1,1)),this}raycast(e,t){const i=this.material.worldUnits,s=e.camera;s===null&&!i&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const r=e.params.Line2!==void 0&&e.params.Line2.threshold||0;ui=e.ray;const o=this.matrixWorld,a=this.geometry,A=this.material;An=A.linewidth+r,zr=a.attributes.instanceStart,K3=a.attributes.instanceEnd,a.boundingSphere===null&&a.computeBoundingSphere(),Ds.copy(a.boundingSphere).applyMatrix4(o);let c;if(i)c=An*.5;else{const l=Math.max(s.near,Ds.distanceToPoint(ui.origin));c=xa(s,l,A.resolution)}if(Ds.radius+=c,ui.intersectsSphere(Ds)===!1)return;a.boundingBox===null&&a.computeBoundingBox(),bs.copy(a.boundingBox).applyMatrix4(o);let h;if(i)h=An*.5;else{const l=Math.max(s.near,bs.distanceToPoint(ui.origin));h=xa(s,l,A.resolution)}bs.expandByScalar(h),ui.intersectsBox(bs)!==!1&&(i?Gh(this,t):Uh(this,s,t))}}class El extends Ph{constructor(e=new kh,t=new Y3({color:Math.random()*16777215})){super(e,t),this.isLine2=!0,this.type="Line2"}}let Qs;const Sr=()=>{if(Qs)return Qs;const n="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",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let s=n;WebAssembly.validate(t)&&(s=e);let r;const o=WebAssembly.instantiate(a(s),{}).then(l=>{r=l.instance,r.exports.__wasm_call_ctors()});function a(l){const u=new Uint8Array(l.length);for(let C=0;C<l.length;++C){const v=l.charCodeAt(C);u[C]=v>96?v-71:v>64?v-65:v>47?v+4:v>46?63:62}let p=0;for(let C=0;C<l.length;++C)u[p++]=u[C]<60?i[u[C]]:(u[C]-60)*64+u[++C];return u.buffer.slice(0,p)}function A(l,u,p,C,v,B){const I=r.exports.sbrk,E=p+3&-4,g=I(E*C),x=I(v.length),w=new Uint8Array(r.exports.memory.buffer);w.set(v,x);const b=l(g,p,C,x,v.length);if(b===0&&B&&B(g,E,C),u.set(w.subarray(g,g+p*C)),I(g-I(0)),b!==0)throw new Error(`Malformed buffer data: ${b}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},h={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Qs={ready:o,supported:!0,decodeVertexBuffer(l,u,p,C,v){A(r.exports.meshopt_decodeVertexBuffer,l,u,p,C,r.exports[c[v]])},decodeIndexBuffer(l,u,p,C){A(r.exports.meshopt_decodeIndexBuffer,l,u,p,C)},decodeIndexSequence(l,u,p,C){A(r.exports.meshopt_decodeIndexSequence,l,u,p,C)},decodeGltfBuffer(l,u,p,C,v,B){A(r.exports[h[v]],l,u,p,C,r.exports[c[B]])}},Qs};let Fs=null;function X3(n,e,t){return i=>{t&&t(i),n&&(Fs||(Fs=new _h),Fs.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),i.setDRACOLoader(Fs)),e&&i.setMeshoptDecoder(typeof Sr=="function"?Sr():Sr)}}function q3(n,e=!0,t=!0,i){return Fn(Ao,n,X3(e,t,i))}q3.preload=(n,e=!0,t=!0,i)=>Fn.preload(Ao,n,X3(e,t,i));q3.clear=n=>Fn.clear(Ao,n);function Il(n,e){const{unsuspend:t,start:i,crossOrigin:s,muted:r,loop:o,...a}={unsuspend:"loadedmetadata",crossOrigin:"Anonymous",muted:!0,loop:!0,start:!0,playsInline:!0,...e},A=U0(h=>h.gl),c=P0(()=>new Promise((h,l)=>{const u=Object.assign(document.createElement("video"),{src:typeof n=="string"&&n||void 0,srcObject:n instanceof MediaStream&&n||void 0,crossOrigin:s,loop:o,muted:r,...a}),p=new O0(u);"colorSpace"in p?p.colorSpace=A.outputColorSpace:p.encoding=A.outputEncoding,u.addEventListener(t,()=>h(p))}),[n]);return Ve.useEffect(()=>void(i&&c.image.play()),[c,i]),c}function j3(n){return Fn(co,n)}j3.preload=n=>Fn.preload(co,n);j3.clear=n=>Fn.clear(co,n);function yl(n,e){const t=Ve.useRef(),[i]=Ve.useState(()=>e?e instanceof wi?{current:e}:e:t),[s]=Ve.useState(()=>new ka(void 0));Ve.useLayoutEffect(()=>void(s._root=i.current),[s,e]);const r=Ve.useRef({}),[o]=Ve.useState(()=>{const a={};return n.forEach(A=>Object.defineProperty(a,A.name,{enumerable:!0,get(){if(i.current)return r.current[A.name]||(r.current[A.name]=s.clipAction(A,i.current))},configurable:!0})),{ref:i,clips:n,actions:a,names:n.map(A=>A.name),mixer:s}});return zs((a,A)=>s.update(A)),Ve.useEffect(()=>{const a=i.current;return()=>{r.current={},Object.values(o.actions).forEach(A=>{a&&s.uncacheAction(A,a)})}},[n]),Ve.useEffect(()=>()=>{s.stopAllAction()},[s]),o}var Oh=`#define GLSLIFY 1
vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`;class Nh extends Di{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._distort={value:.4},this._radius={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.radius=this._radius,e.uniforms.distort=this._distort,e.vertexShader=`
      uniform float time;
      uniform float radius;
      uniform float distort;
      ${Oh}
      ${e.vertexShader}
    `,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",`
        float updateTime = time / 50.0;
        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));
        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));
        `)}get time(){return this._time.value}set time(e){this._time.value=e}get distort(){return this._distort.value}set distort(e){this._distort.value=e}get radius(){return this._radius.value}set radius(e){this._radius.value=e}}const xl=Ve.forwardRef(({speed:n=1,...e},t)=>{const[i]=Ve.useState(()=>new Nh);return zs(s=>i&&(i.time=s.clock.getElapsedTime()*n)),Ve.createElement("primitive",Vr({object:i,ref:t,attach:"material"},e))});class Hh extends Kr{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._factor={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.factor=this._factor,e.vertexShader=`
      uniform float time;
      uniform float factor;
      ${e.vertexShader}
    `,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",`float theta = sin( time + position.y ) / 2.0 * factor;
        float c = cos( theta );
        float s = sin( theta );
        mat3 m = mat3( c, 0, s, 0, 1, 0, -s, 0, c );
        vec3 transformed = vec3( position ) * m;
        vNormal = vNormal * m;`)}get time(){return this._time.value}set time(e){this._time.value=e}get factor(){return this._factor.value}set factor(e){this._factor.value=e}}const Sl=Ve.forwardRef(({speed:n=1,...e},t)=>{const[i]=Ve.useState(()=>new Hh);return zs(s=>i&&(i.time=s.clock.getElapsedTime()*n)),Ve.createElement("primitive",Vr({object:i,ref:t,attach:"material"},e))});function pt(n,e){const t=n+"Geometry";return Ve.forwardRef(({args:i,children:s,...r},o)=>{const a=Ve.useRef(null);return Ve.useImperativeHandle(o,()=>a.current),Ve.useLayoutEffect(()=>void(e==null?void 0:e(a.current))),Ve.createElement("mesh",Vr({ref:a},r),Ve.createElement(t,{attach:"geometry",args:i}),s)})}const wl=pt("box"),bl=pt("circle"),Dl=pt("cone"),Ql=pt("cylinder"),Fl=pt("sphere"),Tl=pt("plane"),Ml=pt("tube"),Rl=pt("torus"),_l=pt("torusKnot"),Ll=pt("tetrahedron"),kl=pt("ring"),Gl=pt("polyhedron"),Ul=pt("icosahedron"),Pl=pt("octahedron"),Ol=pt("dodecahedron"),Nl=pt("extrude"),Hl=pt("lathe"),Jl=pt("capsule"),zl=pt("shape",({geometry:n})=>{const e=n.attributes.position,t=new Qn().setFromBufferAttribute(e),i=new H;t.getSize(i);const s=[];let r=0,o=0,a=0,A=0;for(let c=0;c<e.count;c++)r=e.getX(c),o=e.getY(c),a=(r-t.min.x)/i.x,A=(o-t.min.y)/i.y,s.push(a,A);n.setAttribute("uv",new dt(s,2))}),Yl=Ve.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:i=1,floatIntensity:s=1,floatingRange:r=[-.1,.1],...o},a)=>{const A=Ve.useRef(null),c=Ve.useRef(Math.random()*1e4);return zs(h=>{var l,u;if(!e||t===0)return;const p=c.current+h.clock.getElapsedTime();A.current.rotation.x=Math.cos(p/4*t)/8*i,A.current.rotation.y=Math.sin(p/4*t)/8*i,A.current.rotation.z=Math.sin(p/4*t)/20*i;let C=Math.sin(p/4*t)/10;C=Fe.mapLinear(C,-.1,.1,(l=r==null?void 0:r[0])!==null&&l!==void 0?l:-.1,(u=r==null?void 0:r[1])!==null&&u!==void 0?u:.1),A.current.position.y=C*s,A.current.updateMatrix()}),Ve.createElement("group",o,Ve.createElement("group",{ref:N0([A,a]),matrixAutoUpdate:!1},n))});export{Ul as $,gl as A,Tl as B,j3 as C,cl as D,al as E,ml as F,ll as G,ul as H,yl as I,xl as J,vl as K,Ph as L,Zh as M,Sl as N,bc as O,tl as P,wl as Q,Al as R,pl as S,hl as T,Jl as U,fl as V,bl as W,Dl as X,Ql as Y,Ol as Z,Nl as _,El as a,Hl as a0,Pl as a1,Gl as a2,kl as a3,zl as a4,Fl as a5,Ll as a6,Rl as a7,_l as a8,Ml as a9,Yl as aa,Y3 as b,z3 as c,kh as d,aa as e,Wh as f,Xh as g,J3 as h,il as i,ol as j,sl as k,nl as l,Yh as m,rl as n,el as o,$h as p,Il as q,zh as r,qh as s,Kh as t,q3 as u,Bl as v,Cl as w,Vh as x,Dc as y,jh as z};
