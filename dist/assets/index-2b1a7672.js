import{V as Vector3,r as reactExports,u as useThree,c as createRoot,a as useFrame,_ as _extends,D as DoubleSide,O as OrthographicCamera$1,P as PerspectiveCamera$1,b as useProgress,M as MathUtils,d as useSpring,e as useGesture,f as animated,g as create,h as Vector2,m as mergeRefs,C as Color,Q as QuadraticBezierCurve3,i as CubicBezierCurve3,j as CatmullRomCurve3,A as AudioListener,k as useLoader,l as AudioLoader,s as suspend,p as preload,n as clear,o as extend,W as WebGLRenderTarget,H as HalfFloatType,R as RGBAFormat,U as UnsignedByteType,E as EdgesGeometry,B as BufferGeometry,q as Matrix4,t as BufferAttribute,S as ShaderMaterial,v as UniformsLib,w as Object3D,x as createPortal,I as InstancedBufferAttribute,y as commonjsGlobal$1,z as Mesh,F as Euler,G as applyProps,L as LinearFilter,J as DepthTexture,K as FloatType,N as WebGLCubeRenderTarget,T as CubeCamera$1,X as THREE$1,Y as Quaternion,Z as Sphere,$ as easing,a0 as EventDispatcher$1,a1 as Scene,a2 as CanvasTexture,a3 as shaderMaterial,a4 as BackSide,a5 as CubeTextureLoader,a6 as IsObject,a7 as addEffect,a8 as addAfterEffect,a9 as DepthFormat,aa as UnsignedShortType,ab as Raycaster,ac as Camera,ad as Plane,ae as Line3,af as Triangle,ag as Box3,ah as FrontSide,ai as Ray,aj as UnsignedIntType,ak as DataTexture,al as NearestFilter,am as IntType,an as ByteType,ao as ShortType,ap as RGBAIntegerFormat,aq as RGFormat,ar as RedFormat,as as RGIntegerFormat,at as RedIntegerFormat,au as ShaderChunk,av as Texture,aw as TextureLoader,ax as RepeatWrapping,ay as Uniform,az as NoBlending,aA as MeshStandardMaterial,aB as Vector4,aC as NoToneMapping,aD as MeshPhysicalMaterial,aE as PointsMaterial,aF as Shape,aG as CubeReflectionMapping,aH as EquirectangularReflectionMapping,aI as PlaneGeometry,aJ as MeshDepthMaterial,aK as MeshLambertMaterial,aL as CameraHelper,aM as Frustum,aN as CustomBlending,aO as OneFactor,aP as SrcAlphaFactor,aQ as MeshNormalMaterial,aR as LinearEncoding,aS as LinearMipmapLinearFilter,aT as CylinderGeometry,aU as AdditiveBlending,aV as Spherical,aW as useTexture,aX as Group,aY as DynamicDrawUsage,aZ as propTypesExports,a_ as Material,a$ as AlwaysStencilFunc,b0 as ReplaceStencilOp,b1 as NotEqualStencilFunc,b2 as EqualStencilFunc,b3 as KeepStencilOp,b4 as MeshBasicMaterial}from"./index-7d3c1d83.js";import{b9 as ke,b5 as we,b6 as Be,b8 as Ae,b7 as Le}from"./index-7d3c1d83.js";import{S as SelectionBox,L as LineSegments2,a as Line2,b as LineMaterial,c as LineSegmentsGeometry,d as LineGeometry,F as FontLoader,T as TextGeometry,m as mergeVertices,E as EffectComposer,R as RenderPass,e as ShaderPass,G as GammaCorrectionShader,M as MeshSurfaceSampler,f as SkeletonUtils,g as MarchingCubes$1,D as DecalGeometry,h as SVGLoader,u as useGLTF,A as AsciiEffect,i as DeviceOrientationControls$1,j as FlyControls$1,k as MapControls$1,O as OrbitControls$1,l as TrackballControls$1,n as ArcballControls$1,o as TransformControls$1,P as PointerLockControls$1,p as FirstPersonControls$1,q as useVideoTexture,K as KTX2Loader,r as Flow,t as toCreasedNormals,s as SimplexNoise,v as RGBELoader,w as EXRLoader,x as GroundProjectedEnv,H as HorizontalBlurShader,V as VerticalBlurShader,y as FullScreenQuad,z as Sky$1,B as Plane$1}from"./Float-ed093be0.js";import{Q as Ie,U as Pe,W as ze,X as Ge,Y as je,Z as Ne,_ as We,aa as Ue,$ as He,a0 as Ve,J as $e,N as Ye,a1 as Xe,a2 as Ke,a3 as Ze,a4 as qe,a5 as Je,a6 as Qe,a7 as et,a8 as tt,a9 as rt,I as ot,C as it}from"./Float-ed093be0.js";const v1=new Vector3,v2=new Vector3,v3=new Vector3;function defaultCalculatePosition(u,p,g){const _=v1.setFromMatrixPosition(u.matrixWorld);_.project(p);const y=g.width/2,m=g.height/2;return[_.x*y+y,-(_.y*m)+m]}function isObjectBehindCamera(u,p){const g=v1.setFromMatrixPosition(u.matrixWorld),_=v2.setFromMatrixPosition(p.matrixWorld),y=g.sub(_),m=p.getWorldDirection(v3);return y.angleTo(m)>Math.PI/2}function isObjectVisible(u,p,g,_){const y=v1.setFromMatrixPosition(u.matrixWorld),m=y.clone();m.project(p),g.setFromCamera(m,p);const h=g.intersectObjects(_,!0);if(h.length){const b=h[0].distance;return y.distanceTo(g.ray.origin)<b}return!0}function objectScale(u,p){if(p instanceof OrthographicCamera$1)return p.zoom;if(p instanceof PerspectiveCamera$1){const g=v1.setFromMatrixPosition(u.matrixWorld),_=v2.setFromMatrixPosition(p.matrixWorld),y=p.fov*Math.PI/180,m=g.distanceTo(_);return 1/(2*Math.tan(y/2)*m)}else return 1}function objectZIndex(u,p,g){if(p instanceof PerspectiveCamera$1||p instanceof OrthographicCamera$1){const _=v1.setFromMatrixPosition(u.matrixWorld),y=v2.setFromMatrixPosition(p.matrixWorld),m=_.distanceTo(y),h=(g[1]-g[0])/(p.far-p.near),b=g[1]-h*p.far;return Math.round(h*m+b)}}const epsilon=u=>Math.abs(u)<1e-10?0:u;function getCSSMatrix(u,p,g=""){let _="matrix3d(";for(let y=0;y!==16;y++)_+=epsilon(p[y]*u.elements[y])+(y!==15?",":")");return g+_}const getCameraCSSMatrix=(u=>p=>getCSSMatrix(p,u))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),getObjectCSSMatrix=(u=>(p,g)=>getCSSMatrix(p,u(g),"translate(-50%,-50%)"))(u=>[1/u,1/u,1/u,1,-1/u,-1/u,-1/u,-1,1/u,1/u,1/u,1,1,1,1,1]);function isRefObject$1(u){return u&&typeof u=="object"&&"current"in u}const Html=reactExports.forwardRef(({children:u,eps:p=.001,style:g,className:_,prepend:y,center:m,fullscreen:h,portal:b,distanceFactor:x,sprite:O=!1,transform:T=!1,occlude:E,onOcclude:M,castShadow:F,receiveShadow:B,material:S,geometry:w,zIndexRange:C=[16777271,0],calculatePosition:D=defaultCalculatePosition,as:L="div",wrapperClass:R,pointerEvents:k="auto",...A},I)=>{const{gl:P,camera:G,scene:z,size:j,raycaster:N,events:W,viewport:U}=useThree(),[H]=reactExports.useState(()=>document.createElement(L)),$=reactExports.useRef(),V=reactExports.useRef(null),J=reactExports.useRef(0),Y=reactExports.useRef([0,0]),q=reactExports.useRef(null),K=reactExports.useRef(null),Q=(b==null?void 0:b.current)||W.connected||P.domElement.parentNode,X=reactExports.useRef(null),re=reactExports.useRef(!1),Z=reactExports.useMemo(()=>E&&E!=="blending"||Array.isArray(E)&&E.length&&isRefObject$1(E[0]),[E]);reactExports.useLayoutEffect(()=>{const ae=P.domElement;E&&E==="blending"?(ae.style.zIndex=`${Math.floor(C[0]/2)}`,ae.style.position="absolute",ae.style.pointerEvents="none"):(ae.style.zIndex=null,ae.style.position=null,ae.style.pointerEvents=null)},[E]),reactExports.useLayoutEffect(()=>{if(V.current){const ae=$.current=createRoot(H);if(z.updateMatrixWorld(),T)H.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const oe=D(V.current,G,j);H.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${oe[0]}px,${oe[1]}px,0);transform-origin:0 0;`}return Q&&(y?Q.prepend(H):Q.appendChild(H)),()=>{Q&&Q.removeChild(H),ae.unmount()}}},[Q,T]),reactExports.useLayoutEffect(()=>{R&&(H.className=R)},[R]);const ee=reactExports.useMemo(()=>T?{position:"absolute",top:0,left:0,width:j.width,height:j.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:m?"translate3d(-50%,-50%,0)":"none",...h&&{top:-j.height/2,left:-j.width/2,width:j.width,height:j.height},...g},[g,m,h,j,T]),ie=reactExports.useMemo(()=>({position:"absolute",pointerEvents:k}),[k]);reactExports.useLayoutEffect(()=>{if(re.current=!1,T){var ae;(ae=$.current)==null||ae.render(reactExports.createElement("div",{ref:q,style:ee},reactExports.createElement("div",{ref:K,style:ie},reactExports.createElement("div",{ref:I,className:_,style:g,children:u}))))}else{var oe;(oe=$.current)==null||oe.render(reactExports.createElement("div",{ref:I,style:ee,className:_,children:u}))}});const te=reactExports.useRef(!0);useFrame(ae=>{if(V.current){G.updateMatrixWorld(),V.current.updateWorldMatrix(!0,!1);const oe=T?Y.current:D(V.current,G,j);if(T||Math.abs(J.current-G.zoom)>p||Math.abs(Y.current[0]-oe[0])>p||Math.abs(Y.current[1]-oe[1])>p){const pe=isObjectBehindCamera(V.current,G);let de=!1;Z&&(E!=="blending"?de=[z]:Array.isArray(E)&&(de=E.map(ge=>ge.current)));const le=te.current;if(de){const ge=isObjectVisible(V.current,G,N,de);te.current=ge&&!pe}else te.current=!pe;le!==te.current&&(M?M(!te.current):H.style.display=te.current?"block":"none");const ue=Math.floor(C[0]/2),me=E?Z?[C[0],ue]:[ue-1,0]:C;if(H.style.zIndex=`${objectZIndex(V.current,G,me)}`,T){const[ge,fe]=[j.width/2,j.height/2],se=G.projectionMatrix.elements[5]*fe,{isOrthographicCamera:ce,top:ve,left:ye,bottom:xe,right:_e}=G,be=getCameraCSSMatrix(G.matrixWorldInverse),Oe=ce?`scale(${se})translate(${epsilon(-(_e+ye)/2)}px,${epsilon((ve+xe)/2)}px)`:`translateZ(${se}px)`;let he=V.current.matrixWorld;O&&(he=G.matrixWorldInverse.clone().transpose().copyPosition(he).scale(V.current.scale),he.elements[3]=he.elements[7]=he.elements[11]=0,he.elements[15]=1),H.style.width=j.width+"px",H.style.height=j.height+"px",H.style.perspective=ce?"":`${se}px`,q.current&&K.current&&(q.current.style.transform=`${Oe}${be}translate(${ge}px,${fe}px)`,K.current.style.transform=getObjectCSSMatrix(he,1/((x||10)/400)))}else{const ge=x===void 0?1:objectScale(V.current,G)*x;H.style.transform=`translate3d(${oe[0]}px,${oe[1]}px,0) scale(${ge})`}Y.current=oe,J.current=G.zoom}}if(!Z&&X.current&&!re.current)if(T){if(q.current){const oe=q.current.children[0];if(oe!=null&&oe.clientWidth&&oe!=null&&oe.clientHeight){const{isOrthographicCamera:pe}=G;if(pe||w)A.scale&&(Array.isArray(A.scale)?A.scale instanceof Vector3?X.current.scale.copy(A.scale.clone().divideScalar(1)):X.current.scale.set(1/A.scale[0],1/A.scale[1],1/A.scale[2]):X.current.scale.setScalar(1/A.scale));else{const de=(x||10)/400,le=oe.clientWidth*de,ue=oe.clientHeight*de;X.current.scale.set(le,ue,1)}re.current=!0}}}else{const oe=H.children[0];if(oe!=null&&oe.clientWidth&&oe!=null&&oe.clientHeight){const pe=1/U.factor,de=oe.clientWidth*pe,le=oe.clientHeight*pe;X.current.scale.set(de,le,1),re.current=!0}X.current.lookAt(ae.camera.position)}});const ne=reactExports.useMemo(()=>({vertexShader:T?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[T]);return reactExports.createElement("group",_extends({},A,{ref:V}),E&&!Z&&reactExports.createElement("mesh",{castShadow:F,receiveShadow:B,ref:X},w||reactExports.createElement("planeGeometry",null),S||reactExports.createElement("shaderMaterial",{side:DoubleSide,vertexShader:ne.vertexShader,fragmentShader:ne.fragmentShader})))});function CycleRaycast({onChanged:u,portal:p,preventDefault:g=!0,scroll:_=!0,keyCode:y=9}){const m=reactExports.useRef(0),h=useThree(O=>O.setEvents),b=useThree(O=>O.get),x=useThree(O=>O.gl);return reactExports.useEffect(()=>{var O;let T=[],E;const M=b().events.filter,F=(O=p==null?void 0:p.current)!==null&&O!==void 0?O:x.domElement.parentNode,B=()=>F&&u&&u(T,Math.round(m.current)%T.length);h({filter:(L,R)=>{let k=[...L];(k.length!==T.length||!T.every(A=>k.map(I=>I.object.uuid).includes(A.object.uuid)))&&(m.current=0,T=k,B()),M&&(k=M(k,R));for(let A=0;A<Math.round(m.current)%k.length;A++){const I=k.shift();k=[...k,I]}return k}});const S=L=>{var R,k;m.current=L(m.current),(R=b().events.handlers)==null||R.onPointerCancel(void 0),(k=b().events.handlers)==null||k.onPointerMove(E),B()},w=L=>{(L.keyCode||L.which===y)&&(g&&L.preventDefault(),T.length>1&&S(R=>R+1))},C=L=>{g&&L.preventDefault();let R=0;L||(L=window.event),L.wheelDelta?R=L.wheelDelta/120:L.detail&&(R=-L.detail/3),T.length>1&&S(k=>Math.abs(k-R))},D=L=>E=L;return document.addEventListener("pointermove",D,{passive:!0}),_&&document.addEventListener("wheel",C),y!==void 0&&document.addEventListener("keydown",w),()=>{h({filter:M}),y!==void 0&&document.removeEventListener("keydown",w),_&&document.removeEventListener("wheel",C),document.removeEventListener("pointermove",D)}},[x,b,h,g,_,y]),null}function useCursor(u,p="pointer",g="auto"){reactExports.useEffect(()=>{if(u)return document.body.style.cursor=p,()=>void(document.body.style.cursor=g)},[u])}const defaultDataInterpolation=u=>`Loading ${u.toFixed(2)}%`;function Loader({containerStyles:u,innerStyles:p,barStyles:g,dataStyles:_,dataInterpolation:y=defaultDataInterpolation,initialState:m=h=>h}){const{active:h,progress:b}=useProgress(),x=reactExports.useRef(0),O=reactExports.useRef(0),T=reactExports.useRef(null),[E,M]=reactExports.useState(m(h));reactExports.useEffect(()=>{let B;return h!==E&&(B=setTimeout(()=>M(h),300)),()=>clearTimeout(B)},[E,h]);const F=reactExports.useCallback(()=>{T.current&&(x.current+=(b-x.current)/2,(x.current>.95*b||b===100)&&(x.current=b),T.current.innerText=y(x.current),x.current<b&&(O.current=requestAnimationFrame(F)))},[y,b]);return reactExports.useEffect(()=>(F(),()=>cancelAnimationFrame(O.current)),[F]),E?reactExports.createElement("div",{style:{...styles.container,opacity:h?1:0,...u}},reactExports.createElement("div",null,reactExports.createElement("div",{style:{...styles.inner,...p}},reactExports.createElement("div",{style:{...styles.bar,transform:`scaleX(${b/100})`,...g}}),reactExports.createElement("span",{ref:T,style:{...styles.data,..._}})))):null}const styles={container:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#171717",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 300ms ease",zIndex:1e3},inner:{width:100,height:3,background:"#272727",textAlign:"center"},bar:{height:3,width:"100%",background:"white",transition:"transform 200ms",transformOrigin:"left center"},data:{display:"inline-block",position:"relative",fontVariantNumeric:"tabular-nums",marginTop:"0.8em",color:"#f0f0f0",fontSize:"0.6em",fontFamily:'-apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", "Helvetica Neue", Helvetica, Arial, Roboto, Ubuntu, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',whiteSpace:"nowrap"}};function PresentationControls({enabled:u=!0,snap:p,global:g,domElement:_,cursor:y=!0,children:m,speed:h=1,rotation:b=[0,0,0],zoom:x=1,polar:O=[0,Math.PI/2],azimuth:T=[-1/0,1/0],config:E={mass:1,tension:170,friction:26}}){const M=useThree(A=>A.events),F=useThree(A=>A.gl),B=_||M.connected||F.domElement,{size:S}=useThree(),w=reactExports.useMemo(()=>[b[0]+O[0],b[0]+O[1]],[b[0],O[0],O[1]]),C=reactExports.useMemo(()=>[b[1]+T[0],b[1]+T[1]],[b[1],T[0],T[1]]),D=reactExports.useMemo(()=>[MathUtils.clamp(b[0],...w),MathUtils.clamp(b[1],...C),b[2]],[b[0],b[1],b[2],w,C]),[L,R]=useSpring(()=>({scale:1,rotation:D,config:E}));reactExports.useEffect(()=>void R.start({scale:1,rotation:D,config:E}),[D]),reactExports.useEffect(()=>{if(g&&y&&u)return B.style.cursor="grab",F.domElement.style.cursor="",()=>{B.style.cursor="default",F.domElement.style.cursor="default"}},[g,y,B,u]);const k=useGesture({onHover:({last:A})=>{y&&!g&&u&&(B.style.cursor=A?"auto":"grab")},onDrag:({down:A,delta:[I,P],memo:[G,z]=L.rotation.animation.to||D})=>{if(!u)return[P,I];y&&(B.style.cursor=A?"grabbing":"grab"),I=MathUtils.clamp(z+I/S.width*Math.PI*h,...C),P=MathUtils.clamp(G+P/S.height*Math.PI*h,...w);const j=p&&!A&&typeof p!="boolean"?p:E;return R.start({scale:A&&P>w[1]/2?x:1,rotation:p&&!A?D:[P,I,0],config:N=>N==="scale"?{...j,friction:j.friction*3}:j}),[P,I]}},{target:g?B:void 0});return reactExports.createElement(animated.group,_extends({},k==null?void 0:k(),L),m)}const subscribeWithSelector=u=>(p,g,_)=>{const y=_.subscribe;return _.subscribe=(h,b,x)=>{let O=h;if(b){const T=(x==null?void 0:x.equalityFn)||Object.is;let E=h(_.getState());O=M=>{const F=h(M);if(!T(E,F)){const B=E;b(E=F,B)}},x!=null&&x.fireImmediately&&b(E,E)}return y(O)},u(p,g,_)},context$6=reactExports.createContext(null);function KeyboardControls({map:u,children:p,onChange:g,domElement:_}){const y=u.map(x=>x.name+x.keys).join("-"),m=reactExports.useMemo(()=>create(subscribeWithSelector(()=>u.reduce((x,O)=>({...x,[O.name]:!1}),{}))),[y]),h=reactExports.useMemo(()=>[m.subscribe,m.getState,m],[y]),b=m.setState;return reactExports.useEffect(()=>{const O=u.map(({name:F,keys:B,up:S})=>({keys:B,up:S,fn:w=>{b({[F]:w}),g&&g(F,w,h[1]())}})).reduce((F,{keys:B,fn:S,up:w=!0})=>(B.forEach(C=>F[C]={fn:S,pressed:!1,up:w}),F),{}),T=({key:F,code:B})=>{const S=O[F]||O[B];if(!S)return;const{fn:w,pressed:C,up:D}=S;S.pressed=!0,(D||!C)&&w(!0)},E=({key:F,code:B})=>{const S=O[F]||O[B];if(!S)return;const{fn:w,up:C}=S;S.pressed=!1,C&&w(!1)},M=_||window;return M.addEventListener("keydown",T,{passive:!0}),M.addEventListener("keyup",E,{passive:!0}),()=>{M.removeEventListener("keydown",T),M.removeEventListener("keyup",E)}},[_,y]),reactExports.createElement(context$6.Provider,{value:h,children:p})}function useKeyboardControls(u){const[p,g,_]=reactExports.useContext(context$6);return u?_(u):[p,g]}function shallow(u,p){if(Object.is(u,p))return!0;if(typeof u!="object"||u===null||typeof p!="object"||p===null)return!1;const g=Object.keys(u);if(g.length!==Object.keys(p).length)return!1;for(let _=0;_<g.length;_++)if(!Object.prototype.hasOwnProperty.call(p,g[_])||!Object.is(u[g[_]],p[g[_]]))return!1;return!0}const context$5=reactExports.createContext([]);function Select({box:u,multiple:p,children:g,onChange:_,onChangePointerUp:y,border:m="1px solid #55aaff",backgroundColor:h="rgba(75, 160, 255, 0.1)",filter:b=O=>O,...x}){const[O,T]=reactExports.useState(!1),{setEvents:E,camera:M,raycaster:F,gl:B,controls:S,size:w,get:C}=useThree(),[D,L]=reactExports.useState(!1),[R,k]=reactExports.useReducer((G,{object:z,shift:j})=>z===void 0?[]:Array.isArray(z)?z:j?G.includes(z)?G.filter(N=>N!==z):[z,...G]:G[0]===z?[]:[z],[]);reactExports.useEffect(()=>{O?_==null||_(R):y==null||y(R)},[R,O]);const A=reactExports.useCallback(G=>{G.stopPropagation(),k({object:b([G.object])[0],shift:p&&G.shiftKey})},[]),I=reactExports.useCallback(G=>!D&&k({}),[D]),P=reactExports.useRef(null);return reactExports.useEffect(()=>{if(!u||!p)return;const G=new SelectionBox(M,P.current),z=document.createElement("div");z.style.pointerEvents="none",z.style.border=m,z.style.backgroundColor=h,z.style.position="fixed";const j=new Vector2,N=new Vector2,W=new Vector2,U=C().events.enabled,H=S==null?void 0:S.enabled;let $=!1;function V(Z,ee){const{offsetX:ie,offsetY:te}=Z,{width:ne,height:ae}=w;ee.set(ie/ne*2-1,-(te/ae)*2+1)}function J(Z){var ee;S&&(S.enabled=!1),E({enabled:!1}),T($=!0),(ee=B.domElement.parentElement)==null||ee.appendChild(z),z.style.left=`${Z.clientX}px`,z.style.top=`${Z.clientY}px`,z.style.width="0px",z.style.height="0px",j.x=Z.clientX,j.y=Z.clientY}function Y(Z){W.x=Math.max(j.x,Z.clientX),W.y=Math.max(j.y,Z.clientY),N.x=Math.min(j.x,Z.clientX),N.y=Math.min(j.y,Z.clientY),z.style.left=`${N.x}px`,z.style.top=`${N.y}px`,z.style.width=`${W.x-N.x}px`,z.style.height=`${W.y-N.y}px`}function q(){if($){var Z;S&&(S.enabled=H),E({enabled:U}),T($=!1),(Z=z.parentElement)==null||Z.removeChild(z)}}function K(Z){Z.shiftKey&&(J(Z),V(Z,G.startPoint))}let Q=[];function X(Z){if($){Y(Z),V(Z,G.endPoint);const ee=G.select().sort(ie=>ie.uuid).filter(ie=>ie.isMesh);shallow(ee,Q)||(Q=ee,k({object:b(ee)}))}}function re(Z){$&&q()}return document.addEventListener("pointerdown",K,{passive:!0}),document.addEventListener("pointermove",X,{passive:!0,capture:!0}),document.addEventListener("pointerup",re,{passive:!0}),()=>{document.removeEventListener("pointerdown",K),document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",re)}},[w.width,w.height,F,M,S,B]),reactExports.createElement("group",_extends({ref:P,onClick:A,onPointerOver:()=>L(!0),onPointerOut:()=>L(!1),onPointerMissed:I},x),reactExports.createElement(context$5.Provider,{value:R},g))}function useSelect(){return reactExports.useContext(context$5)}const Billboard=reactExports.forwardRef(function({follow:p=!0,lockX:g=!1,lockY:_=!1,lockZ:y=!1,...m},h){const b=reactExports.useRef();return useFrame(({camera:x})=>{if(!p||!b.current)return;const O=b.current.rotation.clone();x.getWorldQuaternion(b.current.quaternion),g&&(b.current.rotation.x=O.x),_&&(b.current.rotation.y=O.y),y&&(b.current.rotation.z=O.z)}),reactExports.createElement("group",_extends({ref:mergeRefs([b,h])},m))}),ScreenSpace=reactExports.forwardRef(({children:u,depth:p=-1,...g},_)=>{const y=reactExports.useRef(null);return useFrame(({camera:m})=>{y.current.quaternion.copy(m.quaternion),y.current.position.copy(m.position)}),reactExports.createElement("group",_extends({ref:mergeRefs([_,y])},g),reactExports.createElement("group",{"position-z":-p},u))}),Line=reactExports.forwardRef(function({points:p,color:g="black",vertexColors:_,linewidth:y,lineWidth:m,segments:h,dashed:b,...x},O){const T=useThree(B=>B.size),E=reactExports.useMemo(()=>h?new LineSegments2:new Line2,[h]),[M]=reactExports.useState(()=>new LineMaterial),F=reactExports.useMemo(()=>{const B=h?new LineSegmentsGeometry:new LineGeometry,S=p.map(w=>{const C=Array.isArray(w);return w instanceof Vector3?[w.x,w.y,w.z]:w instanceof Vector2?[w.x,w.y,0]:C&&w.length===3?[w[0],w[1],w[2]]:C&&w.length===2?[w[0],w[1],0]:w});if(B.setPositions(S.flat()),_){const w=_.map(C=>C instanceof Color?C.toArray():C);B.setColors(w.flat())}return B},[p,h,_]);return reactExports.useLayoutEffect(()=>{E.computeLineDistances()},[p,E]),reactExports.useLayoutEffect(()=>{b?M.defines.USE_DASH="":delete M.defines.USE_DASH,M.needsUpdate=!0},[b,M]),reactExports.useEffect(()=>()=>F.dispose(),[F]),reactExports.createElement("primitive",_extends({object:E,ref:O},x),reactExports.createElement("primitive",{object:F,attach:"geometry"}),reactExports.createElement("primitive",_extends({object:M,attach:"material",color:g,vertexColors:Boolean(_),resolution:[T.width,T.height],linewidth:y??m,dashed:b},x)))}),v=new Vector3,QuadraticBezierLine=reactExports.forwardRef(function({start:p=[0,0,0],end:g=[0,0,0],mid:_,segments:y=20,...m},h){const b=reactExports.useRef(null),[x]=reactExports.useState(()=>new QuadraticBezierCurve3(void 0,void 0,void 0)),O=reactExports.useCallback((E,M,F,B=20)=>(E instanceof Vector3?x.v0.copy(E):x.v0.set(...E),M instanceof Vector3?x.v2.copy(M):x.v2.set(...M),F instanceof Vector3?x.v1.copy(F):Array.isArray(F)?x.v1.set(...F):x.v1.copy(x.v0.clone().add(x.v2.clone().sub(x.v0)).add(v.set(0,x.v0.y-x.v2.y,0))),x.getPoints(B)),[]);reactExports.useLayoutEffect(()=>{b.current.setPoints=(E,M,F)=>{const B=O(E,M,F);b.current.geometry&&b.current.geometry.setPositions(B.map(S=>S.toArray()).flat())}},[]);const T=reactExports.useMemo(()=>O(p,g,_,y),[p,g,_,y]);return reactExports.createElement(Line,_extends({ref:mergeRefs([b,h]),points:T},m))}),CubicBezierLine=reactExports.forwardRef(function({start:p,end:g,midA:_,midB:y,segments:m=20,...h},b){const x=reactExports.useMemo(()=>{const O=p instanceof Vector3?p:new Vector3(...p),T=g instanceof Vector3?g:new Vector3(...g),E=_ instanceof Vector3?_:new Vector3(..._),M=y instanceof Vector3?y:new Vector3(...y);return new CubicBezierCurve3(O,E,M,T).getPoints(m)},[p,g,_,y,m]);return reactExports.createElement(Line,_extends({ref:b,points:x},h))}),CatmullRomLine=reactExports.forwardRef(function({points:p,closed:g=!1,curveType:_="centripetal",tension:y=.5,segments:m=20,vertexColors:h,...b},x){const O=reactExports.useMemo(()=>{const M=p.map(F=>F instanceof Vector3?F:new Vector3(...F));return new CatmullRomCurve3(M,g,_,y)},[p,g,_,y]),T=reactExports.useMemo(()=>O.getPoints(m),[O,m]),E=reactExports.useMemo(()=>{if(!h||h.length<2)return;if(h.length===m+1)return h;const M=h.map(S=>S instanceof Color?S:new Color(...S));g&&M.push(M[0].clone());const F=[M[0]],B=m/(M.length-1);for(let S=1;S<m;S++){const w=S%B/B,C=Math.floor(S/B);F.push(M[C].clone().lerp(M[C+1],w))}return F.push(M[M.length-1]),F},[h,m]);return reactExports.createElement(Line,_extends({ref:x,points:T,vertexColors:E},b))}),PositionalAudio=reactExports.forwardRef(({url:u,distance:p=1,loop:g=!0,autoplay:_,...y},m)=>{const h=reactExports.useRef(),b=useThree(({camera:T})=>T),[x]=reactExports.useState(()=>new AudioListener),O=useLoader(AudioLoader,u);return reactExports.useEffect(()=>{const T=h.current;T&&(T.setBuffer(O),T.setRefDistance(p),T.setLoop(g),_&&!T.isPlaying&&T.play())},[O,b,p,g]),reactExports.useEffect(()=>{const T=h.current;return b.add(x),()=>{b.remove(x),T&&(T.isPlaying&&T.stop(),T.source&&T.source._connected&&T.disconnect())}},[]),reactExports.createElement("positionalAudio",_extends({ref:mergeRefs([h,m]),args:[x]},y))});let fontLoader=null;async function loader(u){fontLoader||(fontLoader=new FontLoader);let p=typeof u=="string"?await(await fetch(u)).json():u;return fontLoader.parse(p)}function useFont(u){return suspend(loader,[u])}useFont.preload=u=>preload(loader,[u]);useFont.clear=u=>clear([u]);const types=["string","number"],getTextFromChildren=u=>{let p="";const g=[];return reactExports.Children.forEach(u,_=>{types.includes(typeof _)?p+=_+"":g.push(_)}),[p,...g]},Text3D=reactExports.forwardRef(({font:u,letterSpacing:p=0,lineHeight:g=1,size:_=1,height:y=.2,bevelThickness:m=.1,bevelSize:h=.01,bevelEnabled:b=!1,bevelOffset:x=0,bevelSegments:O=4,curveSegments:T=8,smooth:E,children:M,...F},B)=>{reactExports.useMemo(()=>extend({RenamedTextGeometry:TextGeometry}),[]);const S=reactExports.useRef(null),w=useFont(u),C=reactExports.useMemo(()=>({font:w,size:_,height:y,bevelThickness:m,bevelSize:h,bevelEnabled:b,bevelSegments:O,bevelOffset:x,curveSegments:T,letterSpacing:p,lineHeight:g}),[w,_,y,m,h,b,O,x,T,p,g]),[D,...L]=reactExports.useMemo(()=>getTextFromChildren(M),[M]),R=reactExports.useMemo(()=>[D,C],[D,C]);return reactExports.useLayoutEffect(()=>{E&&(S.current.geometry=mergeVertices(S.current.geometry,E),S.current.geometry.computeVertexNormals())},[R,E]),reactExports.useImperativeHandle(B,()=>S.current,[]),reactExports.createElement("mesh",_extends({},F,{ref:S}),reactExports.createElement("renamedTextGeometry",{args:R}),L)}),isWebGL2Available=()=>{try{var u=document.createElement("canvas");return!!(window.WebGL2RenderingContext&&u.getContext("webgl2"))}catch{return!1}},Effects=reactExports.forwardRef(({children:u,multisamping:p=8,renderIndex:g=1,disableRender:_,disableGamma:y,disableRenderPass:m,depthBuffer:h=!0,stencilBuffer:b=!1,anisotropy:x=1,encoding:O,type:T,...E},M)=>{reactExports.useMemo(()=>extend({EffectComposer,RenderPass,ShaderPass}),[]);const F=reactExports.useRef(),{scene:B,camera:S,gl:w,size:C,viewport:D}=useThree(),[L]=reactExports.useState(()=>{const k=new WebGLRenderTarget(C.width,C.height,{type:T||HalfFloatType,format:RGBAFormat,depthBuffer:h,stencilBuffer:b,anisotropy:x});return T===UnsignedByteType&&O!=null&&("colorSpace"in k?k.texture.colorSpace=O:k.texture.encoding=O),k.samples=p,k});reactExports.useEffect(()=>{var k,A;(k=F.current)==null||k.setSize(C.width,C.height),(A=F.current)==null||A.setPixelRatio(D.dpr)},[w,C,D.dpr]),useFrame(()=>{var k;_||(k=F.current)==null||k.render()},g);const R=[];return m||R.push(reactExports.createElement("renderPass",{key:"renderpass",attach:`passes-${R.length}`,args:[B,S]})),y||R.push(reactExports.createElement("shaderPass",{attach:`passes-${R.length}`,key:"gammapass",args:[GammaCorrectionShader]})),reactExports.Children.forEach(u,k=>{k&&R.push(reactExports.cloneElement(k,{key:R.length,attach:`passes-${R.length}`}))}),reactExports.createElement("effectComposer",_extends({ref:mergeRefs([M,F]),args:[w,L]},E),R)});function GradientTexture({stops:u,colors:p,size:g=1024,..._}){const y=reactExports.useMemo(()=>{const m=document.createElement("canvas"),h=m.getContext("2d");m.width=16,m.height=g;const b=h.createLinearGradient(0,0,0,g);let x=u.length;for(;x--;)b.addColorStop(u[x],p[x]);return h.fillStyle=b,h.fillRect(0,0,16,g),m},[u]);return reactExports.createElement("canvasTexture",_extends({args:[y],attach:"map"},_))}const Edges=reactExports.forwardRef(({userData:u,children:p,geometry:g,threshold:_=15,color:y="black",...m},h)=>{const b=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{const x=b.current.parent;if(x){const O=g||x.geometry;(O!==b.current.userData.currentGeom||_!==b.current.userData.currentThreshold)&&(b.current.userData.currentGeom=O,b.current.userData.currentThreshold=_,b.current.geometry=new EdgesGeometry(O,_))}}),reactExports.useImperativeHandle(h,()=>b.current),reactExports.createElement("lineSegments",_extends({ref:b,raycast:()=>null},m),p||reactExports.createElement("lineBasicMaterial",{color:y}))});var __defProp=Object.defineProperty,__defNormalProp=(u,p,g)=>p in u?__defProp(u,p,{enumerable:!0,configurable:!0,writable:!0,value:g}):u[p]=g,__publicField=(u,p,g)=>(__defNormalProp(u,typeof p!="symbol"?p+"":p,g),g);function memcpy(u,p,g,_,y){let m;if(u=u.subarray||u.slice?u:u.buffer,g=g.subarray||g.slice?g:g.buffer,u=p?u.subarray?u.subarray(p,y&&p+y):u.slice(p,y&&p+y):u,g.set)g.set(u,_);else for(m=0;m<u.length;m++)g[m+_]=u[m];return g}function convertPoints(u){return u instanceof Float32Array?u:u instanceof BufferGeometry?u.getAttribute("position").array:u.map(p=>{const g=Array.isArray(p);return p instanceof Vector3?[p.x,p.y,p.z]:p instanceof Vector2?[p.x,p.y,0]:g&&p.length===3?[p[0],p[1],p[2]]:g&&p.length===2?[p[0],p[1],0]:p}).flat()}class MeshLineGeometry extends BufferGeometry{constructor(){super(),__publicField(this,"type","MeshLine"),__publicField(this,"isMeshLine",!0),__publicField(this,"positions",[]),__publicField(this,"previous",[]),__publicField(this,"next",[]),__publicField(this,"side",[]),__publicField(this,"width",[]),__publicField(this,"indices_array",[]),__publicField(this,"uvs",[]),__publicField(this,"counters",[]),__publicField(this,"widthCallback",null),__publicField(this,"_attributes"),__publicField(this,"_points",[]),__publicField(this,"points"),__publicField(this,"matrixWorld",new Matrix4),Object.defineProperties(this,{points:{enumerable:!0,get(){return this._points},set(p){this.setPoints(p,this.widthCallback)}}})}setMatrixWorld(p){this.matrixWorld=p}setPoints(p,g){if(p=convertPoints(p),this._points=p,this.widthCallback=g??null,this.positions=[],this.counters=[],p.length&&p[0]instanceof Vector3)for(let _=0;_<p.length;_++){const y=p[_],m=_/(p.length-1);this.positions.push(y.x,y.y,y.z),this.positions.push(y.x,y.y,y.z),this.counters.push(m),this.counters.push(m)}else for(let _=0;_<p.length;_+=3){const y=_/(p.length-1);this.positions.push(p[_],p[_+1],p[_+2]),this.positions.push(p[_],p[_+1],p[_+2]),this.counters.push(y),this.counters.push(y)}this.process()}compareV3(p,g){const _=p*6,y=g*6;return this.positions[_]===this.positions[y]&&this.positions[_+1]===this.positions[y+1]&&this.positions[_+2]===this.positions[y+2]}copyV3(p){const g=p*6;return[this.positions[g],this.positions[g+1],this.positions[g+2]]}process(){const p=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];let g,_;this.compareV3(0,p-1)?_=this.copyV3(p-2):_=this.copyV3(0),this.previous.push(_[0],_[1],_[2]),this.previous.push(_[0],_[1],_[2]);for(let y=0;y<p;y++){if(this.side.push(1),this.side.push(-1),this.widthCallback?g=this.widthCallback(y/(p-1)):g=1,this.width.push(g),this.width.push(g),this.uvs.push(y/(p-1),0),this.uvs.push(y/(p-1),1),y<p-1){_=this.copyV3(y),this.previous.push(_[0],_[1],_[2]),this.previous.push(_[0],_[1],_[2]);const m=y*2;this.indices_array.push(m,m+1,m+2),this.indices_array.push(m+2,m+1,m+3)}y>0&&(_=this.copyV3(y),this.next.push(_[0],_[1],_[2]),this.next.push(_[0],_[1],_[2]))}this.compareV3(p-1,0)?_=this.copyV3(1):_=this.copyV3(p-1),this.next.push(_[0],_[1],_[2]),this.next.push(_[0],_[1],_[2]),!this._attributes||this._attributes.position.count!==this.positions.length?this._attributes={position:new BufferAttribute(new Float32Array(this.positions),3),previous:new BufferAttribute(new Float32Array(this.previous),3),next:new BufferAttribute(new Float32Array(this.next),3),side:new BufferAttribute(new Float32Array(this.side),1),width:new BufferAttribute(new Float32Array(this.width),1),uv:new BufferAttribute(new Float32Array(this.uvs),2),index:new BufferAttribute(new Uint16Array(this.indices_array),1),counters:new BufferAttribute(new Float32Array(this.counters),1)}:(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()}advance({x:p,y:g,z:_}){const y=this._attributes.position.array,m=this._attributes.previous.array,h=this._attributes.next.array,b=y.length;memcpy(y,0,m,0,b),memcpy(y,6,y,0,b-6),y[b-6]=p,y[b-5]=g,y[b-4]=_,y[b-3]=p,y[b-2]=g,y[b-1]=_,memcpy(y,6,h,0,b-6),h[b-6]=p,h[b-5]=g,h[b-4]=_,h[b-3]=p,h[b-2]=g,h[b-1]=_,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0}}const vertexShader=`
  #include <common>
  #include <logdepthbuf_pars_vertex>
  #include <fog_pars_vertex>

  attribute vec3 previous;
  attribute vec3 next;
  attribute float side;
  attribute float width;
  attribute float counters;
  
  uniform vec2 resolution;
  uniform float lineWidth;
  uniform vec3 color;
  uniform float opacity;
  uniform float sizeAttenuation;
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  vec2 fix(vec4 i, float aspect) {
    vec2 res = i.xy / i.w;
    res.x *= aspect;
  	vCounters = counters;
    return res;
  }
  
  void main() {
    float aspect = resolution.x / resolution.y;
    vColor = vec4(color, opacity);
    vUV = uv;
  
    mat4 m = projectionMatrix * modelViewMatrix;
    vec4 finalPosition = m * vec4(position, 1.0);
    vec4 prevPos = m * vec4(previous, 1.0);
    vec4 nextPos = m * vec4(next, 1.0);
  
    vec2 currentP = fix(finalPosition, aspect);
    vec2 prevP = fix(prevPos, aspect);
    vec2 nextP = fix(nextPos, aspect);
  
    float w = lineWidth * width;
  
    vec2 dir;
    if (nextP == currentP) dir = normalize(currentP - prevP);
    else if (prevP == currentP) dir = normalize(nextP - currentP);
    else {
      vec2 dir1 = normalize(currentP - prevP);
      vec2 dir2 = normalize(nextP - currentP);
      dir = normalize(dir1 + dir2);
  
      vec2 perp = vec2(-dir1.y, dir1.x);
      vec2 miter = vec2(-dir.y, dir.x);
      //w = clamp(w / dot(miter, perp), 0., 4. * lineWidth * width);
    }
  
    //vec2 normal = (cross(vec3(dir, 0.), vec3(0., 0., 1.))).xy;
    vec4 normal = vec4(-dir.y, dir.x, 0., 1.);
    normal.xy *= .5 * w;
    //normal *= projectionMatrix;
    if (sizeAttenuation == 0.) {
      normal.xy *= finalPosition.w;
      normal.xy /= (vec4(resolution, 0., 1.) * projectionMatrix).xy;
    }
  
    finalPosition.xy += normal.xy * side;
    gl_Position = finalPosition;
    #include <logdepthbuf_vertex>
    #include <fog_vertex>
    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
    #include <fog_vertex>
  }
`,fragmentShader=`
  #include <fog_pars_fragment>
  #include <logdepthbuf_pars_fragment>
  
  uniform sampler2D map;
  uniform sampler2D alphaMap;
  uniform float useMap;
  uniform float useAlphaMap;
  uniform float useDash;
  uniform float dashArray;
  uniform float dashOffset;
  uniform float dashRatio;
  uniform float visibility;
  uniform float alphaTest;
  uniform vec2 repeat;
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  void main() {
    #include <logdepthbuf_fragment>
    vec4 c = vColor;
    if (useMap == 1.) c *= texture2D(map, vUV * repeat);
    if (useAlphaMap == 1.) c.a *= texture2D(alphaMap, vUV * repeat).a;
    if (c.a < alphaTest) discard;
    if (useDash == 1.) {
      c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));
    }
    gl_FragColor = c;
    gl_FragColor.a *= step(vCounters, visibility);
    #include <fog_fragment>
    #include <tonemapping_fragment>
    #include <encodings_fragment>
  }
`;class MeshLineMaterial extends ShaderMaterial{constructor(p){super({uniforms:{...UniformsLib.fog,lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new Color(16777215)},opacity:{value:1},resolution:{value:new Vector2(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new Vector2(1,1)}},vertexShader,fragmentShader}),__publicField(this,"lineWidth"),__publicField(this,"map"),__publicField(this,"useMap"),__publicField(this,"alphaMap"),__publicField(this,"useAlphaMap"),__publicField(this,"color"),__publicField(this,"resolution"),__publicField(this,"sizeAttenuation"),__publicField(this,"dashArray"),__publicField(this,"dashOffset"),__publicField(this,"dashRatio"),__publicField(this,"useDash"),__publicField(this,"visibility"),__publicField(this,"repeat"),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get(){return this.uniforms.lineWidth.value},set(g){this.uniforms.lineWidth.value=g}},map:{enumerable:!0,get(){return this.uniforms.map.value},set(g){this.uniforms.map.value=g}},useMap:{enumerable:!0,get(){return this.uniforms.useMap.value},set(g){this.uniforms.useMap.value=g}},alphaMap:{enumerable:!0,get(){return this.uniforms.alphaMap.value},set(g){this.uniforms.alphaMap.value=g}},useAlphaMap:{enumerable:!0,get(){return this.uniforms.useAlphaMap.value},set(g){this.uniforms.useAlphaMap.value=g}},color:{enumerable:!0,get(){return this.uniforms.color.value},set(g){this.uniforms.color.value=g}},opacity:{enumerable:!0,get(){return this.uniforms.opacity.value},set(g){this.uniforms.opacity.value=g}},resolution:{enumerable:!0,get(){return this.uniforms.resolution.value},set(g){this.uniforms.resolution.value.copy(g)}},sizeAttenuation:{enumerable:!0,get(){return this.uniforms.sizeAttenuation.value},set(g){this.uniforms.sizeAttenuation.value=g}},dashArray:{enumerable:!0,get(){return this.uniforms.dashArray.value},set(g){this.uniforms.dashArray.value=g,this.useDash=g!==0?1:0}},dashOffset:{enumerable:!0,get(){return this.uniforms.dashOffset.value},set(g){this.uniforms.dashOffset.value=g}},dashRatio:{enumerable:!0,get(){return this.uniforms.dashRatio.value},set(g){this.uniforms.dashRatio.value=g}},useDash:{enumerable:!0,get(){return this.uniforms.useDash.value},set(g){this.uniforms.useDash.value=g}},visibility:{enumerable:!0,get(){return this.uniforms.visibility.value},set(g){this.uniforms.visibility.value=g}},alphaTest:{enumerable:!0,get(){return this.uniforms.alphaTest.value},set(g){this.uniforms.alphaTest.value=g}},repeat:{enumerable:!0,get(){return this.uniforms.repeat.value},set(g){this.uniforms.repeat.value.copy(g)}}}),this.setValues(p)}copy(p){return super.copy(p),this.lineWidth=p.lineWidth,this.map=p.map,this.useMap=p.useMap,this.alphaMap=p.alphaMap,this.useAlphaMap=p.useAlphaMap,this.color.copy(p.color),this.opacity=p.opacity,this.resolution.copy(p.resolution),this.sizeAttenuation=p.sizeAttenuation,this.dashArray=p.dashArray,this.dashOffset=p.dashOffset,this.dashRatio=p.dashRatio,this.useDash=p.useDash,this.visibility=p.visibility,this.alphaTest=p.alphaTest,this.repeat.copy(p.repeat),this}}const defaults={width:.2,length:1,decay:1,local:!1,stride:0,interval:1},shiftLeft=(u,p=1)=>(u.set(u.subarray(p)),u.fill(-1/0,-p),u);function useTrail(u,p){const{length:g,local:_,decay:y,interval:m,stride:h}={...defaults,...p},b=reactExports.useRef(),[x]=reactExports.useState(()=>new Vector3);reactExports.useLayoutEffect(()=>{u&&(b.current=Float32Array.from({length:g*10*3},(E,M)=>u.position.getComponent(M%3)))},[g,u]);const O=reactExports.useRef(new Vector3),T=reactExports.useRef(0);return useFrame(()=>{if(u&&b.current){if(T.current===0){let E;_?E=u.position:(u.getWorldPosition(x),E=x);const M=1*y;for(let F=0;F<M;F++)E.distanceTo(O.current)<h||(shiftLeft(b.current,3),b.current.set(E.toArray(),b.current.length-3));O.current.copy(E)}T.current++,T.current=T.current%m}}),b}const Trail=reactExports.forwardRef((u,p)=>{const{children:g}=u,{width:_,length:y,decay:m,local:h,stride:b,interval:x}={...defaults,...u},{color:O="hotpink",attenuation:T,target:E}=u,M=useThree(R=>R.size),F=useThree(R=>R.scene),B=reactExports.useRef(null),[S,w]=reactExports.useState(null),C=useTrail(S,{length:y,decay:m,local:h,stride:b,interval:x});reactExports.useEffect(()=>{const R=(E==null?void 0:E.current)||B.current.children.find(k=>k instanceof Object3D);R&&w(R)},[C,E]);const D=reactExports.useMemo(()=>new MeshLineGeometry,[]),L=reactExports.useMemo(()=>{var R;const k=new MeshLineMaterial({lineWidth:.1*_,color:O,sizeAttenuation:1,resolution:new Vector2(M.width,M.height)});let A;if(g)if(Array.isArray(g))A=g.find(I=>{const P=I;return typeof P.type=="string"&&P.type==="meshLineMaterial"});else{const I=g;typeof I.type=="string"&&I.type==="meshLineMaterial"&&(A=I)}return typeof((R=A)==null?void 0:R.props)=="object"&&k.setValues(A.props),k},[_,O,M,g]);return reactExports.useEffect(()=>{L.uniforms.resolution.value.set(M.width,M.height)},[M]),useFrame(()=>{C.current&&D.setPoints(C.current,T)}),reactExports.createElement("group",null,createPortal(reactExports.createElement("mesh",{ref:p,geometry:D,material:L}),F),reactExports.createElement("group",{ref:B},g))});function useSurfaceSampler(u,p=16,g,_,y){const[m,h]=reactExports.useState(()=>{const b=Array.from({length:p},()=>[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]).flat();return new InstancedBufferAttribute(Float32Array.from(b),16)});return reactExports.useLayoutEffect(()=>{if(typeof u.current>"u")return;const b=new MeshSurfaceSampler(u.current);_&&b.setWeightAttribute(_),b.build();const x=new Vector3,O=new Vector3,T=new Color,E=new Object3D;u.current.updateMatrixWorld(!0);for(let M=0;M<p;M++)b.sample(x,O,T),typeof g=="function"?g({dummy:E,sampledMesh:u.current,position:x,normal:O,color:T},M):E.position.copy(x),E.updateMatrix(),y!=null&&y.current&&y.current.setMatrixAt(M,E.matrix),E.matrix.toArray(m.array,M*16);y!=null&&y.current&&(y.current.instanceMatrix.needsUpdate=!0),m.needsUpdate=!0,h(m.clone())},[u,y,_,p,g]),m}function Sampler({children:u,weight:p,transform:g,instances:_,mesh:y,count:m=16,...h}){const b=reactExports.useRef(null),x=reactExports.useRef(null),O=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{var T,E;x.current=(T=_==null?void 0:_.current)!==null&&T!==void 0?T:b.current.children.find(M=>M.hasOwnProperty("instanceMatrix")),O.current=(E=y==null?void 0:y.current)!==null&&E!==void 0?E:b.current.children.find(M=>M.type==="Mesh")},[u,y==null?void 0:y.current,_==null?void 0:_.current]),useSurfaceSampler(O,m,g,p,x),reactExports.createElement("group",_extends({ref:b},h),u)}const ComputedAttribute=({compute:u,name:p,...g})=>{const[_]=reactExports.useState(()=>new BufferAttribute(new Float32Array(0),1)),y=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{if(y.current){var m;const h=(m=y.current.parent)!==null&&m!==void 0?m:y.current.__r3f.parent,b=u(h);y.current.copy(b)}},[u]),reactExports.createElement("primitive",_extends({ref:y,object:_,attach:`attributes-${p}`},g))};var INFINITY$1=1/0,MAX_SAFE_INTEGER$1=9007199254740991,argsTag$1="[object Arguments]",funcTag$1="[object Function]",genTag$1="[object GeneratorFunction]",symbolTag$2="[object Symbol]",freeGlobal$1=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,freeSelf$1=typeof self=="object"&&self&&self.Object===Object&&self,root$1=freeGlobal$1||freeSelf$1||Function("return this")();function apply$1(u,p,g){switch(g.length){case 0:return u.call(p);case 1:return u.call(p,g[0]);case 2:return u.call(p,g[0],g[1]);case 3:return u.call(p,g[0],g[1],g[2])}return u.apply(p,g)}function arrayMap$1(u,p){for(var g=-1,_=u?u.length:0,y=Array(_);++g<_;)y[g]=p(u[g],g,u);return y}function arrayPush$1(u,p){for(var g=-1,_=p.length,y=u.length;++g<_;)u[y+g]=p[g];return u}var objectProto$2=Object.prototype,hasOwnProperty$1=objectProto$2.hasOwnProperty,objectToString$2=objectProto$2.toString,Symbol$2=root$1.Symbol,propertyIsEnumerable$1=objectProto$2.propertyIsEnumerable,spreadableSymbol$1=Symbol$2?Symbol$2.isConcatSpreadable:void 0,nativeMax$1=Math.max;function baseFlatten$1(u,p,g,_,y){var m=-1,h=u.length;for(g||(g=isFlattenable$1),y||(y=[]);++m<h;){var b=u[m];p>0&&g(b)?p>1?baseFlatten$1(b,p-1,g,_,y):arrayPush$1(y,b):_||(y[y.length]=b)}return y}function basePick$1(u,p){return u=Object(u),basePickBy$1(u,p,function(g,_){return _ in u})}function basePickBy$1(u,p,g){for(var _=-1,y=p.length,m={};++_<y;){var h=p[_],b=u[h];g(b,h)&&(m[h]=b)}return m}function baseRest$1(u,p){return p=nativeMax$1(p===void 0?u.length-1:p,0),function(){for(var g=arguments,_=-1,y=nativeMax$1(g.length-p,0),m=Array(y);++_<y;)m[_]=g[p+_];_=-1;for(var h=Array(p+1);++_<p;)h[_]=g[_];return h[p]=m,apply$1(u,this,h)}}function isFlattenable$1(u){return isArray$3(u)||isArguments$1(u)||!!(spreadableSymbol$1&&u&&u[spreadableSymbol$1])}function toKey$1(u){if(typeof u=="string"||isSymbol$2(u))return u;var p=u+"";return p=="0"&&1/u==-INFINITY$1?"-0":p}function isArguments$1(u){return isArrayLikeObject$1(u)&&hasOwnProperty$1.call(u,"callee")&&(!propertyIsEnumerable$1.call(u,"callee")||objectToString$2.call(u)==argsTag$1)}var isArray$3=Array.isArray;function isArrayLike$1(u){return u!=null&&isLength$1(u.length)&&!isFunction$3(u)}function isArrayLikeObject$1(u){return isObjectLike$2(u)&&isArrayLike$1(u)}function isFunction$3(u){var p=isObject$2(u)?objectToString$2.call(u):"";return p==funcTag$1||p==genTag$1}function isLength$1(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=MAX_SAFE_INTEGER$1}function isObject$2(u){var p=typeof u;return!!u&&(p=="object"||p=="function")}function isObjectLike$2(u){return!!u&&typeof u=="object"}function isSymbol$2(u){return typeof u=="symbol"||isObjectLike$2(u)&&objectToString$2.call(u)==symbolTag$2}var pick=baseRest$1(function(u,p){return u==null?{}:basePick$1(u,arrayMap$1(baseFlatten$1(p,1),toKey$1))}),lodash_pick=pick;function createSpread(u,{keys:p=["near","far","color","distance","decay","penumbra","angle","intensity","skeleton","visible","castShadow","receiveShadow","morphTargetDictionary","morphTargetInfluences","name","geometry","material","position","rotation","scale","up","userData","bindMode","bindMatrix","bindMatrixInverse","skeleton"],deep:g,inject:_,castShadow:y,receiveShadow:m}){let h=lodash_pick(u,p);return g&&(h.geometry&&g!=="materialsOnly"&&(h.geometry=h.geometry.clone()),h.material&&g!=="geometriesOnly"&&(h.material=h.material.clone())),_&&(typeof _=="function"?h={...h,children:_(u)}:reactExports.isValidElement(_)?h={...h,children:_}:h={...h,..._}),u instanceof Mesh&&(y&&(h.castShadow=!0),m&&(h.receiveShadow=!0)),h}const Clone=reactExports.forwardRef(({isChild:u=!1,object:p,children:g,deep:_,castShadow:y,receiveShadow:m,inject:h,keys:b,...x},O)=>{var T;const E={keys:b,deep:_,inject:h,castShadow:y,receiveShadow:m};if(p=reactExports.useMemo(()=>{if(u===!1&&!Array.isArray(p)){let S=!1;if(p.traverse(w=>{w.isSkinnedMesh&&(S=!0)}),S)return SkeletonUtils.clone(p)}return p},[p,u]),Array.isArray(p))return reactExports.createElement("group",_extends({},x,{ref:O}),p.map(S=>reactExports.createElement(Clone,_extends({key:S.uuid,object:S},E))),g);const{children:M,...F}=createSpread(p,E),B=p.type[0].toLowerCase()+p.type.slice(1);return reactExports.createElement(B,_extends({},F,x,{ref:O}),((T=p)==null?void 0:T.children).map(S=>S.type==="Bone"?reactExports.createElement("primitive",_extends({key:S.uuid,object:S},E)):reactExports.createElement(Clone,_extends({key:S.uuid,object:S},E,{isChild:!0}))),g,M)}),globalContext$1=reactExports.createContext(null),MarchingCubes=reactExports.forwardRef(({resolution:u=28,maxPolyCount:p=1e4,enableUvs:g=!1,enableColors:_=!1,children:y,...m},h)=>{const b=reactExports.useRef(null),x=reactExports.useMemo(()=>new MarchingCubes$1(u,null,g,_,p),[u,p,g,_]),O=reactExports.useMemo(()=>({getParent:()=>b}),[]);return useFrame(()=>{x.update(),x.reset()},-1),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("primitive",_extends({object:x,ref:mergeRefs([b,h])},m),reactExports.createElement(globalContext$1.Provider,{value:O},y)))}),MarchingCube=reactExports.forwardRef(({strength:u=.5,subtract:p=12,color:g,..._},y)=>{const{getParent:m}=reactExports.useContext(globalContext$1),h=reactExports.useMemo(()=>m(),[m]),b=reactExports.useRef(),x=new Vector3;return useFrame(O=>{!h.current||!b.current||(b.current.getWorldPosition(x),h.current.addBall(.5+x.x*.5,.5+x.y*.5,.5+x.z*.5,u,p,g))}),reactExports.createElement("group",_extends({ref:mergeRefs([y,b])},_))}),MarchingPlane=reactExports.forwardRef(({planeType:u="x",strength:p=.5,subtract:g=12,..._},y)=>{const{getParent:m}=reactExports.useContext(globalContext$1),h=reactExports.useMemo(()=>m(),[m]),b=reactExports.useRef(),x=reactExports.useMemo(()=>u==="x"?"addPlaneX":u==="y"?"addPlaneY":"addPlaneZ",[u]);return useFrame(()=>{!h.current||!b.current||h.current[x](p,g)}),reactExports.createElement("group",_extends({ref:mergeRefs([y,b])},_))});function isArray$2(u){return Array.isArray(u)}function vecToArray(u=[0,0,0]){return isArray$2(u)?u:u instanceof Vector3||u instanceof Euler?[u.x,u.y,u.z]:[u,u,u]}const Decal=reactExports.forwardRef(function({debug:p,mesh:g,children:_,position:y,rotation:m,scale:h,...b},x){const O=reactExports.useRef(null);reactExports.useImperativeHandle(x,()=>O.current);const T=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{const E=(g==null?void 0:g.current)||O.current.parent,M=O.current;if(!(E instanceof Mesh))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const F={position:new Vector3,rotation:new Euler,scale:new Vector3(1,1,1)};if(E){applyProps(F,{position:y,scale:h});const B=E.matrixWorld.clone();if(E.matrixWorld.identity(),!m||typeof m=="number"){const S=new Object3D;S.position.copy(F.position),S.lookAt(E.position),typeof m=="number"&&S.rotateZ(m),applyProps(F,{rotation:S.rotation})}else applyProps(F,{rotation:m});return M.geometry=new DecalGeometry(E,F.position,F.rotation,F.scale),T.current&&applyProps(T.current,F),E.matrixWorld=B,()=>{M.geometry.dispose()}}},[g,...vecToArray(y),...vecToArray(h),...vecToArray(m)]),reactExports.createElement("mesh",{ref:O},_||reactExports.createElement("meshStandardMaterial",_extends({transparent:!0,polygonOffset:!0,polygonOffsetFactor:-10},b)),p&&reactExports.createElement("mesh",{ref:T},reactExports.createElement("boxGeometry",null),reactExports.createElement("meshNormalMaterial",{wireframe:!0}),reactExports.createElement("axesHelper",null)))}),Svg=reactExports.forwardRef(function({src:p,skipFill:g,skipStrokes:_,fillMaterial:y,strokeMaterial:m,fillMeshProps:h,strokeMeshProps:b,...x},O){const T=useLoader(SVGLoader,p.startsWith("<svg")?`data:image/svg+xml;utf8,${p}`:p),E=reactExports.useMemo(()=>_?[]:T.paths.map(M=>{var F;return((F=M.userData)==null?void 0:F.style.stroke)===void 0||M.userData.style.stroke==="none"?null:M.subPaths.map(B=>SVGLoader.pointsToStroke(B.getPoints(),M.userData.style))}),[T,_]);return reactExports.useEffect(()=>()=>E.forEach(M=>M&&M.map(F=>F.dispose())),[E]),reactExports.createElement("object3D",_extends({ref:O},x),reactExports.createElement("object3D",{scale:[1,-1,1]},T.paths.map((M,F)=>{var B,S;return reactExports.createElement(reactExports.Fragment,{key:F},!g&&((B=M.userData)==null?void 0:B.style.fill)!==void 0&&M.userData.style.fill!=="none"&&SVGLoader.createShapes(M).map((w,C)=>reactExports.createElement("mesh",_extends({key:C},h),reactExports.createElement("shapeGeometry",{args:[w]}),reactExports.createElement("meshBasicMaterial",_extends({color:M.userData.style.fill,opacity:M.userData.style.fillOpacity,transparent:!0,side:DoubleSide,depthWrite:!1},y)))),!_&&((S=M.userData)==null?void 0:S.style.stroke)!==void 0&&M.userData.style.stroke!=="none"&&M.subPaths.map((w,C)=>reactExports.createElement("mesh",_extends({key:C,geometry:E[F][C]},b),reactExports.createElement("meshBasicMaterial",_extends({color:M.userData.style.stroke,opacity:M.userData.style.strokeOpacity,transparent:!0,side:DoubleSide,depthWrite:!1},m)))))})))}),Gltf=reactExports.forwardRef(({src:u,...p},g)=>{const{scene:_}=useGLTF(u);return reactExports.createElement(Clone,_extends({ref:g},p,{object:_}))});function AsciiRenderer({renderIndex:u=1,bgColor:p="black",fgColor:g="white",characters:_=" .:-+*=%@#",invert:y=!0,color:m=!1,resolution:h=.15}){const{size:b,gl:x,scene:O,camera:T}=useThree(),E=reactExports.useMemo(()=>{const M=new AsciiEffect(x,_,{invert:y,color:m,resolution:h});return M.domElement.style.position="absolute",M.domElement.style.top="0px",M.domElement.style.left="0px",M.domElement.style.pointerEvents="none",M},[_,y,m,h]);return reactExports.useLayoutEffect(()=>{E.domElement.style.color=g,E.domElement.style.backgroundColor=p},[g,p]),reactExports.useEffect(()=>(x.domElement.style.opacity="0",x.domElement.parentNode.appendChild(E.domElement),()=>{x.domElement.style.opacity="1",x.domElement.parentNode.removeChild(E.domElement)}),[E]),reactExports.useEffect(()=>{E.setSize(b.width,b.height)},[E,b]),useFrame(M=>{E.render(O,T)},u),reactExports.createElement(reactExports.Fragment,null)}function useFBO(u,p,g){const _=useThree(M=>M.size),y=useThree(M=>M.viewport),m=typeof u=="number"?u:_.width*y.dpr,h=typeof p=="number"?p:_.height*y.dpr,b=(typeof u=="number"?g:u)||{},{samples:x=0,depth:O,...T}=b,E=reactExports.useMemo(()=>{const M=new WebGLRenderTarget(m,h,{minFilter:LinearFilter,magFilter:LinearFilter,type:HalfFloatType,...T});return O&&(M.depthTexture=new DepthTexture(m,h,FloatType)),M.samples=x,M},[]);return reactExports.useLayoutEffect(()=>{E.setSize(m,h),x&&(E.samples=x)},[x,E,m,h]),reactExports.useEffect(()=>()=>E.dispose(),[]),E}const isFunction$2=u=>typeof u=="function",OrthographicCamera=reactExports.forwardRef(({envMap:u,resolution:p=256,frames:g=1/0,children:_,makeDefault:y,...m},h)=>{const b=useThree(({set:w})=>w),x=useThree(({camera:w})=>w),O=useThree(({size:w})=>w),T=reactExports.useRef(null),E=reactExports.useRef(null),M=useFBO(p);reactExports.useLayoutEffect(()=>{m.manual||T.current.updateProjectionMatrix()},[O,m]),reactExports.useLayoutEffect(()=>{T.current.updateProjectionMatrix()}),reactExports.useLayoutEffect(()=>{if(y){const w=x;return b(()=>({camera:T.current})),()=>b(()=>({camera:w}))}},[T,y,b]);let F=0,B=null;const S=isFunction$2(_);return useFrame(w=>{S&&(g===1/0||F<g)&&(E.current.visible=!1,w.gl.setRenderTarget(M),B=w.scene.background,u&&(w.scene.background=u),w.gl.render(w.scene,T.current),w.scene.background=B,w.gl.setRenderTarget(null),E.current.visible=!0,F++)}),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("orthographicCamera",_extends({left:O.width/-2,right:O.width/2,top:O.height/2,bottom:O.height/-2,ref:mergeRefs([T,h])},m),!S&&_),reactExports.createElement("group",{ref:E},S&&_(M.texture)))}),isFunction$1=u=>typeof u=="function",PerspectiveCamera=reactExports.forwardRef(({envMap:u,resolution:p=256,frames:g=1/0,makeDefault:_,children:y,...m},h)=>{const b=useThree(({set:w})=>w),x=useThree(({camera:w})=>w),O=useThree(({size:w})=>w),T=reactExports.useRef(null),E=reactExports.useRef(null),M=useFBO(p);reactExports.useLayoutEffect(()=>{m.manual||(T.current.aspect=O.width/O.height)},[O,m]),reactExports.useLayoutEffect(()=>{T.current.updateProjectionMatrix()});let F=0,B=null;const S=isFunction$1(y);return useFrame(w=>{S&&(g===1/0||F<g)&&(E.current.visible=!1,w.gl.setRenderTarget(M),B=w.scene.background,u&&(w.scene.background=u),w.gl.render(w.scene,T.current),w.scene.background=B,w.gl.setRenderTarget(null),E.current.visible=!0,F++)}),reactExports.useLayoutEffect(()=>{if(_){const w=x;return b(()=>({camera:T.current})),()=>b(()=>({camera:w}))}},[T,_,b]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("perspectiveCamera",_extends({ref:mergeRefs([T,h])},m),!S&&y),reactExports.createElement("group",{ref:E},S&&y(M.texture)))});function useCubeCamera({resolution:u=256,near:p=.1,far:g=1e3,envMap:_,fog:y}={}){const m=useThree(({gl:M})=>M),h=useThree(({scene:M})=>M),b=reactExports.useMemo(()=>{const M=new WebGLCubeRenderTarget(u);return M.texture.type=HalfFloatType,M},[u]);reactExports.useEffect(()=>()=>{b.dispose()},[b]);const x=reactExports.useMemo(()=>new CubeCamera$1(p,g,b),[p,g,b]);let O,T;const E=reactExports.useCallback(()=>{O=h.fog,T=h.background,h.background=_||T,h.fog=y||O,x.update(m,h),h.fog=O,h.background=T},[m,h,x]);return{fbo:b,camera:x,update:E}}function CubeCamera({children:u,frames:p=1/0,resolution:g,near:_,far:y,envMap:m,fog:h,...b}){const x=reactExports.useRef(),{fbo:O,camera:T,update:E}=useCubeCamera({resolution:g,near:_,far:y,envMap:m,fog:h});let M=0;return useFrame(()=>{x.current&&(p===1/0||M<p)&&(x.current.visible=!1,E(),x.current.visible=!0,M++)}),reactExports.createElement("group",b,reactExports.createElement("primitive",{object:T}),reactExports.createElement("group",{ref:x},u(O.texture)))}const DeviceOrientationControls=reactExports.forwardRef((u,p)=>{const{camera:g,onChange:_,makeDefault:y,...m}=u,h=useThree(M=>M.camera),b=useThree(M=>M.invalidate),x=useThree(M=>M.get),O=useThree(M=>M.set),T=g||h,[E]=reactExports.useState(()=>new DeviceOrientationControls$1(T));return reactExports.useEffect(()=>{const M=F=>{b(),_&&_(F)};return E==null||E.addEventListener==null||E.addEventListener("change",M),()=>E==null||E.removeEventListener==null?void 0:E.removeEventListener("change",M)},[_,E,b]),useFrame(()=>E==null?void 0:E.update(),-1),reactExports.useEffect(()=>{const M=E;return M==null||M.connect(),()=>M==null?void 0:M.dispose()},[E]),reactExports.useEffect(()=>{if(y){const M=x().controls;return O({controls:E}),()=>O({controls:M})}},[y,E]),E?reactExports.createElement("primitive",_extends({ref:p,object:E},m)):null}),FlyControls=reactExports.forwardRef(({domElement:u,...p},g)=>{const{onChange:_,makeDefault:y,...m}=p,h=useThree(B=>B.invalidate),b=useThree(B=>B.camera),x=useThree(B=>B.gl),O=useThree(B=>B.events),T=useThree(B=>B.get),E=useThree(B=>B.set),M=u||O.connected||x.domElement,F=reactExports.useMemo(()=>new FlyControls$1(b),[b]);return reactExports.useEffect(()=>(F.connect(M),()=>void F.dispose()),[M,F,h]),reactExports.useEffect(()=>{const B=S=>{h(),_&&_(S)};return F.addEventListener==null||F.addEventListener("change",B),()=>F.removeEventListener==null?void 0:F.removeEventListener("change",B)},[_,h]),reactExports.useEffect(()=>{if(y){const B=T().controls;return E({controls:F}),()=>E({controls:B})}},[y,F]),useFrame((B,S)=>F.update(S)),reactExports.createElement("primitive",_extends({ref:g,object:F,args:[b,M]},m))}),MapControls=reactExports.forwardRef((u={enableDamping:!0},p)=>{const{domElement:g,camera:_,makeDefault:y,onChange:m,onStart:h,onEnd:b,...x}=u,O=useThree(D=>D.invalidate),T=useThree(D=>D.camera),E=useThree(D=>D.gl),M=useThree(D=>D.events),F=useThree(D=>D.set),B=useThree(D=>D.get),S=g||M.connected||E.domElement,w=_||T,C=reactExports.useMemo(()=>new MapControls$1(w),[w]);return reactExports.useEffect(()=>{C.connect(S);const D=L=>{O(),m&&m(L)};return C.addEventListener("change",D),h&&C.addEventListener("start",h),b&&C.addEventListener("end",b),()=>{C.dispose(),C.removeEventListener("change",D),h&&C.removeEventListener("start",h),b&&C.removeEventListener("end",b)}},[m,h,b,C,O,S]),reactExports.useEffect(()=>{if(y){const D=B().controls;return F({controls:C}),()=>F({controls:D})}},[y,C]),useFrame(()=>C.update(),-1),reactExports.createElement("primitive",_extends({ref:p,object:C,enableDamping:!0},x))}),OrbitControls=reactExports.forwardRef(({makeDefault:u,camera:p,regress:g,domElement:_,enableDamping:y=!0,keyEvents:m=!1,onChange:h,onStart:b,onEnd:x,...O},T)=>{const E=useThree(A=>A.invalidate),M=useThree(A=>A.camera),F=useThree(A=>A.gl),B=useThree(A=>A.events),S=useThree(A=>A.setEvents),w=useThree(A=>A.set),C=useThree(A=>A.get),D=useThree(A=>A.performance),L=p||M,R=_||B.connected||F.domElement,k=reactExports.useMemo(()=>new OrbitControls$1(L),[L]);return useFrame(()=>{k.enabled&&k.update()},-1),reactExports.useEffect(()=>(m&&k.connect(m===!0?R:m),k.connect(R),()=>void k.dispose()),[m,R,g,k,E]),reactExports.useEffect(()=>{const A=G=>{E(),g&&D.regress(),h&&h(G)},I=G=>{b&&b(G)},P=G=>{x&&x(G)};return k.addEventListener("change",A),k.addEventListener("start",I),k.addEventListener("end",P),()=>{k.removeEventListener("start",I),k.removeEventListener("end",P),k.removeEventListener("change",A)}},[h,b,x,k,E,S]),reactExports.useEffect(()=>{if(u){const A=C().controls;return w({controls:k}),()=>w({controls:A})}},[u,k]),reactExports.createElement("primitive",_extends({ref:T,object:k,enableDamping:y},O))}),TrackballControls=reactExports.forwardRef(({makeDefault:u,camera:p,domElement:g,regress:_,onChange:y,onStart:m,onEnd:h,...b},x)=>{const{invalidate:O,camera:T,gl:E,events:M,set:F,get:B,performance:S,viewport:w}=useThree(),C=p||T,D=g||M.connected||E.domElement,L=reactExports.useMemo(()=>new TrackballControls$1(C),[C]);return useFrame(()=>{L.enabled&&L.update()},-1),reactExports.useEffect(()=>(L.connect(D),()=>void L.dispose()),[D,_,L,O]),reactExports.useEffect(()=>{const R=k=>{O(),_&&S.regress(),y&&y(k)};return L.addEventListener("change",R),m&&L.addEventListener("start",m),h&&L.addEventListener("end",h),()=>{m&&L.removeEventListener("start",m),h&&L.removeEventListener("end",h),L.removeEventListener("change",R)}},[y,m,h,L,O]),reactExports.useEffect(()=>{L.handleResize()},[w]),reactExports.useEffect(()=>{if(u){const R=B().controls;return F({controls:L}),()=>F({controls:R})}},[u,L]),reactExports.createElement("primitive",_extends({ref:x,object:L},b))}),ArcballControls=reactExports.forwardRef(({camera:u,makeDefault:p,regress:g,domElement:_,onChange:y,onStart:m,onEnd:h,...b},x)=>{const O=useThree(L=>L.invalidate),T=useThree(L=>L.camera),E=useThree(L=>L.gl),M=useThree(L=>L.events),F=useThree(L=>L.set),B=useThree(L=>L.get),S=useThree(L=>L.performance),w=u||T,C=_||M.connected||E.domElement,D=reactExports.useMemo(()=>new ArcballControls$1(w),[w]);return useFrame(()=>{D.enabled&&D.update()},-1),reactExports.useEffect(()=>(D.connect(C),()=>void D.dispose()),[C,g,D,O]),reactExports.useEffect(()=>{const L=R=>{O(),g&&S.regress(),y&&y(R)};return D.addEventListener("change",L),m&&D.addEventListener("start",m),h&&D.addEventListener("end",h),()=>{D.removeEventListener("change",L),m&&D.removeEventListener("start",m),h&&D.removeEventListener("end",h)}},[y,m,h]),reactExports.useEffect(()=>{if(p){const L=B().controls;return F({controls:D}),()=>F({controls:L})}},[p,D]),reactExports.createElement("primitive",_extends({ref:x,object:D},b))});var LARGE_ARRAY_SIZE=200,HASH_UNDEFINED="__lodash_hash_undefined__",INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag$1="[object Symbol]",reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,freeGlobal=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();function apply(u,p,g){switch(g.length){case 0:return u.call(p);case 1:return u.call(p,g[0]);case 2:return u.call(p,g[0],g[1]);case 3:return u.call(p,g[0],g[1],g[2])}return u.apply(p,g)}function arrayIncludes(u,p){var g=u?u.length:0;return!!g&&baseIndexOf(u,p,0)>-1}function arrayIncludesWith(u,p,g){for(var _=-1,y=u?u.length:0;++_<y;)if(g(p,u[_]))return!0;return!1}function arrayMap(u,p){for(var g=-1,_=u?u.length:0,y=Array(_);++g<_;)y[g]=p(u[g],g,u);return y}function arrayPush(u,p){for(var g=-1,_=p.length,y=u.length;++g<_;)u[y+g]=p[g];return u}function baseFindIndex(u,p,g,_){for(var y=u.length,m=g+(_?1:-1);_?m--:++m<y;)if(p(u[m],m,u))return m;return-1}function baseIndexOf(u,p,g){if(p!==p)return baseFindIndex(u,baseIsNaN,g);for(var _=g-1,y=u.length;++_<y;)if(u[_]===p)return _;return-1}function baseIsNaN(u){return u!==u}function baseTimes(u,p){for(var g=-1,_=Array(u);++g<u;)_[g]=p(g);return _}function baseUnary(u){return function(p){return u(p)}}function cacheHas(u,p){return u.has(p)}function getValue(u,p){return u==null?void 0:u[p]}function isHostObject(u){var p=!1;if(u!=null&&typeof u.toString!="function")try{p=!!(u+"")}catch{}return p}function overArg(u,p){return function(g){return u(p(g))}}var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto$1=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var u=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto$1.hasOwnProperty,objectToString$1=objectProto$1.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol$1=root.Symbol,getPrototype=overArg(Object.getPrototypeOf,Object),propertyIsEnumerable=objectProto$1.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0,nativeGetSymbols=Object.getOwnPropertySymbols,nativeMax=Math.max,Map$1=getNative(root,"Map"),nativeCreate=getNative(Object,"create");function Hash(u){var p=-1,g=u?u.length:0;for(this.clear();++p<g;){var _=u[p];this.set(_[0],_[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(u){return this.has(u)&&delete this.__data__[u]}function hashGet(u){var p=this.__data__;if(nativeCreate){var g=p[u];return g===HASH_UNDEFINED?void 0:g}return hasOwnProperty.call(p,u)?p[u]:void 0}function hashHas(u){var p=this.__data__;return nativeCreate?p[u]!==void 0:hasOwnProperty.call(p,u)}function hashSet(u,p){var g=this.__data__;return g[u]=nativeCreate&&p===void 0?HASH_UNDEFINED:p,this}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(u){var p=-1,g=u?u.length:0;for(this.clear();++p<g;){var _=u[p];this.set(_[0],_[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(u){var p=this.__data__,g=assocIndexOf(p,u);if(g<0)return!1;var _=p.length-1;return g==_?p.pop():splice.call(p,g,1),!0}function listCacheGet(u){var p=this.__data__,g=assocIndexOf(p,u);return g<0?void 0:p[g][1]}function listCacheHas(u){return assocIndexOf(this.__data__,u)>-1}function listCacheSet(u,p){var g=this.__data__,_=assocIndexOf(g,u);return _<0?g.push([u,p]):g[_][1]=p,this}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(u){var p=-1,g=u?u.length:0;for(this.clear();++p<g;){var _=u[p];this.set(_[0],_[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function mapCacheDelete(u){return getMapData(this,u).delete(u)}function mapCacheGet(u){return getMapData(this,u).get(u)}function mapCacheHas(u){return getMapData(this,u).has(u)}function mapCacheSet(u,p){return getMapData(this,u).set(u,p),this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function SetCache(u){var p=-1,g=u?u.length:0;for(this.__data__=new MapCache;++p<g;)this.add(u[p])}function setCacheAdd(u){return this.__data__.set(u,HASH_UNDEFINED),this}function setCacheHas(u){return this.__data__.has(u)}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arrayLikeKeys(u,p){var g=isArray$1(u)||isArguments(u)?baseTimes(u.length,String):[],_=g.length,y=!!_;for(var m in u)(p||hasOwnProperty.call(u,m))&&!(y&&(m=="length"||isIndex(m,_)))&&g.push(m);return g}function assocIndexOf(u,p){for(var g=u.length;g--;)if(eq(u[g][0],p))return g;return-1}function baseDifference(u,p,g,_){var y=-1,m=arrayIncludes,h=!0,b=u.length,x=[],O=p.length;if(!b)return x;g&&(p=arrayMap(p,baseUnary(g))),_?(m=arrayIncludesWith,h=!1):p.length>=LARGE_ARRAY_SIZE&&(m=cacheHas,h=!1,p=new SetCache(p));e:for(;++y<b;){var T=u[y],E=g?g(T):T;if(T=_||T!==0?T:0,h&&E===E){for(var M=O;M--;)if(p[M]===E)continue e;x.push(T)}else m(p,E,_)||x.push(T)}return x}function baseFlatten(u,p,g,_,y){var m=-1,h=u.length;for(g||(g=isFlattenable),y||(y=[]);++m<h;){var b=u[m];p>0&&g(b)?p>1?baseFlatten(b,p-1,g,_,y):arrayPush(y,b):_||(y[y.length]=b)}return y}function baseGetAllKeys(u,p,g){var _=p(u);return isArray$1(u)?_:arrayPush(_,g(u))}function baseIsNative(u){if(!isObject$1(u)||isMasked(u))return!1;var p=isFunction(u)||isHostObject(u)?reIsNative:reIsHostCtor;return p.test(toSource(u))}function baseKeysIn(u){if(!isObject$1(u))return nativeKeysIn(u);var p=isPrototype(u),g=[];for(var _ in u)_=="constructor"&&(p||!hasOwnProperty.call(u,_))||g.push(_);return g}function basePick(u,p){return u=Object(u),basePickBy(u,p,function(g,_){return _ in u})}function basePickBy(u,p,g){for(var _=-1,y=p.length,m={};++_<y;){var h=p[_],b=u[h];g(b,h)&&(m[h]=b)}return m}function baseRest(u,p){return p=nativeMax(p===void 0?u.length-1:p,0),function(){for(var g=arguments,_=-1,y=nativeMax(g.length-p,0),m=Array(y);++_<y;)m[_]=g[p+_];_=-1;for(var h=Array(p+1);++_<p;)h[_]=g[_];return h[p]=m,apply(u,this,h)}}function getAllKeysIn(u){return baseGetAllKeys(u,keysIn,getSymbolsIn)}function getMapData(u,p){var g=u.__data__;return isKeyable(p)?g[typeof p=="string"?"string":"hash"]:g.map}function getNative(u,p){var g=getValue(u,p);return baseIsNative(g)?g:void 0}var getSymbols=nativeGetSymbols?overArg(nativeGetSymbols,Object):stubArray,getSymbolsIn=nativeGetSymbols?function(u){for(var p=[];u;)arrayPush(p,getSymbols(u)),u=getPrototype(u);return p}:stubArray;function isFlattenable(u){return isArray$1(u)||isArguments(u)||!!(spreadableSymbol&&u&&u[spreadableSymbol])}function isIndex(u,p){return p=p??MAX_SAFE_INTEGER,!!p&&(typeof u=="number"||reIsUint.test(u))&&u>-1&&u%1==0&&u<p}function isKeyable(u){var p=typeof u;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?u!=="__proto__":u===null}function isMasked(u){return!!maskSrcKey&&maskSrcKey in u}function isPrototype(u){var p=u&&u.constructor,g=typeof p=="function"&&p.prototype||objectProto$1;return u===g}function nativeKeysIn(u){var p=[];if(u!=null)for(var g in Object(u))p.push(g);return p}function toKey(u){if(typeof u=="string"||isSymbol$1(u))return u;var p=u+"";return p=="0"&&1/u==-INFINITY?"-0":p}function toSource(u){if(u!=null){try{return funcToString.call(u)}catch{}try{return u+""}catch{}}return""}function eq(u,p){return u===p||u!==u&&p!==p}function isArguments(u){return isArrayLikeObject(u)&&hasOwnProperty.call(u,"callee")&&(!propertyIsEnumerable.call(u,"callee")||objectToString$1.call(u)==argsTag)}var isArray$1=Array.isArray;function isArrayLike(u){return u!=null&&isLength(u.length)&&!isFunction(u)}function isArrayLikeObject(u){return isObjectLike$1(u)&&isArrayLike(u)}function isFunction(u){var p=isObject$1(u)?objectToString$1.call(u):"";return p==funcTag||p==genTag}function isLength(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=MAX_SAFE_INTEGER}function isObject$1(u){var p=typeof u;return!!u&&(p=="object"||p=="function")}function isObjectLike$1(u){return!!u&&typeof u=="object"}function isSymbol$1(u){return typeof u=="symbol"||isObjectLike$1(u)&&objectToString$1.call(u)==symbolTag$1}function keysIn(u){return isArrayLike(u)?arrayLikeKeys(u,!0):baseKeysIn(u)}var omit=baseRest(function(u,p){return u==null?{}:(p=arrayMap(baseFlatten(p,1),toKey),basePick(u,baseDifference(getAllKeysIn(u),p)))});function stubArray(){return[]}var lodash_omit=omit;const TransformControls=reactExports.forwardRef(({children:u,domElement:p,onChange:g,onMouseDown:_,onMouseUp:y,onObjectChange:m,object:h,makeDefault:b,...x},O)=>{const T=["enabled","axis","mode","translationSnap","rotationSnap","scaleSnap","space","size","showX","showY","showZ"],{camera:E,...M}=x,F=lodash_pick(M,T),B=lodash_omit(M,T),S=useThree(U=>U.controls),w=useThree(U=>U.gl),C=useThree(U=>U.events),D=useThree(U=>U.camera),L=useThree(U=>U.invalidate),R=useThree(U=>U.get),k=useThree(U=>U.set),A=E||D,I=p||C.connected||w.domElement,P=reactExports.useMemo(()=>new TransformControls$1(A,I),[A,I]),G=reactExports.useRef();reactExports.useLayoutEffect(()=>(h?P.attach(h instanceof Object3D?h:h.current):G.current instanceof Object3D&&P.attach(G.current),()=>void P.detach()),[h,u,P]),reactExports.useEffect(()=>{if(S){const U=H=>S.enabled=!H.value;return P.addEventListener("dragging-changed",U),()=>P.removeEventListener("dragging-changed",U)}},[P,S]);const z=reactExports.useRef(),j=reactExports.useRef(),N=reactExports.useRef(),W=reactExports.useRef();return reactExports.useLayoutEffect(()=>void(z.current=g),[g]),reactExports.useLayoutEffect(()=>void(j.current=_),[_]),reactExports.useLayoutEffect(()=>void(N.current=y),[y]),reactExports.useLayoutEffect(()=>void(W.current=m),[m]),reactExports.useEffect(()=>{const U=J=>{L(),z.current==null||z.current(J)},H=J=>j.current==null?void 0:j.current(J),$=J=>N.current==null?void 0:N.current(J),V=J=>W.current==null?void 0:W.current(J);return P.addEventListener("change",U),P.addEventListener("mouseDown",H),P.addEventListener("mouseUp",$),P.addEventListener("objectChange",V),()=>{P.removeEventListener("change",U),P.removeEventListener("mouseDown",H),P.removeEventListener("mouseUp",$),P.removeEventListener("objectChange",V)}},[L,P]),reactExports.useEffect(()=>{if(b){const U=R().controls;return k({controls:P}),()=>k({controls:U})}},[b,P]),P?reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("primitive",_extends({ref:O,object:P},F)),reactExports.createElement("group",_extends({ref:G},B),u)):null}),PointerLockControls=reactExports.forwardRef(({domElement:u,selector:p,onChange:g,onLock:_,onUnlock:y,enabled:m=!0,makeDefault:h,...b},x)=>{const{camera:O,...T}=b,E=useThree(k=>k.setEvents),M=useThree(k=>k.gl),F=useThree(k=>k.camera),B=useThree(k=>k.invalidate),S=useThree(k=>k.events),w=useThree(k=>k.get),C=useThree(k=>k.set),D=O||F,L=u||S.connected||M.domElement,[R]=reactExports.useState(()=>new PointerLockControls$1(D));return reactExports.useEffect(()=>{if(m){R.connect(L);const k=w().events.compute;return E({compute(A,I){const P=I.size.width/2,G=I.size.height/2;I.pointer.set(P/I.size.width*2-1,-(G/I.size.height)*2+1),I.raycaster.setFromCamera(I.pointer,I.camera)}}),()=>{R.disconnect(),E({compute:k})}}},[m,R]),reactExports.useEffect(()=>{const k=P=>{B(),g&&g(P)};R.addEventListener("change",k),_&&R.addEventListener("lock",_),y&&R.addEventListener("unlock",y);const A=()=>R.lock(),I=p?Array.from(document.querySelectorAll(p)):[document];return I.forEach(P=>P&&P.addEventListener("click",A)),()=>{R.removeEventListener("change",k),_&&R.addEventListener("lock",_),y&&R.addEventListener("unlock",y),I.forEach(P=>P?P.removeEventListener("click",A):void 0)}},[g,_,y,p,R,B]),reactExports.useEffect(()=>{if(h){const k=w().controls;return C({controls:R}),()=>C({controls:k})}},[h,R]),reactExports.createElement("primitive",_extends({ref:x,object:R},T))}),FirstPersonControls=reactExports.forwardRef(({domElement:u,makeDefault:p,...g},_)=>{const y=useThree(E=>E.camera),m=useThree(E=>E.gl),h=useThree(E=>E.events),b=useThree(E=>E.get),x=useThree(E=>E.set),O=u||h.connected||m.domElement,[T]=reactExports.useState(()=>new FirstPersonControls$1(y,O));return reactExports.useEffect(()=>{if(p){const E=b().controls;return x({controls:T}),()=>x({controls:E})}},[p,T]),useFrame((E,M)=>{T.update(M)},-1),T?reactExports.createElement("primitive",_extends({ref:_,object:T},g)):null});/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const MOUSE_BUTTON={LEFT:1,RIGHT:2,MIDDLE:4},ACTION=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768}),DOLLY_DIRECTION={NONE:0,IN:1,OUT:-1};function isPerspectiveCamera(u){return u.isPerspectiveCamera}function isOrthographicCamera$1(u){return u.isOrthographicCamera}const PI_2=Math.PI*2,PI_HALF=Math.PI/2,EPSILON=1e-5,DEG2RAD=Math.PI/180;function clamp$1(u,p,g){return Math.max(p,Math.min(g,u))}function approxZero(u,p=EPSILON){return Math.abs(u)<p}function approxEquals(u,p,g=EPSILON){return approxZero(u-p,g)}function roundToStep(u,p){return Math.round(u/p)*p}function infinityToMaxNumber(u){return isFinite(u)?u:u<0?-Number.MAX_VALUE:Number.MAX_VALUE}function maxNumberToInfinity(u){return Math.abs(u)<Number.MAX_VALUE?u:u*(1/0)}function smoothDamp(u,p,g,_,y=1/0,m){_=Math.max(1e-4,_);const h=2/_,b=h*m,x=1/(1+b+.48*b*b+.235*b*b*b);let O=u-p;const T=p,E=y*_;O=clamp$1(O,-E,E),p=u-O;const M=(g.value+h*O)*m;g.value=(g.value-h*M)*x;let F=p+(O+M)*x;return T-u>0==F>T&&(F=T,g.value=(F-T)/m),F}function smoothDampVec3(u,p,g,_,y=1/0,m,h){_=Math.max(1e-4,_);const b=2/_,x=b*m,O=1/(1+x+.48*x*x+.235*x*x*x);let T=p.x,E=p.y,M=p.z,F=u.x-T,B=u.y-E,S=u.z-M;const w=T,C=E,D=M,L=y*_,R=L*L,k=F*F+B*B+S*S;if(k>R){const H=Math.sqrt(k);F=F/H*L,B=B/H*L,S=S/H*L}T=u.x-F,E=u.y-B,M=u.z-S;const A=(g.x+b*F)*m,I=(g.y+b*B)*m,P=(g.z+b*S)*m;g.x=(g.x-b*A)*O,g.y=(g.y-b*I)*O,g.z=(g.z-b*P)*O,h.x=T+(F+A)*O,h.y=E+(B+I)*O,h.z=M+(S+P)*O;const G=w-u.x,z=C-u.y,j=D-u.z,N=h.x-w,W=h.y-C,U=h.z-D;return G*N+z*W+j*U>0&&(h.x=w,h.y=C,h.z=D,g.x=(h.x-w)/m,g.y=(h.y-C)/m,g.z=(h.z-D)/m),h}function extractClientCoordFromEvent(u,p){p.set(0,0),u.forEach(g=>{p.x+=g.clientX,p.y+=g.clientY}),p.x/=u.length,p.y/=u.length}function notSupportedInOrthographicCamera(u,p){return isOrthographicCamera$1(u)?(console.warn(`${p} is not supported in OrthographicCamera`),!0):!1}class EventDispatcher{constructor(){this._listeners={}}addEventListener(p,g){const _=this._listeners;_[p]===void 0&&(_[p]=[]),_[p].indexOf(g)===-1&&_[p].push(g)}hasEventListener(p,g){const _=this._listeners;return _[p]!==void 0&&_[p].indexOf(g)!==-1}removeEventListener(p,g){const y=this._listeners[p];if(y!==void 0){const m=y.indexOf(g);m!==-1&&y.splice(m,1)}}removeAllEventListeners(p){if(!p){this._listeners={};return}Array.isArray(this._listeners[p])&&(this._listeners[p].length=0)}dispatchEvent(p){const _=this._listeners[p.type];if(_!==void 0){p.target=this;const y=_.slice(0);for(let m=0,h=y.length;m<h;m++)y[m].call(this,p)}}}const VERSION="2.7.2",TOUCH_DOLLY_FACTOR=1/8,isBrowser=typeof window<"u",isMac=isBrowser&&/Mac/.test(navigator.platform),isPointerEventsNotSupported=!(isBrowser&&"PointerEvent"in window);let THREE,_ORIGIN,_AXIS_Y,_AXIS_Z,_v2,_v3A,_v3B,_v3C,_cameraDirection,_xColumn,_yColumn,_zColumn,_deltaTarget,_deltaOffset,_sphericalA,_sphericalB,_box3A,_box3B,_sphere$2,_quaternionA,_quaternionB,_rotationMatrix,_raycaster,CameraControls$1=class Ee extends EventDispatcher{static install(p){THREE=p.THREE,_ORIGIN=Object.freeze(new THREE.Vector3(0,0,0)),_AXIS_Y=Object.freeze(new THREE.Vector3(0,1,0)),_AXIS_Z=Object.freeze(new THREE.Vector3(0,0,1)),_v2=new THREE.Vector2,_v3A=new THREE.Vector3,_v3B=new THREE.Vector3,_v3C=new THREE.Vector3,_cameraDirection=new THREE.Vector3,_xColumn=new THREE.Vector3,_yColumn=new THREE.Vector3,_zColumn=new THREE.Vector3,_deltaTarget=new THREE.Vector3,_deltaOffset=new THREE.Vector3,_sphericalA=new THREE.Spherical,_sphericalB=new THREE.Spherical,_box3A=new THREE.Box3,_box3B=new THREE.Box3,_sphere$2=new THREE.Sphere,_quaternionA=new THREE.Quaternion,_quaternionB=new THREE.Quaternion,_rotationMatrix=new THREE.Matrix4,_raycaster=new THREE.Raycaster}static get ACTION(){return ACTION}constructor(p,g){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=ACTION.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=DOLLY_DIRECTION.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new THREE.Vector3,this._focalOffsetVelocity=new THREE.Vector3,this._zoomVelocity={value:0},this._truckInternal=(R,k,A)=>{let I,P;if(isPerspectiveCamera(this._camera)){const G=_v3A.copy(this._camera.position).sub(this._target),z=this._camera.getEffectiveFOV()*DEG2RAD,j=G.length()*Math.tan(z*.5);I=this.truckSpeed*R*j/this._elementRect.height,P=this.truckSpeed*k*j/this._elementRect.height}else if(isOrthographicCamera$1(this._camera)){const G=this._camera;I=R*(G.right-G.left)/G.zoom/this._elementRect.width,P=k*(G.top-G.bottom)/G.zoom/this._elementRect.height}else return;this.verticalDragToForward?(A?this.setFocalOffset(this._focalOffsetEnd.x+I,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(I,0,!0),this.forward(-P,!0)):A?this.setFocalOffset(this._focalOffsetEnd.x+I,this._focalOffsetEnd.y+P,this._focalOffsetEnd.z,!0):this.truck(I,P,!0)},this._rotateInternal=(R,k)=>{const A=PI_2*this.azimuthRotateSpeed*R/this._elementRect.height,I=PI_2*this.polarRotateSpeed*k/this._elementRect.height;this.rotate(A,I,!0)},this._dollyInternal=(R,k,A)=>{const I=Math.pow(.95,-R*this.dollySpeed),P=this._sphericalEnd.radius,G=this._sphericalEnd.radius*I,z=clamp$1(G,this.minDistance,this.maxDistance),j=z-G;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(G,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(j,!0),this._dollyToNoClamp(z,!0)):this._dollyToNoClamp(z,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?G:z)-P,this._dollyControlCoord.set(k,A)),this._lastDollyDirection=Math.sign(-R)},this._zoomInternal=(R,k,A)=>{const I=Math.pow(.95,R*this.dollySpeed),P=this._zoom,G=this._zoom*I;this.zoomTo(G,!0),this.dollyToCursor&&(this._changedZoom+=G-P,this._dollyControlCoord.set(k,A))},typeof THREE>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=p,this._yAxisUpSpace=new THREE.Quaternion().setFromUnitVectors(this._camera.up,_AXIS_Y),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=ACTION.NONE,this._target=new THREE.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new THREE.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new THREE.Spherical().setFromVector3(_v3A.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3],this._updateNearPlaneCorners(),this._boundary=new THREE.Box3(new THREE.Vector3(-1/0,-1/0,-1/0),new THREE.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new THREE.Vector2,this.mouseButtons={left:ACTION.ROTATE,middle:ACTION.DOLLY,right:ACTION.TRUCK,wheel:isPerspectiveCamera(this._camera)?ACTION.DOLLY:isOrthographicCamera$1(this._camera)?ACTION.ZOOM:ACTION.NONE},this.touches={one:ACTION.TOUCH_ROTATE,two:isPerspectiveCamera(this._camera)?ACTION.TOUCH_DOLLY_TRUCK:isOrthographicCamera$1(this._camera)?ACTION.TOUCH_ZOOM_TRUCK:ACTION.NONE,three:ACTION.TOUCH_TRUCK};const _=new THREE.Vector2,y=new THREE.Vector2,m=new THREE.Vector2,h=R=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const I=this._domElement.getBoundingClientRect(),P=R.clientX/I.width,G=R.clientY/I.height;if(P<this._interactiveArea.left||P>this._interactiveArea.right||G<this._interactiveArea.top||G>this._interactiveArea.bottom)return}const k=R.pointerType!=="mouse"?null:(R.buttons&MOUSE_BUTTON.LEFT)===MOUSE_BUTTON.LEFT?MOUSE_BUTTON.LEFT:(R.buttons&MOUSE_BUTTON.MIDDLE)===MOUSE_BUTTON.MIDDLE?MOUSE_BUTTON.MIDDLE:(R.buttons&MOUSE_BUTTON.RIGHT)===MOUSE_BUTTON.RIGHT?MOUSE_BUTTON.RIGHT:null;if(k!==null){const I=this._findPointerByMouseButton(k);I&&this._disposePointer(I)}if((R.buttons&MOUSE_BUTTON.LEFT)===MOUSE_BUTTON.LEFT&&this._lockedPointer)return;const A={pointerId:R.pointerId,clientX:R.clientX,clientY:R.clientY,deltaX:0,deltaY:0,mouseButton:k};this._activePointers.push(A),this._domElement.ownerDocument.removeEventListener("pointermove",x,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",T),this._domElement.ownerDocument.addEventListener("pointermove",x,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",T),this._isDragging=!0,S(R)},b=R=>{if(!this._enabled||!this._domElement||this._lockedPointer)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const I=this._domElement.getBoundingClientRect(),P=R.clientX/I.width,G=R.clientY/I.height;if(P<this._interactiveArea.left||P>this._interactiveArea.right||G<this._interactiveArea.top||G>this._interactiveArea.bottom)return}const k=(R.buttons&MOUSE_BUTTON.LEFT)===MOUSE_BUTTON.LEFT?MOUSE_BUTTON.LEFT:(R.buttons&MOUSE_BUTTON.MIDDLE)===MOUSE_BUTTON.MIDDLE?MOUSE_BUTTON.MIDDLE:(R.buttons&MOUSE_BUTTON.RIGHT)===MOUSE_BUTTON.RIGHT?MOUSE_BUTTON.RIGHT:null;if(k!==null){const I=this._findPointerByMouseButton(k);I&&this._disposePointer(I)}const A={pointerId:1,clientX:R.clientX,clientY:R.clientY,deltaX:0,deltaY:0,mouseButton:(R.buttons&MOUSE_BUTTON.LEFT)===MOUSE_BUTTON.LEFT?MOUSE_BUTTON.LEFT:(R.buttons&MOUSE_BUTTON.MIDDLE)===MOUSE_BUTTON.LEFT?MOUSE_BUTTON.MIDDLE:(R.buttons&MOUSE_BUTTON.RIGHT)===MOUSE_BUTTON.LEFT?MOUSE_BUTTON.RIGHT:null};this._activePointers.push(A),this._domElement.ownerDocument.removeEventListener("mousemove",O),this._domElement.ownerDocument.removeEventListener("mouseup",E),this._domElement.ownerDocument.addEventListener("mousemove",O),this._domElement.ownerDocument.addEventListener("mouseup",E),this._isDragging=!0,S(R)},x=R=>{R.cancelable&&R.preventDefault();const k=R.pointerId,A=this._lockedPointer||this._findPointerById(k);if(A){if(A.clientX=R.clientX,A.clientY=R.clientY,A.deltaX=R.movementX,A.deltaY=R.movementY,this._state=0,R.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(R.buttons&MOUSE_BUTTON.LEFT)===MOUSE_BUTTON.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(R.buttons&MOUSE_BUTTON.MIDDLE)===MOUSE_BUTTON.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(R.buttons&MOUSE_BUTTON.RIGHT)===MOUSE_BUTTON.RIGHT&&(this._state=this._state|this.mouseButtons.right);w()}},O=R=>{const k=this._lockedPointer||this._findPointerById(1);k&&(k.clientX=R.clientX,k.clientY=R.clientY,k.deltaX=R.movementX,k.deltaY=R.movementY,this._state=0,(this._lockedPointer||(R.buttons&MOUSE_BUTTON.LEFT)===MOUSE_BUTTON.LEFT)&&(this._state=this._state|this.mouseButtons.left),(R.buttons&MOUSE_BUTTON.MIDDLE)===MOUSE_BUTTON.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(R.buttons&MOUSE_BUTTON.RIGHT)===MOUSE_BUTTON.RIGHT&&(this._state=this._state|this.mouseButtons.right),w())},T=R=>{const k=this._findPointerById(R.pointerId);if(!(k&&k===this._lockedPointer)){if(k&&this._disposePointer(k),R.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=ACTION.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=ACTION.NONE;C()}},E=()=>{const R=this._findPointerById(1);R&&R===this._lockedPointer||(R&&this._disposePointer(R),this._state=ACTION.NONE,C())};let M=-1;const F=R=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===ACTION.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const G=this._domElement.getBoundingClientRect(),z=R.clientX/G.width,j=R.clientY/G.height;if(z<this._interactiveArea.left||z>this._interactiveArea.right||j<this._interactiveArea.top||j>this._interactiveArea.bottom)return}if(R.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===ACTION.ROTATE||this.mouseButtons.wheel===ACTION.TRUCK){const G=performance.now();M-G<1e3&&this._getClientRect(this._elementRect),M=G}const k=isMac?-1:-3,A=R.deltaMode===1?R.deltaY/k:R.deltaY/(k*10),I=this.dollyToCursor?(R.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,P=this.dollyToCursor?(R.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case ACTION.ROTATE:{this._rotateInternal(R.deltaX,R.deltaY),this._isUserControllingRotate=!0;break}case ACTION.TRUCK:{this._truckInternal(R.deltaX,R.deltaY,!1),this._isUserControllingTruck=!0;break}case ACTION.OFFSET:{this._truckInternal(R.deltaX,R.deltaY,!0),this._isUserControllingOffset=!0;break}case ACTION.DOLLY:{this._dollyInternal(-A,I,P),this._isUserControllingDolly=!0;break}case ACTION.ZOOM:{this._zoomInternal(-A,I,P),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},B=R=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===Ee.ACTION.NONE){const k=R instanceof PointerEvent?R.pointerId:(R instanceof MouseEvent,0),A=this._findPointerById(k);A&&this._disposePointer(A),this._domElement.ownerDocument.removeEventListener("pointermove",x,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",T),this._domElement.ownerDocument.removeEventListener("mousemove",O),this._domElement.ownerDocument.removeEventListener("mouseup",E);return}R.preventDefault()}},S=R=>{if(!this._enabled)return;if(extractClientCoordFromEvent(this._activePointers,_v2),this._getClientRect(this._elementRect),_.copy(_v2),y.copy(_v2),this._activePointers.length>=2){const A=_v2.x-this._activePointers[1].clientX,I=_v2.y-this._activePointers[1].clientY,P=Math.sqrt(A*A+I*I);m.set(0,P);const G=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,z=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;y.set(G,z)}if(this._state=0,!R)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in R&&R.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(R.buttons&MOUSE_BUTTON.LEFT)===MOUSE_BUTTON.LEFT&&(this._state=this._state|this.mouseButtons.left),(R.buttons&MOUSE_BUTTON.MIDDLE)===MOUSE_BUTTON.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(R.buttons&MOUSE_BUTTON.RIGHT)===MOUSE_BUTTON.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&ACTION.ROTATE)===ACTION.ROTATE||(this._state&ACTION.TOUCH_ROTATE)===ACTION.TOUCH_ROTATE||(this._state&ACTION.TOUCH_DOLLY_ROTATE)===ACTION.TOUCH_DOLLY_ROTATE||(this._state&ACTION.TOUCH_ZOOM_ROTATE)===ACTION.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&ACTION.TRUCK)===ACTION.TRUCK||(this._state&ACTION.TOUCH_TRUCK)===ACTION.TOUCH_TRUCK||(this._state&ACTION.TOUCH_DOLLY_TRUCK)===ACTION.TOUCH_DOLLY_TRUCK||(this._state&ACTION.TOUCH_ZOOM_TRUCK)===ACTION.TOUCH_ZOOM_TRUCK)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&ACTION.DOLLY)===ACTION.DOLLY||(this._state&ACTION.TOUCH_DOLLY)===ACTION.TOUCH_DOLLY||(this._state&ACTION.TOUCH_DOLLY_TRUCK)===ACTION.TOUCH_DOLLY_TRUCK||(this._state&ACTION.TOUCH_DOLLY_OFFSET)===ACTION.TOUCH_DOLLY_OFFSET||(this._state&ACTION.TOUCH_DOLLY_ROTATE)===ACTION.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&ACTION.ZOOM)===ACTION.ZOOM||(this._state&ACTION.TOUCH_ZOOM)===ACTION.TOUCH_ZOOM||(this._state&ACTION.TOUCH_ZOOM_TRUCK)===ACTION.TOUCH_ZOOM_TRUCK||(this._state&ACTION.TOUCH_ZOOM_OFFSET)===ACTION.TOUCH_ZOOM_OFFSET||(this._state&ACTION.TOUCH_ZOOM_ROTATE)===ACTION.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&ACTION.OFFSET)===ACTION.OFFSET||(this._state&ACTION.TOUCH_OFFSET)===ACTION.TOUCH_OFFSET||(this._state&ACTION.TOUCH_DOLLY_OFFSET)===ACTION.TOUCH_DOLLY_OFFSET||(this._state&ACTION.TOUCH_ZOOM_OFFSET)===ACTION.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},w=()=>{if(!this._enabled)return;extractClientCoordFromEvent(this._activePointers,_v2);const k=this._domElement&&document.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,A=k?-k.deltaX:y.x-_v2.x,I=k?-k.deltaY:y.y-_v2.y;if(y.copy(_v2),((this._state&ACTION.ROTATE)===ACTION.ROTATE||(this._state&ACTION.TOUCH_ROTATE)===ACTION.TOUCH_ROTATE||(this._state&ACTION.TOUCH_DOLLY_ROTATE)===ACTION.TOUCH_DOLLY_ROTATE||(this._state&ACTION.TOUCH_ZOOM_ROTATE)===ACTION.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(A,I),this._isUserControllingRotate=!0),(this._state&ACTION.DOLLY)===ACTION.DOLLY||(this._state&ACTION.ZOOM)===ACTION.ZOOM){const P=this.dollyToCursor?(_.x-this._elementRect.x)/this._elementRect.width*2-1:0,G=this.dollyToCursor?(_.y-this._elementRect.y)/this._elementRect.height*-2+1:0,z=this.dollyDragInverted?-1:1;(this._state&ACTION.DOLLY)===ACTION.DOLLY?(this._dollyInternal(z*I*TOUCH_DOLLY_FACTOR,P,G),this._isUserControllingDolly=!0):(this._zoomInternal(z*I*TOUCH_DOLLY_FACTOR,P,G),this._isUserControllingZoom=!0)}if((this._state&ACTION.TOUCH_DOLLY)===ACTION.TOUCH_DOLLY||(this._state&ACTION.TOUCH_ZOOM)===ACTION.TOUCH_ZOOM||(this._state&ACTION.TOUCH_DOLLY_TRUCK)===ACTION.TOUCH_DOLLY_TRUCK||(this._state&ACTION.TOUCH_ZOOM_TRUCK)===ACTION.TOUCH_ZOOM_TRUCK||(this._state&ACTION.TOUCH_DOLLY_OFFSET)===ACTION.TOUCH_DOLLY_OFFSET||(this._state&ACTION.TOUCH_ZOOM_OFFSET)===ACTION.TOUCH_ZOOM_OFFSET||(this._state&ACTION.TOUCH_DOLLY_ROTATE)===ACTION.TOUCH_DOLLY_ROTATE||(this._state&ACTION.TOUCH_ZOOM_ROTATE)===ACTION.TOUCH_ZOOM_ROTATE){const P=_v2.x-this._activePointers[1].clientX,G=_v2.y-this._activePointers[1].clientY,z=Math.sqrt(P*P+G*G),j=m.y-z;m.set(0,z);const N=this.dollyToCursor?(y.x-this._elementRect.x)/this._elementRect.width*2-1:0,W=this.dollyToCursor?(y.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&ACTION.TOUCH_DOLLY)===ACTION.TOUCH_DOLLY||(this._state&ACTION.TOUCH_DOLLY_ROTATE)===ACTION.TOUCH_DOLLY_ROTATE||(this._state&ACTION.TOUCH_DOLLY_TRUCK)===ACTION.TOUCH_DOLLY_TRUCK||(this._state&ACTION.TOUCH_DOLLY_OFFSET)===ACTION.TOUCH_DOLLY_OFFSET?(this._dollyInternal(j*TOUCH_DOLLY_FACTOR,N,W),this._isUserControllingDolly=!0):(this._zoomInternal(j*TOUCH_DOLLY_FACTOR,N,W),this._isUserControllingZoom=!0)}((this._state&ACTION.TRUCK)===ACTION.TRUCK||(this._state&ACTION.TOUCH_TRUCK)===ACTION.TOUCH_TRUCK||(this._state&ACTION.TOUCH_DOLLY_TRUCK)===ACTION.TOUCH_DOLLY_TRUCK||(this._state&ACTION.TOUCH_ZOOM_TRUCK)===ACTION.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(A,I,!1),this._isUserControllingTruck=!0),((this._state&ACTION.OFFSET)===ACTION.OFFSET||(this._state&ACTION.TOUCH_OFFSET)===ACTION.TOUCH_OFFSET||(this._state&ACTION.TOUCH_DOLLY_OFFSET)===ACTION.TOUCH_DOLLY_OFFSET||(this._state&ACTION.TOUCH_ZOOM_OFFSET)===ACTION.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(A,I,!0),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},C=()=>{extractClientCoordFromEvent(this._activePointers,_v2),y.copy(_v2),(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",x,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",O),this._domElement.ownerDocument.removeEventListener("pointerup",T),this._domElement.ownerDocument.removeEventListener("mouseup",E),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",x,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",T),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",D),this._domElement.ownerDocument.addEventListener("pointerlockerror",L),this._domElement.ownerDocument.addEventListener("pointermove",x,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",T),S())},this.unlockPointer=()=>{this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),document.exitPointerLock(),this.cancel(),this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointerlockchange",D),this._domElement.ownerDocument.removeEventListener("pointerlockerror",L))};const D=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},L=()=>{this.unlockPointer()};this._addAllEventListeners=R=>{this._domElement=R,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",h),isPointerEventsNotSupported&&this._domElement.addEventListener("mousedown",b),this._domElement.addEventListener("pointercancel",T),this._domElement.addEventListener("wheel",F,{passive:!1}),this._domElement.addEventListener("contextmenu",B)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",h),this._domElement.removeEventListener("mousedown",b),this._domElement.removeEventListener("pointercancel",T),this._domElement.removeEventListener("wheel",F,{passive:!1}),this._domElement.removeEventListener("contextmenu",B),this._domElement.ownerDocument.removeEventListener("pointermove",x,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",O),this._domElement.ownerDocument.removeEventListener("pointerup",T),this._domElement.ownerDocument.removeEventListener("mouseup",E),this._domElement.ownerDocument.removeEventListener("pointerlockchange",D),this._domElement.ownerDocument.removeEventListener("pointerlockerror",L))},this.cancel=()=>{this._state!==ACTION.NONE&&(this._state=ACTION.NONE,this._activePointers.length=0,C())},g&&this.connect(g),this.update(0)}get camera(){return this._camera}set camera(p){this._camera=p,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(p){this._enabled=p,this._domElement&&(p?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(p){this._spherical.radius===p&&this._sphericalEnd.radius===p||(this._spherical.radius=p,this._sphericalEnd.radius=p,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(p){this._spherical.theta===p&&this._sphericalEnd.theta===p||(this._spherical.theta=p,this._sphericalEnd.theta=p,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(p){this._spherical.phi===p&&this._sphericalEnd.phi===p||(this._spherical.phi=p,this._sphericalEnd.phi=p,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(p){this._boundaryEnclosesCamera=p,this._needsUpdate=!0}set interactiveArea(p){this._interactiveArea.width=clamp$1(p.width,0,1),this._interactiveArea.height=clamp$1(p.height,0,1),this._interactiveArea.x=clamp$1(p.x,0,1-this._interactiveArea.width),this._interactiveArea.y=clamp$1(p.x,0,1-this._interactiveArea.height)}addEventListener(p,g){super.addEventListener(p,g)}removeEventListener(p,g){super.removeEventListener(p,g)}rotate(p,g,_=!1){return this.rotateTo(this._sphericalEnd.theta+p,this._sphericalEnd.phi+g,_)}rotateAzimuthTo(p,g=!1){return this.rotateTo(p,this._sphericalEnd.phi,g)}rotatePolarTo(p,g=!1){return this.rotateTo(this._sphericalEnd.theta,p,g)}rotateTo(p,g,_=!1){this._isUserControllingRotate=!1;const y=clamp$1(p,this.minAzimuthAngle,this.maxAzimuthAngle),m=clamp$1(g,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=y,this._sphericalEnd.phi=m,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,_||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const h=!_||approxEquals(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&approxEquals(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(h)}dolly(p,g=!1){return this.dollyTo(this._sphericalEnd.radius-p,g)}dollyTo(p,g=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=DOLLY_DIRECTION.NONE,this._changedDolly=0,this._dollyToNoClamp(clamp$1(p,this.minDistance,this.maxDistance),g)}_dollyToNoClamp(p,g=!1){const _=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const h=this._collisionTest(),b=approxEquals(h,this._spherical.radius);if(!(_>p)&&b)return Promise.resolve();this._sphericalEnd.radius=Math.min(p,h)}else this._sphericalEnd.radius=p;this._needsUpdate=!0,g||(this._spherical.radius=this._sphericalEnd.radius);const m=!g||approxEquals(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(m)}dollyInFixed(p,g=!1){this._targetEnd.add(this._getCameraDirection(_cameraDirection).multiplyScalar(p)),g||this._target.copy(this._targetEnd);const _=!g||approxEquals(this._target.x,this._targetEnd.x,this.restThreshold)&&approxEquals(this._target.y,this._targetEnd.y,this.restThreshold)&&approxEquals(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(_)}zoom(p,g=!1){return this.zoomTo(this._zoomEnd+p,g)}zoomTo(p,g=!1){this._isUserControllingZoom=!1,this._zoomEnd=clamp$1(p,this.minZoom,this.maxZoom),this._needsUpdate=!0,g||(this._zoom=this._zoomEnd);const _=!g||approxEquals(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(_)}pan(p,g,_=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(p,g,_)}truck(p,g,_=!1){this._camera.updateMatrix(),_xColumn.setFromMatrixColumn(this._camera.matrix,0),_yColumn.setFromMatrixColumn(this._camera.matrix,1),_xColumn.multiplyScalar(p),_yColumn.multiplyScalar(-g);const y=_v3A.copy(_xColumn).add(_yColumn),m=_v3B.copy(this._targetEnd).add(y);return this.moveTo(m.x,m.y,m.z,_)}forward(p,g=!1){_v3A.setFromMatrixColumn(this._camera.matrix,0),_v3A.crossVectors(this._camera.up,_v3A),_v3A.multiplyScalar(p);const _=_v3B.copy(this._targetEnd).add(_v3A);return this.moveTo(_.x,_.y,_.z,g)}elevate(p,g=!1){return _v3A.copy(this._camera.up).multiplyScalar(p),this.moveTo(this._targetEnd.x+_v3A.x,this._targetEnd.y+_v3A.y,this._targetEnd.z+_v3A.z,g)}moveTo(p,g,_,y=!1){this._isUserControllingTruck=!1;const m=_v3A.set(p,g,_).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,m,this.boundaryFriction),this._needsUpdate=!0,y||this._target.copy(this._targetEnd);const h=!y||approxEquals(this._target.x,this._targetEnd.x,this.restThreshold)&&approxEquals(this._target.y,this._targetEnd.y,this.restThreshold)&&approxEquals(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(h)}lookInDirectionOf(p,g,_,y=!1){const b=_v3A.set(p,g,_).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius);return this.setPosition(b.x,b.y,b.z,y)}fitToBox(p,g,{cover:_=!1,paddingLeft:y=0,paddingRight:m=0,paddingBottom:h=0,paddingTop:b=0}={}){const x=[],O=p.isBox3?_box3A.copy(p):_box3A.setFromObject(p);O.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const T=roundToStep(this._sphericalEnd.theta,PI_HALF),E=roundToStep(this._sphericalEnd.phi,PI_HALF);x.push(this.rotateTo(T,E,g));const M=_v3A.setFromSpherical(this._sphericalEnd).normalize(),F=_quaternionA.setFromUnitVectors(M,_AXIS_Z),B=approxEquals(Math.abs(M.y),1);B&&F.multiply(_quaternionB.setFromAxisAngle(_AXIS_Y,T)),F.multiply(this._yAxisUpSpaceInverse);const S=_box3B.makeEmpty();_v3B.copy(O.min).applyQuaternion(F),S.expandByPoint(_v3B),_v3B.copy(O.min).setX(O.max.x).applyQuaternion(F),S.expandByPoint(_v3B),_v3B.copy(O.min).setY(O.max.y).applyQuaternion(F),S.expandByPoint(_v3B),_v3B.copy(O.max).setZ(O.min.z).applyQuaternion(F),S.expandByPoint(_v3B),_v3B.copy(O.min).setZ(O.max.z).applyQuaternion(F),S.expandByPoint(_v3B),_v3B.copy(O.max).setY(O.min.y).applyQuaternion(F),S.expandByPoint(_v3B),_v3B.copy(O.max).setX(O.min.x).applyQuaternion(F),S.expandByPoint(_v3B),_v3B.copy(O.max).applyQuaternion(F),S.expandByPoint(_v3B),S.min.x-=y,S.min.y-=h,S.max.x+=m,S.max.y+=b,F.setFromUnitVectors(_AXIS_Z,M),B&&F.premultiply(_quaternionB.invert()),F.premultiply(this._yAxisUpSpace);const w=S.getSize(_v3A),C=S.getCenter(_v3B).applyQuaternion(F);if(isPerspectiveCamera(this._camera)){const D=this.getDistanceToFitBox(w.x,w.y,w.z,_);x.push(this.moveTo(C.x,C.y,C.z,g)),x.push(this.dollyTo(D,g)),x.push(this.setFocalOffset(0,0,0,g))}else if(isOrthographicCamera$1(this._camera)){const D=this._camera,L=D.right-D.left,R=D.top-D.bottom,k=_?Math.max(L/w.x,R/w.y):Math.min(L/w.x,R/w.y);x.push(this.moveTo(C.x,C.y,C.z,g)),x.push(this.zoomTo(k,g)),x.push(this.setFocalOffset(0,0,0,g))}return Promise.all(x)}fitToSphere(p,g){const _=[],m=p instanceof THREE.Sphere?_sphere$2.copy(p):Ee.createBoundingSphere(p,_sphere$2);if(_.push(this.moveTo(m.center.x,m.center.y,m.center.z,g)),isPerspectiveCamera(this._camera)){const h=this.getDistanceToFitSphere(m.radius);_.push(this.dollyTo(h,g))}else if(isOrthographicCamera$1(this._camera)){const h=this._camera.right-this._camera.left,b=this._camera.top-this._camera.bottom,x=2*m.radius,O=Math.min(h/x,b/x);_.push(this.zoomTo(O,g))}return _.push(this.setFocalOffset(0,0,0,g)),Promise.all(_)}setLookAt(p,g,_,y,m,h,b=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=DOLLY_DIRECTION.NONE,this._changedDolly=0;const x=_v3B.set(y,m,h),O=_v3A.set(p,g,_);this._targetEnd.copy(x),this._sphericalEnd.setFromVector3(O.sub(x).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,b||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const T=!b||approxEquals(this._target.x,this._targetEnd.x,this.restThreshold)&&approxEquals(this._target.y,this._targetEnd.y,this.restThreshold)&&approxEquals(this._target.z,this._targetEnd.z,this.restThreshold)&&approxEquals(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&approxEquals(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&approxEquals(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(T)}lerpLookAt(p,g,_,y,m,h,b,x,O,T,E,M,F,B=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=DOLLY_DIRECTION.NONE,this._changedDolly=0;const S=_v3A.set(y,m,h),w=_v3B.set(p,g,_);_sphericalA.setFromVector3(w.sub(S).applyQuaternion(this._yAxisUpSpace));const C=_v3C.set(T,E,M),D=_v3B.set(b,x,O);_sphericalB.setFromVector3(D.sub(C).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(S.lerp(C,F));const L=_sphericalB.theta-_sphericalA.theta,R=_sphericalB.phi-_sphericalA.phi,k=_sphericalB.radius-_sphericalA.radius;this._sphericalEnd.set(_sphericalA.radius+k*F,_sphericalA.phi+R*F,_sphericalA.theta+L*F),this.normalizeRotations(),this._needsUpdate=!0,B||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const A=!B||approxEquals(this._target.x,this._targetEnd.x,this.restThreshold)&&approxEquals(this._target.y,this._targetEnd.y,this.restThreshold)&&approxEquals(this._target.z,this._targetEnd.z,this.restThreshold)&&approxEquals(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&approxEquals(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&approxEquals(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(A)}setPosition(p,g,_,y=!1){return this.setLookAt(p,g,_,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,y)}setTarget(p,g,_,y=!1){const m=this.getPosition(_v3A),h=this.setLookAt(m.x,m.y,m.z,p,g,_,y);return this._sphericalEnd.phi=clamp$1(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),h}setFocalOffset(p,g,_,y=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(p,g,_),this._needsUpdate=!0,y||this._focalOffset.copy(this._focalOffsetEnd);const m=!y||approxEquals(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&approxEquals(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&approxEquals(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(m)}setOrbitPoint(p,g,_){this._camera.updateMatrixWorld(),_xColumn.setFromMatrixColumn(this._camera.matrixWorldInverse,0),_yColumn.setFromMatrixColumn(this._camera.matrixWorldInverse,1),_zColumn.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const y=_v3A.set(p,g,_),m=y.distanceTo(this._camera.position),h=y.sub(this._camera.position);_xColumn.multiplyScalar(h.x),_yColumn.multiplyScalar(h.y),_zColumn.multiplyScalar(h.z),_v3A.copy(_xColumn).add(_yColumn).add(_zColumn),_v3A.z=_v3A.z+m,this.dollyTo(m,!1),this.setFocalOffset(-_v3A.x,_v3A.y,-_v3A.z,!1),this.moveTo(p,g,_,!1)}setBoundary(p){if(!p){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(p),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(p,g,_,y){if(p===null){this._viewport=null;return}this._viewport=this._viewport||new THREE.Vector4,typeof p=="number"?this._viewport.set(p,g,_,y):this._viewport.copy(p)}getDistanceToFitBox(p,g,_,y=!1){if(notSupportedInOrthographicCamera(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const m=p/g,h=this._camera.getEffectiveFOV()*DEG2RAD,b=this._camera.aspect;return((y?m>b:m<b)?g:p/b)*.5/Math.tan(h*.5)+_*.5}getDistanceToFitSphere(p){if(notSupportedInOrthographicCamera(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const g=this._camera.getEffectiveFOV()*DEG2RAD,_=Math.atan(Math.tan(g*.5)*this._camera.aspect)*2,y=1<this._camera.aspect?g:_;return p/Math.sin(y*.5)}getTarget(p,g=!0){return(p&&p.isVector3?p:new THREE.Vector3).copy(g?this._targetEnd:this._target)}getPosition(p,g=!0){return(p&&p.isVector3?p:new THREE.Vector3).setFromSpherical(g?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(g?this._targetEnd:this._target)}getSpherical(p,g=!0){return(p&&p instanceof THREE.Spherical?p:new THREE.Spherical).copy(g?this._sphericalEnd:this._spherical)}getFocalOffset(p,g=!0){return(p&&p.isVector3?p:new THREE.Vector3).copy(g?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%PI_2,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=PI_2),this._spherical.theta+=PI_2*Math.round((this._sphericalEnd.theta-this._spherical.theta)/PI_2)}reset(p=!1){if(!approxEquals(this._camera.up.x,this._cameraUp0.x)||!approxEquals(this._camera.up.y,this._cameraUp0.y)||!approxEquals(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const _=this.getPosition(_v3A);this.updateCameraUp(),this.setPosition(_.x,_.y,_.z)}const g=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,p),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,p),this.zoomTo(this._zoom0,p)];return Promise.all(g)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,_AXIS_Y),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const p=_v3A.subVectors(this._target,this._camera.position).normalize(),g=_v3B.crossVectors(p,this._camera.up);this._camera.up.crossVectors(g,p).normalize(),this._camera.updateMatrixWorld();const _=this.getPosition(_v3A);this.updateCameraUp(),this.setPosition(_.x,_.y,_.z)}update(p){const g=this._sphericalEnd.theta-this._spherical.theta,_=this._sphericalEnd.phi-this._spherical.phi,y=this._sphericalEnd.radius-this._spherical.radius,m=_deltaTarget.subVectors(this._targetEnd,this._target),h=_deltaOffset.subVectors(this._focalOffsetEnd,this._focalOffset),b=this._zoomEnd-this._zoom;if(approxZero(g))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const E=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=smoothDamp(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,E,1/0,p),this._needsUpdate=!0}if(approxZero(_))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const E=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=smoothDamp(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,E,1/0,p),this._needsUpdate=!0}if(approxZero(y))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const E=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=smoothDamp(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,E,this.maxSpeed,p),this._needsUpdate=!0}if(approxZero(m.x)&&approxZero(m.y)&&approxZero(m.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const E=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;smoothDampVec3(this._target,this._targetEnd,this._targetVelocity,E,this.maxSpeed,p,this._target),this._needsUpdate=!0}if(approxZero(h.x)&&approxZero(h.y)&&approxZero(h.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const E=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;smoothDampVec3(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,E,this.maxSpeed,p,this._focalOffset),this._needsUpdate=!0}if(approxZero(b))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const E=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=smoothDamp(this._zoom,this._zoomEnd,this._zoomVelocity,E,1/0,p)}if(this.dollyToCursor){if(isPerspectiveCamera(this._camera)&&this._changedDolly!==0){const E=this._spherical.radius-this._lastDistance,M=this._camera,F=this._getCameraDirection(_cameraDirection),B=_v3A.copy(F).cross(M.up).normalize();B.lengthSq()===0&&(B.x=1);const S=_v3B.crossVectors(B,F),w=this._sphericalEnd.radius*Math.tan(M.getEffectiveFOV()*DEG2RAD*.5),D=(this._sphericalEnd.radius-E-this._sphericalEnd.radius)/this._sphericalEnd.radius,L=_v3C.copy(this._targetEnd).add(B.multiplyScalar(this._dollyControlCoord.x*w*M.aspect)).add(S.multiplyScalar(this._dollyControlCoord.y*w)),R=_v3A.copy(this._targetEnd).lerp(L,D),k=this._lastDollyDirection===DOLLY_DIRECTION.IN&&this._spherical.radius<=this.minDistance,A=this._lastDollyDirection===DOLLY_DIRECTION.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(k||A)){this._sphericalEnd.radius-=E,this._spherical.radius-=E;const P=_v3B.copy(F).multiplyScalar(-E);R.add(P)}this._boundary.clampPoint(R,R);const I=_v3B.subVectors(R,this._targetEnd);this._targetEnd.copy(R),this._target.add(I),this._changedDolly-=E,approxZero(this._changedDolly)&&(this._changedDolly=0)}else if(isOrthographicCamera$1(this._camera)&&this._changedZoom!==0){const E=this._zoom-this._lastZoom,M=this._camera,F=_v3A.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(M.near+M.far)/(M.near-M.far)).unproject(M),B=_v3B.set(0,0,-1).applyQuaternion(M.quaternion),S=_v3C.copy(F).add(B.multiplyScalar(-F.dot(M.up))),C=-(this._zoom-E-this._zoom)/this._zoom,D=this._getCameraDirection(_cameraDirection),L=this._targetEnd.dot(D),R=_v3A.copy(this._targetEnd).lerp(S,C),k=R.dot(D),A=D.multiplyScalar(k-L);R.sub(A),this._boundary.clampPoint(R,R);const I=_v3B.subVectors(R,this._targetEnd);this._targetEnd.copy(R),this._target.add(I),this._changedZoom-=E,approxZero(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0);const x=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,x),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!approxZero(this._focalOffset.x)||!approxZero(this._focalOffset.y)||!approxZero(this._focalOffset.z))&&(this._camera.updateMatrixWorld(),_xColumn.setFromMatrixColumn(this._camera.matrix,0),_yColumn.setFromMatrixColumn(this._camera.matrix,1),_zColumn.setFromMatrixColumn(this._camera.matrix,2),_xColumn.multiplyScalar(this._focalOffset.x),_yColumn.multiplyScalar(-this._focalOffset.y),_zColumn.multiplyScalar(this._focalOffset.z),_v3A.copy(_xColumn).add(_yColumn).add(_zColumn),this._camera.position.add(_v3A)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),_v3A.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const T=this._needsUpdate;return T&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):T?(this.dispatchEvent({type:"update"}),approxZero(g,this.restThreshold)&&approxZero(_,this.restThreshold)&&approxZero(y,this.restThreshold)&&approxZero(m.x,this.restThreshold)&&approxZero(m.y,this.restThreshold)&&approxZero(m.z,this.restThreshold)&&approxZero(h.x,this.restThreshold)&&approxZero(h.y,this.restThreshold)&&approxZero(h.z,this.restThreshold)&&approxZero(b,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!T&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=T,this._needsUpdate=!1,T}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:infinityToMaxNumber(this.maxDistance),minZoom:this.minZoom,maxZoom:infinityToMaxNumber(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:infinityToMaxNumber(this.maxPolarAngle),minAzimuthAngle:infinityToMaxNumber(this.minAzimuthAngle),maxAzimuthAngle:infinityToMaxNumber(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:_v3A.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(p,g=!1){const _=JSON.parse(p);this.enabled=_.enabled,this.minDistance=_.minDistance,this.maxDistance=maxNumberToInfinity(_.maxDistance),this.minZoom=_.minZoom,this.maxZoom=maxNumberToInfinity(_.maxZoom),this.minPolarAngle=_.minPolarAngle,this.maxPolarAngle=maxNumberToInfinity(_.maxPolarAngle),this.minAzimuthAngle=maxNumberToInfinity(_.minAzimuthAngle),this.maxAzimuthAngle=maxNumberToInfinity(_.maxAzimuthAngle),this.smoothTime=_.smoothTime,this.draggingSmoothTime=_.draggingSmoothTime,this.dollySpeed=_.dollySpeed,this.truckSpeed=_.truckSpeed,this.dollyToCursor=_.dollyToCursor,this.verticalDragToForward=_.verticalDragToForward,this._target0.fromArray(_.target0),this._position0.fromArray(_.position0),this._zoom0=_.zoom0,this._focalOffset0.fromArray(_.focalOffset0),this.moveTo(_.target[0],_.target[1],_.target[2],g),_sphericalA.setFromVector3(_v3A.fromArray(_.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(_sphericalA.theta,_sphericalA.phi,g),this.dollyTo(_sphericalA.radius,g),this.zoomTo(_.zoom,g),this.setFocalOffset(_.focalOffset[0],_.focalOffset[1],_.focalOffset[2],g),this._needsUpdate=!0}connect(p){if(this._domElement){console.warn("camera-controls is already connected.");return}p.setAttribute("data-camera-controls-version",VERSION),this._addAllEventListeners(p),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(p){return p.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(p){return this._getTargetDirection(p).negate()}_findPointerById(p){return this._activePointers.find(g=>g.pointerId===p)}_findPointerByMouseButton(p){return this._activePointers.find(g=>g.mouseButton===p)}_disposePointer(p){this._activePointers.splice(this._activePointers.indexOf(p),1)}_encloseToBoundary(p,g,_){const y=g.lengthSq();if(y===0)return p;const m=_v3B.copy(g).add(p),b=this._boundary.clampPoint(m,_v3C).sub(m),x=b.lengthSq();if(x===0)return p.add(g);if(x===y)return p;if(_===0)return p.add(g).add(b);{const O=1+_*x/g.dot(b);return p.add(_v3B.copy(g).multiplyScalar(O)).add(b.multiplyScalar(1-_))}}_updateNearPlaneCorners(){if(isPerspectiveCamera(this._camera)){const p=this._camera,g=p.near,_=p.getEffectiveFOV()*DEG2RAD,y=Math.tan(_*.5)*g,m=y*p.aspect;this._nearPlaneCorners[0].set(-m,-y,0),this._nearPlaneCorners[1].set(m,-y,0),this._nearPlaneCorners[2].set(m,y,0),this._nearPlaneCorners[3].set(-m,y,0)}else if(isOrthographicCamera$1(this._camera)){const p=this._camera,g=1/p.zoom,_=p.left*g,y=p.right*g,m=p.top*g,h=p.bottom*g;this._nearPlaneCorners[0].set(_,m,0),this._nearPlaneCorners[1].set(y,m,0),this._nearPlaneCorners[2].set(y,h,0),this._nearPlaneCorners[3].set(_,h,0)}}_collisionTest(){let p=1/0;if(!(this.colliderMeshes.length>=1)||notSupportedInOrthographicCamera(this._camera,"_collisionTest"))return p;const _=this._getTargetDirection(_cameraDirection);_rotationMatrix.lookAt(_ORIGIN,_,this._camera.up);for(let y=0;y<4;y++){const m=_v3B.copy(this._nearPlaneCorners[y]);m.applyMatrix4(_rotationMatrix);const h=_v3C.addVectors(this._target,m);_raycaster.set(h,_),_raycaster.far=this._spherical.radius+1;const b=_raycaster.intersectObjects(this.colliderMeshes);b.length!==0&&b[0].distance<p&&(p=b[0].distance)}return p}_getClientRect(p){if(!this._domElement)return;const g=this._domElement.getBoundingClientRect();return p.x=g.left,p.y=g.top,this._viewport?(p.x+=this._viewport.x,p.y+=g.height-this._viewport.w-this._viewport.y,p.width=this._viewport.z,p.height=this._viewport.w):(p.width=g.width,p.height=g.height),p}_createOnRestPromise(p){return p?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(g=>{const _=()=>{this.removeEventListener("rest",_),g()};this.addEventListener("rest",_)}))}_addAllEventListeners(p){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(p){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(p){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(p,g=new THREE.Sphere){const _=g,y=_.center;_box3A.makeEmpty(),p.traverseVisible(h=>{h.isMesh&&_box3A.expandByObject(h)}),_box3A.getCenter(y);let m=0;return p.traverseVisible(h=>{if(!h.isMesh)return;const b=h,x=b.geometry.clone();x.applyMatrix4(b.matrixWorld);const T=x.attributes.position;for(let E=0,M=T.count;E<M;E++)_v3A.fromBufferAttribute(T,E),m=Math.max(m,y.distanceToSquared(_v3A))}),_.radius=Math.sqrt(m),_}};const CameraControls=reactExports.forwardRef((u,p)=>{reactExports.useMemo(()=>{CameraControls$1.install({THREE:THREE$1}),extend({CameraControlsImpl:CameraControls$1})},[]);const{camera:g,domElement:_,makeDefault:y,onStart:m,onEnd:h,onChange:b,regress:x,...O}=u,T=useThree(k=>k.camera),E=useThree(k=>k.gl),M=useThree(k=>k.invalidate),F=useThree(k=>k.events),B=useThree(k=>k.setEvents),S=useThree(k=>k.set),w=useThree(k=>k.get),C=useThree(k=>k.performance),D=g||T,L=_||F.connected||E.domElement,R=reactExports.useMemo(()=>new CameraControls$1(D),[D]);return useFrame((k,A)=>{R.enabled&&R.update(A)},-1),reactExports.useEffect(()=>(R.connect(L),()=>void R.disconnect()),[L,R]),reactExports.useEffect(()=>{const k=P=>{M(),x&&C.regress(),b&&b(P)},A=P=>{m&&m(P)},I=P=>{h&&h(P)};return R.addEventListener("update",k),R.addEventListener("controlstart",A),R.addEventListener("controlend",I),R.addEventListener("control",k),R.addEventListener("transitionstart",k),R.addEventListener("wake",k),()=>{R.removeEventListener("update",k),R.removeEventListener("controlstart",A),R.removeEventListener("controlend",I),R.removeEventListener("control",k),R.removeEventListener("transitionstart",k),R.removeEventListener("wake",k)}},[R,m,h,M,B,x,b]),reactExports.useEffect(()=>{if(y){const k=w().controls;return S({controls:R}),()=>S({controls:k})}},[y,R]),reactExports.createElement("primitive",_extends({ref:p,object:R},O))}),defaultLookAt=new Vector3(0,0,-1),normal=function(){const u=new Vector3,p=new Vector3,g=new Vector3,_=new Vector3,y=new Vector3;return function(m,h,b,x){return u.copy(m),p.copy(h),g.copy(b),_.copy(p).sub(u),y.copy(g).sub(u),x.crossVectors(y,_).normalize()}}();function mean$1(u,p){return u.clone().add(p).multiplyScalar(.5)}const Facemesh=reactExports.forwardRef(({points:u=FacemeshDatas.SAMPLE_FACELANDMARKER_RESULT.faceLandmarks[0],face:p,facialTransformationMatrix:g,faceBlendshapes:_,offset:y,offsetScalar:m=80,width:h,height:b,depth:x=1,verticalTri:O=[159,386,152],origin:T,eyes:E=!0,eyesAsOrigin:M=!1,debug:F=!1,children:B,...S},w)=>{var C;p&&(u=p.keypoints,console.warn("Facemesh `face` prop is deprecated: use `points` instead"));const D=reactExports.useRef(null),L=reactExports.useRef(null),R=reactExports.useRef(null),k=reactExports.useRef(null),A=reactExports.useRef(null),I=reactExports.useRef(null),P=reactExports.useRef(null),[G]=reactExports.useState(()=>new Vector3),[z]=reactExports.useState(()=>new Object3D),[j]=reactExports.useState(()=>new Quaternion),[N]=reactExports.useState(()=>new Vector3),{invalidate:W}=useThree();reactExports.useEffect(()=>{var Y;(Y=A.current)==null||Y.geometry.setIndex(FacemeshDatas.TRIANGULATION)},[]);const[U]=reactExports.useState(()=>new Vector3);reactExports.useEffect(()=>{var Y,q;const K=(Y=A.current)==null?void 0:Y.geometry;if(!K)return;if(K.setFromPoints(u),K.setDrawRange(0,FacemeshDatas.TRIANGULATION.length),g)if(z.matrix.fromArray(g.data),z.matrix.decompose(z.position,z.quaternion,z.scale),z.rotation.y*=-1,z.rotation.z*=-1,j.setFromEuler(z.rotation),y){var Q;z.position.y*=-1,z.position.z*=-1,(Q=D.current)==null||Q.position.copy(z.position.divideScalar(m))}else{var X;(X=D.current)==null||X.position.set(0,0,0)}else normal(u[O[0]],u[O[1]],u[O[2]],G),j.setFromUnitVectors(defaultLookAt,G);const re=j.clone().invert();if(K.computeBoundingBox(),F&&W(),K.center(),K.applyQuaternion(re),(q=k.current)==null||q.setRotationFromQuaternion(j),E){if(!_)console.warn("Facemesh `eyes` option only works if `faceBlendshapes` is provided: skipping.");else if(I.current&&P.current&&R.current)if(M){const Z=I.current._computeSphere(K),ee=P.current._computeSphere(K);T=mean$1(Z.center,ee.center).negate(),I.current._update(K,_,Z),P.current._update(K,_,ee)}else I.current._update(K,_),P.current._update(K,_)}if(R.current){if(T!==void 0)if(typeof T=="number"){const Z=K.getAttribute("position");N.set(-Z.getX(T),-Z.getY(T),-Z.getZ(T))}else T.isVector3&&N.copy(T);else N.setScalar(0);R.current.position.copy(N)}if(L.current){let Z=1;(h||b||x)&&(K.boundingBox.getSize(U),h&&(Z=h/U.x),b&&(Z=b/U.y),x&&(Z=x/U.z)),L.current.scale.setScalar(Z!==1?Z:1)}K.computeVertexNormals(),K.attributes.position.needsUpdate=!0},[u,g,_,z,y,m,h,b,x,O,T,E,F,W,G,j,U,N]);const H=reactExports.useMemo(()=>({outerRef:k,meshRef:A,eyeRightRef:I,eyeLeftRef:P}),[]);reactExports.useImperativeHandle(w,()=>H,[H]);const[$]=reactExports.useState(()=>new Vector3),V=(C=A.current)==null?void 0:C.geometry.boundingBox,J=(V==null?void 0:V.getSize($).z)||1;return reactExports.createElement("group",S,reactExports.createElement("group",{ref:D},reactExports.createElement("group",{ref:k},reactExports.createElement("group",{ref:L},F?reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("axesHelper",{args:[J]}),reactExports.createElement(Line,{points:[[0,0,0],[0,0,-J]],color:65535})):null,reactExports.createElement("group",{ref:R},E&&_&&reactExports.createElement("group",{name:"eyes"},reactExports.createElement(FacemeshEye,{side:"left",ref:I,debug:F}),reactExports.createElement(FacemeshEye,{side:"right",ref:P,debug:F})),reactExports.createElement("mesh",{ref:A,name:"face"},B,F?reactExports.createElement(reactExports.Fragment,null,V&&reactExports.createElement("box3Helper",{args:[V]})):null))))))}),FacemeshEyeDefaults={contourLandmarks:{right:[33,133,159,145,153],left:[263,362,386,374,380]},blendshapes:{right:[14,16,18,12],left:[13,15,17,11]},color:{right:"red",left:"#00ff00"},fov:{horizontal:100,vertical:90}},FacemeshEye=reactExports.forwardRef(({side:u,debug:p=!0},g)=>{const _=reactExports.useRef(null),y=reactExports.useRef(null),[m]=reactExports.useState(()=>new Sphere),h=reactExports.useCallback(E=>{const M=E.getAttribute("position"),B=FacemeshEyeDefaults.contourLandmarks[u].map(S=>new Vector3(M.getX(S),M.getY(S),M.getZ(S)));return m.center.set(0,0,0),B.forEach(S=>m.center.add(S)),m.center.divideScalar(B.length),m.radius=B[0].sub(B[1]).length()/2,m},[m,u]),[b]=reactExports.useState(()=>new Euler),x=reactExports.useCallback((E,M,F)=>{if(_.current){var B;(B=F)!==null&&B!==void 0||(F=h(E)),_.current.position.copy(F.center),_.current.scale.setScalar(F.radius)}if(M&&y.current){const S=FacemeshEyeDefaults.blendshapes[u],w=M.categories[S[0]].score,C=M.categories[S[1]].score,D=M.categories[S[2]].score,L=M.categories[S[3]].score,R=FacemeshEyeDefaults.fov.horizontal*MathUtils.DEG2RAD,k=FacemeshEyeDefaults.fov.vertical*MathUtils.DEG2RAD,A=R*.5*(L-D),I=k*.5*(w-C)*(u==="left"?1:-1);b.set(A,I,0),y.current.setRotationFromEuler(b)}},[h,u,b]),O=reactExports.useMemo(()=>({eyeMeshRef:_,irisDirRef:y,_computeSphere:h,_update:x}),[h,x]);reactExports.useImperativeHandle(g,()=>O,[O]);const T=FacemeshEyeDefaults.color[u];return reactExports.createElement("group",null,reactExports.createElement("group",{ref:_},p&&reactExports.createElement("axesHelper",null),reactExports.createElement("group",{ref:y},reactExports.createElement(reactExports.Fragment,null,p&&reactExports.createElement(Line,{points:[[0,0,0],[0,0,-2]],lineWidth:1,color:T})))))}),FacemeshDatas={TRIANGULATION:[127,34,139,11,0,37,232,231,120,72,37,39,128,121,47,232,121,128,104,69,67,175,171,148,157,154,155,118,50,101,73,39,40,9,151,108,48,115,131,194,204,211,74,40,185,80,42,183,40,92,186,230,229,118,202,212,214,83,18,17,76,61,146,160,29,30,56,157,173,106,204,194,135,214,192,203,165,98,21,71,68,51,45,4,144,24,23,77,146,91,205,50,187,201,200,18,91,106,182,90,91,181,85,84,17,206,203,36,148,171,140,92,40,39,193,189,244,159,158,28,247,246,161,236,3,196,54,68,104,193,168,8,117,228,31,189,193,55,98,97,99,126,47,100,166,79,218,155,154,26,209,49,131,135,136,150,47,126,217,223,52,53,45,51,134,211,170,140,67,69,108,43,106,91,230,119,120,226,130,247,63,53,52,238,20,242,46,70,156,78,62,96,46,53,63,143,34,227,173,155,133,123,117,111,44,125,19,236,134,51,216,206,205,154,153,22,39,37,167,200,201,208,36,142,100,57,212,202,20,60,99,28,158,157,35,226,113,160,159,27,204,202,210,113,225,46,43,202,204,62,76,77,137,123,116,41,38,72,203,129,142,64,98,240,49,102,64,41,73,74,212,216,207,42,74,184,169,170,211,170,149,176,105,66,69,122,6,168,123,147,187,96,77,90,65,55,107,89,90,180,101,100,120,63,105,104,93,137,227,15,86,85,129,102,49,14,87,86,55,8,9,100,47,121,145,23,22,88,89,179,6,122,196,88,95,96,138,172,136,215,58,172,115,48,219,42,80,81,195,3,51,43,146,61,171,175,199,81,82,38,53,46,225,144,163,110,246,33,7,52,65,66,229,228,117,34,127,234,107,108,69,109,108,151,48,64,235,62,78,191,129,209,126,111,35,143,163,161,246,117,123,50,222,65,52,19,125,141,221,55,65,3,195,197,25,7,33,220,237,44,70,71,139,122,193,245,247,130,33,71,21,162,153,158,159,170,169,150,188,174,196,216,186,92,144,160,161,2,97,167,141,125,241,164,167,37,72,38,12,145,159,160,38,82,13,63,68,71,226,35,111,158,153,154,101,50,205,206,92,165,209,198,217,165,167,97,220,115,218,133,112,243,239,238,241,214,135,169,190,173,133,171,208,32,125,44,237,86,87,178,85,86,179,84,85,180,83,84,181,201,83,182,137,93,132,76,62,183,61,76,184,57,61,185,212,57,186,214,207,187,34,143,156,79,239,237,123,137,177,44,1,4,201,194,32,64,102,129,213,215,138,59,166,219,242,99,97,2,94,141,75,59,235,24,110,228,25,130,226,23,24,229,22,23,230,26,22,231,112,26,232,189,190,243,221,56,190,28,56,221,27,28,222,29,27,223,30,29,224,247,30,225,238,79,20,166,59,75,60,75,240,147,177,215,20,79,166,187,147,213,112,233,244,233,128,245,128,114,188,114,217,174,131,115,220,217,198,236,198,131,134,177,132,58,143,35,124,110,163,7,228,110,25,356,389,368,11,302,267,452,350,349,302,303,269,357,343,277,452,453,357,333,332,297,175,152,377,384,398,382,347,348,330,303,304,270,9,336,337,278,279,360,418,262,431,304,408,409,310,415,407,270,409,410,450,348,347,422,430,434,313,314,17,306,307,375,387,388,260,286,414,398,335,406,418,364,367,416,423,358,327,251,284,298,281,5,4,373,374,253,307,320,321,425,427,411,421,313,18,321,405,406,320,404,405,315,16,17,426,425,266,377,400,369,322,391,269,417,465,464,386,257,258,466,260,388,456,399,419,284,332,333,417,285,8,346,340,261,413,441,285,327,460,328,355,371,329,392,439,438,382,341,256,429,420,360,364,394,379,277,343,437,443,444,283,275,440,363,431,262,369,297,338,337,273,375,321,450,451,349,446,342,467,293,334,282,458,461,462,276,353,383,308,324,325,276,300,293,372,345,447,382,398,362,352,345,340,274,1,19,456,248,281,436,427,425,381,256,252,269,391,393,200,199,428,266,330,329,287,273,422,250,462,328,258,286,384,265,353,342,387,259,257,424,431,430,342,353,276,273,335,424,292,325,307,366,447,345,271,303,302,423,266,371,294,455,460,279,278,294,271,272,304,432,434,427,272,407,408,394,430,431,395,369,400,334,333,299,351,417,168,352,280,411,325,319,320,295,296,336,319,403,404,330,348,349,293,298,333,323,454,447,15,16,315,358,429,279,14,15,316,285,336,9,329,349,350,374,380,252,318,402,403,6,197,419,318,319,325,367,364,365,435,367,397,344,438,439,272,271,311,195,5,281,273,287,291,396,428,199,311,271,268,283,444,445,373,254,339,263,466,249,282,334,296,449,347,346,264,447,454,336,296,299,338,10,151,278,439,455,292,407,415,358,371,355,340,345,372,390,249,466,346,347,280,442,443,282,19,94,370,441,442,295,248,419,197,263,255,359,440,275,274,300,383,368,351,412,465,263,467,466,301,368,389,380,374,386,395,378,379,412,351,419,436,426,322,373,390,388,2,164,393,370,462,461,164,0,267,302,11,12,374,373,387,268,12,13,293,300,301,446,261,340,385,384,381,330,266,425,426,423,391,429,355,437,391,327,326,440,457,438,341,382,362,459,457,461,434,430,394,414,463,362,396,369,262,354,461,457,316,403,402,315,404,403,314,405,404,313,406,405,421,418,406,366,401,361,306,408,407,291,409,408,287,410,409,432,436,410,434,416,411,264,368,383,309,438,457,352,376,401,274,275,4,421,428,262,294,327,358,433,416,367,289,455,439,462,370,326,2,326,370,305,460,455,254,449,448,255,261,446,253,450,449,252,451,450,256,452,451,341,453,452,413,464,463,441,413,414,258,442,441,257,443,442,259,444,443,260,445,444,467,342,445,459,458,250,289,392,290,290,328,460,376,433,435,250,290,392,411,416,433,341,463,464,453,464,465,357,465,412,343,412,399,360,363,440,437,399,456,420,456,363,401,435,288,372,383,353,339,255,249,448,261,255,133,243,190,133,155,112,33,246,247,33,130,25,398,384,286,362,398,414,362,463,341,263,359,467,263,249,255,466,467,260,75,60,166,238,239,79,162,127,139,72,11,37,121,232,120,73,72,39,114,128,47,233,232,128,103,104,67,152,175,148,173,157,155,119,118,101,74,73,40,107,9,108,49,48,131,32,194,211,184,74,185,191,80,183,185,40,186,119,230,118,210,202,214,84,83,17,77,76,146,161,160,30,190,56,173,182,106,194,138,135,192,129,203,98,54,21,68,5,51,4,145,144,23,90,77,91,207,205,187,83,201,18,181,91,182,180,90,181,16,85,17,205,206,36,176,148,140,165,92,39,245,193,244,27,159,28,30,247,161,174,236,196,103,54,104,55,193,8,111,117,31,221,189,55,240,98,99,142,126,100,219,166,218,112,155,26,198,209,131,169,135,150,114,47,217,224,223,53,220,45,134,32,211,140,109,67,108,146,43,91,231,230,120,113,226,247,105,63,52,241,238,242,124,46,156,95,78,96,70,46,63,116,143,227,116,123,111,1,44,19,3,236,51,207,216,205,26,154,22,165,39,167,199,200,208,101,36,100,43,57,202,242,20,99,56,28,157,124,35,113,29,160,27,211,204,210,124,113,46,106,43,204,96,62,77,227,137,116,73,41,72,36,203,142,235,64,240,48,49,64,42,41,74,214,212,207,183,42,184,210,169,211,140,170,176,104,105,69,193,122,168,50,123,187,89,96,90,66,65,107,179,89,180,119,101,120,68,63,104,234,93,227,16,15,85,209,129,49,15,14,86,107,55,9,120,100,121,153,145,22,178,88,179,197,6,196,89,88,96,135,138,136,138,215,172,218,115,219,41,42,81,5,195,51,57,43,61,208,171,199,41,81,38,224,53,225,24,144,110,105,52,66,118,229,117,227,34,234,66,107,69,10,109,151,219,48,235,183,62,191,142,129,126,116,111,143,7,163,246,118,117,50,223,222,52,94,19,141,222,221,65,196,3,197,45,220,44,156,70,139,188,122,245,139,71,162,145,153,159,149,170,150,122,188,196,206,216,92,163,144,161,164,2,167,242,141,241,0,164,37,11,72,12,144,145,160,12,38,13,70,63,71,31,226,111,157,158,154,36,101,205,203,206,165,126,209,217,98,165,97,237,220,218,237,239,241,210,214,169,140,171,32,241,125,237,179,86,178,180,85,179,181,84,180,182,83,181,194,201,182,177,137,132,184,76,183,185,61,184,186,57,185,216,212,186,192,214,187,139,34,156,218,79,237,147,123,177,45,44,4,208,201,32,98,64,129,192,213,138,235,59,219,141,242,97,97,2,141,240,75,235,229,24,228,31,25,226,230,23,229,231,22,230,232,26,231,233,112,232,244,189,243,189,221,190,222,28,221,223,27,222,224,29,223,225,30,224,113,247,225,99,60,240,213,147,215,60,20,166,192,187,213,243,112,244,244,233,245,245,128,188,188,114,174,134,131,220,174,217,236,236,198,134,215,177,58,156,143,124,25,110,7,31,228,25,264,356,368,0,11,267,451,452,349,267,302,269,350,357,277,350,452,357,299,333,297,396,175,377,381,384,382,280,347,330,269,303,270,151,9,337,344,278,360,424,418,431,270,304,409,272,310,407,322,270,410,449,450,347,432,422,434,18,313,17,291,306,375,259,387,260,424,335,418,434,364,416,391,423,327,301,251,298,275,281,4,254,373,253,375,307,321,280,425,411,200,421,18,335,321,406,321,320,405,314,315,17,423,426,266,396,377,369,270,322,269,413,417,464,385,386,258,248,456,419,298,284,333,168,417,8,448,346,261,417,413,285,326,327,328,277,355,329,309,392,438,381,382,256,279,429,360,365,364,379,355,277,437,282,443,283,281,275,363,395,431,369,299,297,337,335,273,321,348,450,349,359,446,467,283,293,282,250,458,462,300,276,383,292,308,325,283,276,293,264,372,447,346,352,340,354,274,19,363,456,281,426,436,425,380,381,252,267,269,393,421,200,428,371,266,329,432,287,422,290,250,328,385,258,384,446,265,342,386,387,257,422,424,430,445,342,276,422,273,424,306,292,307,352,366,345,268,271,302,358,423,371,327,294,460,331,279,294,303,271,304,436,432,427,304,272,408,395,394,431,378,395,400,296,334,299,6,351,168,376,352,411,307,325,320,285,295,336,320,319,404,329,330,349,334,293,333,366,323,447,316,15,315,331,358,279,317,14,316,8,285,9,277,329,350,253,374,252,319,318,403,351,6,419,324,318,325,397,367,365,288,435,397,278,344,439,310,272,311,248,195,281,375,273,291,175,396,199,312,311,268,276,283,445,390,373,339,295,282,296,448,449,346,356,264,454,337,336,299,337,338,151,294,278,455,308,292,415,429,358,355,265,340,372,388,390,466,352,346,280,295,442,282,354,19,370,285,441,295,195,248,197,457,440,274,301,300,368,417,351,465,251,301,389,385,380,386,394,395,379,399,412,419,410,436,322,387,373,388,326,2,393,354,370,461,393,164,267,268,302,12,386,374,387,312,268,13,298,293,301,265,446,340,380,385,381,280,330,425,322,426,391,420,429,437,393,391,326,344,440,438,458,459,461,364,434,394,428,396,262,274,354,457,317,316,402,316,315,403,315,314,404,314,313,405,313,421,406,323,366,361,292,306,407,306,291,408,291,287,409,287,432,410,427,434,411,372,264,383,459,309,457,366,352,401,1,274,4,418,421,262,331,294,358,435,433,367,392,289,439,328,462,326,94,2,370,289,305,455,339,254,448,359,255,446,254,253,449,253,252,450,252,256,451,256,341,452,414,413,463,286,441,414,286,258,441,258,257,442,257,259,443,259,260,444,260,467,445,309,459,250,305,289,290,305,290,460,401,376,435,309,250,392,376,411,433,453,341,464,357,453,465,343,357,412,437,343,399,344,360,440,420,437,456,360,420,363,361,401,288,265,372,353,390,339,249,339,448,255],SAMPLE_FACE:{keypoints:[{x:356.2804412841797,y:295.1960563659668,z:-23.786449432373047,name:"lips"},{x:354.8859405517578,y:264.69520568847656,z:-36.718435287475586},{x:355.2180862426758,y:275.3360366821289,z:-21.183712482452393},{x:347.349853515625,y:242.4400234222412,z:-25.093655586242676},{x:354.40135955810547,y:256.67933464050293,z:-38.23572635650635},{x:353.7689971923828,y:247.54886627197266,z:-34.5475435256958},{x:352.1288299560547,y:227.34312057495117,z:-13.095386028289795},{x:303.5013198852539,y:234.67002868652344,z:12.500141859054565,name:"rightEye"},{x:351.09378814697266,y:211.87547206878662,z:-6.413471698760986},{x:350.7115936279297,y:202.1251630783081,z:-6.413471698760986},{x:348.33667755126953,y:168.7741756439209,z:6.483500003814697,name:"faceOval"},{x:356.4806365966797,y:299.2995357513428,z:-23.144519329071045},{x:356.5511703491211,y:302.66146659851074,z:-21.020312309265137},{x:356.6239547729492,y:304.1536331176758,z:-18.137459754943848,name:"lips"},{x:356.5807342529297,y:305.1840591430664,z:-18.767719268798828,name:"lips"},{x:356.8241500854492,y:308.25711250305176,z:-20.16829490661621},{x:357.113037109375,y:312.26277351379395,z:-22.10575819015503},{x:357.34962463378906,y:317.1123218536377,z:-21.837315559387207,name:"lips"},{x:357.6658630371094,y:325.51036834716797,z:-16.27002477645874},{x:355.0201416015625,y:269.36279296875,z:-33.73054027557373},{x:348.5237503051758,y:270.33411026000977,z:-24.93025302886963},{x:279.97331619262695,y:213.24176788330078,z:47.759642601013184,name:"faceOval"},{x:322.66529083251953,y:238.5027265548706,z:5.535193085670471},{x:316.0983657836914,y:239.94489669799805,z:5.777376294136047},{x:309.9431610107422,y:240.24518966674805,z:7.510589361190796},{x:301.31994247436523,y:237.86138534545898,z:13.118728399276733},{x:328.14266204833984,y:235.80496788024902,z:6.646900177001953},{x:313.7326431274414,y:222.11161136627197,z:3.9887237548828125},{x:320.45196533203125,y:221.87729358673096,z:4.601476192474365},{x:307.35679626464844,y:223.63793849945068,z:5.932023525238037},{x:303.0031204223633,y:226.3743782043457,z:8.479321002960205},{x:296.80023193359375,y:242.94299125671387,z:15.931552648544312},{x:332.2352981567383,y:340.77341079711914,z:-10.165848731994629},{x:301.38587951660156,y:233.46447944641113,z:14.764405488967896,name:"rightEye"},{x:279.0147018432617,y:244.37155723571777,z:45.77549457550049},{x:289.60548400878906,y:239.1807460784912,z:23.191204071044922},{x:320.32257080078125,y:267.1292781829834,z:-4.954537749290466},{x:347.64583587646484,y:294.4955062866211,z:-23.062820434570312,name:"lips"},{x:349.28138732910156,y:303.1095886230469,z:-20.238323211669922},{x:338.9453125,y:298.19186210632324,z:-19.456336498260498,name:"lips"},{x:333.36788177490234,y:302.6706790924072,z:-14.776077270507812,name:"lips"},{x:342.89188385009766,y:304.3561363220215,z:-17.752301692962646},{x:337.7375030517578,y:306.0098361968994,z:-13.410515785217285},{x:325.6159210205078,y:316.22995376586914,z:-6.681914925575256},{x:349.0104675292969,y:264.9818515777588,z:-36.274919509887695},{x:347.7138900756836,y:257.5664806365967,z:-37.67549514770508},{x:291.79357528686523,y:218.88171672821045,z:11.578094959259033,name:"rightEyebrow"},{x:332.2689437866211,y:247.56946563720703,z:-3.3730539679527283},{x:332.0074462890625,y:267.1201229095459,z:-19.969879388809204},{x:331.27952575683594,y:263.6967658996582,z:-17.47218608856201},{x:301.04373931884766,y:269.56552505493164,z:3.61815482378006},{x:347.4863815307617,y:249.0706443786621,z:-32.633421421051025},{x:307.26118087768555,y:208.2646894454956,z:1.1591226607561111,name:"rightEyebrow"},{x:297.91919708251953,y:212.22604751586914,z:5.914516448974609,name:"rightEyebrow"},{x:285.1651382446289,y:197.98450469970703,z:36.391637325286865,name:"faceOval"},{x:337.04097747802734,y:211.25229835510254,z:-4.548954665660858},{x:326.5912628173828,y:223.16698551177979,z:6.670243740081787},{x:320.05664825439453,y:309.5834255218506,z:-4.055835008621216},{x:289.6866226196289,y:314.617395401001,z:53.875489234924316,name:"faceOval"},{x:337.4256896972656,y:270.8755302429199,z:-17.67060160636902},{x:343.69922637939453,y:273.0000400543213,z:-18.756048679351807},{x:327.4242401123047,y:309.22399520874023,z:-4.703601002693176,name:"lips"},{x:330.37220001220703,y:308.3323001861572,z:-6.442649960517883},{x:293.87027740478516,y:207.7961826324463,z:9.821539521217346,name:"rightEyebrow"},{x:332.11437225341797,y:271.22812271118164,z:-16.64351224899292},{x:320.1197814941406,y:207.40366458892822,z:-2.48164564371109,name:"rightEyebrow"},{x:318.59575271606445,y:201.07443809509277,z:-3.110446035861969,name:"rightEyebrow"},{x:310.72303771972656,y:175.75075149536133,z:13.328815698623657,name:"faceOval"},{x:289.67578887939453,y:202.29835510253906,z:21.370456218719482},{x:315.30879974365234,y:187.35260009765625,z:5.0304025411605835},{x:287.8936767578125,y:216.54793739318848,z:17.81065821647644,name:"rightEyebrow"},{x:283.9391899108887,y:215.01142501831055,z:32.04984903335571},{x:348.35330963134766,y:299.4155788421631,z:-22.47924566268921},{x:341.1790466308594,y:301.8221855163574,z:-18.977805376052856},{x:335.69713592529297,y:304.4266891479492,z:-14.682706594467163},{x:339.4615173339844,y:272.3654365539551,z:-16.38674020767212},{x:328.99600982666016,y:308.86685371398926,z:-5.616893768310547},{x:332.00313568115234,y:309.1875743865967,z:-10.335084199905396},{x:331.0068130493164,y:307.9274368286133,z:-6.681914925575256,name:"lips"},{x:341.13792419433594,y:266.4876937866211,z:-26.56425952911377},{x:339.02950286865234,y:305.6663703918457,z:-12.33674168586731,name:"lips"},{x:344.22935485839844,y:304.9452781677246,z:-15.161235332489014,name:"lips"},{x:350.1844024658203,y:304.374303817749,z:-17.5305438041687,name:"lips"},{x:348.52630615234375,y:325.9562301635742,z:-16.164982318878174},{x:348.6581802368164,y:317.1624183654785,z:-21.510512828826904,name:"lips"},{x:348.9766311645508,y:312.1923065185547,z:-21.708929538726807},{x:349.2427444458008,y:308.0660820007324,z:-19.643079042434692},{x:349.67491149902344,y:305.42747497558594,z:-18.16080331802368,name:"lips"},{x:337.95589447021484,y:306.6535949707031,z:-12.803598642349243,name:"lips"},{x:337.06878662109375,y:307.63169288635254,z:-14.274203777313232},{x:335.77449798583984,y:309.8449516296387,z:-15.698124170303345},{x:334.6099090576172,y:312.7997016906738,z:-14.764405488967896,name:"lips"},{x:327.2330856323242,y:293.80866050720215,z:-11.864047050476074},{x:280.97679138183594,y:279.79928970336914,z:68.90834331512451,name:"faceOval"},{x:355.13843536376953,y:271.7875671386719,z:-25.350427627563477},{x:334.7235870361328,y:307.4656391143799,z:-9.302158951759338,name:"lips"},{x:333.5293960571289,y:307.89782524108887,z:-10.200862884521484},{x:346.29688262939453,y:276.4256286621094,z:-19.748122692108154},{x:335.16246795654297,y:276.22097969055176,z:-12.313398122787476},{x:345.09132385253906,y:274.7082996368408,z:-19.304605722427368},{x:325.4267883300781,y:252.95130729675293,z:-1.6661019623279572},{x:315.347843170166,y:259.05200958251953,z:-.25604281574487686},{x:330.44933319091797,y:267.7570152282715,z:-14.017432928085327},{x:294.96768951416016,y:185.26001930236816,z:23.903164863586426,name:"faceOval"},{x:299.63531494140625,y:192.7913761138916,z:12.640198469161987},{x:304.5452117919922,y:202.4142837524414,z:3.244667649269104,name:"rightEyebrow"},{x:331.6915512084961,y:320.0467872619629,z:-10.632705688476562},{x:334.5911407470703,y:201.27566814422607,z:-6.133356094360352,name:"rightEyebrow"},{x:331.4815902709961,y:185.44180870056152,z:.6627205014228821},{x:328.05816650390625,y:170.8385467529297,z:7.358860373497009,name:"faceOval"},{x:304.49764251708984,y:239.76297855377197,z:10.387605428695679},{x:290.6382179260254,y:248.85257720947266,z:19.03616428375244},{x:331.5682601928711,y:233.20727348327637,z:7.837390303611755},{x:295.5115509033203,y:228.9834451675415,z:14.41426157951355},{x:336.94332122802734,y:241.8259334564209,z:-5.27842104434967},{x:336.2792205810547,y:262.7049922943115,z:-26.12074375152588},{x:284.4102478027344,y:255.3262710571289,z:25.467140674591064},{x:295.1420593261719,y:253.02655220031738,z:12.430112361907959},{x:303.5196113586426,y:254.20703887939453,z:6.139191389083862},{x:315.73450088500977,y:251.64799690246582,z:3.3788898587226868},{x:324.69661712646484,y:247.56494522094727,z:2.3328344523906708},{x:331.57970428466797,y:243.02241325378418,z:1.1423448473215103},{x:345.6210708618164,y:229.9976634979248,z:-10.825285911560059},{x:286.26644134521484,y:270.37991523742676,z:21.708929538726807},{x:290.2525520324707,y:228.4921360015869,z:17.71728754043579},{x:351.65367126464844,y:269.3400764465332,z:-33.450424671173096},{x:333.1378936767578,y:253.88388633728027,z:-7.230473756790161},{x:277.8318977355957,y:246.95331573486328,z:68.20805549621582,name:"faceOval"},{x:336.6680908203125,y:238.10003757476807,z:.7688578963279724},{x:329.95800018310547,y:269.18323516845703,z:-7.207130789756775},{x:299.17491912841797,y:234.13324356079102,z:15.95489501953125},{x:335.61729431152344,y:258.71752738952637,z:-23.016133308410645},{x:284.1079330444336,y:297.0343494415283,z:63.25934886932373,name:"faceOval"},{x:331.44542694091797,y:230.6892442703247,z:9.92658257484436,name:"rightEye"},{x:341.41536712646484,y:253.01264762878418,z:-29.038610458374023},{x:303.5472869873047,y:327.5896739959717,z:16.725212335586548},{x:304.7756576538086,y:337.4389457702637,z:27.38126277923584,name:"faceOval"},{x:280.80501556396484,y:275.32050132751465,z:45.0752067565918},{x:295.43582916259766,y:318.4501647949219,z:26.2608003616333},{x:281.4303207397461,y:228.7355661392212,z:40.94350814819336},{x:331.2549591064453,y:349.4216537475586,z:-7.376367449760437},{x:352.4247741699219,y:271.7330074310303,z:-24.953596591949463},{x:327.5672912597656,y:260.41900634765625,z:-5.456410646438599},{x:284.5432472229004,y:241.7647933959961,z:29.668869972229004},{x:310,y:235.66174507141113,z:8.502663969993591,name:"rightEye"},{x:315.7071113586426,y:235.7572603225708,z:6.938687562942505,name:"rightEye"},{x:330.41088104248047,y:311.04143142700195,z:-9.325502514839172,name:"lips"},{x:288.5377502441406,y:285.31983375549316,z:21.837315559387207},{x:344.55039978027344,y:359.4300842285156,z:-6.705257892608643,name:"faceOval"},{x:323.41880798339844,y:351.67362213134766,z:7.802375555038452,name:"faceOval"},{x:314.64088439941406,y:346.11894607543945,z:16.36339783668518,name:"faceOval"},{x:349.4945526123047,y:184.8434829711914,z:-.21847527474164963},{x:359.24694061279297,y:359.8348903656006,z:-8.403456211090088,name:"faceOval"},{x:321.26182556152344,y:234.64492321014404,z:6.90950870513916,name:"rightEye"},{x:326.318359375,y:232.90250301361084,z:8.029969334602356,name:"rightEye"},{x:329.6211624145508,y:231.6195774078369,z:9.722331762313843,name:"rightEye"},{x:285.9398078918457,y:228.2351303100586,z:24.650139808654785},{x:325.79288482666016,y:227.88007736206055,z:7.469738721847534,name:"rightEye"},{x:320.1699447631836,y:227.5934886932373,z:6.168370842933655,name:"rightEye"},{x:314.85408782958984,y:227.85282611846924,z:6.2675780057907104,name:"rightEye"},{x:309.3084907531738,y:229.1516876220703,z:7.7031683921813965,name:"rightEye"},{x:305.5621337890625,y:230.92366218566895,z:9.722331762313843,name:"rightEye"},{x:277.8681945800781,y:228.5354232788086,z:59.71122741699219,name:"faceOval"},{x:306.1444664001465,y:235.1954698562622,z:10.603528022766113,name:"rightEye"},{x:355.4478454589844,y:281.96210861206055,z:-20.565123558044434},{x:333.02661895751953,y:288.0105400085449,z:-14.72939133644104},{x:337.15728759765625,y:269.2059516906738,z:-19.8414945602417},{x:345.9898376464844,y:283.5453128814697,z:-20.4834246635437},{x:351.48963928222656,y:219.98916149139404,z:-7.0378947257995605},{x:312.39574432373047,y:336.50628089904785,z:8.671900033950806},{x:321.32152557373047,y:343.1755256652832,z:.9067271649837494},{x:343.78379821777344,y:353.2975959777832,z:-14.355905055999756},{x:296.8791389465332,y:327.91497230529785,z:41.01353645324707,name:"faceOval"},{x:329.6939468383789,y:229.27897453308105,z:8.934508562088013,name:"rightEye"},{x:341.6905212402344,y:241.4073657989502,z:-14.589333534240723},{x:359.03079986572266,y:353.48859786987305,z:-15.803166627883911},{x:333.1861877441406,y:356.43213272094727,z:-1.0234417766332626,name:"faceOval"},{x:283.97483825683594,y:291.4318656921387,z:41.94725513458252},{x:343.33770751953125,y:305.830135345459,z:-15.756480693817139,name:"lips"},{x:342.40283966064453,y:307.7453899383545,z:-17.4021577835083},{x:341.53621673583984,y:311.0595703125,z:-19.047834873199463},{x:340.9107208251953,y:315.4837703704834,z:-18.5576331615448,name:"lips"},{x:339.1478729248047,y:323.42233657836914,z:-14.367576837539673},{x:333.3201599121094,y:307.4406337738037,z:-9.617288708686829},{x:331.2411117553711,y:306.9811820983887,z:-9.669809937477112},{x:329.23255920410156,y:306.0508346557617,z:-9.582273960113525,name:"lips"},{x:322.4586486816406,y:301.33323669433594,z:-7.720675468444824},{x:297.1712112426758,y:286.9552803039551,z:8.240055441856384},{x:341.3060760498047,y:235.4432201385498,z:-7.504753470420837},{x:336.9318389892578,y:224.3451976776123,z:5.829898118972778},{x:332.65323638916016,y:226.70403957366943,z:8.105834126472473},{x:334.67357635498047,y:306.4397621154785,z:-8.981193900108337,name:"lips"},{x:297.4601936340332,y:306.29210472106934,z:15.476365089416504},{x:342.9119110107422,y:222.37077713012695,z:-2.754466235637665},{x:335.4629898071289,y:332.20250129699707,z:-11.823196411132812},{x:353.2412338256836,y:240.56339263916016,z:-27.147831916809082},{x:346.3080596923828,y:236.41446590423584,z:-18.452589511871338},{x:352.6475143432617,y:234.1420555114746,z:-19.748122692108154},{x:337.3209762573242,y:253.39937210083008,z:-16.024924516677856},{x:358.6122131347656,y:344.90861892700195,z:-18.592647314071655},{x:358.1117248535156,y:334.64990615844727,z:-17.49552845954895},{x:346.4450454711914,y:335.0321102142334,z:-16.32838249206543},{x:319.17640686035156,y:320.2833938598633,z:-3.276764452457428},{x:325.2540588378906,y:276.2369728088379,z:-6.460157036781311},{x:326.7214584350586,y:327.3939514160156,z:-7.417217493057251},{x:310.7190132141113,y:277.2265148162842,z:-3.5452082753181458},{x:319.78355407714844,y:284.8238182067871,z:-6.4543211460113525},{x:305.773983001709,y:290.83580017089844,z:.06907138042151928},{x:344.4001770019531,y:344.85408782958984,z:-16.946970224380493},{x:333.1879425048828,y:258.74256134033203,z:-11.90489649772644},{x:313.80598068237305,y:327.08919525146484,z:2.2277912497520447},{x:322.9637908935547,y:334.6819496154785,z:-3.3643004298210144},{x:313.4055519104004,y:311.2166690826416,z:-1.1175429821014404},{x:291.0865783691406,y:298.2831001281738,z:22.467575073242188},{x:305.6580924987793,y:313.3707904815674,z:5.561453700065613},{x:288.23760986328125,y:305.9941864013672,z:36.765122413635254},{x:315.10692596435547,y:296.26991271972656,z:-4.604393839836121},{x:337.50518798828125,y:247.5944423675537,z:-10.597691535949707},{x:338.8450622558594,y:265.47778129577637,z:-27.778091430664062},{x:334.25254821777344,y:269.0671920776367,z:-20.938611030578613},{x:341.64512634277344,y:259.6387195587158,z:-32.189905643463135},{x:331.44081115722656,y:219.0976095199585,z:4.207563698291779},{x:320.56339263916016,y:216.49658203125,z:2.930997312068939},{x:311.21912002563477,y:216.57853603363037,z:2.9674705862998962},{x:303.46256256103516,y:218.54614734649658,z:5.357203483581543},{x:297.99999237060547,y:222.505202293396,z:9.325502514839172},{x:294.93839263916016,y:236.39654159545898,z:18.534289598464966},{x:278.87489318847656,y:259.7095584869385,z:45.68212032318115},{x:300.3782653808594,y:245.38593292236328,z:12.278382778167725},{x:307.06348419189453,y:246.36857986450195,z:8.164191246032715},{x:315.5229187011719,y:245.3949737548828,z:5.503097176551819},{x:323.71395111083984,y:242.75178909301758,z:4.6335723996162415},{x:330.2785873413086,y:239.34658527374268,z:4.937030673027039},{x:334.6982192993164,y:236.0460376739502,z:4.823233783245087},{x:279.3412208557129,y:263.5196113586426,z:70.91583728790283,name:"faceOval"},{x:334.65972900390625,y:271.6648578643799,z:-17.775644063949585},{x:342.05677032470703,y:246.99846267700195,z:-20.84523916244507},{x:344.0357971191406,y:264.5701503753662,z:-32.936880588531494},{x:348.25531005859375,y:268.6645030975342,z:-30.695960521697998},{x:344.12227630615234,y:266.34212493896484,z:-29.808926582336426},{x:337.12318420410156,y:274.2556858062744,z:-15.768152475357056},{x:349.49047088623047,y:269.071683883667,z:-32.51670837402344},{x:350.1683044433594,y:271.4691352844238,z:-24.93025302886963},{x:333.9634704589844,y:230.56639194488525,z:8.89949381351471},{x:338.2147979736328,y:231.4807891845703,z:4.6715047955513},{x:340.4712677001953,y:231.74463272094727,z:-.34996166825294495},{x:303.28975677490234,y:232.24980354309082,z:11.916568279266357,name:"rightEye"},{x:299.4649124145508,y:229.53842639923096,z:12.325069904327393},{x:359.09618377685547,y:241.77349090576172,z:-24.650139808654785},{x:399.46216583251953,y:229.89503860473633,z:15.919880867004395,name:"leftEye"},{x:361.38919830322266,y:269.6129894256592,z:-24.510080814361572},{x:416.9973373413086,y:206.0895538330078,z:53.26857566833496,name:"faceOval"},{x:381.32179260253906,y:235.5476474761963,z:7.6214683055877686},{x:387.8068542480469,y:236.25958442687988,z:8.345099091529846},{x:393.95751953125,y:235.8660364151001,z:10.475142002105713},{x:401.84600830078125,y:232.77019500732422,z:16.760226488113403},{x:375.70568084716797,y:233.48456382751465,z:8.234220147132874},{x:388.17752838134766,y:218.94717693328857,z:6.810300946235657},{x:381.64928436279297,y:219.2656660079956,z:6.711093783378601},{x:394.4760513305664,y:219.66821193695068,z:9.173773527145386},{x:398.8843536376953,y:221.8837022781372,z:12.03328251838684},{x:406.5454864501953,y:237.12156772613525,z:19.7131085395813},{x:383.87447357177734,y:337.6932907104492,z:-8.631049990653992},{x:401.2682342529297,y:228.5916566848755,z:18.359217643737793,name:"leftEye"},{x:422.0449447631836,y:236.73934936523438,z:51.16771221160889},{x:412.69153594970703,y:232.80198097229004,z:27.52131938934326},{x:387.3497772216797,y:263.298397064209,z:-2.8609684109687805},{x:364.5124053955078,y:293.39221000671387,z:-22.397546768188477,name:"lips"},{x:363.62987518310547,y:302.1291446685791,z:-19.643079042434692},{x:373.2334518432617,y:295.8647060394287,z:-18.125789165496826,name:"lips"},{x:378.83365631103516,y:299.5177745819092,z:-13.153743743896484,name:"lips"},{x:369.91477966308594,y:302.5704002380371,z:-16.65518283843994},{x:374.9167251586914,y:303.5416603088379,z:-11.963253021240234},{x:387.58888244628906,y:312.2716999053955,z:-4.680258631706238},{x:360.6635284423828,y:264.31986808776855,z:-35.94811677932739},{x:361.04564666748047,y:256.8225860595703,z:-37.278664112091064},{x:408.3855438232422,y:213.52088928222656,z:15.756480693817139,name:"leftEyebrow"},{x:373.2946014404297,y:245.38101196289062,z:-1.9316278398036957},{x:376.83860778808594,y:264.3721103668213,z:-18.510947227478027},{x:376.9546127319336,y:261.0010528564453,z:-15.989909172058105},{x:406.1498260498047,y:263.5030174255371,z:7.072908878326416},{x:360.07205963134766,y:248.3631706237793,z:-32.16656446456909},{x:393.11119079589844,y:205.10473251342773,z:3.7786373496055603,name:"leftEyebrow"},{x:402.12791442871094,y:207.89000988006592,z:9.383859634399414,name:"leftEyebrow"},{x:410.8693313598633,y:191.6182279586792,z:41.27030849456787,name:"faceOval"},{x:364.9509811401367,y:210.40483474731445,z:-3.758212625980377},{x:375.94444274902344,y:221.1331844329834,z:8.368442058563232},{x:392.1904754638672,y:305.0360298156738,z:-1.752179116010666},{x:419.50225830078125,y:307.25592613220215,z:58.96425247192383,name:"faceOval"},{x:372.0027160644531,y:268.7212657928467,z:-16.631840467453003},{x:366.1614227294922,y:271.6237449645996,z:-18.219159841537476},{x:385.00938415527344,y:305.3863334655762,z:-2.567722797393799},{x:381.99771881103516,y:304.9723720550537,z:-4.575215280056},{x:405.078125,y:203.21216583251953,z:13.713973760604858,name:"leftEyebrow"},{x:377.13207244873047,y:268.4710121154785,z:-15.266278982162476},{x:380.9713363647461,y:205.36980628967285,z:-.7250899076461792,name:"leftEyebrow"},{x:381.7788314819336,y:198.9268398284912,z:-1.184653863310814,name:"leftEyebrow"},{x:385.5204772949219,y:172.1484375,z:16.04826807975769,name:"faceOval"},{x:407.94189453125,y:196.76236152648926,z:25.723915100097656},{x:383.03890228271484,y:184.5157527923584,z:7.393874526023865},{x:411.61781311035156,y:210.79241752624512,z:22.315845489501953,name:"leftEyebrow"},{x:414.30870056152344,y:208.4643030166626,z:37.021894454956055},{x:364.28722381591797,y:298.35777282714844,z:-21.86065673828125},{x:371.3682556152344,y:299.78848457336426,z:-17.834001779556274},{x:376.88201904296875,y:301.6696071624756,z:-13.153743743896484},{x:370.2193832397461,y:270.49095153808594,z:-15.569736957550049},{x:383.5081100463867,y:305.2726364135742,z:-3.673594295978546},{x:380.73760986328125,y:305.96869468688965,z:-8.660228252410889},{x:381.2334442138672,y:304.63574409484863,z:-4.820316135883331,name:"lips"},{x:368.1698989868164,y:264.8884963989258,z:-25.653886795043945},{x:373.5087203979492,y:303.4233856201172,z:-10.95950722694397,name:"lips"},{x:368.4544372558594,y:303.29601287841797,z:-14.169161319732666,name:"lips"},{x:362.76554107666016,y:303.5735607147217,z:-16.911956071853638,name:"lips"},{x:366.60980224609375,y:324.8870658874512,z:-15.616422891616821},{x:365.7067108154297,y:315.95678329467773,z:-20.903596878051758,name:"lips"},{x:365.0083923339844,y:311.2232208251953,z:-21.066999435424805},{x:364.1508102416992,y:307.0583438873291,z:-18.907777070999146},{x:363.37512969970703,y:304.5721435546875,z:-17.42550015449524,name:"lips"},{x:374.580078125,y:304.3059539794922,z:-11.40302300453186,name:"lips"},{x:375.55362701416016,y:305.0998020172119,z:-12.861957550048828},{x:377.2437286376953,y:307.1674346923828,z:-14.215847253799438},{x:378.68587493896484,y:309.9015712738037,z:-13.223772048950195,name:"lips"},{x:383.8992691040039,y:290.29629707336426,z:-9.97326910495758},{x:423.3871841430664,y:271.91688537597656,z:74.37058925628662,name:"faceOval"},{x:377.68043518066406,y:304.62209701538086,z:-7.603961229324341,name:"lips"},{x:379.00428771972656,y:304.9314594268799,z:-8.57852816581726},{x:364.00279998779297,y:275.2813911437988,z:-19.25792098045349},{x:374.68231201171875,y:273.82555961608887,z:-11.28047227859497},{x:365.0354766845703,y:273.4548568725586,z:-18.791062831878662},{x:380.61901092529297,y:249.8848056793213,z:.15501167625188828},{x:391.14158630371094,y:254.7934627532959,z:2.0906515419483185},{x:378.1761169433594,y:264.9612236022949,z:-12.605184316635132},{x:400.9540557861328,y:179.99592304229736,z:27.82477855682373,name:"faceOval"},{x:398.0038833618164,y:188.50656509399414,z:16.094952821731567},{x:394.8717498779297,y:199.0359592437744,z:6.226727366447449,name:"leftEyebrow"},{x:382.10926055908203,y:316.83926582336426,z:-8.946179747581482},{x:366.51588439941406,y:200.32583713531494,z:-5.24632453918457,name:"leftEyebrow"},{x:367.4893569946289,y:183.87210845947266,z:1.9039081037044525},{x:368.6243438720703,y:168.8127565383911,z:8.736093044281006,name:"faceOval"},{x:398.96175384521484,y:234.9675178527832,z:13.713973760604858},{x:412.9645538330078,y:242.23042488098145,z:23.272905349731445},{x:372.05257415771484,y:231.41919136047363,z:9.226294755935669},{x:406.0722351074219,y:223.58965873718262,z:18.370890617370605},{x:368.27442169189453,y:240.2039337158203,z:-4.166713654994965},{x:372.3575210571289,y:260.66442489624023,z:-24.976940155029297},{x:419.2244338989258,y:247.9079246520996,z:30.299127101898193},{x:409.43885803222656,y:246.60913467407227,z:16.398411989212036},{x:401.69139862060547,y:248.76328468322754,z:9.395531415939331},{x:389.7608184814453,y:247.56915092468262,z:5.841569304466248},{x:380.5461883544922,y:244.55984115600586,z:4.263003468513489},{x:373.25817108154297,y:240.80214500427246,z:2.5356262922286987},{x:358.77086639404297,y:229.35615062713623,z:-10.387605428695679},{x:419.5793914794922,y:262.8478717803955,z:26.5175724029541},{x:410.8808898925781,y:222.51372814178467,z:22.199130058288574},{x:358.45714569091797,y:268.91467094421387,z:-33.17030906677246},{x:373.4129333496094,y:251.6385841369629,z:-5.771540403366089},{x:422.5408172607422,y:239.23919677734375,z:74.04378890991211,name:"faceOval"},{x:367.8171920776367,y:236.58040523529053,z:1.820748895406723},{x:378.51959228515625,y:266.2532329559326,z:-5.74819803237915},{x:403.3472442626953,y:229.05112266540527,z:19.689764976501465},{x:372.34840393066406,y:256.6451168060303,z:-21.872329711914062},{x:422.54566192626953,y:289.1587829589844,z:68.67491245269775,name:"faceOval"},{x:371.9297409057617,y:228.90116214752197,z:11.432201862335205,name:"leftEye"},{x:366.21360778808594,y:251.6158962249756,z:-28.19826364517212},{x:409.1571807861328,y:321.3156223297119,z:20.2266526222229},{x:408.52943420410156,y:331.44238471984863,z:31.09278917312622,name:"faceOval"},{x:424.2788314819336,y:267.1992301940918,z:50.467424392700195},{x:415.60352325439453,y:311.6528606414795,z:30.579242706298828},{x:418.12793731689453,y:221.59927368164062,z:46.26569747924805},{x:385.68286895751953,y:346.0184955596924,z:-5.70151150226593},{x:357.82936096191406,y:271.3758373260498,z:-24.836881160736084},{x:379.588623046875,y:257.5071716308594,z:-3.755294680595398},{x:417.4592590332031,y:234.71948146820068,z:34.5475435256958},{x:393.4684371948242,y:231.58967971801758,z:11.408859491348267,name:"leftEye"},{x:387.8864288330078,y:232.14245796203613,z:9.51808214187622,name:"leftEye"},{x:382.4981689453125,y:307.5654888153076,z:-7.522260546684265,name:"lips"},{x:419.00169372558594,y:277.8332805633545,z:26.424202919006348},{x:373.62953186035156,y:357.6375102996826,z:-5.75986921787262,name:"faceOval"},{x:392.8708267211914,y:347.72446632385254,z:10.154176950454712,name:"faceOval"},{x:400.3953552246094,y:341.0005187988281,z:19.39797878265381,name:"faceOval"},{x:382.25440979003906,y:231.66935920715332,z:8.998700976371765,name:"leftEye"},{x:377.14550018310547,y:230.4228687286377,z:9.804032444953918,name:"leftEye"},{x:373.8358688354492,y:229.64950561523438,z:11.292144060134888,name:"leftEye"},{x:414.5794677734375,y:221.67891025543213,z:29.412097930908203},{x:377.00672149658203,y:225.66201210021973,z:9.360517263412476,name:"leftEye"},{x:382.29530334472656,y:224.8431158065796,z:8.32175612449646,name:"leftEye"},{x:387.5133514404297,y:224.49507236480713,z:8.917000889778137,name:"leftEye"},{x:393.15906524658203,y:225.24795055389404,z:10.737749338150024,name:"leftEye"},{x:397.05554962158203,y:226.55359268188477,z:13.002015352249146,name:"leftEye"},{x:420.5299377441406,y:221.014666557312,z:65.40690422058105,name:"faceOval"},{x:397.06920623779297,y:230.6661558151245,z:13.807345628738403,name:"leftEye"},{x:377.94647216796875,y:285.1647090911865,z:-13.305472135543823},{x:372.1118927001953,y:267.1267318725586,z:-18.83774757385254},{x:364.9968719482422,y:282.24411964416504,z:-19.818150997161865},{x:401.973876953125,y:331.20131492614746,z:11.566424369812012},{x:394.3083190917969,y:338.86693954467773,z:3.142542541027069},{x:373.9820861816406,y:351.4504623413086,z:-13.50388765335083},{x:414.3888854980469,y:321.24735832214355,z:45.51872253417969,name:"faceOval"},{x:373.44234466552734,y:227.33163356781006,z:10.626870393753052,name:"leftEye"},{x:364.0731430053711,y:240.31539916992188,z:-13.807345628738403},{x:384.2658233642578,y:353.3793067932129,z:.7385850697755814,name:"faceOval"},{x:423.20526123046875,y:283.5176181793213,z:47.152724266052246},{x:369.42798614501953,y:304.0898895263672,z:-14.647691249847412,name:"lips"},{x:370.63812255859375,y:305.90051651000977,z:-16.211668252944946},{x:371.91192626953125,y:309.0167713165283,z:-17.84567356109619},{x:373.0583953857422,y:313.3545398712158,z:-17.378815412521362,name:"lips"},{x:375.39905548095703,y:321.09289169311523,z:-13.118728399276733},{x:379.2567825317383,y:304.3582534790039,z:-7.924926280975342},{x:381.18797302246094,y:303.7031364440918,z:-7.843226194381714},{x:383.0918502807617,y:302.4884605407715,z:-7.6506465673446655,name:"lips"},{x:389.09461975097656,y:297.1475315093994,z:-5.5497825145721436},{x:411.6408920288086,y:280.24898529052734,z:12.02161192893982},{x:363.3110809326172,y:234.27620887756348,z:-6.775286793708801},{x:366.0474395751953,y:223.29872131347656,z:6.827808618545532},{x:370.34427642822266,y:225.1457118988037,z:9.558931589126587},{x:377.5371551513672,y:303.60079765319824,z:-7.358860373497009,name:"lips"},{x:412.9557800292969,y:299.53579902648926,z:19.39797878265381},{x:360.0810241699219,y:221.72012329101562,z:-2.153385728597641},{x:379.82784271240234,y:329.47723388671875,z:-10.48097848892212},{x:359.08477783203125,y:235.7911491394043,z:-18.079102039337158},{x:369.6688461303711,y:251.5407943725586,z:-14.962821006774902},{x:369.5555114746094,y:333.5307312011719,z:-15.67478060722351},{x:394.0193176269531,y:315.6973171234131,z:-.9920747578144073},{x:383.78997802734375,y:272.7268695831299,z:-4.689012169837952},{x:387.67765045166016,y:323.6722755432129,z:-5.640236139297485},{x:397.8769302368164,y:272.1331214904785,z:-.9395531564950943},{x:389.87476348876953,y:280.5630111694336,z:-4.29218202829361},{x:403.83888244628906,y:285.1167869567871,z:3.0229100584983826},{x:372.5467300415039,y:343.1070327758789,z:-16.153310537338257},{x:374.1112518310547,y:256.3721466064453,z:-10.574349164962769},{x:399.73785400390625,y:321.77515983581543,z:4.849494695663452},{x:392.03365325927734,y:330.56447982788086,z:-1.3407598435878754},{x:398.59134674072266,y:305.93902587890625,z:1.517290621995926},{x:417.95997619628906,y:290.9716987609863,z:26.89105987548828},{x:406.04541778564453,y:307.35154151916504,z:8.666064143180847},{x:420.75328826904297,y:298.40752601623535,z:41.78385257720947},{x:395.4522705078125,y:291.4153575897217,z:-2.1752697229385376},{x:368.6452102661133,y:245.8882999420166,z:-9.453888535499573},{x:370.34900665283203,y:263.56690406799316,z:-26.75100326538086},{x:374.98477935791016,y:266.6126346588135,z:-19.77146625518799},{x:366.99840545654297,y:258.12140464782715,z:-31.372904777526855},{x:371.00616455078125,y:217.63479709625244,z:5.60522198677063},{x:381.30577087402344,y:214.14087295532227,z:4.983716309070587},{x:390.1496124267578,y:213.38221549987793,z:5.593550801277161},{x:397.7696990966797,y:214.3659782409668,z:8.57852816581726},{x:403.1652069091797,y:217.65509605407715,z:13.013685941696167},{x:407.3551940917969,y:230.72525024414062,z:22.444231510162354},{x:424.0876770019531,y:251.7839241027832,z:51.16771221160889},{x:403.50196838378906,y:239.88757610321045,z:15.803166627883911},{x:397.31719970703125,y:241.49806022644043,z:11.233787536621094},{x:388.99425506591797,y:241.4366912841797,z:7.948269248008728},{x:380.7804489135742,y:239.78078842163086,z:6.600214838981628},{x:374.01336669921875,y:237.11946487426758,z:6.349278092384338},{x:369.39125061035156,y:234.35351371765137,z:5.987462401390076},{x:422.9730987548828,y:255.76455116271973,z:76.61150932312012,name:"faceOval"},{x:374.73915100097656,y:269.24214363098145,z:-16.608498096466064},{x:364.61681365966797,y:245.71088790893555,z:-20.02823829650879},{x:365.3834533691406,y:263.34174156188965,z:-32.32996463775635},{x:361.58252716064453,y:267.8273677825928,z:-30.345816612243652},{x:365.37208557128906,y:265.0249671936035,z:-29.178667068481445},{x:372.72605895996094,y:272.05135345458984,z:-14.834434986114502},{x:360.48614501953125,y:268.34827423095703,z:-32.189905643463135},{x:359.9516296386719,y:270.8049201965332,z:-24.650139808654785},{x:369.5049285888672,y:229.01945114135742,z:10.107489824295044},{x:365.5447769165039,y:230.24096488952637,z:5.593550801277161},{x:363.50669860839844,y:230.6208372116089,z:.43622106313705444},{x:399.3529510498047,y:227.65677452087402,z:15.35965085029602,name:"leftEye"},{x:402.5693130493164,y:224.60190296173096,z:15.931552648544312}],box:{xMin:277.8318977355957,yMin:168.7741756439209,xMax:424.2788314819336,yMax:359.8348903656006,width:146.4469337463379,height:191.0607147216797}},SAMPLE_FACELANDMARKER_RESULT:{faceLandmarks:[[{x:.5760777592658997,y:.8639070391654968,z:-.030997956171631813},{x:.572094738483429,y:.7886289358139038,z:-.07189624011516571},{x:.5723551511764526,y:.8075382709503174,z:-.03578168898820877},{x:.5548420548439026,y:.7188365459442139,z:-.057787876576185226},{x:.5706077814102173,y:.7674974799156189,z:-.07740399986505508},{x:.5681378245353699,y:.7387768030166626,z:-.07356284558773041},{x:.5621535181999207,y:.6681165099143982,z:-.04189874976873398},{x:.46613582968711853,y:.6679812073707581,z:.011289681307971478},{x:.5579932928085327,y:.6174106597900391,z:-.03502821549773216},{x:.5563451647758484,y:.5905600190162659,z:-.03928658738732338},{x:.5487832427024841,y:.4900572597980499,z:-.029898937791585922},{x:.5765544176101685,y:.8692144751548767,z:-.02831427752971649},{x:.5771114230155945,y:.873644232749939,z:-.02345779910683632},{x:.5771905779838562,y:.877016007900238,z:-.016658689826726913},{x:.5778058767318726,y:.8770116567611694,z:-.014505492523312569},{x:.5783766508102417,y:.8835000991821289,z:-.015996402129530907},{x:.5792440176010132,y:.8913810849189758,z:-.01924579218029976},{x:.5796768069267273,y:.8996334671974182,z:-.018261712044477463},{x:.5817288160324097,y:.9255813956260681,z:-.007126849144697189},{x:.5726592540740967,y:.7992473244667053,z:-.0643521398305893},{x:.5579419136047363,y:.7996989488601685,z:-.04566684365272522},{x:.4216199815273285,y:.5958762764930725,z:.06776496022939682},{x:.5052269697189331,y:.6796539425849915,z:-.0010737782577052712},{x:.49243026971817017,y:.6838865876197815,z:-.0005227324436418712},{x:.4796970784664154,y:.6856290102005005,z:.002684245817363262},{x:.4618356227874756,y:.6764569878578186,z:.013439622707664967},{x:.5160380601882935,y:.6737282276153564,z:-17607348127057776e-21},{x:.48070961236953735,y:.6255870461463928,z:-.008339674212038517},{x:.49719780683517456,y:.6256808042526245,z:-.008027955889701843},{x:.46674346923828125,y:.6317623853683472,z:-.004460199736058712},{x:.4582492709159851,y:.641118049621582,z:.0011905613355338573},{x:.45408669114112854,y:.6911458969116211,z:.020514748990535736},{x:.535312294960022,y:.9619986414909363,z:.012499462813138962},{x:.4608460068702698,y:.6628725528717041,z:.01517564244568348},{x:.4206731915473938,y:.6828458309173584,z:.07848648726940155},{x:.4390624463558197,y:.6796106696128845,z:.03283142298460007},{x:.5029968619346619,y:.7701570391654968,z:-.009734481573104858},{x:.5595027208328247,y:.8607323169708252,z:-.030043255537748337},{x:.5621269941329956,y:.8738374710083008,z:-.021709579974412918},{x:.5451499819755554,y:.865527331829071,z:-.022014077752828598},{x:.5351184010505676,y:.8705098032951355,z:-.011602800339460373},{x:.5495014190673828,y:.8744956254959106,z:-.016490943729877472},{x:.5395170450210571,y:.8759440779685974,z:-.007333362940698862},{x:.5183624029159546,y:.8959754705429077,z:.010520773939788342},{x:.5604349374771118,y:.7895449995994568,z:-.07082037627696991},{x:.557381272315979,y:.7687489986419678,z:-.07590588927268982},{x:.4432901442050934,y:.6308897733688354,z:.0027153254486620426},{x:.5258325338363647,y:.7151225805282593,z:-.014676518738269806},{x:.5271827578544617,y:.7833116054534912,z:-.037643320858478546},{x:.5257382988929749,y:.7717816233634949,z:-.03401920944452286},{x:.46516409516334534,y:.7705106735229492,z:.0065747760236263275},{x:.5558893084526062,y:.7420997619628906,z:-.0694495290517807},{x:.4720408320426941,y:.6066038608551025,z:-.021204356104135513},{x:.45432573556900024,y:.6158540844917297,z:-.011054684408009052},{x:.4305151402950287,y:.5608053803443909,z:.0396830290555954},{x:.5310865640640259,y:.6157484650611877,z:-.03081176057457924},{x:.5114666223526001,y:.6329749226570129,z:-.00335998204536736},{x:.506435751914978,y:.8786543607711792,z:.012980876490473747},{x:.4480472207069397,y:.8640613555908203,z:.12569651007652283},{x:.5372058153152466,y:.7942581176757812,z:-.03168361634016037},{x:.5488379597663879,y:.8001630306243896,z:-.03280917927622795},{x:.5213388204574585,y:.8794381618499756,z:.011892606504261494},{x:.5242055654525757,y:.8789222240447998,z:.008370225317776203},{x:.4477175176143646,y:.6039950251579285,z:-.0050799972377717495},{x:.526964008808136,y:.7916748523712158,z:-.02968614175915718},{x:.4971255660057068,y:.6050706505775452,z:-.028175678104162216},{x:.4938119053840637,y:.5882453918457031,z:-.03210941329598427},{x:.4757143557071686,y:.5094879865646362,z:-.01300730835646391},{x:.43947282433509827,y:.5816648006439209,z:.01415177434682846},{x:.485664039850235,y:.5477864146232605,z:-.023685332387685776},{x:.43635931611061096,y:.6226438283920288,z:.013606148771941662},{x:.42910251021385193,y:.6102726459503174,z:.03926564007997513},{x:.5605402588844299,y:.8680099248886108,z:-.027318159118294716},{x:.5474816560745239,y:.8702861070632935,z:-.019686367362737656},{x:.5373021364212036,y:.8728838562965393,z:-.010484928265213966},{x:.540735125541687,y:.7979167103767395,z:-.029073253273963928},{x:.5228585004806519,y:.87913578748703,z:.009915109723806381},{x:.530497670173645,y:.8815253973007202,z:.0020524784922599792},{x:.5259912610054016,y:.8790552616119385,z:.007895970717072487},{x:.5433906316757202,y:.7882310748100281,z:-.05121905356645584},{x:.541388213634491,y:.8777219653129578,z:-.00466804439201951},{x:.5515822172164917,y:.8767023086547852,z:-.010475946590304375},{x:.5637003779411316,y:.877059817314148,z:-.015273625031113625},{x:.5640299320220947,y:.9263423085212708,z:-.00658724969252944},{x:.5642300248146057,y:.8993074893951416,z:-.017653480172157288},{x:.5637336373329163,y:.8910360932350159,z:-.01852807030081749},{x:.5637134313583374,y:.8837276697158813,z:-.01482592523097992},{x:.564205527305603,y:.8768964409828186,z:-.01331155002117157},{x:.5419867634773254,y:.8778373599052429,z:-.0037720394320786},{x:.5404468774795532,y:.880696177482605,z:-.005610354244709015},{x:.5392338633537292,y:.8845721483230591,z:-.007352025713771582},{x:.538469672203064,y:.8891173601150513,z:-.005154991988092661},{x:.5189250111579895,y:.8452741503715515,z:-.009755070321261883},{x:.4258975088596344,y:.7662280797958374,z:.1387351155281067},{x:.5725725293159485,y:.8041572570800781,z:-.04583907872438431},{x:.5342061519622803,y:.8785833120346069,z:.002659974154084921},{x:.5324031114578247,y:.8804071545600891,z:.0017832003068178892},{x:.5538818836212158,y:.8078407645225525,z:-.03254539892077446},{x:.5325431823730469,y:.8026832938194275,z:-.019140373915433884},{x:.5514076948165894,y:.8043903112411499,z:-.03313535451889038},{x:.5131856203079224,y:.7284771800041199,z:-.009399853646755219},{x:.49331504106521606,y:.7443980574607849,z:-.005225230939686298},{x:.5239617824554443,y:.7807451486587524,z:-.025881027802824974},{x:.4473606050014496,y:.5315827131271362,z:.011164786294102669},{x:.45718759298324585,y:.5604941248893738,z:-.005943301599472761},{x:.4670005738735199,y:.5909327268600464,z:-.019681761041283607},{x:.5311570167541504,y:.9076261520385742,z:.00389476353302598},{x:.5249923467636108,y:.5893563628196716,z:-.037981919944286346},{x:.5166932344436646,y:.5429551005363464,z:-.03319704160094261},{x:.5085030198097229,y:.49676206707954407,z:-.02691275253891945},{x:.4687720239162445,y:.6834565997123718,z:.008113506250083447},{x:.4426414966583252,y:.7069531679153442,z:.028577271848917007},{x:.5230373740196228,y:.6675713658332825,z:.001773772411979735},{x:.4481240212917328,y:.6527872085571289,z:.012414850294589996},{x:.5339856743812561,y:.7012367844581604,z:-.020220188423991203},{x:.5347223281860352,y:.7761190533638,z:-.05141595005989075},{x:.4315067231655121,y:.7211957573890686,z:.04381405934691429},{x:.45203351974487305,y:.7206180095672607,z:.017288070172071457},{x:.46892452239990234,y:.7265436053276062,z:.005602988880127668},{x:.49314674735069275,y:.7202282547950745,z:-.0006408205372281373},{x:.5104925632476807,y:.7091827392578125,z:-.00362918758764863},{x:.5232142210006714,y:.698553740978241,z:-.00787867046892643},{x:.5497883558273315,y:.6743605136871338,z:-.036349106580019},{x:.43658503890037537,y:.7627100348472595,z:.042555369436740875},{x:.4397648870944977,y:.6528646349906921,z:.017956094816327095},{x:.5653332471847534,y:.7992802858352661,z:-.06365057826042175},{x:.5285563468933105,y:.736810564994812,z:-.018836988136172295},{x:.4180678725242615,y:.6792560815811157,z:.12284679710865021},{x:.5328429937362671,y:.6865872144699097,z:-.010484723374247551},{x:.5230283141136169,y:.7809416055679321,z:-.011922398582100868},{x:.4551771283149719,y:.6650775074958801,z:.01774493046104908},{x:.5337203741073608,y:.7618928551673889,z:-.04697106033563614},{x:.43463975191116333,y:.8133478164672852,z:.1354849934577942},{x:.5225707292556763,y:.6605283617973328,z:.004980515688657761},{x:.5441933870315552,y:.7497199773788452,z:-.06091512367129326},{x:.4774007797241211,y:.9159183502197266,z:.059622734785079956},{x:.48068761825561523,y:.9364941716194153,z:.08404944837093353},{x:.4268292486667633,y:.7657528519630432,z:.09051097184419632},{x:.46051913499832153,y:.8880485892295837,z:.0738474428653717},{x:.4243420660495758,y:.6434382200241089,z:.06230505183339119},{x:.5342157483100891,y:.9835634231567383,z:.021662971004843712},{x:.5668109655380249,y:.8042187094688416,z:-.044937074184417725},{x:.5176341533660889,y:.7530587315559387,z:-.012967454269528389},{x:.430206298828125,y:.6835605502128601,z:.04612284153699875},{x:.4794231951236725,y:.6732114553451538,z:.003970044665038586},{x:.49073347449302673,y:.6722435355186462,z:.0008692514384165406},{x:.5294116139411926,y:.884677529335022,z:.004413890186697245},{x:.4430122375488281,y:.80235356092453,z:.04987282305955887},{x:.5603825449943542,y:1.0092442035675049,z:.026417359709739685},{x:.5186598300933838,y:.9828659892082214,z:.0513598807156086},{x:.5010536909103394,y:.9640932679176331,z:.06591596454381943},{x:.5524769425392151,y:.539441704750061,z:-.035816047340631485},{x:.5879997611045837,y:1.0091472864151,z:.02285068854689598},{x:.5016193985939026,y:.6684437990188599,z:.00028415941051207483},{x:.511952817440033,y:.6642197370529175,z:.0021144719794392586},{x:.5194343328475952,y:.6623469591140747,z:.004674181342124939},{x:.4321230351924896,y:.6496355533599854,z:.03124697133898735},{x:.508686363697052,y:.6479565501213074,z:-.00044765998609364033},{x:.4963986277580261,y:.6431032419204712,z:-.0032507688738405704},{x:.4845542013645172,y:.6430778503417969,z:-.002903624437749386},{x:.4733612537384033,y:.647506833076477,z:.00023347247042693198},{x:.4668654501438141,y:.653346598148346,z:.004762572236359119},{x:.41815051436424255,y:.633708119392395,z:.09809435904026031},{x:.47159942984580994,y:.6711485385894775,z:.007849935442209244},{x:.5734396576881409,y:.8256140351295471,z:-.03155219927430153},{x:.5306524038314819,y:.8337990641593933,z:-.018351426348090172},{x:.5371729135513306,y:.7910830974578857,z:-.037286680191755295},{x:.5549534559249878,y:.8275275826454163,z:-.030664825811982155},{x:.5597432255744934,y:.6418541669845581,z:-.03318847343325615},{x:.4958484172821045,y:.9429569244384766,z:.048340678215026855},{x:.5140507817268372,y:.9634028077125549,z:.03589847311377525},{x:.5587693452835083,y:.9951097369194031,z:.00908728688955307},{x:.46411189436912537,y:.9051855206489563,z:.10601935535669327},{x:.5181609392166138,y:.6554316878318787,z:.002546071307733655},{x:.5436590909957886,y:.7085841298103333,z:-.03844436630606651},{x:.5872187614440918,y:.9960382580757141,z:.0063423276878893375},{x:.5379653573036194,y:.9989125728607178,z:.03636329993605614},{x:.4350326955318451,y:.8088565468788147,z:.09147704392671585},{x:.5523084998130798,y:.8773422837257385,z:-.009068487212061882},{x:.5510149598121643,y:.8816931843757629,z:-.011043853126466274},{x:.5503793954849243,y:.88776695728302,z:-.01348799467086792},{x:.5501549243927002,y:.8954370617866516,z:-.012142189778387547},{x:.546072781085968,y:.9192524552345276,z:-.003157563041895628},{x:.5314661860466003,y:.8771666884422302,z:.0005075141089037061},{x:.5293324589729309,y:.8762547969818115,z:.00039177737198770046},{x:.5275698900222778,y:.8750609755516052,z:47732755774632096e-21},{x:.5104271173477173,y:.8607332110404968,z:.0012934643309563398},{x:.45938700437545776,y:.8134918212890625,z:.023569690063595772},{x:.5418947339057922,y:.6864100694656372,z:-.027333909645676613},{x:.531914234161377,y:.6456130743026733,z:-.005434140563011169},{x:.523697018623352,y:.647885262966156,z:-.0002466466394253075},{x:.5338191390037537,y:.8783687353134155,z:.002268768846988678},{x:.46226605772972107,y:.8610277771949768,z:.04718952998518944},{x:.5434442758560181,y:.6456181406974792,z:-.02327350154519081},{x:.5399754643440247,y:.940219521522522,z:.005075343884527683},{x:.5661457777023315,y:.71457839012146,z:-.06242101639509201},{x:.5523148775100708,y:.6974870562553406,z:-.04863070324063301},{x:.5639959573745728,y:.6923378109931946,z:-.05180761218070984},{x:.5367592573165894,y:.7423217296600342,z:-.03623027727007866},{x:.5853689908981323,y:.9752064943313599,z:-.002361974213272333},{x:.5835235118865967,y:.9493685960769653,z:-.003941743168979883},{x:.5615018606185913,y:.949194610118866,z:-.0015953965485095978},{x:.5068561434745789,y:.9048219323158264,z:.01862684078514576},{x:.5134067535400391,y:.7971825003623962,z:-.008485661819577217},{x:.5223897099494934,y:.925589919090271,z:.01249657291918993},{x:.48500555753707886,y:.7959478497505188,z:-.0032065745908766985},{x:.5037734508514404,y:.8184596300125122,z:-.004932103678584099},{x:.4766361117362976,y:.828806459903717,z:.01027688942849636},{x:.5589827299118042,y:.974656343460083,z:.0009666886180639267},{x:.5294582843780518,y:.7541216611862183,z:-.025603046640753746},{x:.4973002076148987,y:.9208990931510925,z:.031931452453136444},{x:.5163551568984985,y:.9432790875434875,z:.024321340024471283},{x:.49399662017822266,y:.8814862370491028,z:.018687399104237556},{x:.44948166608810425,y:.836137592792511,z:.05702034756541252},{x:.47898444533348083,y:.8836610913276672,z:.03150695189833641},{x:.4454479217529297,y:.8499438166618347,z:.08868525922298431},{x:.49572959542274475,y:.8452823758125305,z:.0036111653316766024},{x:.5362502336502075,y:.7222585678100586,z:-.027912352234125137},{x:.5393770337104797,y:.7850722074508667,z:-.05415399745106697},{x:.531399667263031,y:.7898418307304382,z:-.03883346915245056},{x:.5451627373695374,y:.7717036604881287,z:-.06480253487825394},{x:.5206395983695984,y:.6287745833396912,z:-.010521138086915016},{x:.4974782466888428,y:.6191938519477844,z:-.014098240062594414},{x:.4774145185947418,y:.6193130612373352,z:-.013643337413668633},{x:.4616098403930664,y:.6259890198707581,z:-.008448202162981033},{x:.4516478478908539,y:.6368461847305298,z:9050309745362028e-20},{x:.4485096037387848,y:.6719120740890503,z:.022984720766544342},{x:.42177659273147583,y:.7240667343139648,z:.08511673659086227},{x:.4616215229034424,y:.6988231539726257,z:.014238474890589714},{x:.4755798876285553,y:.7034608721733093,z:.00625590980052948},{x:.4924992024898529,y:.7005885243415833,z:.0009391739731654525},{x:.5082254409790039,y:.693384051322937,z:-.0009464038303121924},{x:.5203112959861755,y:.6849707961082458,z:-.0022114769089967012},{x:.52867591381073,y:.6779075860977173,z:-.002962538506835699},{x:.4213953912258148,y:.7219811677932739,z:.1350894570350647},{x:.5320829749107361,y:.794858992099762,z:-.03181503340601921},{x:.5452795028686523,y:.7286570072174072,z:-.04771539941430092},{x:.5496407747268677,y:.7866933345794678,z:-.06452003121376038},{x:.557040274143219,y:.7962084412574768,z:-.05837344378232956},{x:.549176812171936,y:.7895247936248779,z:-.057761140167713165},{x:.5362890362739563,y:.8005836606025696,z:-.026903774589300156},{x:.560200035572052,y:.7983731031417847,z:-.06172555685043335},{x:.5616944432258606,y:.8022753596305847,z:-.045200999826192856},{x:.5273328423500061,y:.6611284017562866,z:.0029021520167589188},{x:.534850537776947,y:.6660012006759644,z:-.005215510260313749},{x:.5394860506057739,y:.6701375246047974,z:-.014931917190551758},{x:.4634307324886322,y:.658291757106781,z:.009295716881752014},{x:.4538393020629883,y:.6519932150840759,z:.00930330716073513},{x:.5776031613349915,y:.7159298658370972,z:-.057365912944078445},{x:.6504855155944824,y:.6461779475212097,z:.014184834435582161},{x:.5860154032707214,y:.7962266206741333,z:-.04522843658924103},{x:.6842049360275269,y:.5631637573242188,z:.07207967340946198},{x:.6152560710906982,y:.6674962639808655,z:.0007529259892180562},{x:.6280948519706726,y:.6684326529502869,z:.0016892586136236787},{x:.6408625245094299,y:.6663892269134521,z:.005331226624548435},{x:.6557814478874207,y:.6534678936004639,z:.01646413467824459},{x:.6035663485527039,y:.6639701724052429,z:.0013799630105495453},{x:.6329053044319153,y:.608010470867157,z:-.006195899099111557},{x:.6167260408401489,y:.6117533445358276,z:-.006319951266050339},{x:.6471013426780701,y:.6112449765205383,z:-.0017843559617176652},{x:.6560901999473572,y:.6185776591300964,z:.004047257360070944},{x:.6666946411132812,y:.6651176810264587,z:.023647578433156013},{x:.6311345100402832,y:.9495396018028259,z:.014004078693687916},{x:.6544655561447144,y:.6397901773452759,z:.01809609681367874},{x:.6965808868408203,y:.6482675075531006,z:.08304904401302338},{x:.679817259311676,y:.650188148021698,z:.03632688894867897},{x:.6336516737937927,y:.7541458010673523,z:-.007742783520370722},{x:.5921701192855835,y:.8567668199539185,z:-.029399123042821884},{x:.591663658618927,y:.870215654373169,z:-.02103729173541069},{x:.6068367958068848,y:.8584195375442505,z:-.020668085664510727},{x:.6176617741584778,y:.860965371131897,z:-.009790095500648022},{x:.6040634512901306,y:.8686612844467163,z:-.015289564616978168},{x:.6143736839294434,y:.8671170473098755,z:-.005712216719985008},{x:.6373105049133301,y:.8815656900405884,z:.012672550976276398},{x:.5832505822181702,y:.7866312861442566,z:-.07051534950733185},{x:.5836675763130188,y:.7658692598342896,z:-.07566110789775848},{x:.6709531545639038,y:.604898989200592,z:.005951565690338612},{x:.6029891967773438,y:.705652117729187,z:-.013388276100158691},{x:.6131622195243835,y:.7728396058082581,z:-.036248479038476944},{x:.6123163104057312,y:.7612020373344421,z:-.03264721855521202},{x:.6696187853813171,y:.744706928730011,z:.009673702530562878},{x:.5803102254867554,y:.7385968565940857,z:-.0689152330160141},{x:.6404349207878113,y:.5877999663352966,z:-.01929756999015808},{x:.6588467955589294,y:.5929454565048218,z:-.008487257175147533},{x:.6720337867736816,y:.530631422996521,z:.043437421321868896},{x:.584305465221405,y:.6099005341529846,z:-.030301367864012718},{x:.6034283638000488,y:.6217452883720398,z:-.001970183802768588},{x:.6460927724838257,y:.8608663082122803,z:.015541625209152699},{x:.6957815289497375,y:.8326103091239929,z:.13015234470367432},{x:.6043362617492676,y:.7861682772636414,z:-.030476901680231094},{x:.594293475151062,y:.7942103147506714,z:-.032218821346759796},{x:.6324057579040527,y:.8665139675140381,z:.014255806803703308},{x:.6296147704124451,y:.8667733669281006,z:.010388285852968693},{x:.663644552230835,y:.5798642635345459,z:-.0022301070857793093},{x:.6140630841255188,y:.7809288501739502,z:-.02835679054260254},{x:.615908145904541,y:.5921698212623596,z:-.026804860681295395},{x:.617181122303009,y:.5748661756515503,z:-.03060605563223362},{x:.6222207546234131,y:.49137672781944275,z:-.011151673272252083},{x:.6669357419013977,y:.5541607141494751,z:.017466170713305473},{x:.6182981729507446,y:.5320425629615784,z:-.021793590858578682},{x:.6760554313659668,y:.595052182674408,z:.017115700989961624},{x:.6801463961601257,y:.5800720453262329,z:.043127160519361496},{x:.5922210812568665,y:.8644017577171326,z:-.02662893570959568},{x:.6054555177688599,y:.8637874722480774,z:-.018363753333687782},{x:.6161889433860779,y:.8641164898872375,z:-.008808949030935764},{x:.6017249822616577,y:.7901403307914734,z:-.028126630932092667},{x:.631446123123169,y:.8664817810058594,z:.012112865224480629},{x:.6249198913574219,y:.8716511130332947,z:.003882825840264559},{x:.6281915903091431,y:.867301881313324,z:.009891441091895103},{x:.5986843109130859,y:.7813931703567505,z:-.050227612257003784},{x:.6126407384872437,y:.869275689125061,z:-.0031255714129656553},{x:.6027271151542664,y:.8711842894554138,z:-.009324162267148495},{x:.59088134765625,y:.8742044568061829,z:-.014608660712838173},{x:.5984604358673096,y:.9216185212135315,z:-.005981989670544863},{x:.5950398445129395,y:.8964707255363464,z:-.01703473925590515},{x:.5941568613052368,y:.8882410526275635,z:-.017784785479307175},{x:.5928806662559509,y:.8803883194923401,z:-.014153128489851952},{x:.5909661054611206,y:.8748103976249695,z:-.012609979137778282},{x:.6128016710281372,y:.8702545762062073,z:-.0022550546564161777},{x:.6150846481323242,y:.8726804256439209,z:-.00414019962772727},{x:.6173093914985657,y:.8770190477371216,z:-.005970994010567665},{x:.619335412979126,y:.8814800977706909,z:-.0036864024586975574},{x:.6292637586593628,y:.8314558267593384,z:-.007714875973761082},{x:.702275276184082,y:.7320667505264282,z:.1433621346950531},{x:.6204835176467896,y:.8689177632331848,z:.0044869170524179935},{x:.6223508715629578,y:.8704851269721985,z:.00352082890458405},{x:.590448260307312,y:.8029727935791016,z:-.03200828656554222},{x:.6097423434257507,y:.7933741211891174,z:-.018042555078864098},{x:.59229576587677,y:.7993767261505127,z:-.032564569264650345},{x:.6171364188194275,y:.7153720259666443,z:-.007672437466681004},{x:.6389747858047485,y:.726390540599823,z:-.002999067772179842},{x:.6151940226554871,y:.769412100315094,z:-.024427521973848343},{x:.6526776552200317,y:.505868136882782,z:.01412637997418642},{x:.6475822329521179,y:.5375454425811768,z:-.0033899128902703524},{x:.6433356404304504,y:.5714520215988159,z:-.017428796738386154},{x:.626949667930603,y:.8962116837501526,z:.005602736957371235},{x:.5868416428565979,y:.5829002261161804,z:-.03727729618549347},{x:.5877229571342468,y:.5345035791397095,z:-.032396964728832245},{x:.5887066125869751,y:.48655083775520325,z:-.025856535881757736},{x:.6507197618484497,y:.6612282991409302,z:.011114613153040409},{x:.6803066730499268,y:.677992045879364,z:.032125361263751984},{x:.5963194370269775,y:.6598632335662842,z:.002976928371936083},{x:.667536199092865,y:.6274255514144897,z:.015618261881172657},{x:.5930740833282471,y:.6940041780471802,z:-.019217798486351967},{x:.6053346395492554,y:.7676517963409424,z:-.050308309495449066},{x:.6934473514556885,y:.6884298920631409,z:.04794462397694588},{x:.6738007664680481,y:.6934011578559875,z:.020697161555290222},{x:.6588084697723389,y:.7033141851425171,z:.008462334051728249},{x:.6346072554588318,y:.7029502391815186,z:.001542167621664703},{x:.6157816648483276,y:.6966525912284851,z:-.002009218093007803},{x:.6015574336051941,y:.688928484916687,z:-.006588225718587637},{x:.5746836066246033,y:.6711069345474243,z:-.03597589209675789},{x:.6947521567344666,y:.7309479117393494,z:.046707939356565475},{x:.6759101152420044,y:.6249120831489563,z:.021654341369867325},{x:.5794773101806641,y:.7971615195274353,z:-.06339326500892639},{x:.6041849851608276,y:.727514922618866,z:-.017512541264295578},{x:.6968844532966614,y:.6440950036048889,z:.12727996706962585},{x:.5910853147506714,y:.679325520992279,z:-.009497715160250664},{x:.6157375574111938,y:.7695677280426025,z:-.010624290443956852},{x:.6606494784355164,y:.6410489678382874,z:.0208158977329731},{x:.6040687561035156,y:.7531470656394958,z:-.045887019485235214},{x:.7012156248092651,y:.780247151851654,z:.14028730988502502},{x:.595149576663971,y:.6527782678604126,z:.006308757700026035},{x:.5925500392913818,y:.7436665892601013,z:-.060151755809783936},{x:.6780198812484741,y:.8905693888664246,z:.0626060739159584},{x:.676746666431427,y:.9113880395889282,z:.08726003766059875},{x:.7030686140060425,y:.7312687635421753,z:.09529774636030197},{x:.688987135887146,y:.8588417172431946,z:.07752864807844162},{x:.6883691549301147,y:.6109960675239563,z:.06669612973928452},{x:.6358906030654907,y:.9702065587043762,z:.023120900616049767},{x:.5781539678573608,y:.8023634552955627,z:-.044763918966054916},{x:.6170316934585571,y:.7408350706100464,z:-.011375460773706436},{x:.688542366027832,y:.6516284346580505,z:.050206027925014496},{x:.6385149359703064,y:.6540714502334595,z:.006462941411882639},{x:.6279382109642029,y:.6563615798950195,z:.003062846139073372},{x:.6268895268440247,y:.8736732006072998,z:.00627936702221632},{x:.6944946050643921,y:.7709181308746338,z:.053824134171009064},{x:.614617109298706,y:1.0022112131118774,z:.02719894051551819},{x:.6493719220161438,y:.9665167927742004,z:.053563784807920456},{x:.6624587178230286,y:.943530797958374,z:.068605437874794},{x:.6162528991699219,y:.6558693051338196,z:.002187855076044798},{x:.6058168411254883,y:.654328465461731,z:.0036193584091961384},{x:.5987918972969055,y:.6536934971809387,z:.006134530063718557},{x:.6831037402153015,y:.6195642948150635,z:.03511790186166763},{x:.6062582731246948,y:.6356398463249207,z:.001280312892049551},{x:.6174948811531067,y:.62776118516922,z:-.0013642468256875873},{x:.6297246217727661,y:.6253792643547058,z:-.0007034156005829573},{x:.6407091617584229,y:.627578616142273,z:.0028144705574959517},{x:.6479622721672058,y:.6322650909423828,z:.00750273372977972},{x:.6915091276168823,y:.5990704298019409,z:.10270945727825165},{x:.6457163095474243,y:.6504453420639038,z:.010696077719330788},{x:.6164222955703735,y:.8231936097145081,z:-.016772059723734856},{x:.6042401194572449,y:.7830976843833923,z:-.03630910441279411},{x:.5922216773033142,y:.8228387236595154,z:-.029992375522851944},{x:.6646111011505127,y:.92097008228302,z:.050967294722795486},{x:.651232898235321,y:.9460107088088989,z:.038000158965587616},{x:.6140977144241333,y:.9882472157478333,z:.009882091544568539},{x:.6870781183242798,y:.8768675327301025,z:.10980932414531708},{x:.5986856818199158,y:.6456438899040222,z:.003999010659754276},{x:.585981547832489,y:.7034481763839722,z:-.0377722829580307},{x:.6342031359672546,y:.9867448806762695,z:.03786521404981613},{x:.7013950943946838,y:.776049017906189,z:.09598205983638763},{x:.6030206680297852,y:.8719133138656616,z:-.007931148633360863},{x:.6050592064857483,y:.8767156004905701,z:-.009791925549507141},{x:.6073468923568726,y:.8831382393836975,z:-.012361008673906326},{x:.6087977290153503,y:.890143632888794,z:-.01098148338496685},{x:.6147705316543579,y:.9110084772109985,z:-.0018823575228452682},{x:.622577965259552,y:.8670604825019836,z:.002609190298244357},{x:.6241236329078674,y:.8651344180107117,z:.0025534380692988634},{x:.6257084608078003,y:.8638408184051514,z:.0023300074972212315},{x:.639931321144104,y:.8449671268463135,z:.0038123116828501225},{x:.6810906529426575,y:.7856625318527222,z:.02717764675617218},{x:.583532452583313,y:.6811994910240173,z:-.026588857173919678},{x:.5855660438537598,y:.6393819451332092,z:-.004512844607234001},{x:.5932201743125916,y:.6398029327392578,z:.0008020466193556786},{x:.6200879812240601,y:.8683351874351501,z:.00417016725987196},{x:.6842559576034546,y:.8330534100532532,z:.050836317241191864},{x:.5754412412643433,y:.6418221592903137,z:-.022838059812784195},{x:.6232790350914001,y:.9295297265052795,z:.006339520215988159},{x:.5764067769050598,y:.694546639919281,z:-.04825803264975548},{x:.59778892993927,y:.7343927621841431,z:-.035004377365112305},{x:.6042810678482056,y:.9441440105438232,z:-.0010970570147037506},{x:.6496372222900391,y:.8869078159332275,z:.021036235615611076},{x:.6274012327194214,y:.7830310463905334,z:-.006658440921455622},{x:.637792706489563,y:.9104999899864197,z:.014290250837802887},{x:.6549934148788452,y:.7748609185218811,z:-.0006672973395325243},{x:.6404005289077759,y:.801220715045929,z:-.0026642554439604282},{x:.6671456694602966,y:.8045546412467957,z:.013180811889469624},{x:.6107483506202698,y:.9680658578872681,z:.001778992242179811},{x:.6060343980789185,y:.744587242603302,z:-.024382334202528},{x:.6602751612663269,y:.8998945355415344,z:.0344940721988678},{x:.6463775038719177,y:.9262562394142151,z:.02617623284459114},{x:.6579852104187012,y:.8602304458618164,z:.021586716175079346},{x:.6926165223121643,y:.8053340315818787,z:.061075080186128616},{x:.6724731922149658,y:.8594399690628052,z:.03457934781908989},{x:.6975721716880798,y:.8183245062828064,z:.09300774335861206},{x:.6512877941131592,y:.8258221745491028,z:.006324059329926968},{x:.594887375831604,y:.7148372530937195,z:-.026898479089140892},{x:.6017440557479858,y:.7773507833480835,z:-.05312420800328255},{x:.6096571683883667,y:.7806998491287231,z:-.037646256387233734},{x:.5952993035316467,y:.7654367685317993,z:-.06398405134677887},{x:.5950021147727966,y:.6201304793357849,z:-.009297547861933708},{x:.6165438890457153,y:.6052900552749634,z:-.012455573305487633},{x:.6362661719322205,y:.6015968918800354,z:-.011649220250546932},{x:.6522727608680725,y:.6046400666236877,z:-.005903332494199276},{x:.6625409722328186,y:.6128141283988953,z:.0030042496509850025},{x:.6688099503517151,y:.6457712054252625,z:.026322703808546066},{x:.7013440728187561,y:.6893666386604309,z:.08984331786632538},{x:.6608623266220093,y:.6749406456947327,z:.0172116681933403},{x:.6482325196266174,y:.6823726296424866,z:.008881398476660252},{x:.6313265562057495,y:.6842025518417358,z:.0031308617908507586},{x:.6147016286849976,y:.6809731721878052,z:.0007630771724507213},{x:.6018834114074707,y:.6755372285842896,z:-.0008834321051836014},{x:.5925027132034302,y:.670681357383728,z:-.001968748401850462},{x:.700127363204956,y:.6871103644371033,z:.13980500400066376},{x:.6095665693283081,y:.7853189706802368,z:-.03074747882783413},{x:.5880423784255981,y:.7229287028312683,z:-.04691500961780548},{x:.5930182337760925,y:.7811514139175415,z:-.06398335844278336},{x:.5867722034454346,y:.7922660112380981,z:-.05794971063733101},{x:.5933279991149902,y:.7842848896980286,z:-.05714067071676254},{x:.6063535809516907,y:.7920218706130981,z:-.02590685710310936},{x:.5839452743530273,y:.794978141784668,z:-.0615212507545948},{x:.5828126072883606,y:.8000800013542175,z:-.0449722595512867},{x:.5909603834152222,y:.6541213393211365,z:.003991890233010054},{x:.5852181911468506,y:.6602938771247864,z:-.004428438376635313},{x:.5825737714767456,y:.6651063561439514,z:-.014345290139317513},{x:.6517343521118164,y:.6362385153770447,z:.012151890434324741},{x:.6615052819252014,y:.6281577944755554,z:.0123682152479887},{x:.4856873154640198,y:.6568945646286011,z:.000720038078725338},{x:.49988406896591187,y:.6547410488128662,z:.0006949726957827806},{x:.48438939452171326,y:.6392973065376282,z:.000705525919329375},{x:.47143134474754333,y:.6589511632919312,z:.0006980331381782889},{x:.48704618215560913,y:.6752797961235046,z:.0006921177846379578},{x:.6243702173233032,y:.640461802482605,z:-6592126737814397e-20},{x:.6390967965126038,y:.6385173797607422,z:-.00016105435497593135},{x:.6230536699295044,y:.6224825382232666,z:-.00016136496560648084},{x:.6095397472381592,y:.641917884349823,z:-.0001803556369850412},{x:.6250996589660645,y:.6586247682571411,z:-.0001785515050869435}]],faceBlendshapes:[{categories:[{index:0,score:5187174338061595e-21,categoryName:"_neutral",displayName:""},{index:1,score:.24521504342556,categoryName:"browDownLeft",displayName:""},{index:2,score:.1987743377685547,categoryName:"browDownRight",displayName:""},{index:3,score:.013400448486208916,categoryName:"browInnerUp",displayName:""},{index:4,score:.012361560948193073,categoryName:"browOuterUpLeft",displayName:""},{index:5,score:.019305096939206123,categoryName:"browOuterUpRight",displayName:""},{index:6,score:28426356948330067e-21,categoryName:"cheekPuff",displayName:""},{index:7,score:34500112633395474e-23,categoryName:"cheekSquintLeft",displayName:""},{index:8,score:483789051486383e-21,categoryName:"cheekSquintRight",displayName:""},{index:9,score:.07650448381900787,categoryName:"eyeBlinkLeft",displayName:""},{index:10,score:.05070012807846069,categoryName:"eyeBlinkRight",displayName:""},{index:11,score:.13978900015354156,categoryName:"eyeLookDownLeft",displayName:""},{index:12,score:.14198613166809082,categoryName:"eyeLookDownRight",displayName:""},{index:13,score:.2177766114473343,categoryName:"eyeLookInLeft",displayName:""},{index:14,score:.014739357866346836,categoryName:"eyeLookInRight",displayName:""},{index:15,score:.02361512929201126,categoryName:"eyeLookOutLeft",displayName:""},{index:16,score:.19679604470729828,categoryName:"eyeLookOutRight",displayName:""},{index:17,score:.04874616861343384,categoryName:"eyeLookUpLeft",displayName:""},{index:18,score:.049392376095056534,categoryName:"eyeLookUpRight",displayName:""},{index:19,score:.34944331645965576,categoryName:"eyeSquintLeft",displayName:""},{index:20,score:.2939716875553131,categoryName:"eyeSquintRight",displayName:""},{index:21,score:.005955042317509651,categoryName:"eyeWideLeft",displayName:""},{index:22,score:.006776117719709873,categoryName:"eyeWideRight",displayName:""},{index:23,score:16942436559475027e-21,categoryName:"jawForward",displayName:""},{index:24,score:.0045165494084358215,categoryName:"jawLeft",displayName:""},{index:25,score:.07803940027952194,categoryName:"jawOpen",displayName:""},{index:26,score:2090057751047425e-20,categoryName:"jawRight",displayName:""},{index:27,score:.06032035872340202,categoryName:"mouthClose",displayName:""},{index:28,score:.00228882092051208,categoryName:"mouthDimpleLeft",displayName:""},{index:29,score:.00781762320548296,categoryName:"mouthDimpleRight",displayName:""},{index:30,score:.0017093931091949344,categoryName:"mouthFrownLeft",displayName:""},{index:31,score:.0019319106359034777,categoryName:"mouthFrownRight",displayName:""},{index:32,score:8485237776767462e-20,categoryName:"mouthFunnel",displayName:""},{index:33,score:.0009051355300471187,categoryName:"mouthLeft",displayName:""},{index:34,score:.0003630454302765429,categoryName:"mouthLowerDownLeft",displayName:""},{index:35,score:.00017601238505449146,categoryName:"mouthLowerDownRight",displayName:""},{index:36,score:.12865161895751953,categoryName:"mouthPressLeft",displayName:""},{index:37,score:.20137207210063934,categoryName:"mouthPressRight",displayName:""},{index:38,score:.0022203284315764904,categoryName:"mouthPucker",displayName:""},{index:39,score:.0009096377179957926,categoryName:"mouthRight",displayName:""},{index:40,score:.34189721941947937,categoryName:"mouthRollLower",displayName:""},{index:41,score:.11409689486026764,categoryName:"mouthRollUpper",displayName:""},{index:42,score:.17172536253929138,categoryName:"mouthShrugLower",displayName:""},{index:43,score:.004038424696773291,categoryName:"mouthShrugUpper",displayName:""},{index:44,score:.00023205230536404997,categoryName:"mouthSmileLeft",displayName:""},{index:45,score:.00019313619122840464,categoryName:"mouthSmileRight",displayName:""},{index:46,score:.0018571305554360151,categoryName:"mouthStretchLeft",displayName:""},{index:47,score:.0023813238367438316,categoryName:"mouthStretchRight",displayName:""},{index:48,score:24323100660694763e-21,categoryName:"mouthUpperUpLeft",displayName:""},{index:49,score:3161552012898028e-20,categoryName:"mouthUpperUpRight",displayName:""},{index:50,score:108198406678639e-21,categoryName:"noseSneerLeft",displayName:""},{index:51,score:12652527630052646e-22,categoryName:"noseSneerRight",displayName:""}],headIndex:-1,headName:""}],facialTransformationMatrixes:[{rows:4,columns:4,data:[.9947517514228821,.10230544209480286,.0013679931871592999,0,-.10230997204780579,.9947447776794434,.003816320328041911,0,-.000970348424743861,-.0039362297393381596,.9999914169311523,0,2.8888821601867676,-7.808934211730957,-30.52109146118164,1]}]}};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vision={},fileset_resolver={};let supportsSimd;Object.defineProperty(fileset_resolver,"__esModule",{value:!0}),fileset_resolver.FilesetResolver=void 0;const WASM_SIMD_CHECK=new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]);async function isSimdSupported(){if(supportsSimd===void 0)try{await WebAssembly.instantiate(WASM_SIMD_CHECK),supportsSimd=!0}catch{supportsSimd=!1}return supportsSimd}async function createFileset(u,p=""){const g=await isSimdSupported()?"wasm_internal":"wasm_nosimd_internal";return{wasmLoaderPath:`${p}/${u}_${g}.js`,wasmBinaryPath:`${p}/${u}_${g}.wasm`}}class FilesetResolver$1{static isSimdSupported(){return isSimdSupported()}static forAudioTasks(p){return createFileset("audio",p)}static forTextTasks(p){return createFileset("text",p)}static forVisionTasks(p){return createFileset("vision",p)}}fileset_resolver.FilesetResolver=FilesetResolver$1;var drawing_utils={};Object.defineProperty(drawing_utils,"__esModule",{value:!0}),drawing_utils.DrawingUtils=void 0;const DEFAULT_OPTIONS={color:"white",lineWidth:4,radius:6};function addDefaultOptions(u){return u=u||{},Object.assign(Object.assign(Object.assign({},DEFAULT_OPTIONS),{fillColor:u.color}),u)}function resolve(u,p){return u instanceof Function?u(p):u}class DrawingUtils$1{constructor(p){this.ctx=p}static clamp(p,g,_){const y=Math.min(g,_),m=Math.max(g,_);return Math.max(y,Math.min(m,p))}static lerp(p,g,_,y,m){const h=y*(1-(p-g)/(_-g))+m*(1-(_-p)/(_-g));return DrawingUtils$1.clamp(h,y,m)}drawLandmarks(p,g){if(!p)return;const _=this.ctx,y=addDefaultOptions(g);_.save();const m=_.canvas;let h=0;for(const b of p){_.fillStyle=resolve(y.fillColor,{index:h,from:b}),_.strokeStyle=resolve(y.color,{index:h,from:b}),_.lineWidth=resolve(y.lineWidth,{index:h,from:b});const x=new Path2D;x.arc(b.x*m.width,b.y*m.height,resolve(y.radius,{index:h,from:b}),0,2*Math.PI),_.fill(x),_.stroke(x),++h}_.restore()}drawConnectors(p,g,_){if(!p||!g)return;const y=this.ctx,m=addDefaultOptions(_);y.save();const h=y.canvas;let b=0;for(const x of g){y.beginPath();const O=p[x.start],T=p[x.end];O&&T&&(y.strokeStyle=resolve(m.color,{index:b,from:O,to:T}),y.lineWidth=resolve(m.lineWidth,{index:b,from:O,to:T}),y.moveTo(O.x*h.width,O.y*h.height),y.lineTo(T.x*h.width,T.y*h.height)),++b,y.stroke()}y.restore()}drawBoundingBox(p,g){const _=this.ctx,y=addDefaultOptions(g);_.save(),_.beginPath(),_.lineWidth=resolve(y.lineWidth,{}),_.strokeStyle=resolve(y.color,{}),_.fillStyle=resolve(y.fillColor,{}),_.moveTo(p.originX,p.originY),_.lineTo(p.originX+p.width,p.originY),_.lineTo(p.originX+p.width,p.originY+p.height),_.lineTo(p.originX,p.originY+p.height),_.lineTo(p.originX,p.originY),_.stroke(),_.fill(),_.restore()}}drawing_utils.DrawingUtils=DrawingUtils$1;var image={},image_shader_context={};Object.defineProperty(image_shader_context,"__esModule",{value:!0}),image_shader_context.MPImageShaderContext=image_shader_context.assertNotNull=void 0;const VERTEX_SHADER=`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,FRAGMENT_SHADER=`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D inputTexture;
   void main() {
     gl_FragColor = texture2D(inputTexture, vTex);
   }
 `;function assertNotNull(u,p){if(u===null)throw new Error(`Unable to obtain required WebGL resource: ${p}`);return u}image_shader_context.assertNotNull=assertNotNull;class MPImageShaderBuffers{constructor(p,g,_,y){this.gl=p,this.vertexArrayObject=g,this.vertexBuffer=_,this.textureBuffer=y}bind(){this.gl.bindVertexArray(this.vertexArrayObject)}unbind(){this.gl.bindVertexArray(null)}close(){this.gl.deleteVertexArray(this.vertexArrayObject),this.gl.deleteBuffer(this.vertexBuffer),this.gl.deleteBuffer(this.textureBuffer)}}class MPImageShaderContext{compileShader(p,g){const _=this.gl,y=assertNotNull(_.createShader(g),"Failed to create WebGL shader");if(_.shaderSource(y,p),_.compileShader(y),!_.getShaderParameter(y,_.COMPILE_STATUS)){const m=_.getShaderInfoLog(y);throw new Error(`Could not compile WebGL shader: ${m}`)}return _.attachShader(this.program,y),y}setupShaders(){const p=this.gl;if(this.program=assertNotNull(p.createProgram(),"Failed to create WebGL program"),this.vertexShader=this.compileShader(VERTEX_SHADER,p.VERTEX_SHADER),this.fragmentShader=this.compileShader(FRAGMENT_SHADER,p.FRAGMENT_SHADER),p.linkProgram(this.program),!p.getProgramParameter(this.program,p.LINK_STATUS)){const g=p.getProgramInfoLog(this.program);throw new Error(`Error during program linking: ${g}`)}this.aVertex=p.getAttribLocation(this.program,"aVertex"),this.aTex=p.getAttribLocation(this.program,"aTex")}createBuffers(p){const g=this.gl,_=assertNotNull(g.createVertexArray(),"Failed to create vertex array");g.bindVertexArray(_);const y=assertNotNull(g.createBuffer(),"Failed to create buffer");g.bindBuffer(g.ARRAY_BUFFER,y),g.enableVertexAttribArray(this.aVertex),g.vertexAttribPointer(this.aVertex,2,g.FLOAT,!1,0,0),g.bufferData(g.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),g.STATIC_DRAW);const m=assertNotNull(g.createBuffer(),"Failed to create buffer");g.bindBuffer(g.ARRAY_BUFFER,m),g.enableVertexAttribArray(this.aTex),g.vertexAttribPointer(this.aTex,2,g.FLOAT,!1,0,0);const h=p?[0,1,0,0,1,0,1,1]:[0,0,0,1,1,1,1,0];return g.bufferData(g.ARRAY_BUFFER,new Float32Array(h),g.STATIC_DRAW),g.bindBuffer(g.ARRAY_BUFFER,null),g.bindVertexArray(null),new MPImageShaderBuffers(g,_,y,m)}getShaderBuffers(p){return p?(this.shaderBuffersFlipVertically||(this.shaderBuffersFlipVertically=this.createBuffers(!0)),this.shaderBuffersFlipVertically):(this.shaderBuffersPassthrough||(this.shaderBuffersPassthrough=this.createBuffers(!1)),this.shaderBuffersPassthrough)}maybeInitGL(p){if(this.gl){if(p!==this.gl)throw new Error("Cannot change GL context once initialized")}else this.gl=p}run(p,g,_){this.maybeInitGL(p),this.program||this.setupShaders();const y=this.getShaderBuffers(g);p.useProgram(this.program),y.bind();const m=_();return y.unbind(),m}bindFramebuffer(p,g){this.maybeInitGL(p),this.framebuffer||(this.framebuffer=assertNotNull(p.createFramebuffer(),"Failed to create framebuffe.")),p.bindFramebuffer(p.FRAMEBUFFER,this.framebuffer),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,g,0)}unbindFramebuffer(){var p;(p=this.gl)===null||p===void 0||p.bindFramebuffer(this.gl.FRAMEBUFFER,null)}close(){if(this.program){const p=this.gl;p.deleteProgram(this.program),p.deleteShader(this.vertexShader),p.deleteShader(this.fragmentShader)}this.framebuffer&&this.gl.deleteFramebuffer(this.framebuffer),this.shaderBuffersPassthrough&&this.shaderBuffersPassthrough.close(),this.shaderBuffersFlipVertically&&this.shaderBuffersFlipVertically.close()}}image_shader_context.MPImageShaderContext=MPImageShaderContext,Object.defineProperty(image,"__esModule",{value:!0}),image.MPImage=void 0;const image_shader_context_1$2=image_shader_context,INSTANCE_COUNT_WARNING_THRESHOLD$1=250;var MPImageType;(function(u){u[u.IMAGE_DATA=0]="IMAGE_DATA",u[u.IMAGE_BITMAP=1]="IMAGE_BITMAP",u[u.WEBGL_TEXTURE=2]="WEBGL_TEXTURE"})(MPImageType||(MPImageType={}));class MPImage$1{constructor(p,g,_,y,m,h,b){this.containers=p,this.ownsImageBitmap=g,this.ownsWebGLTexture=_,this.canvas=y,this.shaderContext=m,this.width=h,this.height=b,(this.ownsImageBitmap||this.ownsWebGLTexture)&&(--MPImage$1.instancesBeforeWarning,MPImage$1.instancesBeforeWarning===0&&console.error("You seem to be creating MPImage instances without invoking .close(). This leaks resources."))}hasImageData(){return!!this.getContainer(MPImageType.IMAGE_DATA)}hasImageBitmap(){return!!this.getContainer(MPImageType.IMAGE_BITMAP)}hasWebGLTexture(){return!!this.getContainer(MPImageType.WEBGL_TEXTURE)}getAsImageData(){return this.convertToImageData()}getAsImageBitmap(){return this.convertToImageBitmap()}getAsWebGLTexture(){return this.convertToWebGLTexture()}getContainer(p){switch(p){case MPImageType.IMAGE_DATA:return this.containers.find(g=>g instanceof ImageData);case MPImageType.IMAGE_BITMAP:return this.containers.find(g=>typeof ImageBitmap<"u"&&g instanceof ImageBitmap);case MPImageType.WEBGL_TEXTURE:return this.containers.find(g=>typeof WebGLTexture<"u"&&g instanceof WebGLTexture);default:throw new Error(`Type is not supported: ${p}`)}}clone(){const p=[];for(const g of this.containers){let _;if(g instanceof ImageData)_=new ImageData(g.data,this.width,this.height);else if(g instanceof WebGLTexture){const y=this.getGL(),m=this.getShaderContext();y.activeTexture(y.TEXTURE1),_=(0,image_shader_context_1$2.assertNotNull)(y.createTexture(),"Failed to create texture"),y.bindTexture(y.TEXTURE_2D,_),this.configureTextureParams(),y.texImage2D(y.TEXTURE_2D,0,y.RGBA,this.width,this.height,0,y.RGBA,y.UNSIGNED_BYTE,null),y.bindTexture(y.TEXTURE_2D,null),m.bindFramebuffer(y,_),m.run(y,!1,()=>{this.bindTexture(),y.clearColor(0,0,0,0),y.clear(y.COLOR_BUFFER_BIT),y.drawArrays(y.TRIANGLE_FAN,0,4),this.unbindTexture()}),m.unbindFramebuffer(),this.unbindTexture()}else{if(!(g instanceof ImageBitmap))throw new Error(`Type is not supported: ${g}`);this.convertToWebGLTexture(),this.bindTexture(),_=this.copyTextureToBitmap(),this.unbindTexture()}p.push(_)}return new MPImage$1(p,this.hasImageBitmap(),this.hasWebGLTexture(),this.canvas,this.shaderContext,this.width,this.height)}getOffscreenCanvas(){if(!(this.canvas instanceof OffscreenCanvas))throw new Error("Conversion to ImageBitmap requires that the MediaPipe Tasks is initialized with an OffscreenCanvas");return this.canvas}getGL(){if(!this.canvas)throw new Error("Conversion to different image formats require that a canvas is passed when iniitializing the image.");return this.gl||(this.gl=(0,image_shader_context_1$2.assertNotNull)(this.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),this.gl}getShaderContext(){return this.shaderContext||(this.shaderContext=new image_shader_context_1$2.MPImageShaderContext),this.shaderContext}convertToImageBitmap(){let p=this.getContainer(MPImageType.IMAGE_BITMAP);return p||(this.convertToWebGLTexture(),p=this.convertWebGLTextureToImageBitmap(),this.containers.push(p),this.ownsImageBitmap=!0),p}convertToImageData(){let p=this.getContainer(MPImageType.IMAGE_DATA);if(!p){const g=this.getGL(),_=this.getShaderContext(),y=new Uint8Array(this.width*this.height*4),m=this.convertToWebGLTexture();_.bindFramebuffer(g,m),g.readPixels(0,0,this.width,this.height,g.RGBA,g.UNSIGNED_BYTE,y),_.unbindFramebuffer(),p=new ImageData(new Uint8ClampedArray(y.buffer),this.width,this.height),this.containers.push(p)}return p}convertToWebGLTexture(){let p=this.getContainer(MPImageType.WEBGL_TEXTURE);if(!p){const g=this.getGL();p=this.bindTexture();const _=this.getContainer(MPImageType.IMAGE_BITMAP)||this.convertToImageData();g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,_),this.unbindTexture()}return p}configureTextureParams(){const p=this.getGL();p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR)}bindTexture(){const p=this.getGL();p.viewport(0,0,this.width,this.height),p.activeTexture(p.TEXTURE0);let g=this.getContainer(MPImageType.WEBGL_TEXTURE);return g?p.bindTexture(p.TEXTURE_2D,g):(g=(0,image_shader_context_1$2.assertNotNull)(p.createTexture(),"Failed to create texture"),this.containers.push(g),this.ownsWebGLTexture=!0,p.bindTexture(p.TEXTURE_2D,g),this.configureTextureParams()),g}unbindTexture(){this.gl.bindTexture(this.gl.TEXTURE_2D,null)}copyTextureToBitmap(){const p=this.getGL();return this.getShaderContext().run(p,!0,()=>this.runWithResizedCanvas(()=>(p.bindFramebuffer(p.FRAMEBUFFER,null),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),p.drawArrays(p.TRIANGLE_FAN,0,4),this.getOffscreenCanvas().transferToImageBitmap())))}convertWebGLTextureToImageBitmap(){this.bindTexture();const p=this.copyTextureToBitmap();return this.unbindTexture(),p}runWithResizedCanvas(p){const g=this.canvas;if(g.width===this.width&&g.height===this.height)return p();const _=g.width,y=g.height;g.width=this.width,g.height=this.height;const m=p();return g.width=_,g.height=y,m}close(){this.ownsImageBitmap&&this.getContainer(MPImageType.IMAGE_BITMAP).close(),this.ownsWebGLTexture&&this.getGL().deleteTexture(this.getContainer(MPImageType.WEBGL_TEXTURE)),MPImage$1.instancesBeforeWarning=-1}}image.MPImage=MPImage$1,MPImage$1.instancesBeforeWarning=INSTANCE_COUNT_WARNING_THRESHOLD$1;var mask={},platform_utils={};function isWebKit(u=navigator){const p=u.userAgent;return p.includes("Safari")&&!p.includes("Chrome")}function isIOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}Object.defineProperty(platform_utils,"__esModule",{value:!0}),platform_utils.isIOS=platform_utils.isWebKit=void 0,platform_utils.isWebKit=isWebKit,platform_utils.isIOS=isIOS,Object.defineProperty(mask,"__esModule",{value:!0}),mask.MPMask=void 0;const image_shader_context_1$1=image_shader_context,platform_utils_1$1=platform_utils,INSTANCE_COUNT_WARNING_THRESHOLD=250;var MPMaskType;(function(u){u[u.UINT8_ARRAY=0]="UINT8_ARRAY",u[u.FLOAT32_ARRAY=1]="FLOAT32_ARRAY",u[u.WEBGL_TEXTURE=2]="WEBGL_TEXTURE"})(MPMaskType||(MPMaskType={}));class MPMask$1{constructor(p,g,_,y,m,h){this.containers=p,this.ownsWebGLTexture=g,this.canvas=_,this.shaderContext=y,this.width=m,this.height=h,this.ownsWebGLTexture&&(--MPMask$1.instancesBeforeWarning,MPMask$1.instancesBeforeWarning===0&&console.error("You seem to be creating MPMask instances without invoking .close(). This leaks resources."))}hasUint8Array(){return!!this.getContainer(MPMaskType.UINT8_ARRAY)}hasFloat32Array(){return!!this.getContainer(MPMaskType.FLOAT32_ARRAY)}hasWebGLTexture(){return!!this.getContainer(MPMaskType.WEBGL_TEXTURE)}getAsUint8Array(){return this.convertToUint8Array()}getAsFloat32Array(){return this.convertToFloat32Array()}getAsWebGLTexture(){return this.convertToWebGLTexture()}getTexImage2DFormat(){const p=this.getGL();if(!MPMask$1.texImage2DFormat)if(p.getExtension("EXT_color_buffer_float")&&p.getExtension("OES_texture_float_linear")&&p.getExtension("EXT_float_blend"))MPMask$1.texImage2DFormat=p.R32F;else{if(!p.getExtension("EXT_color_buffer_half_float"))throw new Error("GPU does not fully support 4-channel float32 or float16 formats");MPMask$1.texImage2DFormat=p.R16F}return MPMask$1.texImage2DFormat}getContainer(p){switch(p){case MPMaskType.UINT8_ARRAY:return this.containers.find(g=>g instanceof Uint8Array);case MPMaskType.FLOAT32_ARRAY:return this.containers.find(g=>g instanceof Float32Array);case MPMaskType.WEBGL_TEXTURE:return this.containers.find(g=>typeof WebGLTexture<"u"&&g instanceof WebGLTexture);default:throw new Error(`Type is not supported: ${p}`)}}clone(){const p=[];for(const g of this.containers){let _;if(g instanceof Uint8Array)_=new Uint8Array(g);else if(g instanceof Float32Array)_=new Float32Array(g);else{if(!(g instanceof WebGLTexture))throw new Error(`Type is not supported: ${g}`);{const y=this.getGL(),m=this.getShaderContext();y.activeTexture(y.TEXTURE1),_=(0,image_shader_context_1$1.assertNotNull)(y.createTexture(),"Failed to create texture"),y.bindTexture(y.TEXTURE_2D,_),this.configureTextureParams();const h=this.getTexImage2DFormat();y.texImage2D(y.TEXTURE_2D,0,h,this.width,this.height,0,y.RED,y.FLOAT,null),y.bindTexture(y.TEXTURE_2D,null),m.bindFramebuffer(y,_),m.run(y,!1,()=>{this.bindTexture(),y.clearColor(0,0,0,0),y.clear(y.COLOR_BUFFER_BIT),y.drawArrays(y.TRIANGLE_FAN,0,4),this.unbindTexture()}),m.unbindFramebuffer(),this.unbindTexture()}}p.push(_)}return new MPMask$1(p,this.hasWebGLTexture(),this.canvas,this.shaderContext,this.width,this.height)}getGL(){if(!this.canvas)throw new Error("Conversion to different image formats require that a canvas is passed when initializing the image.");return this.gl||(this.gl=(0,image_shader_context_1$1.assertNotNull)(this.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),this.gl}getShaderContext(){return this.shaderContext||(this.shaderContext=new image_shader_context_1$1.MPImageShaderContext),this.shaderContext}convertToFloat32Array(){let p=this.getContainer(MPMaskType.FLOAT32_ARRAY);if(!p){const g=this.getContainer(MPMaskType.UINT8_ARRAY);if(g)p=new Float32Array(g).map(_=>_/255);else{p=new Float32Array(this.width*this.height);const _=this.getGL(),y=this.getShaderContext(),m=this.convertToWebGLTexture();if(y.bindFramebuffer(_,m),(0,platform_utils_1$1.isIOS)()){const h=new Float32Array(this.width*this.height*4);_.readPixels(0,0,this.width,this.height,_.RGBA,_.FLOAT,h);for(let b=0,x=0;b<p.length;++b,x+=4)p[b]=h[x]}else _.readPixels(0,0,this.width,this.height,_.RED,_.FLOAT,p)}this.containers.push(p)}return p}convertToUint8Array(){let p=this.getContainer(MPMaskType.UINT8_ARRAY);if(!p){const g=this.convertToFloat32Array();p=new Uint8Array(g.map(_=>255*_)),this.containers.push(p)}return p}convertToWebGLTexture(){let p=this.getContainer(MPMaskType.WEBGL_TEXTURE);if(!p){const g=this.getGL();p=this.bindTexture();const _=this.convertToFloat32Array(),y=this.getTexImage2DFormat();g.texImage2D(g.TEXTURE_2D,0,y,this.width,this.height,0,g.RED,g.FLOAT,_),this.unbindTexture()}return p}configureTextureParams(){const p=this.getGL();p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST)}bindTexture(){const p=this.getGL();p.viewport(0,0,this.width,this.height),p.activeTexture(p.TEXTURE0);let g=this.getContainer(MPMaskType.WEBGL_TEXTURE);return g?p.bindTexture(p.TEXTURE_2D,g):(g=(0,image_shader_context_1$1.assertNotNull)(p.createTexture(),"Failed to create texture"),this.containers.push(g),this.ownsWebGLTexture=!0,p.bindTexture(p.TEXTURE_2D,g),this.configureTextureParams()),g}unbindTexture(){this.gl.bindTexture(this.gl.TEXTURE_2D,null)}close(){this.ownsWebGLTexture&&this.getGL().deleteTexture(this.getContainer(MPMaskType.WEBGL_TEXTURE)),MPMask$1.instancesBeforeWarning=-1}}mask.MPMask=MPMask$1,MPMask$1.instancesBeforeWarning=INSTANCE_COUNT_WARNING_THRESHOLD;var face_detector={},calculator_pb={},googleProtobuf={};(function(exports){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(u,p,g){u instanceof String&&(u=String(u));for(var _=u.length,y=0;y<_;y++){var m=u[y];if(p.call(g,m,y,u))return{i:y,v:m}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,g){u!=Array.prototype&&u!=Object.prototype&&(u[p]=g.value)},$jscomp.getGlobal=function(u){return typeof window<"u"&&window===u?u:commonjsGlobal!==void 0&&commonjsGlobal!=null?commonjsGlobal:u},$jscomp.global=$jscomp.getGlobal(commonjsGlobal),$jscomp.polyfill=function(u,p,g,_){if(p){for(g=$jscomp.global,u=u.split("."),_=0;_<u.length-1;_++){var y=u[_];y in g||(g[y]={}),g=g[y]}(p=p(_=g[u=u[u.length-1]]))!=_&&p!=null&&$jscomp.defineProperty(g,u,{configurable:!0,writable:!0,value:p})}},$jscomp.polyfill("Array.prototype.findIndex",function(u){return u||function(p,g){return $jscomp.findInternal(this,p,g).i}},"es6","es3"),$jscomp.checkStringArgs=function(u,p,g){if(u==null)throw new TypeError("The 'this' value for String.prototype."+g+" must not be null or undefined");if(p instanceof RegExp)throw new TypeError("First argument to String.prototype."+g+" must not be a regular expression");return u+""},$jscomp.polyfill("String.prototype.endsWith",function(u){return u||function(p,g){var _=$jscomp.checkStringArgs(this,p,"endsWith");p+="",g===void 0&&(g=_.length),g=Math.max(0,Math.min(0|g,_.length));for(var y=p.length;0<y&&0<g;)if(_[--g]!=p[--y])return!1;return 0>=y}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(u){return u||function(p,g){return $jscomp.findInternal(this,p,g).v}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(u){return u||function(p,g){var _=$jscomp.checkStringArgs(this,p,"startsWith");p+="";var y=_.length,m=p.length;g=Math.max(0,Math.min(0|g,_.length));for(var h=0;h<m&&g<y;)if(_[g++]!=p[h++])return!1;return h>=m}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(u){return u||function(p){var g=$jscomp.checkStringArgs(this,null,"repeat");if(0>p||1342177279<p)throw new RangeError("Invalid count value");p|=0;for(var _="";p;)1&p&&(_+=g),(p>>>=1)&&(g+=g);return _}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=commonjsGlobal||self,goog.exportPath_=function(u,p,g){u=u.split("."),g=g||goog.global,u[0]in g||g.execScript===void 0||g.execScript("var "+u[0]);for(var _;u.length&&(_=u.shift());)u.length||p===void 0?g=g[_]&&g[_]!==Object.prototype[_]?g[_]:g[_]={}:g[_]=p},goog.define=function(u,p){return p},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(u){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(u)},goog.constructNamespace_=function(u,p){goog.exportPath_(u,p)},goog.getScriptNonce=function(u){return u&&u!=goog.global?goog.getScriptNonce_(u.document):(goog.cspNonce_===null&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(u){return(u=u.querySelector&&u.querySelector("script[nonce]"))&&(u=u.nonce||u.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(u)?u:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(u){if(typeof u!="string"||!u||u.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+u+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=u},goog.module.get=function(u){return goog.module.getInternal_(u)},goog.module.getInternal_=function(u){return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var u=goog.global.$jscomp;return!!u&&typeof u.getCurrentModulePath=="function"&&!!u.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(u){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=u;else{var p=goog.global.$jscomp;if(!p||typeof p.getCurrentModulePath!="function")throw Error('Module with namespace "'+u+'" has been loaded incorrectly.');p=p.require(p.getCurrentModulePath()),goog.loadedModules_[u]={exports:p,type:goog.ModuleType.ES6,moduleId:u}}},goog.setTestOnly=function(u){if(goog.DISALLOW_TEST_ONLY_CODE)throw u=u||"",Error("Importing test-only code into non-debug environment"+(u?": "+u:"."))},goog.forwardDeclare=function(u){},goog.getObjectByName=function(u,p){u=u.split("."),p=p||goog.global;for(var g=0;g<u.length;g++)if((p=p[u[g]])==null)return null;return p},goog.globalize=function(u,p){for(var g in p=p||goog.global,u)p[g]=u[g]},goog.addDependency=function(u,p,g,_){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(u){goog.global.console&&goog.global.console.error(u)},goog.require=function(u){},goog.requireType=function(u){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(u){u.instance_=void 0,u.getInstance=function(){return u.instance_?u.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=u),u.instance_=new u)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(u){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(u){return"(function(){"+u+`
;})();
`},goog.loadModule=function(u){var p=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(u))var g=u.call(void 0,{});else{if(typeof u!="string")throw Error("Invalid module definition");goog.useSafari10Workaround()&&(u=goog.workaroundSafari10EvalBug(u)),g=goog.loadModuleFromSource_.call(void 0,u)}var _=goog.moduleLoaderState_.moduleName;if(typeof _!="string"||!_)throw Error('Invalid module name "'+_+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(_,g):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof g=="object"&&g!=null&&Object.seal(g),goog.loadedModules_[_]={exports:g,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=p}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(u){u=u.split("/");for(var p=0;p<u.length;)u[p]=="."?u.splice(p,1):p&&u[p]==".."&&u[p-1]&&u[p-1]!=".."?u.splice(--p,2):p++;return u.join("/")},goog.loadFileSync_=function(u){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(u);try{var p=new goog.global.XMLHttpRequest;return p.open("get",u,!1),p.send(),p.status==0||p.status==200?p.responseText:null}catch{return null}},goog.transpile_=function(u,p,g){var _=goog.global.$jscomp;_||(goog.global.$jscomp=_={});var y=_.transpile;if(!y){var m=goog.basePath+goog.TRANSPILER,h=goog.loadFileSync_(m);if(h){if(function(){(0,eval)(h+`
//# sourceURL=`+m)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,y=(_=goog.global.$jscomp).transpile}}return y||(y=_.transpile=function(b,x){return goog.logToConsole_(x+" requires transpilation but no transpiler was found."),b}),y(u,p,g)},goog.typeOf=function(u){var p=typeof u;if(p=="object"){if(!u)return"null";if(u instanceof Array)return"array";if(u instanceof Object)return p;var g=Object.prototype.toString.call(u);if(g=="[object Window]")return"object";if(g=="[object Array]"||typeof u.length=="number"&&u.splice!==void 0&&u.propertyIsEnumerable!==void 0&&!u.propertyIsEnumerable("splice"))return"array";if(g=="[object Function]"||u.call!==void 0&&u.propertyIsEnumerable!==void 0&&!u.propertyIsEnumerable("call"))return"function"}else if(p=="function"&&u.call===void 0)return"object";return p},goog.isArray=function(u){return goog.typeOf(u)=="array"},goog.isArrayLike=function(u){var p=goog.typeOf(u);return p=="array"||p=="object"&&typeof u.length=="number"},goog.isDateLike=function(u){return goog.isObject(u)&&typeof u.getFullYear=="function"},goog.isFunction=function(u){return goog.typeOf(u)=="function"},goog.isObject=function(u){var p=typeof u;return p=="object"&&u!=null||p=="function"},goog.getUid=function(u){return Object.prototype.hasOwnProperty.call(u,goog.UID_PROPERTY_)&&u[goog.UID_PROPERTY_]||(u[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(u){return!!u[goog.UID_PROPERTY_]},goog.removeUid=function(u){u!==null&&"removeAttribute"in u&&u.removeAttribute(goog.UID_PROPERTY_);try{delete u[goog.UID_PROPERTY_]}catch{}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(u){var p=goog.typeOf(u);if(p=="object"||p=="array"){if(typeof u.clone=="function")return u.clone();for(var g in p=p=="array"?[]:{},u)p[g]=goog.cloneObject(u[g]);return p}return u},goog.bindNative_=function(u,p,g){return u.call.apply(u.bind,arguments)},goog.bindJs_=function(u,p,g){if(!u)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(y,_),u.apply(p,y)}}return function(){return u.apply(p,arguments)}},goog.bind=function(u,p,g){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(u,p){var g=Array.prototype.slice.call(arguments,1);return function(){var _=g.slice();return _.push.apply(_,arguments),u.apply(this,_)}},goog.mixin=function(u,p){for(var g in p)u[g]=p[g]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(u){if(goog.global.execScript)goog.global.execScript(u,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(goog.evalWorksForGlobals_==null){try{goog.global.eval("var _evalTest_ = 1;")}catch{}if(goog.global._evalTest_!==void 0){try{delete goog.global._evalTest_}catch{}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(u);else{var p=goog.global.document,g=p.createElement("script");g.type="text/javascript",g.defer=!1,g.appendChild(p.createTextNode(u)),p.head.appendChild(g),p.head.removeChild(g)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(u,p){if(String(u).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+u);var g=function(y){return goog.cssNameMapping_[y]||y},_=function(y){y=y.split("-");for(var m=[],h=0;h<y.length;h++)m.push(g(y[h]));return m.join("-")};return _=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?g:_:function(y){return y},u=p?u+"-"+_(p):_(u),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(u):u},goog.setCssNameMapping=function(u,p){goog.cssNameMapping_=u,goog.cssNameMappingStyle_=p},goog.getMsg=function(u,p,g){return g&&g.html&&(u=u.replace(/</g,"&lt;")),p&&(u=u.replace(/\{\$([^}]+)}/g,function(_,y){return p!=null&&y in p?p[y]:_})),u},goog.getMsgWithFallback=function(u,p){return u},goog.exportSymbol=function(u,p,g){goog.exportPath_(u,p,g)},goog.exportProperty=function(u,p,g){u[p]=g},goog.inherits=function(u,p){function g(){}g.prototype=p.prototype,u.superClass_=p.prototype,u.prototype=new g,u.prototype.constructor=u,u.base=function(_,y,m){for(var h=Array(arguments.length-2),b=2;b<arguments.length;b++)h[b-2]=arguments[b];return p.prototype[y].apply(_,h)}},goog.scope=function(u){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");u.call(goog.global)},goog.defineClass=function(u,p){var g=p.constructor,_=p.statics;return g&&g!=Object.prototype.constructor||(g=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),g=goog.defineClass.createSealingConstructor_(g,u),u&&goog.inherits(g,u),delete p.constructor,delete p.statics,goog.defineClass.applyProperties_(g.prototype,p),_!=null&&(_ instanceof Function?_(g):goog.defineClass.applyProperties_(g,_)),g},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(u,p){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return u;var g=!goog.defineClass.isUnsealable_(p),_=function(){var y=u.apply(this,arguments)||this;return y[goog.UID_PROPERTY_]=y[goog.UID_PROPERTY_],this.constructor===_&&g&&Object.seal instanceof Function&&Object.seal(y),y};return _},goog.defineClass.isUnsealable_=function(u){return u&&u.prototype&&u.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(u,p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(u[g]=p[g]);for(var _=0;_<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;_++)g=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[_],Object.prototype.hasOwnProperty.call(p,g)&&(u[g]=p[g])},goog.tagUnsealableClass=function(u){},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(u){return u},goog.createTrustedTypesPolicy=function(u){var p=null,g=goog.global.trustedTypes||goog.global.TrustedTypes;if(!g||!g.createPolicy)return p;try{p=g.createPolicy(u,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(_){goog.logToConsole_(_.message)}return p},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null,goog.object={},goog.object.is=function(u,p){return u===p?u!==0||1/u==1/p:u!=u&&p!=p},goog.object.forEach=function(u,p,g){for(var _ in u)p.call(g,u[_],_,u)},goog.object.filter=function(u,p,g){var _,y={};for(_ in u)p.call(g,u[_],_,u)&&(y[_]=u[_]);return y},goog.object.map=function(u,p,g){var _,y={};for(_ in u)y[_]=p.call(g,u[_],_,u);return y},goog.object.some=function(u,p,g){for(var _ in u)if(p.call(g,u[_],_,u))return!0;return!1},goog.object.every=function(u,p,g){for(var _ in u)if(!p.call(g,u[_],_,u))return!1;return!0},goog.object.getCount=function(u){var p,g=0;for(p in u)g++;return g},goog.object.getAnyKey=function(u){for(var p in u)return p},goog.object.getAnyValue=function(u){for(var p in u)return u[p]},goog.object.contains=function(u,p){return goog.object.containsValue(u,p)},goog.object.getValues=function(u){var p,g=[],_=0;for(p in u)g[_++]=u[p];return g},goog.object.getKeys=function(u){var p,g=[],_=0;for(p in u)g[_++]=p;return g},goog.object.getValueByKeys=function(u,p){var g=goog.isArrayLike(p),_=g?p:arguments;for(g=g?0:1;g<_.length;g++){if(u==null)return;u=u[_[g]]}return u},goog.object.containsKey=function(u,p){return u!==null&&p in u},goog.object.containsValue=function(u,p){for(var g in u)if(u[g]==p)return!0;return!1},goog.object.findKey=function(u,p,g){for(var _ in u)if(p.call(g,u[_],_,u))return _},goog.object.findValue=function(u,p,g){return(p=goog.object.findKey(u,p,g))&&u[p]},goog.object.isEmpty=function(u){for(var p in u)return!1;return!0},goog.object.clear=function(u){for(var p in u)delete u[p]},goog.object.remove=function(u,p){var g;return(g=p in u)&&delete u[p],g},goog.object.add=function(u,p,g){if(u!==null&&p in u)throw Error('The object already contains the key "'+p+'"');goog.object.set(u,p,g)},goog.object.get=function(u,p,g){return u!==null&&p in u?u[p]:g},goog.object.set=function(u,p,g){u[p]=g},goog.object.setIfUndefined=function(u,p,g){return p in u?u[p]:u[p]=g},goog.object.setWithReturnValueIfNotSet=function(u,p,g){return p in u?u[p]:(g=g(),u[p]=g)},goog.object.equals=function(u,p){for(var g in u)if(!(g in p)||u[g]!==p[g])return!1;for(var _ in p)if(!(_ in u))return!1;return!0},goog.object.clone=function(u){var p,g={};for(p in u)g[p]=u[p];return g},goog.object.unsafeClone=function(u){var p=goog.typeOf(u);if(p=="object"||p=="array"){if(goog.isFunction(u.clone))return u.clone();for(var g in p=p=="array"?[]:{},u)p[g]=goog.object.unsafeClone(u[g]);return p}return u},goog.object.transpose=function(u){var p,g={};for(p in u)g[u[p]]=p;return g},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(u,p){for(var g,_,y=1;y<arguments.length;y++){for(g in _=arguments[y])u[g]=_[g];for(var m=0;m<goog.object.PROTOTYPE_FIELDS_.length;m++)g=goog.object.PROTOTYPE_FIELDS_[m],Object.prototype.hasOwnProperty.call(_,g)&&(u[g]=_[g])}},goog.object.create=function(u){var p=arguments.length;if(p==1&&Array.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(p%2)throw Error("Uneven number of arguments");for(var g={},_=0;_<p;_+=2)g[arguments[_]]=arguments[_+1];return g},goog.object.createSet=function(u){var p=arguments.length;if(p==1&&Array.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var g={},_=0;_<p;_++)g[arguments[_]]=!0;return g},goog.object.createImmutableView=function(u){var p=u;return Object.isFrozen&&!Object.isFrozen(u)&&(p=Object.create(u),Object.freeze(p)),p},goog.object.isImmutableView=function(u){return!!Object.isFrozen&&Object.isFrozen(u)},goog.object.getAllPropertyNames=function(u,p,g){if(!u)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(u);for(var _={};u&&(u!==Object.prototype||p)&&(u!==Function.prototype||g);){for(var y=Object.getOwnPropertyNames(u),m=0;m<y.length;m++)_[y[m]]=!0;u=Object.getPrototypeOf(u)}return goog.object.getKeys(_)},goog.object.getSuperClass=function(u){return(u=Object.getPrototypeOf(u.prototype))&&u.constructor};var jspb={asserts:{}};jspb.asserts.doAssertFailure=function(u,p,g,_){var y="Assertion failed";if(g){y+=": "+g;var m=_}else u&&(y+=": "+u,m=p);throw Error(""+y,m||[])},jspb.asserts.assert=function(u,p,g){for(var _=[],y=2;y<arguments.length;++y)_[y-2]=arguments[y];return u||jspb.asserts.doAssertFailure("",null,p,_),u},jspb.asserts.assertString=function(u,p,g){for(var _=[],y=2;y<arguments.length;++y)_[y-2]=arguments[y];return typeof u!="string"&&jspb.asserts.doAssertFailure("Expected string but got %s: %s.",[goog.typeOf(u),u],p,_),u},jspb.asserts.assertArray=function(u,p,g){for(var _=[],y=2;y<arguments.length;++y)_[y-2]=arguments[y];return Array.isArray(u)||jspb.asserts.doAssertFailure("Expected array but got %s: %s.",[goog.typeOf(u),u],p,_),u},jspb.asserts.fail=function(u,p){for(var g=[],_=1;_<arguments.length;++_)g[_-1]=arguments[_];throw Error("Failure"+(u?": "+u:""),g)},jspb.asserts.assertInstanceof=function(u,p,g,_){for(var y=[],m=3;m<arguments.length;++m)y[m-3]=arguments[m];return u instanceof p||jspb.asserts.doAssertFailure("Expected instanceof %s but got %s.",[jspb.asserts.getType(p),jspb.asserts.getType(u)],g,y),u},jspb.asserts.getType=function(u){return u instanceof Function?u.displayName||u.name||"unknown type name":u instanceof Object?u.constructor.displayName||u.constructor.name||Object.prototype.toString.call(u):u===null?"null":typeof u},jspb.BinaryConstants={},jspb.ConstBinaryMessage=function(){},jspb.BinaryMessage=function(){},jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(u){var p=jspb.BinaryConstants.FieldType,g=jspb.BinaryConstants.WireType;switch(u){case p.INT32:case p.INT64:case p.UINT32:case p.UINT64:case p.SINT32:case p.SINT64:case p.BOOL:case p.ENUM:case p.VHASH64:return g.VARINT;case p.DOUBLE:case p.FIXED64:case p.SFIXED64:case p.FHASH64:return g.FIXED64;case p.STRING:case p.MESSAGE:case p.BYTES:return g.DELIMITED;case p.FLOAT:case p.FIXED32:case p.SFIXED32:return g.FIXED32;default:return g.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=9223372036854776e3,jspb.BinaryConstants.TWO_TO_64=18446744073709552e3,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.debug={},goog.debug.Error=function(u){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var p=Error().stack;p&&(this.stack=p)}u&&(this.message=String(u)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(u,p){goog.debug.Error.call(this,goog.asserts.subs_(u,p)),this.messagePattern=u},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(u){throw u},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(u,p){for(var g="",_=(u=u.split("%s")).length-1,y=0;y<_;y++)g+=u[y]+(y<p.length?p[y]:"%s");return g+u[_]},goog.asserts.doAssertFailure_=function(u,p,g,_){var y="Assertion failed";if(g){y+=": "+g;var m=_}else u&&(y+=": "+u,m=p);u=new goog.asserts.AssertionError(""+y,m||[]),goog.asserts.errorHandler_(u)},goog.asserts.setErrorHandler=function(u){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=u)},goog.asserts.assert=function(u,p,g){return goog.asserts.ENABLE_ASSERTS&&!u&&goog.asserts.doAssertFailure_("",null,p,Array.prototype.slice.call(arguments,2)),u},goog.asserts.assertExists=function(u,p,g){return goog.asserts.ENABLE_ASSERTS&&u==null&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[u],p,Array.prototype.slice.call(arguments,2)),u},goog.asserts.fail=function(u,p){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(u?": "+u:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(u,p,g){return goog.asserts.ENABLE_ASSERTS&&typeof u!="number"&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(u),u],p,Array.prototype.slice.call(arguments,2)),u},goog.asserts.assertString=function(u,p,g){return goog.asserts.ENABLE_ASSERTS&&typeof u!="string"&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(u),u],p,Array.prototype.slice.call(arguments,2)),u},goog.asserts.assertFunction=function(u,p,g){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(u)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(u),u],p,Array.prototype.slice.call(arguments,2)),u},goog.asserts.assertObject=function(u,p,g){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(u)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(u),u],p,Array.prototype.slice.call(arguments,2)),u},goog.asserts.assertArray=function(u,p,g){return goog.asserts.ENABLE_ASSERTS&&!Array.isArray(u)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(u),u],p,Array.prototype.slice.call(arguments,2)),u},goog.asserts.assertBoolean=function(u,p,g){return goog.asserts.ENABLE_ASSERTS&&typeof u!="boolean"&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(u),u],p,Array.prototype.slice.call(arguments,2)),u},goog.asserts.assertElement=function(u,p,g){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(u)&&u.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(u),u],p,Array.prototype.slice.call(arguments,2)),u},goog.asserts.assertInstanceof=function(u,p,g,_){return!goog.asserts.ENABLE_ASSERTS||u instanceof p||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(p),goog.asserts.getType_(u)],g,Array.prototype.slice.call(arguments,3)),u},goog.asserts.assertFinite=function(u,p,g){return!goog.asserts.ENABLE_ASSERTS||typeof u=="number"&&isFinite(u)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[u],p,Array.prototype.slice.call(arguments,2)),u},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var u in Object.prototype)goog.asserts.fail(u+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(u){return u instanceof Function?u.displayName||u.name||"unknown type name":u instanceof Object?u.constructor.displayName||u.constructor.name||Object.prototype.toString.call(u):u===null?"null":typeof u},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(u){return u[u.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(u,p,g){return goog.asserts.assert(u.length!=null),Array.prototype.indexOf.call(u,p,g)}:function(u,p,g){if(g=g==null?0:0>g?Math.max(0,u.length+g):g,typeof u=="string")return typeof p!="string"||p.length!=1?-1:u.indexOf(p,g);for(;g<u.length;g++)if(g in u&&u[g]===p)return g;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(u,p,g){return goog.asserts.assert(u.length!=null),Array.prototype.lastIndexOf.call(u,p,g??u.length-1)}:function(u,p,g){if(0>(g=g??u.length-1)&&(g=Math.max(0,u.length+g)),typeof u=="string")return typeof p!="string"||p.length!=1?-1:u.lastIndexOf(p,g);for(;0<=g;g--)if(g in u&&u[g]===p)return g;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(u,p,g){goog.asserts.assert(u.length!=null),Array.prototype.forEach.call(u,p,g)}:function(u,p,g){for(var _=u.length,y=typeof u=="string"?u.split(""):u,m=0;m<_;m++)m in y&&p.call(g,y[m],m,u)},goog.array.forEachRight=function(u,p,g){var _=u.length,y=typeof u=="string"?u.split(""):u;for(--_;0<=_;--_)_ in y&&p.call(g,y[_],_,u)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(u,p,g){return goog.asserts.assert(u.length!=null),Array.prototype.filter.call(u,p,g)}:function(u,p,g){for(var _=u.length,y=[],m=0,h=typeof u=="string"?u.split(""):u,b=0;b<_;b++)if(b in h){var x=h[b];p.call(g,x,b,u)&&(y[m++]=x)}return y},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(u,p,g){return goog.asserts.assert(u.length!=null),Array.prototype.map.call(u,p,g)}:function(u,p,g){for(var _=u.length,y=Array(_),m=typeof u=="string"?u.split(""):u,h=0;h<_;h++)h in m&&(y[h]=p.call(g,m[h],h,u));return y},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(u,p,g,_){return goog.asserts.assert(u.length!=null),_&&(p=goog.bind(p,_)),Array.prototype.reduce.call(u,p,g)}:function(u,p,g,_){var y=g;return goog.array.forEach(u,function(m,h){y=p.call(_,y,m,h,u)}),y},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(u,p,g,_){return goog.asserts.assert(u.length!=null),goog.asserts.assert(p!=null),_&&(p=goog.bind(p,_)),Array.prototype.reduceRight.call(u,p,g)}:function(u,p,g,_){var y=g;return goog.array.forEachRight(u,function(m,h){y=p.call(_,y,m,h,u)}),y},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(u,p,g){return goog.asserts.assert(u.length!=null),Array.prototype.some.call(u,p,g)}:function(u,p,g){for(var _=u.length,y=typeof u=="string"?u.split(""):u,m=0;m<_;m++)if(m in y&&p.call(g,y[m],m,u))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(u,p,g){return goog.asserts.assert(u.length!=null),Array.prototype.every.call(u,p,g)}:function(u,p,g){for(var _=u.length,y=typeof u=="string"?u.split(""):u,m=0;m<_;m++)if(m in y&&!p.call(g,y[m],m,u))return!1;return!0},goog.array.count=function(u,p,g){var _=0;return goog.array.forEach(u,function(y,m,h){p.call(g,y,m,h)&&++_},g),_},goog.array.find=function(u,p,g){return 0>(p=goog.array.findIndex(u,p,g))?null:typeof u=="string"?u.charAt(p):u[p]},goog.array.findIndex=function(u,p,g){for(var _=u.length,y=typeof u=="string"?u.split(""):u,m=0;m<_;m++)if(m in y&&p.call(g,y[m],m,u))return m;return-1},goog.array.findRight=function(u,p,g){return 0>(p=goog.array.findIndexRight(u,p,g))?null:typeof u=="string"?u.charAt(p):u[p]},goog.array.findIndexRight=function(u,p,g){var _=u.length,y=typeof u=="string"?u.split(""):u;for(--_;0<=_;_--)if(_ in y&&p.call(g,y[_],_,u))return _;return-1},goog.array.contains=function(u,p){return 0<=goog.array.indexOf(u,p)},goog.array.isEmpty=function(u){return u.length==0},goog.array.clear=function(u){if(!Array.isArray(u))for(var p=u.length-1;0<=p;p--)delete u[p];u.length=0},goog.array.insert=function(u,p){goog.array.contains(u,p)||u.push(p)},goog.array.insertAt=function(u,p,g){goog.array.splice(u,g,0,p)},goog.array.insertArrayAt=function(u,p,g){goog.partial(goog.array.splice,u,g,0).apply(null,p)},goog.array.insertBefore=function(u,p,g){var _;arguments.length==2||0>(_=goog.array.indexOf(u,g))?u.push(p):goog.array.insertAt(u,p,_)},goog.array.remove=function(u,p){var g;return(g=0<=(p=goog.array.indexOf(u,p)))&&goog.array.removeAt(u,p),g},goog.array.removeLast=function(u,p){return 0<=(p=goog.array.lastIndexOf(u,p))&&(goog.array.removeAt(u,p),!0)},goog.array.removeAt=function(u,p){return goog.asserts.assert(u.length!=null),Array.prototype.splice.call(u,p,1).length==1},goog.array.removeIf=function(u,p,g){return 0<=(p=goog.array.findIndex(u,p,g))&&(goog.array.removeAt(u,p),!0)},goog.array.removeAllIf=function(u,p,g){var _=0;return goog.array.forEachRight(u,function(y,m){p.call(g,y,m,u)&&goog.array.removeAt(u,m)&&_++}),_},goog.array.concat=function(u){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(u){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(u){var p=u.length;if(0<p){for(var g=Array(p),_=0;_<p;_++)g[_]=u[_];return g}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(u,p){for(var g=1;g<arguments.length;g++){var _=arguments[g];if(goog.isArrayLike(_)){var y=u.length||0,m=_.length||0;u.length=y+m;for(var h=0;h<m;h++)u[y+h]=_[h]}else u.push(_)}},goog.array.splice=function(u,p,g,_){return goog.asserts.assert(u.length!=null),Array.prototype.splice.apply(u,goog.array.slice(arguments,1))},goog.array.slice=function(u,p,g){return goog.asserts.assert(u.length!=null),2>=arguments.length?Array.prototype.slice.call(u,p):Array.prototype.slice.call(u,p,g)},goog.array.removeDuplicates=function(u,p,g){p=p||u;var _=function(x){return goog.isObject(x)?"o"+goog.getUid(x):(typeof x).charAt(0)+x};g=g||_,_={};for(var y=0,m=0;m<u.length;){var h=u[m++],b=g(h);Object.prototype.hasOwnProperty.call(_,b)||(_[b]=!0,p[y++]=h)}p.length=y},goog.array.binarySearch=function(u,p,g){return goog.array.binarySearch_(u,g||goog.array.defaultCompare,!1,p)},goog.array.binarySelect=function(u,p,g){return goog.array.binarySearch_(u,p,!0,void 0,g)},goog.array.binarySearch_=function(u,p,g,_,y){for(var m,h=0,b=u.length;h<b;){var x=h+(b-h>>>1),O=g?p.call(y,u[x],x,u):p(_,u[x]);0<O?h=x+1:(b=x,m=!O)}return m?h:-h-1},goog.array.sort=function(u,p){u.sort(p||goog.array.defaultCompare)},goog.array.stableSort=function(u,p){for(var g=Array(u.length),_=0;_<u.length;_++)g[_]={index:_,value:u[_]};var y=p||goog.array.defaultCompare;for(goog.array.sort(g,function(m,h){return y(m.value,h.value)||m.index-h.index}),_=0;_<u.length;_++)u[_]=g[_].value},goog.array.sortByKey=function(u,p,g){var _=g||goog.array.defaultCompare;goog.array.sort(u,function(y,m){return _(p(y),p(m))})},goog.array.sortObjectsByKey=function(u,p,g){goog.array.sortByKey(u,function(_){return _[p]},g)},goog.array.isSorted=function(u,p,g){p=p||goog.array.defaultCompare;for(var _=1;_<u.length;_++){var y=p(u[_-1],u[_]);if(0<y||y==0&&g)return!1}return!0},goog.array.equals=function(u,p,g){if(!goog.isArrayLike(u)||!goog.isArrayLike(p)||u.length!=p.length)return!1;var _=u.length;g=g||goog.array.defaultCompareEquality;for(var y=0;y<_;y++)if(!g(u[y],p[y]))return!1;return!0},goog.array.compare3=function(u,p,g){g=g||goog.array.defaultCompare;for(var _=Math.min(u.length,p.length),y=0;y<_;y++){var m=g(u[y],p[y]);if(m!=0)return m}return goog.array.defaultCompare(u.length,p.length)},goog.array.defaultCompare=function(u,p){return u>p?1:u<p?-1:0},goog.array.inverseDefaultCompare=function(u,p){return-goog.array.defaultCompare(u,p)},goog.array.defaultCompareEquality=function(u,p){return u===p},goog.array.binaryInsert=function(u,p,g){return 0>(g=goog.array.binarySearch(u,p,g))&&(goog.array.insertAt(u,p,-(g+1)),!0)},goog.array.binaryRemove=function(u,p,g){return 0<=(p=goog.array.binarySearch(u,p,g))&&goog.array.removeAt(u,p)},goog.array.bucket=function(u,p,g){for(var _={},y=0;y<u.length;y++){var m=u[y],h=p.call(g,m,y,u);h!==void 0&&(_[h]||(_[h]=[])).push(m)}return _},goog.array.toObject=function(u,p,g){var _={};return goog.array.forEach(u,function(y,m){_[p.call(g,y,m,u)]=y}),_},goog.array.range=function(u,p,g){var _=[],y=0,m=u;if(p!==void 0&&(y=u,m=p),0>(g=g||1)*(m-y))return[];if(0<g)for(u=y;u<m;u+=g)_.push(u);else for(u=y;u>m;u+=g)_.push(u);return _},goog.array.repeat=function(u,p){for(var g=[],_=0;_<p;_++)g[_]=u;return g},goog.array.flatten=function(u){for(var p=[],g=0;g<arguments.length;g++){var _=arguments[g];if(Array.isArray(_))for(var y=0;y<_.length;y+=8192){var m=goog.array.slice(_,y,y+8192);m=goog.array.flatten.apply(null,m);for(var h=0;h<m.length;h++)p.push(m[h])}else p.push(_)}return p},goog.array.rotate=function(u,p){return goog.asserts.assert(u.length!=null),u.length&&(0<(p%=u.length)?Array.prototype.unshift.apply(u,u.splice(-p,p)):0>p&&Array.prototype.push.apply(u,u.splice(0,-p))),u},goog.array.moveItem=function(u,p,g){goog.asserts.assert(0<=p&&p<u.length),goog.asserts.assert(0<=g&&g<u.length),p=Array.prototype.splice.call(u,p,1),Array.prototype.splice.call(u,g,0,p[0])},goog.array.zip=function(u){if(!arguments.length)return[];for(var p=[],g=arguments[0].length,_=1;_<arguments.length;_++)arguments[_].length<g&&(g=arguments[_].length);for(_=0;_<g;_++){for(var y=[],m=0;m<arguments.length;m++)y.push(arguments[m][_]);p.push(y)}return p},goog.array.shuffle=function(u,p){p=p||Math.random;for(var g=u.length-1;0<g;g--){var _=Math.floor(p()*(g+1)),y=u[g];u[g]=u[_],u[_]=y}},goog.array.copyByIndex=function(u,p){var g=[];return goog.array.forEach(p,function(_){g.push(u[_])}),g},goog.array.concatMap=function(u,p,g){return goog.array.concat.apply([],goog.array.map(u,p,g))},goog.crypt={},goog.crypt.stringToByteArray=function(u){for(var p=[],g=0,_=0;_<u.length;_++){var y=u.charCodeAt(_);255<y&&(p[g++]=255&y,y>>=8),p[g++]=y}return p},goog.crypt.byteArrayToString=function(u){if(8192>=u.length)return String.fromCharCode.apply(null,u);for(var p="",g=0;g<u.length;g+=8192){var _=goog.array.slice(u,g,g+8192);p+=String.fromCharCode.apply(null,_)}return p},goog.crypt.byteArrayToHex=function(u,p){return goog.array.map(u,function(g){return 1<(g=g.toString(16)).length?g:"0"+g}).join(p||"")},goog.crypt.hexToByteArray=function(u){goog.asserts.assert(u.length%2==0,"Key string length must be multiple of 2");for(var p=[],g=0;g<u.length;g+=2)p.push(parseInt(u.substring(g,g+2),16));return p},goog.crypt.stringToUtf8ByteArray=function(u){for(var p=[],g=0,_=0;_<u.length;_++){var y=u.charCodeAt(_);128>y?p[g++]=y:(2048>y?p[g++]=y>>6|192:((64512&y)==55296&&_+1<u.length&&(64512&u.charCodeAt(_+1))==56320?(y=65536+((1023&y)<<10)+(1023&u.charCodeAt(++_)),p[g++]=y>>18|240,p[g++]=y>>12&63|128):p[g++]=y>>12|224,p[g++]=y>>6&63|128),p[g++]=63&y|128)}return p},goog.crypt.utf8ByteArrayToString=function(u){for(var p=[],g=0,_=0;g<u.length;){var y=u[g++];if(128>y)p[_++]=String.fromCharCode(y);else if(191<y&&224>y){var m=u[g++];p[_++]=String.fromCharCode((31&y)<<6|63&m)}else if(239<y&&365>y){m=u[g++];var h=u[g++];y=((7&y)<<18|(63&m)<<12|(63&h)<<6|63&u[g++])-65536,p[_++]=String.fromCharCode(55296+(y>>10)),p[_++]=String.fromCharCode(56320+(1023&y))}else m=u[g++],h=u[g++],p[_++]=String.fromCharCode((15&y)<<12|(63&m)<<6|63&h)}return p.join("")},goog.crypt.xorByteArray=function(u,p){goog.asserts.assert(u.length==p.length,"XOR array lengths must match");for(var g=[],_=0;_<u.length;_++)g.push(u[_]^p[_]);return g},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(u){if(goog.asserts.ENABLE_ASSERTS){var p=goog.dom.asserts.getWindow_(u);p&&(!u||!(u instanceof p.Location)&&u instanceof p.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(u))}return u},goog.dom.asserts.assertIsElementType_=function(u,p){if(goog.asserts.ENABLE_ASSERTS){var g=goog.dom.asserts.getWindow_(u);g&&g[p]!==void 0&&(u&&(u instanceof g[p]||!(u instanceof g.Location||u instanceof g.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",p,goog.dom.asserts.debugStringForType_(u)))}return u},goog.dom.asserts.assertIsHTMLAnchorElement=function(u){return goog.dom.asserts.assertIsElementType_(u,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(u){return goog.dom.asserts.assertIsElementType_(u,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(u){return goog.dom.asserts.assertIsElementType_(u,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(u){return goog.dom.asserts.assertIsElementType_(u,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(u){return goog.dom.asserts.assertIsElementType_(u,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(u){return goog.dom.asserts.assertIsElementType_(u,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(u){return goog.dom.asserts.assertIsElementType_(u,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(u){return goog.dom.asserts.assertIsElementType_(u,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(u){return goog.dom.asserts.assertIsElementType_(u,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(u){return goog.dom.asserts.assertIsElementType_(u,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(u){return goog.dom.asserts.assertIsElementType_(u,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(u){return goog.dom.asserts.assertIsElementType_(u,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(u){return goog.dom.asserts.assertIsElementType_(u,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(u){return goog.dom.asserts.assertIsElementType_(u,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(u){return goog.dom.asserts.assertIsElementType_(u,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(u){if(!goog.isObject(u))return u===void 0?"undefined":u===null?"null":typeof u;try{return u.constructor.displayName||u.constructor.name||Object.prototype.toString.call(u)}catch{return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(u){try{var p=u&&u.ownerDocument,g=p&&(p.defaultView||p.parentWindow);if((g=g||goog.global).Element&&g.Location)return g}catch{}return null},goog.functions={},goog.functions.constant=function(u){return function(){return u}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(u,p){return u},goog.functions.error=function(u){return function(){throw Error(u)}},goog.functions.fail=function(u){return function(){throw u}},goog.functions.lock=function(u,p){return p=p||0,function(){return u.apply(this,Array.prototype.slice.call(arguments,0,p))}},goog.functions.nth=function(u){return function(){return arguments[u]}},goog.functions.partialRight=function(u,p){var g=Array.prototype.slice.call(arguments,1);return function(){var _=Array.prototype.slice.call(arguments);return _.push.apply(_,g),u.apply(this,_)}},goog.functions.withReturnValue=function(u,p){return goog.functions.sequence(u,goog.functions.constant(p))},goog.functions.equalTo=function(u,p){return function(g){return p?u==g:u===g}},goog.functions.compose=function(u,p){var g=arguments,_=g.length;return function(){var y;_&&(y=g[_-1].apply(this,arguments));for(var m=_-2;0<=m;m--)y=g[m].call(this,y);return y}},goog.functions.sequence=function(u){var p=arguments,g=p.length;return function(){for(var _,y=0;y<g;y++)_=p[y].apply(this,arguments);return _}},goog.functions.and=function(u){var p=arguments,g=p.length;return function(){for(var _=0;_<g;_++)if(!p[_].apply(this,arguments))return!1;return!0}},goog.functions.or=function(u){var p=arguments,g=p.length;return function(){for(var _=0;_<g;_++)if(p[_].apply(this,arguments))return!0;return!1}},goog.functions.not=function(u){return function(){return!u.apply(this,arguments)}},goog.functions.create=function(u,p){var g=function(){};return g.prototype=u.prototype,g=new g,u.apply(g,Array.prototype.slice.call(arguments,1)),g},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(u){var p,g=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(g||(p=u(),g=!0),p):u()}},goog.functions.once=function(u){var p=u;return function(){if(p){var g=p;p=null,g()}}},goog.functions.debounce=function(u,p,g){var _=0;return function(y){goog.global.clearTimeout(_);var m=arguments;_=goog.global.setTimeout(function(){u.apply(g,m)},p)}},goog.functions.throttle=function(u,p,g){var _=0,y=!1,m=[],h=function(){_=0,y&&(y=!1,b())},b=function(){_=goog.global.setTimeout(h,p),u.apply(g,m)};return function(x){m=arguments,_?y=!0:b()}},goog.functions.rateLimit=function(u,p,g){var _=0,y=function(){_=0};return function(m){_||(_=goog.global.setTimeout(y,p),u.apply(g,arguments))}},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(u){this.tagName_=u},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(u){return goog.dom.tags.VOID_TAGS_[u]===!0},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.string={},goog.string.TypedString=function(){},goog.string.Const=function(u,p){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=u===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&p||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.DEBUG&&(goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"}),goog.string.Const.unwrap=function(u){return u instanceof goog.string.Const&&u.constructor===goog.string.Const&&u.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?u.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+u+"'"),"type_error:Const")},goog.string.Const.from=function(u){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,u)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(u){return(u=goog.string.Const.unwrap(u)).length===0?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(u)},goog.html.SafeScript.fromConstantAndArgs=function(u,p){for(var g=[],_=1;_<arguments.length;_++)g.push(goog.html.SafeScript.stringify_(arguments[_]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(u)+")("+g.join(", ")+");")},goog.html.SafeScript.fromJson=function(u){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(u))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(u){return goog.html.SafeScript.unwrapTrustedScript(u).toString()},goog.html.SafeScript.unwrapTrustedScript=function(u){return u instanceof goog.html.SafeScript&&u.constructor===goog.html.SafeScript&&u.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?u.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+u+"' of type "+goog.typeOf(u)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(u){return JSON.stringify(u).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(u){return new goog.html.SafeScript().initSecurityPrivateDoNotAccessOrElse_(u)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(u){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(u):u,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(u){return goog.fs.url.getUrlObject_().createObjectURL(u)},goog.fs.url.revokeObjectUrl=function(u){goog.fs.url.getUrlObject_().revokeObjectURL(u)},goog.fs.url.UrlObject_=function(){},goog.fs.url.UrlObject_.prototype.createObjectURL=function(u){},goog.fs.url.UrlObject_.prototype.revokeObjectURL=function(u){},goog.fs.url.getUrlObject_=function(){var u=goog.fs.url.findUrlObject_();if(u!=null)return u;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.global.URL!==void 0&&goog.global.URL.createObjectURL!==void 0?goog.global.URL:goog.global.webkitURL!==void 0&&goog.global.webkitURL.createObjectURL!==void 0?goog.global.webkitURL:goog.global.createObjectURL!==void 0?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return goog.fs.url.findUrlObject_()!=null},goog.fs.blob={},goog.fs.blob.getBlob=function(u){var p=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(p!==void 0){p=new p;for(var g=0;g<arguments.length;g++)p.append(arguments[g]);return p.getBlob()}return goog.fs.blob.getBlobWithProperties(goog.array.toArray(arguments))},goog.fs.blob.getBlobWithProperties=function(u,p,g){var _=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(_!==void 0){_=new _;for(var y=0;y<u.length;y++)_.append(u[y],g);return _.getBlob(p)}if(goog.global.Blob!==void 0)return _={},p&&(_.type=p),g&&(_.endings=g),new Blob(u,_);throw Error("This browser doesn't seem to support creating Blobs")},goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(goog.LOCALE.substring(0,2).toLowerCase()=="ar"||goog.LOCALE.substring(0,2).toLowerCase()=="fa"||goog.LOCALE.substring(0,2).toLowerCase()=="he"||goog.LOCALE.substring(0,2).toLowerCase()=="iw"||goog.LOCALE.substring(0,2).toLowerCase()=="ps"||goog.LOCALE.substring(0,2).toLowerCase()=="sd"||goog.LOCALE.substring(0,2).toLowerCase()=="ug"||goog.LOCALE.substring(0,2).toLowerCase()=="ur"||goog.LOCALE.substring(0,2).toLowerCase()=="yi")&&(goog.LOCALE.length==2||goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")||3<=goog.LOCALE.length&&goog.LOCALE.substring(0,3).toLowerCase()=="ckb"&&(goog.LOCALE.length==3||goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")||7<=goog.LOCALE.length&&(goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")&&(goog.LOCALE.substring(3,7).toLowerCase()=="adlm"||goog.LOCALE.substring(3,7).toLowerCase()=="arab"||goog.LOCALE.substring(3,7).toLowerCase()=="hebr"||goog.LOCALE.substring(3,7).toLowerCase()=="nkoo"||goog.LOCALE.substring(3,7).toLowerCase()=="rohg"||goog.LOCALE.substring(3,7).toLowerCase()=="thaa")||8<=goog.LOCALE.length&&(goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")&&(goog.LOCALE.substring(4,8).toLowerCase()=="adlm"||goog.LOCALE.substring(4,8).toLowerCase()=="arab"||goog.LOCALE.substring(4,8).toLowerCase()=="hebr"||goog.LOCALE.substring(4,8).toLowerCase()=="nkoo"||goog.LOCALE.substring(4,8).toLowerCase()=="rohg"||goog.LOCALE.substring(4,8).toLowerCase()=="thaa"),goog.i18n.bidi.Format={LRE:"",RLE:"",PDF:"",LRM:"",RLM:""},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(u,p){return typeof u=="number"?0<u?goog.i18n.bidi.Dir.LTR:0>u?goog.i18n.bidi.Dir.RTL:p?null:goog.i18n.bidi.Dir.NEUTRAL:u==null?null:u?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-z------\uD801\uD804-\uD839\uD83C-\uDBFF---",goog.i18n.bidi.rtlChars_="--\uD802-\uD803\uD83A-\uD83B--",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(u,p){return p?u.replace(goog.i18n.bidi.htmlSkipReg_,""):u},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(u,p){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(u,p))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(u,p){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(u,p))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(u){return goog.i18n.bidi.rtlRe_.test(u)},goog.i18n.bidi.isLtrChar=function(u){return goog.i18n.bidi.ltrRe_.test(u)},goog.i18n.bidi.isNeutralChar=function(u){return!goog.i18n.bidi.isLtrChar(u)&&!goog.i18n.bidi.isRtlChar(u)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(u,p){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(u,p))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(u,p){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(u,p))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(u,p){return u=goog.i18n.bidi.stripHtmlIfNeeded_(u,p),goog.i18n.bidi.isRequiredLtrRe_.test(u)||!goog.i18n.bidi.hasAnyLtr(u)&&!goog.i18n.bidi.hasAnyRtl(u)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(u,p){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(u,p))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(u,p){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(u,p))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(u){return goog.i18n.bidi.rtlLocalesRe_.test(u)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(u,p){return p=(p===void 0?goog.i18n.bidi.hasAnyRtl(u):p)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,u.replace(goog.i18n.bidi.bracketGuardTextRe_,p+"$&"+p)},goog.i18n.bidi.enforceRtlInHtml=function(u){return u.charAt(0)=="<"?u.replace(/<\w+/,"$& dir=rtl"):`
<span dir=rtl>`+u+"</span>"},goog.i18n.bidi.enforceRtlInText=function(u){return goog.i18n.bidi.Format.RLE+u+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(u){return u.charAt(0)=="<"?u.replace(/<\w+/,"$& dir=ltr"):`
<span dir=ltr>`+u+"</span>"},goog.i18n.bidi.enforceLtrInText=function(u){return goog.i18n.bidi.Format.LRE+u+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(u){return u.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(u){return u.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(u,p){var g=0,_=0,y=!1;for(u=goog.i18n.bidi.stripHtmlIfNeeded_(u,p).split(goog.i18n.bidi.wordSeparatorRe_),p=0;p<u.length;p++){var m=u[p];goog.i18n.bidi.startsWithRtl(m)?(g++,_++):goog.i18n.bidi.isRequiredLtrRe_.test(m)?y=!0:goog.i18n.bidi.hasAnyLtr(m)?_++:goog.i18n.bidi.hasNumeralsRe_.test(m)&&(y=!0)}return _==0?y?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:g/_>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(u,p){return goog.i18n.bidi.estimateDirection(u,p)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(u,p){u&&(p=goog.i18n.bidi.toDir(p))&&(u.style.textAlign=p==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,u.dir=p==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(u,p){switch(goog.i18n.bidi.estimateDirection(p)){case goog.i18n.bidi.Dir.LTR:u.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:u.dir="rtl";break;default:u.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(u,p){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=u===goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&p||"",this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(u,p){var g=goog.html.TrustedResourceUrl.unwrap(this),_=(g=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(g))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(g[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",g[2]||"",u)+goog.html.TrustedResourceUrl.stringifyParams_("#",_,p))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(u){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(u).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(u){return u instanceof goog.html.TrustedResourceUrl&&u.constructor===goog.html.TrustedResourceUrl&&u.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?u.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+u+"' of type "+goog.typeOf(u)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.format=function(u,p){var g=goog.string.Const.unwrap(u);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(g))throw Error("Invalid TrustedResourceUrl format: "+g);return u=g.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(_,y){if(!Object.prototype.hasOwnProperty.call(p,y))throw Error('Found marker, "'+y+'", in format string, "'+g+'", but no valid label mapping found in args: '+JSON.stringify(p));return(_=p[y])instanceof goog.string.Const?goog.string.Const.unwrap(_):encodeURIComponent(String(_))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(u)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(u,p,g,_){return goog.html.TrustedResourceUrl.format(u,p).cloneWithParams(g,_)},goog.html.TrustedResourceUrl.fromConstant=function(u){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(u))},goog.html.TrustedResourceUrl.fromConstants=function(u){for(var p="",g=0;g<u.length;g++)p+=goog.string.Const.unwrap(u[g]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(p)},goog.html.TrustedResourceUrl.fromSafeScript=function(u){return u=goog.fs.blob.getBlobWithProperties([goog.html.SafeScript.unwrap(u)],"text/javascript"),u=goog.fs.url.createObjectUrl(u),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(u)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(u){return u=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(u):u,new goog.html.TrustedResourceUrl(goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_,u)},goog.html.TrustedResourceUrl.stringifyParams_=function(u,p,g){if(g==null)return p;if(typeof g=="string")return g?u+encodeURIComponent(g):"";for(var _ in g){var y=g[_];y=Array.isArray(y)?y:[y];for(var m=0;m<y.length;m++){var h=y[m];h!=null&&(p||(p=u),p+=(p.length>u.length?"&":"")+encodeURIComponent(_)+"="+encodeURIComponent(String(h)))}}return p},goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.internal={},goog.string.internal.startsWith=function(u,p){return u.lastIndexOf(p,0)==0},goog.string.internal.endsWith=function(u,p){var g=u.length-p.length;return 0<=g&&u.indexOf(p,g)==g},goog.string.internal.caseInsensitiveStartsWith=function(u,p){return goog.string.internal.caseInsensitiveCompare(p,u.substr(0,p.length))==0},goog.string.internal.caseInsensitiveEndsWith=function(u,p){return goog.string.internal.caseInsensitiveCompare(p,u.substr(u.length-p.length,p.length))==0},goog.string.internal.caseInsensitiveEquals=function(u,p){return u.toLowerCase()==p.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(u){return/^[\s\xa0]*$/.test(u)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(u){return u.trim()}:function(u){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(u)[1]},goog.string.internal.caseInsensitiveCompare=function(u,p){return(u=String(u).toLowerCase())<(p=String(p).toLowerCase())?-1:u==p?0:1},goog.string.internal.newLineToBr=function(u,p){return u.replace(/(\r\n|\r|\n)/g,p?"<br />":"<br>")},goog.string.internal.htmlEscape=function(u,p){if(p)u=u.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(u))return u;u.indexOf("&")!=-1&&(u=u.replace(goog.string.internal.AMP_RE_,"&amp;")),u.indexOf("<")!=-1&&(u=u.replace(goog.string.internal.LT_RE_,"&lt;")),u.indexOf(">")!=-1&&(u=u.replace(goog.string.internal.GT_RE_,"&gt;")),u.indexOf('"')!=-1&&(u=u.replace(goog.string.internal.QUOT_RE_,"&quot;")),u.indexOf("'")!=-1&&(u=u.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),u.indexOf("\0")!=-1&&(u=u.replace(goog.string.internal.NULL_RE_,"&#0;"))}return u},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(u,p){return goog.string.internal.newLineToBr(u.replace(/  /g," &#160;"),p)},goog.string.internal.contains=function(u,p){return u.indexOf(p)!=-1},goog.string.internal.caseInsensitiveContains=function(u,p){return goog.string.internal.contains(u.toLowerCase(),p.toLowerCase())},goog.string.internal.compareVersions=function(u,p){var g=0;u=goog.string.internal.trim(String(u)).split("."),p=goog.string.internal.trim(String(p)).split(".");for(var _=Math.max(u.length,p.length),y=0;g==0&&y<_;y++){var m=u[y]||"",h=p[y]||"";do{if(m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],m[0].length==0&&h[0].length==0)break;g=m[1].length==0?0:parseInt(m[1],10);var b=h[1].length==0?0:parseInt(h[1],10);g=goog.string.internal.compareElements_(g,b)||goog.string.internal.compareElements_(m[2].length==0,h[2].length==0)||goog.string.internal.compareElements_(m[2],h[2]),m=m[3],h=h[3]}while(g==0)}return g},goog.string.internal.compareElements_=function(u,p){return u<p?-1:u>p?1:0},goog.html.SafeUrl=function(u,p){this.privateDoNotAccessOrElseSafeUrlWrappedValue_=u===goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&p||"",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(u){return u instanceof goog.html.SafeUrl&&u.constructor===goog.html.SafeUrl&&u.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?u.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+u+"' of type "+goog.typeOf(u)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(u){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(u))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(u){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(u)},goog.html.SafeUrl.fromBlob=function(u){return u=goog.html.SafeUrl.isSafeMimeType(u.type)?goog.fs.url.createObjectUrl(u):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(u)},goog.html.SafeUrl.fromMediaSource=function(u){return goog.asserts.assert("MediaSource"in goog.global,"No support for MediaSource"),u=u instanceof MediaSource?goog.fs.url.createObjectUrl(u):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(u)},goog.html.DATA_URL_PATTERN_=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(u){var p=(u=u.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return p=p&&goog.html.SafeUrl.isSafeMimeType(p[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(p?u:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(u){return goog.string.internal.caseInsensitiveStartsWith(u,"tel:")||(u=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(u)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(u){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(u))||(u=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(u)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(u){return goog.string.internal.caseInsensitiveStartsWith(u,"fb-messenger://share")||(u=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(u)},goog.html.SafeUrl.fromWhatsAppUrl=function(u){return goog.string.internal.caseInsensitiveStartsWith(u,"whatsapp://send")||(u=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(u)},goog.html.SafeUrl.fromSmsUrl=function(u){return goog.string.internal.caseInsensitiveStartsWith(u,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(u)||(u=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(u)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(u){var p=u.indexOf("#");if(0<p&&(u=u.substring(0,p)),!(p=u.match(/[?&]body=/gi)))return!0;if(1<p.length)return!1;if(!(u=u.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(u)}catch{return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(u)},goog.html.SafeUrl.fromSshUrl=function(u){return goog.string.internal.caseInsensitiveStartsWith(u,"ssh://")||(u=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(u)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(u,p){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,u,p)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(u,p){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,u,p)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(u,p){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,u,p)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(u,p,g){return(u=u.exec(p))?(u=u[1],(g instanceof goog.string.Const?[goog.string.Const.unwrap(g)]:g.map(function(_){return goog.string.Const.unwrap(_)})).indexOf(u)==-1&&(p=goog.html.SafeUrl.INNOCUOUS_STRING)):p=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(p)},goog.html.SafeUrl.fromTrustedResourceUrl=function(u){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(u))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(u){return u instanceof goog.html.SafeUrl?u:(u=typeof u=="object"&&u.implementsGoogStringTypedString?u.getTypedStringValue():String(u),goog.html.SAFE_URL_PATTERN_.test(u)||(u=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(u))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(u,p){return u instanceof goog.html.SafeUrl?u:(u=typeof u=="object"&&u.implementsGoogStringTypedString?u.getTypedStringValue():String(u),p&&/^data:/i.test(u)&&(p=goog.html.SafeUrl.fromDataUrl(u)).getTypedStringValue()==u?p:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(u),"%s does not match the safe URL pattern",u)||(u=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(u)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(u){return new goog.html.SafeUrl(goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_,u)},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_={},goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(u){return(u=goog.string.Const.unwrap(u)).length===0?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(u,";"),"Last character of style string is not ';': "+u),goog.asserts.assert(goog.string.internal.contains(u,":"),`Style string must contain at least one ':', to specify a "name: value" pair: `+u),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(u))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(u){return u instanceof goog.html.SafeStyle&&u.constructor===goog.html.SafeStyle&&u.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?u.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+u+"' of type "+goog.typeOf(u)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(u){return new goog.html.SafeStyle().initSecurityPrivateDoNotAccessOrElse_(u)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(u){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=u,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(u){var p,g="";for(p in u){if(!/^[-_a-zA-Z0-9]+$/.test(p))throw Error("Name allows only [-_a-zA-Z0-9], got: "+p);var _=u[p];_!=null&&(g+=p+":"+(_=Array.isArray(_)?goog.array.map(_,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(_))+";")}return g?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(g):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(u){if(u instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(u).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(u=u instanceof goog.string.Const?goog.string.Const.unwrap(u):goog.html.SafeStyle.sanitizePropertyValueString_(String(u)),/[{;}]/.test(u))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[u]);return u},goog.html.SafeStyle.sanitizePropertyValueString_=function(u){var p=u.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(p)?goog.html.SafeStyle.COMMENT_RE_.test(u)?(goog.asserts.fail("String value disallows comments, got: "+u),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(u)?goog.html.SafeStyle.hasBalancedSquareBrackets_(u)?goog.html.SafeStyle.sanitizeUrl_(u):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+u),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+u),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+u),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(u){for(var p=!0,g=!0,_=0;_<u.length;_++){var y=u.charAt(_);y=="'"&&g?p=!p:y=='"'&&p&&(g=!g)}return p&&g},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(u){for(var p=!0,g=/^[-_a-zA-Z0-9]$/,_=0;_<u.length;_++){var y=u.charAt(_);if(y=="]"){if(p)return!1;p=!0}else if(y=="["){if(!p)return!1;p=!1}else if(!p&&!g.test(y))return!1}return p},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_=`[-,."'%_!# a-zA-Z0-9\\[\\]]`,goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.ALLOWED_FUNCTIONS_="calc cubic-bezier fit-content hsl hsla linear-gradient matrix minmax repeat rgb rgba (rotate|scale|translate)(X|Y|Z|3d)?".split(" "),goog.html.SafeStyle.FUNCTIONS_RE_=new RegExp("\\b("+goog.html.SafeStyle.ALLOWED_FUNCTIONS_.join("|")+")\\([-+*/0-9a-z.%\\[\\], ]+\\)","g"),goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(u){return u.replace(goog.html.SafeStyle.URL_RE_,function(p,g,_,y){var m="";return _=_.replace(/^(['"])(.*)\1$/,function(h,b,x){return m=b,x}),p=goog.html.SafeUrl.sanitize(_).getTypedStringValue(),g+m+p+m+y})},goog.html.SafeStyle.concat=function(u){var p="",g=function(_){Array.isArray(_)?goog.array.forEach(_,g):p+=goog.html.SafeStyle.unwrap(_)};return goog.array.forEach(arguments,g),p?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(p):goog.html.SafeStyle.EMPTY},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(u,p){if(goog.string.internal.contains(u,"<"))throw Error("Selector does not allow '<', got: "+u);var g=u.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(g))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+u);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(g))throw Error("() and [] in selector must be balanced, got: "+u);return p instanceof goog.html.SafeStyle||(p=goog.html.SafeStyle.create(p)),u=u+"{"+goog.html.SafeStyle.unwrap(p).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(u)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(u){for(var p={"(":")","[":"]"},g=[],_=0;_<u.length;_++){var y=u[_];if(p[y])g.push(p[y]);else if(goog.object.contains(p,y)&&g.pop()!=y)return!1}return g.length==0},goog.html.SafeStyleSheet.concat=function(u){var p="",g=function(_){Array.isArray(_)?goog.array.forEach(_,g):p+=goog.html.SafeStyleSheet.unwrap(_)};return goog.array.forEach(arguments,g),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(p)},goog.html.SafeStyleSheet.fromConstant=function(u){return(u=goog.string.Const.unwrap(u)).length===0?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(u,"<"),"Forbidden '<' character in style sheet string: "+u),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(u))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(u){return u instanceof goog.html.SafeStyleSheet&&u.constructor===goog.html.SafeStyleSheet&&u.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?u.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+u+"' of type "+goog.typeOf(u)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(u){return new goog.html.SafeStyleSheet().initSecurityPrivateDoNotAccessOrElse_(u)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(u){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=u,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var u=goog.labs.userAgent.util.getNavigator_();return u&&(u=u.userAgent)?u:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(u){goog.labs.userAgent.util.userAgent_=u||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(u){var p=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(p,u)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(u){var p=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(p,u)},goog.labs.userAgent.util.extractVersionTuples=function(u){for(var p,g=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,_=[];p=g.exec(u);)_.push([p[1],p[2],p[3]||void 0]);return _},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function u(y){return y=goog.array.find(y,_),g[y]||""}var p=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(p);p=goog.labs.userAgent.util.extractVersionTuples(p);var g={};goog.array.forEach(p,function(y){g[y[0]]=y[1]});var _=goog.partial(goog.object.containsKey,g);return goog.labs.userAgent.browser.isOpera()?u(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?u(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?u(["Edg"]):goog.labs.userAgent.browser.isChrome()?u(["Chrome","CriOS","HeadlessChrome"]):(p=p[2])&&p[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(u){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),u)},goog.labs.userAgent.browser.getIEVersion_=function(u){var p=/rv: *([\d\.]*)/.exec(u);if(p&&p[1])return p[1];p="";var g=/MSIE +([\d\.]+)/.exec(u);if(g&&g[1])if(u=/Trident\/(\d.\d)/.exec(u),g[1]=="7.0")if(u&&u[1])switch(u[1]){case"4.0":p="8.0";break;case"5.0":p="9.0";break;case"6.0":p="10.0";break;case"7.0":p="11.0"}else p="7.0";else p=g[1];return p},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.ENABLE_ERROR_MESSAGES=goog.DEBUG,goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE=!0,goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(u){return goog.html.SafeHtml.unwrapTrustedHTML(u).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(u){return u instanceof goog.html.SafeHtml&&u.constructor===goog.html.SafeHtml&&u.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?u.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+u+"' of type "+goog.typeOf(u)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(u){if(u instanceof goog.html.SafeHtml)return u;var p=typeof u=="object",g=null;return p&&u.implementsGoogI18nBidiDirectionalString&&(g=u.getDirection()),u=p&&u.implementsGoogStringTypedString?u.getTypedStringValue():String(u),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(u),g)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(u){return u instanceof goog.html.SafeHtml?u:(u=goog.html.SafeHtml.htmlEscape(u),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(u)),u.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(u){return u instanceof goog.html.SafeHtml?u:(u=goog.html.SafeHtml.htmlEscape(u),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(u)),u.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.comment=function(u){return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!--"+goog.string.internal.htmlEscape(u)+"-->",null)},goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(u,p,g){return goog.html.SafeHtml.verifyTagName(String(u)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(u),p,g)},goog.html.SafeHtml.verifyTagName=function(u){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(u))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Invalid tag name <"+u+">.":"");if(u.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"Tag name <"+u+"> is not allowed for SafeHtml.":"")},goog.html.SafeHtml.createIframe=function(u,p,g,_){u&&goog.html.TrustedResourceUrl.unwrap(u);var y={};return y.src=u||null,y.srcdoc=p&&goog.html.SafeHtml.unwrap(p),u=goog.html.SafeHtml.combineAttributes(y,{sandbox:""},g),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",u,_)},goog.html.SafeHtml.createSandboxIframe=function(u,p,g,_){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?"The browser does not support sandboxed iframes.":"");var y={};return y.src=u?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(u)):null,y.srcdoc=p||null,y.sandbox="",u=goog.html.SafeHtml.combineAttributes(y,{},g),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",u,_)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(u,p){return goog.html.TrustedResourceUrl.unwrap(u),u=goog.html.SafeHtml.combineAttributes({src:u},{},p),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",u)},goog.html.SafeHtml.createScript=function(u,p){for(var g in p){var _=g.toLowerCase();if(_=="language"||_=="src"||_=="text"||_=="type")throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot set "'+_+'" attribute':"")}for(g="",u=goog.array.concat(u),_=0;_<u.length;_++)g+=goog.html.SafeScript.unwrap(u[_]);return u=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(g,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",p,u)},goog.html.SafeHtml.createStyle=function(u,p){p=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},p);var g="";u=goog.array.concat(u);for(var _=0;_<u.length;_++)g+=goog.html.SafeStyleSheet.unwrap(u[_]);return u=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(g,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",p,u)},goog.html.SafeHtml.createMetaRefresh=function(u,p){return u=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(u)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(u,";")&&(u="'"+u.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(p||0)+"; url="+u})},goog.html.SafeHtml.getAttrNameAndValue_=function(u,p,g){if(g instanceof goog.string.Const)g=goog.string.Const.unwrap(g);else if(p.toLowerCase()=="style"){if(!goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "style" not supported.':"");g=goog.html.SafeHtml.getStyleValue_(g)}else{if(/^on/i.test(p))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+p+'" requires goog.string.Const value, "'+g+'" given.':"");if(p.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(g instanceof goog.html.TrustedResourceUrl)g=goog.html.TrustedResourceUrl.unwrap(g);else if(g instanceof goog.html.SafeUrl)g=goog.html.SafeUrl.unwrap(g);else{if(typeof g!="string")throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute "'+p+'" on tag "'+u+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+g+'" given.':"");g=goog.html.SafeUrl.sanitize(g).getTypedStringValue()}}return g.implementsGoogStringTypedString&&(g=g.getTypedStringValue()),goog.asserts.assert(typeof g=="string"||typeof g=="number","String or number value expected, got "+typeof g+" with value: "+g),p+'="'+goog.string.internal.htmlEscape(String(g))+'"'},goog.html.SafeHtml.getStyleValue_=function(u){if(!goog.isObject(u))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof u+" given: "+u:"");return u instanceof goog.html.SafeStyle||(u=goog.html.SafeStyle.create(u)),goog.html.SafeStyle.unwrap(u)},goog.html.SafeHtml.createWithDir=function(u,p,g,_){return(p=goog.html.SafeHtml.create(p,g,_)).dir_=u,p},goog.html.SafeHtml.join=function(u,p){var g=(u=goog.html.SafeHtml.htmlEscape(u)).getDirection(),_=[],y=function(m){Array.isArray(m)?goog.array.forEach(m,y):(m=goog.html.SafeHtml.htmlEscape(m),_.push(goog.html.SafeHtml.unwrap(m)),m=m.getDirection(),g==goog.i18n.bidi.Dir.NEUTRAL?g=m:m!=goog.i18n.bidi.Dir.NEUTRAL&&g!=m&&(g=null))};return goog.array.forEach(p,y),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(_.join(goog.html.SafeHtml.unwrap(u)),g)},goog.html.SafeHtml.concat=function(u){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(u,p){var g=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return g.dir_=u,g},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(u,p){return new goog.html.SafeHtml().initSecurityPrivateDoNotAccessOrElse_(u,p)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(u,p){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(u):u,this.dir_=p,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(u,p,g){var _=null,y="<"+u+goog.html.SafeHtml.stringifyAttributes(u,p);return g==null?g=[]:Array.isArray(g)||(g=[g]),goog.dom.tags.isVoidTag(u.toLowerCase())?(goog.asserts.assert(!g.length,"Void tag <"+u+"> does not allow content."),y+=">"):(_=goog.html.SafeHtml.concat(g),y+=">"+goog.html.SafeHtml.unwrap(_)+"</"+u+">",_=_.getDirection()),(u=p&&p.dir)&&(_=/^(ltr|rtl|auto)$/i.test(u)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(y,_)},goog.html.SafeHtml.stringifyAttributes=function(u,p){var g="";if(p)for(var _ in p){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(_))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Invalid attribute name "'+_+'".':"");var y=p[_];y!=null&&(g+=" "+goog.html.SafeHtml.getAttrNameAndValue_(u,_,y))}return g},goog.html.SafeHtml.combineAttributes=function(u,p,g){var _,y={};for(_ in u)goog.asserts.assert(_.toLowerCase()==_,"Must be lower case"),y[_]=u[_];for(_ in p)goog.asserts.assert(_.toLowerCase()==_,"Must be lower case"),y[_]=p[_];if(g)for(_ in g){var m=_.toLowerCase();if(m in u)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot override "'+m+'" attribute, got "'+_+'" with value "'+g[_]+'"':"");m in p&&delete y[m],y[_]=g[_]}return y},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(u,p,g){return goog.asserts.assertString(goog.string.Const.unwrap(u),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(u)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(p,g||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(u,p){return goog.asserts.assertString(goog.string.Const.unwrap(u),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(u)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(p)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(u,p){return goog.asserts.assertString(goog.string.Const.unwrap(u),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(u)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(p)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(u,p){return goog.asserts.assertString(goog.string.Const.unwrap(u),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(u)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(p)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(u,p){return goog.asserts.assertString(goog.string.Const.unwrap(u),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(u)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(p)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(u,p){return goog.asserts.assertString(goog.string.Const.unwrap(u),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(u)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(p)},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(u,p,g){u.insertAdjacentHTML(p,goog.html.SafeHtml.unwrapTrustedHTML(g))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&typeof document>"u")return!1;var u=document.createElement("div"),p=document.createElement("div");return p.appendChild(document.createElement("div")),u.appendChild(p),!(goog.DEBUG&&!u.firstChild)&&(p=u.firstChild.firstChild,u.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!p.parentElement)}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(u,p){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;u.lastChild;)u.removeChild(u.lastChild);u.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(p)},goog.dom.safe.setInnerHtml=function(u,p){if(goog.asserts.ENABLE_ASSERTS){var g=u.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[g])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+u.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(u,p)},goog.dom.safe.setOuterHtml=function(u,p){u.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(p)},goog.dom.safe.setFormElementAction=function(u,p){p=p instanceof goog.html.SafeUrl?p:goog.html.SafeUrl.sanitizeAssertUnchanged(p),goog.dom.asserts.assertIsHTMLFormElement(u).action=goog.html.SafeUrl.unwrap(p)},goog.dom.safe.setButtonFormAction=function(u,p){p=p instanceof goog.html.SafeUrl?p:goog.html.SafeUrl.sanitizeAssertUnchanged(p),goog.dom.asserts.assertIsHTMLButtonElement(u).formAction=goog.html.SafeUrl.unwrap(p)},goog.dom.safe.setInputFormAction=function(u,p){p=p instanceof goog.html.SafeUrl?p:goog.html.SafeUrl.sanitizeAssertUnchanged(p),goog.dom.asserts.assertIsHTMLInputElement(u).formAction=goog.html.SafeUrl.unwrap(p)},goog.dom.safe.setStyle=function(u,p){u.style.cssText=goog.html.SafeStyle.unwrap(p)},goog.dom.safe.documentWrite=function(u,p){u.write(goog.html.SafeHtml.unwrapTrustedHTML(p))},goog.dom.safe.setAnchorHref=function(u,p){goog.dom.asserts.assertIsHTMLAnchorElement(u),p=p instanceof goog.html.SafeUrl?p:goog.html.SafeUrl.sanitizeAssertUnchanged(p),u.href=goog.html.SafeUrl.unwrap(p)},goog.dom.safe.setImageSrc=function(u,p){if(goog.dom.asserts.assertIsHTMLImageElement(u),!(p instanceof goog.html.SafeUrl)){var g=/^data:image\//i.test(p);p=goog.html.SafeUrl.sanitizeAssertUnchanged(p,g)}u.src=goog.html.SafeUrl.unwrap(p)},goog.dom.safe.setAudioSrc=function(u,p){if(goog.dom.asserts.assertIsHTMLAudioElement(u),!(p instanceof goog.html.SafeUrl)){var g=/^data:audio\//i.test(p);p=goog.html.SafeUrl.sanitizeAssertUnchanged(p,g)}u.src=goog.html.SafeUrl.unwrap(p)},goog.dom.safe.setVideoSrc=function(u,p){if(goog.dom.asserts.assertIsHTMLVideoElement(u),!(p instanceof goog.html.SafeUrl)){var g=/^data:video\//i.test(p);p=goog.html.SafeUrl.sanitizeAssertUnchanged(p,g)}u.src=goog.html.SafeUrl.unwrap(p)},goog.dom.safe.setEmbedSrc=function(u,p){goog.dom.asserts.assertIsHTMLEmbedElement(u),u.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(p)},goog.dom.safe.setFrameSrc=function(u,p){goog.dom.asserts.assertIsHTMLFrameElement(u),u.src=goog.html.TrustedResourceUrl.unwrap(p)},goog.dom.safe.setIframeSrc=function(u,p){goog.dom.asserts.assertIsHTMLIFrameElement(u),u.src=goog.html.TrustedResourceUrl.unwrap(p)},goog.dom.safe.setIframeSrcdoc=function(u,p){goog.dom.asserts.assertIsHTMLIFrameElement(u),u.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(p)},goog.dom.safe.setLinkHrefAndRel=function(u,p,g){goog.dom.asserts.assertIsHTMLLinkElement(u),u.rel=g,goog.string.internal.caseInsensitiveContains(g,"stylesheet")?(goog.asserts.assert(p instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),u.href=goog.html.TrustedResourceUrl.unwrap(p)):u.href=p instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(p):p instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(p):goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitizeAssertUnchanged(p))},goog.dom.safe.setObjectData=function(u,p){goog.dom.asserts.assertIsHTMLObjectElement(u),u.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(p)},goog.dom.safe.setScriptSrc=function(u,p){goog.dom.asserts.assertIsHTMLScriptElement(u),u.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(p),(p=goog.getScriptNonce())&&u.setAttribute("nonce",p)},goog.dom.safe.setScriptContent=function(u,p){goog.dom.asserts.assertIsHTMLScriptElement(u),u.text=goog.html.SafeScript.unwrapTrustedScript(p),(p=goog.getScriptNonce())&&u.setAttribute("nonce",p)},goog.dom.safe.setLocationHref=function(u,p){goog.dom.asserts.assertIsLocation(u),p=p instanceof goog.html.SafeUrl?p:goog.html.SafeUrl.sanitizeAssertUnchanged(p),u.href=goog.html.SafeUrl.unwrap(p)},goog.dom.safe.assignLocation=function(u,p){goog.dom.asserts.assertIsLocation(u),p=p instanceof goog.html.SafeUrl?p:goog.html.SafeUrl.sanitizeAssertUnchanged(p),u.assign(goog.html.SafeUrl.unwrap(p))},goog.dom.safe.replaceLocation=function(u,p){p=p instanceof goog.html.SafeUrl?p:goog.html.SafeUrl.sanitizeAssertUnchanged(p),u.replace(goog.html.SafeUrl.unwrap(p))},goog.dom.safe.openInWindow=function(u,p,g,_,y){return u=u instanceof goog.html.SafeUrl?u:goog.html.SafeUrl.sanitizeAssertUnchanged(u),p=p||goog.global,g=g instanceof goog.string.Const?goog.string.Const.unwrap(g):g||"",p.open(goog.html.SafeUrl.unwrap(u),g,_,y)},goog.dom.safe.parseFromStringHtml=function(u,p){return goog.dom.safe.parseFromString(u,p,"text/html")},goog.dom.safe.parseFromString=function(u,p,g){return u.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(p),g)},goog.dom.safe.createImageFromBlob=function(u){if(!/^image\/.*/g.test(u.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var p=goog.global.URL.createObjectURL(u);return(u=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(p)},goog.dom.safe.setImageSrc(u,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),p)),u},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:""},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(u,p){for(var g=u.split("%s"),_="",y=Array.prototype.slice.call(arguments,1);y.length&&1<g.length;)_+=g.shift()+y.shift();return _+g.join("%s")},goog.string.collapseWhitespace=function(u){return u.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(u){return u.length==0},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(u){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(u))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(u){return!/[^\t\n\r ]/.test(u)},goog.string.isAlpha=function(u){return!/[^a-zA-Z]/.test(u)},goog.string.isNumeric=function(u){return!/[^0-9]/.test(u)},goog.string.isAlphaNumeric=function(u){return!/[^a-zA-Z0-9]/.test(u)},goog.string.isSpace=function(u){return u==" "},goog.string.isUnicodeChar=function(u){return u.length==1&&" "<=u&&"~">=u||""<=u&&"">=u},goog.string.stripNewlines=function(u){return u.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(u){return u.replace(/(\r\n|\r|\n)/g,`
`)},goog.string.normalizeWhitespace=function(u){return u.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(u){return u.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(u){return u.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(u){return u.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(u){return u.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(u,p,g){if(u==p)return 0;if(!u)return-1;if(!p)return 1;for(var _=u.toLowerCase().match(g),y=p.toLowerCase().match(g),m=Math.min(_.length,y.length),h=0;h<m;h++){g=_[h];var b=y[h];if(g!=b)return u=parseInt(g,10),!isNaN(u)&&(p=parseInt(b,10),!isNaN(p)&&u-p)?u-p:g<b?-1:1}return _.length!=y.length?_.length-y.length:u<p?-1:1},goog.string.intAwareCompare=function(u,p){return goog.string.numberAwareCompare_(u,p,/\d+|\D+/g)},goog.string.floatAwareCompare=function(u,p){return goog.string.numberAwareCompare_(u,p,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(u){return encodeURIComponent(String(u))},goog.string.urlDecode=function(u){return decodeURIComponent(u.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(u,p){return u=goog.string.internal.htmlEscape(u,p),goog.string.DETECT_DOUBLE_ESCAPING&&(u=u.replace(goog.string.E_RE_,"&#101;")),u},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(u){return goog.string.contains(u,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(u):goog.string.unescapePureXmlEntities_(u):u},goog.string.unescapeEntitiesWithDocument=function(u,p){return goog.string.contains(u,"&")?goog.string.unescapeEntitiesUsingDom_(u,p):u},goog.string.unescapeEntitiesUsingDom_=function(u,p){var g={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},_=p?p.createElement("div"):goog.global.document.createElement("div");return u.replace(goog.string.HTML_ENTITY_PATTERN_,function(y,m){var h=g[y];return h||(m.charAt(0)=="#"&&(m=Number("0"+m.substr(1)),isNaN(m)||(h=String.fromCharCode(m))),h||(goog.dom.safe.setInnerHtml(_,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),y+" ")),h=_.firstChild.nodeValue.slice(0,-1)),g[y]=h)})},goog.string.unescapePureXmlEntities_=function(u){return u.replace(/&([^;]+);/g,function(p,g){switch(g){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return g.charAt(0)!="#"||(g=Number("0"+g.substr(1)),isNaN(g))?p:String.fromCharCode(g)}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(u,p){return goog.string.newLineToBr(u.replace(/  /g," &#160;"),p)},goog.string.preserveSpaces=function(u){return u.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(u,p){for(var g=p.length,_=0;_<g;_++){var y=g==1?p:p.charAt(_);if(u.charAt(0)==y&&u.charAt(u.length-1)==y)return u.substring(1,u.length-1)}return u},goog.string.truncate=function(u,p,g){return g&&(u=goog.string.unescapeEntities(u)),u.length>p&&(u=u.substring(0,p-3)+"..."),g&&(u=goog.string.htmlEscape(u)),u},goog.string.truncateMiddle=function(u,p,g,_){if(g&&(u=goog.string.unescapeEntities(u)),_&&u.length>p){_>p&&(_=p);var y=u.length-_;u=u.substring(0,p-_)+"..."+u.substring(y)}else u.length>p&&(_=Math.floor(p/2),y=u.length-_,u=u.substring(0,_+p%2)+"..."+u.substring(y));return g&&(u=goog.string.htmlEscape(u)),u},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(u){u=String(u);for(var p=['"'],g=0;g<u.length;g++){var _=u.charAt(g),y=_.charCodeAt(0);p[g+1]=goog.string.specialEscapeChars_[_]||(31<y&&127>y?_:goog.string.escapeChar(_))}return p.push('"'),p.join("")},goog.string.escapeString=function(u){for(var p=[],g=0;g<u.length;g++)p[g]=goog.string.escapeChar(u.charAt(g));return p.join("")},goog.string.escapeChar=function(u){if(u in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[u];if(u in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[u]=goog.string.specialEscapeChars_[u];var p=u.charCodeAt(0);if(31<p&&127>p)var g=u;else 256>p?(g="\\x",(16>p||256<p)&&(g+="0")):(g="\\u",4096>p&&(g+="0")),g+=p.toString(16).toUpperCase();return goog.string.jsEscapeCache_[u]=g},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(u,p){return u&&p?u.split(p).length-1:0},goog.string.removeAt=function(u,p,g){var _=u;return 0<=p&&p<u.length&&0<g&&(_=u.substr(0,p)+u.substr(p+g,u.length-p-g)),_},goog.string.remove=function(u,p){return u.replace(p,"")},goog.string.removeAll=function(u,p){return p=new RegExp(goog.string.regExpEscape(p),"g"),u.replace(p,"")},goog.string.replaceAll=function(u,p,g){return p=new RegExp(goog.string.regExpEscape(p),"g"),u.replace(p,g.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(u){return String(u).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(u,p){return u.repeat(p)}:function(u,p){return Array(p+1).join(u)},goog.string.padNumber=function(u,p,g){return(g=(u=g!==void 0?u.toFixed(g):String(u)).indexOf("."))==-1&&(g=u.length),goog.string.repeat("0",Math.max(0,p-g))+u},goog.string.makeSafe=function(u){return u==null?"":String(u)},goog.string.buildString=function(u){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(u){for(var p=0,g=0;g<u.length;++g)p=31*p+u.charCodeAt(g)>>>0;return p},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(u){var p=Number(u);return p==0&&goog.string.isEmptyOrWhitespace(u)?NaN:p},goog.string.isLowerCamelCase=function(u){return/^[a-z]+([A-Z][a-z]*)*$/.test(u)},goog.string.isUpperCamelCase=function(u){return/^([A-Z][a-z]*)+$/.test(u)},goog.string.toCamelCase=function(u){return String(u).replace(/\-([a-z])/g,function(p,g){return g.toUpperCase()})},goog.string.toSelectorCase=function(u){return String(u).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(u,p){return p=typeof p=="string"?goog.string.regExpEscape(p):"\\s",u.replace(new RegExp("(^"+(p?"|["+p+"]+":"")+")([a-z])","g"),function(g,_,y){return _+y.toUpperCase()})},goog.string.capitalize=function(u){return String(u.charAt(0)).toUpperCase()+String(u.substr(1)).toLowerCase()},goog.string.parseInt=function(u){return isFinite(u)&&(u=String(u)),typeof u=="string"?/^\s*-?0x/i.test(u)?parseInt(u,16):parseInt(u,10):NaN},goog.string.splitLimit=function(u,p,g){u=u.split(p);for(var _=[];0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(p)),_},goog.string.lastComponent=function(u,p){if(!p)return u;typeof p=="string"&&(p=[p]);for(var g=-1,_=0;_<p.length;_++)if(p[_]!=""){var y=u.lastIndexOf(p[_]);y>g&&(g=y)}return g==-1?u:u.slice(g+1)},goog.string.editDistance=function(u,p){var g=[],_=[];if(u==p)return 0;if(!u.length||!p.length)return Math.max(u.length,p.length);for(var y=0;y<p.length+1;y++)g[y]=y;for(y=0;y<u.length;y++){_[0]=y+1;for(var m=0;m<p.length;m++)_[m+1]=Math.min(_[m]+1,g[m+1]+1,g[m]+Number(u[y]!=p[m]));for(m=0;m<g.length;m++)g[m]=_[m]}return _[p.length]},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var u=goog.labs.userAgent.util.getUserAgent();if(u){u=goog.labs.userAgent.util.extractVersionTuples(u);var p,g=goog.labs.userAgent.engine.getEngineTuple_(u);if(g)return g[0]=="Gecko"?goog.labs.userAgent.engine.getVersionForKey_(u,"Firefox"):g[1];if((u=u[0])&&(p=u[2])&&(p=/Trident\/([^\s;]+)/.exec(p)))return p[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(u){if(!goog.labs.userAgent.engine.isEdge())return u[1];for(var p=0;p<u.length;p++){var g=u[p];if(g[0]=="Edge")return g}},goog.labs.userAgent.engine.isVersionOrHigher=function(u){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),u)},goog.labs.userAgent.engine.getVersionForKey_=function(u,p){return(u=goog.array.find(u,function(g){return p==g[0]}))&&u[1]||""},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.getVersion=function(){var u=goog.labs.userAgent.util.getUserAgent(),p="";return goog.labs.userAgent.platform.isWindows()?p=(u=(p=/Windows (?:NT|Phone) ([0-9.]+)/).exec(u))?u[1]:"0.0":goog.labs.userAgent.platform.isIos()?p=(u=(p=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(u))&&u[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?p=(u=(p=/Mac OS X ([0-9_.]+)/).exec(u))?u[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?p=(u=(p=/(?:KaiOS)\/(\S+)/i).exec(u))&&u[1]:goog.labs.userAgent.platform.isAndroid()?p=(u=(p=/Android\s+([^\);]+)(\)|;)/).exec(u))&&u[1]:goog.labs.userAgent.platform.isChromeOS()&&(p=(u=(p=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(u))&&u[1]),p||""},goog.labs.userAgent.platform.isVersionOrHigher=function(u){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),u)},goog.reflect={},goog.reflect.object=function(u,p){return p},goog.reflect.objectProperty=function(u,p){return u},goog.reflect.sinkValue=function(u){return goog.reflect.sinkValue[" "](u),u},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(u,p){try{return goog.reflect.sinkValue(u[p]),!0}catch{}return!1},goog.reflect.cache=function(u,p,g,_){return _=_?_(p):p,Object.prototype.hasOwnProperty.call(u,_)?u[_]:u[_]=g(p)},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var u=goog.userAgent.getNavigatorTyped();return u&&u.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var u=goog.userAgent.getNavigatorTyped();return!!u&&goog.string.contains(u.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.determineVersion_=function(){var u="",p=goog.userAgent.getVersionRegexResult_();return p&&(u=p?p[1]:""),goog.userAgent.IE&&(p=goog.userAgent.getDocumentMode_())!=null&&p>parseFloat(u)?String(p):u},goog.userAgent.getVersionRegexResult_=function(){var u=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(u):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(u):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(u):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(u):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(u):void 0},goog.userAgent.getDocumentMode_=function(){var u=goog.global.document;return u?u.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(u,p){return goog.string.compareVersions(u,p)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(u){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,u,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,u)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(u){return Number(goog.userAgent.DOCUMENT_MODE)>=u},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE){var u=goog.userAgent.getDocumentMode_();return u||parseInt(goog.userAgent.VERSION,10)||void 0}}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(u){return goog.string.contains(goog.crypt.base64.paddingChars_,u)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||typeof goog.global.btoa=="function",goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&typeof goog.global.atob=="function",goog.crypt.base64.encodeByteArray=function(u,p){goog.asserts.assert(goog.isArrayLike(u),"encodeByteArray takes an array as a parameter"),p===void 0&&(p=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),p=goog.crypt.base64.byteToCharMaps_[p];for(var g=[],_=0;_<u.length;_+=3){var y=u[_],m=_+1<u.length,h=m?u[_+1]:0,b=_+2<u.length,x=b?u[_+2]:0,O=y>>2;y=(3&y)<<4|h>>4,h=(15&h)<<2|x>>6,x&=63,b||(x=64,m||(h=64)),g.push(p[O],p[y],p[h]||"",p[x]||"")}return g.join("")},goog.crypt.base64.encodeString=function(u,p){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!p?goog.global.btoa(u):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(u),p)},goog.crypt.base64.decodeString=function(u,p){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!p)return goog.global.atob(u);var g="";return goog.crypt.base64.decodeStringInternal_(u,function(_){g+=String.fromCharCode(_)}),g},goog.crypt.base64.decodeStringToByteArray=function(u,p){var g=[];return goog.crypt.base64.decodeStringInternal_(u,function(_){g.push(_)}),g},goog.crypt.base64.decodeStringToUint8Array=function(u){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var p=u.length,g=3*p/4;g%3?g=Math.floor(g):goog.crypt.base64.isPadding_(u[p-1])&&(g=goog.crypt.base64.isPadding_(u[p-2])?g-2:g-1);var _=new Uint8Array(g),y=0;return goog.crypt.base64.decodeStringInternal_(u,function(m){_[y++]=m}),_.subarray(0,y)},goog.crypt.base64.decodeStringInternal_=function(u,p){function g(x){for(;_<u.length;){var O=u.charAt(_++),T=goog.crypt.base64.charToByteMap_[O];if(T!=null)return T;if(!goog.string.isEmptyOrWhitespace(O))throw Error("Unknown base64 encoding at char: "+O)}return x}goog.crypt.base64.init_();for(var _=0;;){var y=g(-1),m=g(0),h=g(64),b=g(64);if(b===64&&y===-1)break;p(y<<2|m>>4),h!=64&&(p(m<<4&240|h>>2),b!=64&&p(h<<6&192|b))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var u=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),p=["+/=","+/","-_=","-_.","-_"],g=0;5>g;g++){var _=u.concat(p[g].split(""));goog.crypt.base64.byteToCharMaps_[g]=_;for(var y=0;y<_.length;y++){var m=_[y],h=goog.crypt.base64.charToByteMap_[m];h===void 0?goog.crypt.base64.charToByteMap_[m]=y:goog.asserts.assert(h===y)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(u){var p=u>>>0;u=Math.floor((u-p)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=p,jspb.utils.split64High=u},jspb.utils.splitInt64=function(u){var p=0>u,g=(u=Math.abs(u))>>>0;u=Math.floor((u-g)/jspb.BinaryConstants.TWO_TO_32),u>>>=0,p&&(u=~u>>>0,4294967295<(g=1+(~g>>>0))&&(g=0,4294967295<++u&&(u=0))),jspb.utils.split64Low=g,jspb.utils.split64High=u},jspb.utils.splitZigzag64=function(u){var p=0>u;u=2*Math.abs(u),jspb.utils.splitUint64(u),u=jspb.utils.split64Low;var g=jspb.utils.split64High;p&&(u==0?g==0?g=u=4294967295:(g--,u=4294967295):u--),jspb.utils.split64Low=u,jspb.utils.split64High=g},jspb.utils.splitFloat32=function(u){var p=0>u?1:0;if((u=p?-u:u)===0)0<1/u?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(u))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(u>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(p<<31|2139095040)>>>0;else if(u<jspb.BinaryConstants.FLOAT32_MIN)u=Math.round(u/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(p<<31|u)>>>0;else{var g=Math.floor(Math.log(u)/Math.LN2);u*=Math.pow(2,-g),16777216<=(u=Math.round(u*jspb.BinaryConstants.TWO_TO_23))&&++g,jspb.utils.split64High=0,jspb.utils.split64Low=(p<<31|g+127<<23|8388607&u)>>>0}},jspb.utils.splitFloat64=function(u){var p=0>u?1:0;if((u=p?-u:u)===0)jspb.utils.split64High=0<1/u?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(u))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(u>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(p<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(u<jspb.BinaryConstants.FLOAT64_MIN){var g=u/Math.pow(2,-1074);u=g/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(p<<31|u)>>>0,jspb.utils.split64Low=g>>>0}else{var _=0;if(2<=(g=u))for(;2<=g&&1023>_;)_++,g/=2;else for(;1>g&&-1022<_;)g*=2,_--;u=(g=u*Math.pow(2,-_))*jspb.BinaryConstants.TWO_TO_20&1048575,g=g*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(p<<31|_+1023<<20|u)>>>0,jspb.utils.split64Low=g}},jspb.utils.splitHash64=function(u){var p=u.charCodeAt(0),g=u.charCodeAt(1),_=u.charCodeAt(2),y=u.charCodeAt(3),m=u.charCodeAt(4),h=u.charCodeAt(5),b=u.charCodeAt(6);u=u.charCodeAt(7),jspb.utils.split64Low=p+(g<<8)+(_<<16)+(y<<24)>>>0,jspb.utils.split64High=m+(h<<8)+(b<<16)+(u<<24)>>>0},jspb.utils.joinUint64=function(u,p){return p*jspb.BinaryConstants.TWO_TO_32+(u>>>0)},jspb.utils.joinInt64=function(u,p){var g=2147483648&p;return g&&(p=~p>>>0,(u=1+~u>>>0)==0&&(p=p+1>>>0)),u=jspb.utils.joinUint64(u,p),g?-u:u},jspb.utils.toZigzag64=function(u,p,g){var _=p>>31;return g(u<<1^_,(p<<1|u>>>31)^_)},jspb.utils.joinZigzag64=function(u,p){return jspb.utils.fromZigzag64(u,p,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(u,p,g){var _=-(1&u);return g((u>>>1|p<<31)^_,p>>>1^_)},jspb.utils.joinFloat32=function(u,p){p=2*(u>>31)+1;var g=u>>>23&255;return u&=8388607,g==255?u?NaN:1/0*p:g==0?p*Math.pow(2,-149)*u:p*Math.pow(2,g-150)*(u+Math.pow(2,23))},jspb.utils.joinFloat64=function(u,p){var g=2*(p>>31)+1,_=p>>>20&2047;return u=jspb.BinaryConstants.TWO_TO_32*(1048575&p)+u,_==2047?u?NaN:1/0*g:_==0?g*Math.pow(2,-1074)*u:g*Math.pow(2,_-1075)*(u+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(u,p){return String.fromCharCode(u>>>0&255,u>>>8&255,u>>>16&255,u>>>24&255,p>>>0&255,p>>>8&255,p>>>16&255,p>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(u,p){function g(y,m){return y=y?String(y):"",m?"0000000".slice(y.length)+y:y}if(2097151>=p)return""+jspb.utils.joinUint64(u,p);var _=(u>>>24|p<<8)>>>0&16777215;return u=(16777215&u)+6777216*_+6710656*(p=p>>16&65535),_+=8147497*p,p*=2,1e7<=u&&(_+=Math.floor(u/1e7),u%=1e7),1e7<=_&&(p+=Math.floor(_/1e7),_%=1e7),g(p,0)+g(_,p)+g(u,1)},jspb.utils.joinSignedDecimalString=function(u,p){var g=2147483648&p;return g&&(p=~p+((u=1+~u>>>0)==0?1:0)>>>0),u=jspb.utils.joinUnsignedDecimalString(u,p),g?"-"+u:u},jspb.utils.hash64ToDecimalString=function(u,p){jspb.utils.splitHash64(u),u=jspb.utils.split64Low;var g=jspb.utils.split64High;return p?jspb.utils.joinSignedDecimalString(u,g):jspb.utils.joinUnsignedDecimalString(u,g)},jspb.utils.hash64ArrayToDecimalStrings=function(u,p){for(var g=Array(u.length),_=0;_<u.length;_++)g[_]=jspb.utils.hash64ToDecimalString(u[_],p);return g},jspb.utils.decimalStringToHash64=function(u){function p(m,h){for(var b=0;8>b&&(m!==1||0<h);b++)h=m*_[b]+h,_[b]=255&h,h>>>=8}jspb.asserts.assert(0<u.length);var g=!1;u[0]==="-"&&(g=!0,u=u.slice(1));for(var _=[0,0,0,0,0,0,0,0],y=0;y<u.length;y++)p(10,u.charCodeAt(y)-jspb.utils.ZERO_CHAR_CODE_);return g&&(function(){for(var m=0;8>m;m++)_[m]=255&~_[m]}(),p(1,1)),goog.crypt.byteArrayToString(_)},jspb.utils.splitDecimalString=function(u){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(u))},jspb.utils.toHexDigit_=function(u){return String.fromCharCode(10>u?jspb.utils.ZERO_CHAR_CODE_+u:jspb.utils.A_CHAR_CODE_-10+u)},jspb.utils.fromHexCharCode_=function(u){return u>=jspb.utils.A_CHAR_CODE_?u-jspb.utils.A_CHAR_CODE_+10:u-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(u){var p=Array(18);p[0]="0",p[1]="x";for(var g=0;8>g;g++){var _=u.charCodeAt(7-g);p[2*g+2]=jspb.utils.toHexDigit_(_>>4),p[2*g+3]=jspb.utils.toHexDigit_(15&_)}return p.join("")},jspb.utils.hexStringToHash64=function(u){u=u.toLowerCase(),jspb.asserts.assert(u.length==18),jspb.asserts.assert(u[0]=="0"),jspb.asserts.assert(u[1]=="x");for(var p="",g=0;8>g;g++){var _=jspb.utils.fromHexCharCode_(u.charCodeAt(2*g+2)),y=jspb.utils.fromHexCharCode_(u.charCodeAt(2*g+3));p=String.fromCharCode(16*_+y)+p}return p},jspb.utils.hash64ToNumber=function(u,p){jspb.utils.splitHash64(u),u=jspb.utils.split64Low;var g=jspb.utils.split64High;return p?jspb.utils.joinInt64(u,g):jspb.utils.joinUint64(u,g)},jspb.utils.numberToHash64=function(u){return jspb.utils.splitInt64(u),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(u,p,g){for(var _=0,y=p;y<g;y++)_+=u[y]>>7;return g-p-_},jspb.utils.countVarintFields=function(u,p,g,_){var y=0;if(128>(_=8*_+jspb.BinaryConstants.WireType.VARINT))for(;p<g&&u[p++]==_;)for(y++;;){var m=u[p++];if(!(128&m))break}else for(;p<g;){for(m=_;128<m;){if(u[p]!=(127&m|128))return y;p++,m>>=7}if(u[p++]!=m)break;for(y++;128&(m=u[p++]););}return y},jspb.utils.countFixedFields_=function(u,p,g,_,y){var m=0;if(128>_)for(;p<g&&u[p++]==_;)m++,p+=y;else for(;p<g;){for(var h=_;128<h;){if(u[p++]!=(127&h|128))return m;h>>=7}if(u[p++]!=h)break;m++,p+=y}return m},jspb.utils.countFixed32Fields=function(u,p,g,_){return jspb.utils.countFixedFields_(u,p,g,8*_+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(u,p,g,_){return jspb.utils.countFixedFields_(u,p,g,8*_+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(u,p,g,_){var y=0;for(_=8*_+jspb.BinaryConstants.WireType.DELIMITED;p<g;){for(var m=_;128<m;){if(u[p++]!=(127&m|128))return y;m>>=7}if(u[p++]!=m)break;y++;for(var h=0,b=1;h+=(127&(m=u[p++]))*b,b*=128,(128&m)!=0;);p+=h}return y},jspb.utils.debugBytesToTextFormat=function(u){var p='"';if(u){u=jspb.utils.byteSourceToUint8Array(u);for(var g=0;g<u.length;g++)p+="\\x",16>u[g]&&(p+="0"),p+=u[g].toString(16)}return p+'"'},jspb.utils.debugScalarToTextFormat=function(u){return typeof u=="string"?goog.string.quote(u):u.toString()},jspb.utils.stringToByteArray=function(u){for(var p=new Uint8Array(u.length),g=0;g<u.length;g++){var _=u.charCodeAt(g);if(255<_)throw Error("Conversion error: string contains codepoint outside of byte range");p[g]=_}return p},jspb.utils.byteSourceToUint8Array=function(u){return u.constructor===Uint8Array?u:u.constructor===ArrayBuffer||u.constructor===Array?new Uint8Array(u):u.constructor===String?goog.crypt.base64.decodeStringToUint8Array(u):u instanceof Uint8Array?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):(jspb.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(u,p,g){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,u&&this.setBlock(u,p,g)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(u,p,g){if(jspb.BinaryDecoder.instanceCache_.length){var _=jspb.BinaryDecoder.instanceCache_.pop();return u&&_.setBlock(u,p,g),_}return new jspb.BinaryDecoder(u,p,g)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(u,p,g){this.bytes_=jspb.utils.byteSourceToUint8Array(u),this.start_=p!==void 0?p:0,this.end_=g!==void 0?this.start_+g:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(u){this.end_=u},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(u){this.cursor_=u},jspb.BinaryDecoder.prototype.advance=function(u){this.cursor_+=u,jspb.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(u){for(var p=128,g=0,_=0,y=0;4>y&&128<=p;y++)g|=(127&(p=this.bytes_[this.cursor_++]))<<7*y;if(128<=p&&(g|=(127&(p=this.bytes_[this.cursor_++]))<<28,_|=(127&p)>>4),128<=p)for(y=0;5>y&&128<=p;y++)_|=(127&(p=this.bytes_[this.cursor_++]))<<7*y+3;if(128>p)return u(g>>>0,_>>>0);jspb.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(u){return this.readSplitVarint64(function(p,g){return jspb.utils.fromZigzag64(p,g,u)})},jspb.BinaryDecoder.prototype.readSplitFixed64=function(u){var p=this.bytes_,g=this.cursor_;this.cursor_+=8;for(var _=0,y=0,m=g+7;m>=g;m--)_=_<<8|p[m],y=y<<8|p[m+4];return u(_,y)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(u){for(;128<u;)this.cursor_--,u>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var u=this.bytes_,p=u[this.cursor_+0],g=127&p;return 128>p?(this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),g):(g|=(127&(p=u[this.cursor_+1]))<<7,128>p?(this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),g):(g|=(127&(p=u[this.cursor_+2]))<<14,128>p?(this.cursor_+=3,jspb.asserts.assert(this.cursor_<=this.end_),g):(g|=(127&(p=u[this.cursor_+3]))<<21,128>p?(this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),g):(g|=(15&(p=u[this.cursor_+4]))<<28,128>p?(this.cursor_+=5,jspb.asserts.assert(this.cursor_<=this.end_),g>>>0):(this.cursor_+=5,128<=u[this.cursor_++]&&128<=u[this.cursor_++]&&128<=u[this.cursor_++]&&128<=u[this.cursor_++]&&128<=u[this.cursor_++]&&jspb.asserts.assert(!1),jspb.asserts.assert(this.cursor_<=this.end_),g)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=function(){return~~this.readUnsignedVarint32()},jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var u=this.readUnsignedVarint32();return u>>>1^-(1&u)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var u=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),u},jspb.BinaryDecoder.prototype.readUint16=function(){var u=this.bytes_[this.cursor_+0],p=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),u<<0|p<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var u=this.bytes_[this.cursor_+0],p=this.bytes_[this.cursor_+1],g=this.bytes_[this.cursor_+2],_=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),(u<<0|p<<8|g<<16|_<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var u=this.readUint32(),p=this.readUint32();return jspb.utils.joinUint64(u,p)},jspb.BinaryDecoder.prototype.readUint64String=function(){var u=this.readUint32(),p=this.readUint32();return jspb.utils.joinUnsignedDecimalString(u,p)},jspb.BinaryDecoder.prototype.readInt8=function(){var u=this.bytes_[this.cursor_+0];return this.cursor_+=1,jspb.asserts.assert(this.cursor_<=this.end_),u<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var u=this.bytes_[this.cursor_+0],p=this.bytes_[this.cursor_+1];return this.cursor_+=2,jspb.asserts.assert(this.cursor_<=this.end_),(u<<0|p<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var u=this.bytes_[this.cursor_+0],p=this.bytes_[this.cursor_+1],g=this.bytes_[this.cursor_+2],_=this.bytes_[this.cursor_+3];return this.cursor_+=4,jspb.asserts.assert(this.cursor_<=this.end_),u<<0|p<<8|g<<16|_<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var u=this.readUint32(),p=this.readUint32();return jspb.utils.joinInt64(u,p)},jspb.BinaryDecoder.prototype.readInt64String=function(){var u=this.readUint32(),p=this.readUint32();return jspb.utils.joinSignedDecimalString(u,p)},jspb.BinaryDecoder.prototype.readFloat=function(){var u=this.readUint32();return jspb.utils.joinFloat32(u,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var u=this.readUint32(),p=this.readUint32();return jspb.utils.joinFloat64(u,p)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(u){var p=this.bytes_,g=this.cursor_;u=g+u;for(var _=[],y="";g<u;){var m=p[g++];if(128>m)_.push(m);else{if(192>m)continue;if(224>m){var h=p[g++];_.push((31&m)<<6|63&h)}else if(240>m){h=p[g++];var b=p[g++];_.push((15&m)<<12|(63&h)<<6|63&b)}else 248>m&&(m=(7&m)<<18|(63&(h=p[g++]))<<12|(63&(b=p[g++]))<<6|63&p[g++],m-=65536,_.push(55296+(m>>10&1023),56320+(1023&m)))}8192<=_.length&&(y+=String.fromCharCode.apply(null,_),_.length=0)}return y+=goog.crypt.byteArrayToString(_),this.cursor_=g,y},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var u=this.readUnsignedVarint32();return this.readString(u)},jspb.BinaryDecoder.prototype.readBytes=function(u){if(0>u||this.cursor_+u>this.bytes_.length)return this.error_=!0,jspb.asserts.fail("Invalid byte length!"),new Uint8Array(0);var p=this.bytes_.subarray(this.cursor_,this.cursor_+u);return this.cursor_+=u,jspb.asserts.assert(this.cursor_<=this.end_),p},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var u=this.bytes_,p=this.cursor_,g=u[p+0],_=u[p+1],y=u[p+2],m=u[p+3],h=u[p+4],b=u[p+5],x=u[p+6];return u=u[p+7],this.cursor_+=8,String.fromCharCode(g,_,y,m,h,b,x,u)},jspb.BinaryReader=function(u,p,g){this.decoder_=jspb.BinaryDecoder.alloc(u,p,g),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(u,p,g){if(jspb.BinaryReader.instanceCache_.length){var _=jspb.BinaryReader.instanceCache_.pop();return u&&_.decoder_.setBlock(u,p,g),_}return new jspb.BinaryReader(u,p,g)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},goog.exportProperty(jspb.BinaryReader.prototype,"getFieldNumber",jspb.BinaryReader.prototype.getFieldNumber),jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},goog.exportProperty(jspb.BinaryReader.prototype,"isDelimited",jspb.BinaryReader.prototype.isDelimited),jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},goog.exportProperty(jspb.BinaryReader.prototype,"isEndGroup",jspb.BinaryReader.prototype.isEndGroup),jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(u,p,g){this.decoder_.setBlock(u,p,g),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(u){this.decoder_.advance(u)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return jspb.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var u=this.decoder_.readUnsignedVarint32(),p=u>>>3;return(u&=7)!=jspb.BinaryConstants.WireType.VARINT&&u!=jspb.BinaryConstants.WireType.FIXED32&&u!=jspb.BinaryConstants.WireType.FIXED64&&u!=jspb.BinaryConstants.WireType.DELIMITED&&u!=jspb.BinaryConstants.WireType.START_GROUP&&u!=jspb.BinaryConstants.WireType.END_GROUP?(jspb.asserts.fail("Invalid wire type: %s (at position %s)",u,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=p,this.nextWireType_=u,!0)},goog.exportProperty(jspb.BinaryReader.prototype,"nextField",jspb.BinaryReader.prototype.nextField),jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var u=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==u;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(jspb.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)jspb.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var u=this.decoder_.readUnsignedVarint32();this.decoder_.advance(u)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(jspb.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(jspb.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var u=this.nextField_;;){if(!this.nextField()){jspb.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=u&&(jspb.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:jspb.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(u,p){this.readCallbacks_===null&&(this.readCallbacks_={}),jspb.asserts.assert(!this.readCallbacks_[u]),this.readCallbacks_[u]=p},jspb.BinaryReader.prototype.runReadCallback=function(u){return jspb.asserts.assert(this.readCallbacks_!==null),u=this.readCallbacks_[u],jspb.asserts.assert(u),u(this)},jspb.BinaryReader.prototype.readAny=function(u){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(u);var p=jspb.BinaryConstants.FieldType;switch(u){case p.DOUBLE:return this.readDouble();case p.FLOAT:return this.readFloat();case p.INT64:return this.readInt64();case p.UINT64:return this.readUint64();case p.INT32:return this.readInt32();case p.FIXED64:return this.readFixed64();case p.FIXED32:return this.readFixed32();case p.BOOL:return this.readBool();case p.STRING:return this.readString();case p.GROUP:jspb.asserts.fail("Group field type not supported in readAny()");case p.MESSAGE:jspb.asserts.fail("Message field type not supported in readAny()");case p.BYTES:return this.readBytes();case p.UINT32:return this.readUint32();case p.ENUM:return this.readEnum();case p.SFIXED32:return this.readSfixed32();case p.SFIXED64:return this.readSfixed64();case p.SINT32:return this.readSint32();case p.SINT64:return this.readSint64();case p.FHASH64:return this.readFixedHash64();case p.VHASH64:return this.readVarintHash64();default:jspb.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(u,p){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var g=this.decoder_.getEnd(),_=this.decoder_.readUnsignedVarint32();_=this.decoder_.getCursor()+_,this.decoder_.setEnd(_),p(u,this),this.decoder_.setCursor(_),this.decoder_.setEnd(g)},goog.exportProperty(jspb.BinaryReader.prototype,"readMessage",jspb.BinaryReader.prototype.readMessage),jspb.BinaryReader.prototype.readGroup=function(u,p,g){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),jspb.asserts.assert(this.nextField_==u),g(p,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(jspb.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},goog.exportProperty(jspb.BinaryReader.prototype,"readGroup",jspb.BinaryReader.prototype.readGroup),jspb.BinaryReader.prototype.getFieldDecoder=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var u=this.decoder_.readUnsignedVarint32(),p=this.decoder_.getCursor(),g=p+u;return u=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),p,u),this.decoder_.setCursor(g),u},jspb.BinaryReader.prototype.readInt32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readInt32",jspb.BinaryReader.prototype.readInt32),jspb.BinaryReader.prototype.readInt32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readInt64",jspb.BinaryReader.prototype.readInt64),jspb.BinaryReader.prototype.readInt64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readUint32",jspb.BinaryReader.prototype.readUint32),jspb.BinaryReader.prototype.readUint32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readUint64",jspb.BinaryReader.prototype.readUint64),jspb.BinaryReader.prototype.readUint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readSint32",jspb.BinaryReader.prototype.readSint32),jspb.BinaryReader.prototype.readSint64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readSint64",jspb.BinaryReader.prototype.readSint64),jspb.BinaryReader.prototype.readSint64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readFixed32",jspb.BinaryReader.prototype.readFixed32),jspb.BinaryReader.prototype.readFixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readFixed64",jspb.BinaryReader.prototype.readFixed64),jspb.BinaryReader.prototype.readFixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed32",jspb.BinaryReader.prototype.readSfixed32),jspb.BinaryReader.prototype.readSfixed32String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},goog.exportProperty(jspb.BinaryReader.prototype,"readSfixed64",jspb.BinaryReader.prototype.readSfixed64),jspb.BinaryReader.prototype.readSfixed64String=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},goog.exportProperty(jspb.BinaryReader.prototype,"readFloat",jspb.BinaryReader.prototype.readFloat),jspb.BinaryReader.prototype.readDouble=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},goog.exportProperty(jspb.BinaryReader.prototype,"readDouble",jspb.BinaryReader.prototype.readDouble),jspb.BinaryReader.prototype.readBool=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},goog.exportProperty(jspb.BinaryReader.prototype,"readBool",jspb.BinaryReader.prototype.readBool),jspb.BinaryReader.prototype.readEnum=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},goog.exportProperty(jspb.BinaryReader.prototype,"readEnum",jspb.BinaryReader.prototype.readEnum),jspb.BinaryReader.prototype.readString=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var u=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(u)},goog.exportProperty(jspb.BinaryReader.prototype,"readString",jspb.BinaryReader.prototype.readString),jspb.BinaryReader.prototype.readBytes=function(){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var u=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(u)},goog.exportProperty(jspb.BinaryReader.prototype,"readBytes",jspb.BinaryReader.prototype.readBytes),jspb.BinaryReader.prototype.readVarintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(u){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(u)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(u){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(p,g){return jspb.utils.fromZigzag64(p,g,u)})},jspb.BinaryReader.prototype.readFixedHash64=function(){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(u){return jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(u)},jspb.BinaryReader.prototype.readPackedField_=function(u){jspb.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var p=this.decoder_.readUnsignedVarint32();p=this.decoder_.getCursor()+p;for(var g=[];this.decoder_.getCursor()<p;)g.push(u.call(this.decoder_));return g},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt32",jspb.BinaryReader.prototype.readPackedInt32),jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedInt64",jspb.BinaryReader.prototype.readPackedInt64),jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint32",jspb.BinaryReader.prototype.readPackedUint32),jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedUint64",jspb.BinaryReader.prototype.readPackedUint64),jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint32",jspb.BinaryReader.prototype.readPackedSint32),jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSint64",jspb.BinaryReader.prototype.readPackedSint64),jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed32",jspb.BinaryReader.prototype.readPackedFixed32),jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFixed64",jspb.BinaryReader.prototype.readPackedFixed64),jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed32",jspb.BinaryReader.prototype.readPackedSfixed32),jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedSfixed64",jspb.BinaryReader.prototype.readPackedSfixed64),jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedFloat",jspb.BinaryReader.prototype.readPackedFloat),jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedDouble",jspb.BinaryReader.prototype.readPackedDouble),jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedBool",jspb.BinaryReader.prototype.readPackedBool),jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},goog.exportProperty(jspb.BinaryReader.prototype,"readPackedEnum",jspb.BinaryReader.prototype.readPackedEnum),jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var u=this.buffer_;return this.buffer_=[],u},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(u,p){for(jspb.asserts.assert(u==Math.floor(u)),jspb.asserts.assert(p==Math.floor(p)),jspb.asserts.assert(0<=u&&u<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=p&&p<jspb.BinaryConstants.TWO_TO_32);0<p||127<u;)this.buffer_.push(127&u|128),u=(u>>>7|p<<25)>>>0,p>>>=7;this.buffer_.push(u)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(u,p){jspb.asserts.assert(u==Math.floor(u)),jspb.asserts.assert(p==Math.floor(p)),jspb.asserts.assert(0<=u&&u<jspb.BinaryConstants.TWO_TO_32),jspb.asserts.assert(0<=p&&p<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(u),this.writeUint32(p)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(u){for(jspb.asserts.assert(u==Math.floor(u)),jspb.asserts.assert(0<=u&&u<jspb.BinaryConstants.TWO_TO_32);127<u;)this.buffer_.push(127&u|128),u>>>=7;this.buffer_.push(u)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(u){if(jspb.asserts.assert(u==Math.floor(u)),jspb.asserts.assert(u>=-jspb.BinaryConstants.TWO_TO_31&&u<jspb.BinaryConstants.TWO_TO_31),0<=u)this.writeUnsignedVarint32(u);else{for(var p=0;9>p;p++)this.buffer_.push(127&u|128),u>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(u){jspb.asserts.assert(u==Math.floor(u)),jspb.asserts.assert(0<=u&&u<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(u),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(u){jspb.asserts.assert(u==Math.floor(u)),jspb.asserts.assert(u>=-jspb.BinaryConstants.TWO_TO_63&&u<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(u),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(u){jspb.asserts.assert(u==Math.floor(u)),jspb.asserts.assert(u>=-jspb.BinaryConstants.TWO_TO_31&&u<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((u<<1^u>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(u){jspb.asserts.assert(u==Math.floor(u)),jspb.asserts.assert(u>=-jspb.BinaryConstants.TWO_TO_63&&u<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(u),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(u){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(u))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(u){var p=this;jspb.utils.splitHash64(u),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(g,_){p.writeSplitVarint64(g>>>0,_>>>0)})},jspb.BinaryEncoder.prototype.writeUint8=function(u){jspb.asserts.assert(u==Math.floor(u)),jspb.asserts.assert(0<=u&&256>u),this.buffer_.push(u>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(u){jspb.asserts.assert(u==Math.floor(u)),jspb.asserts.assert(0<=u&&65536>u),this.buffer_.push(u>>>0&255),this.buffer_.push(u>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(u){jspb.asserts.assert(u==Math.floor(u)),jspb.asserts.assert(0<=u&&u<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(u>>>0&255),this.buffer_.push(u>>>8&255),this.buffer_.push(u>>>16&255),this.buffer_.push(u>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(u){jspb.asserts.assert(u==Math.floor(u)),jspb.asserts.assert(0<=u&&u<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(u),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(u){jspb.asserts.assert(u==Math.floor(u)),jspb.asserts.assert(-128<=u&&128>u),this.buffer_.push(u>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(u){jspb.asserts.assert(u==Math.floor(u)),jspb.asserts.assert(-32768<=u&&32768>u),this.buffer_.push(u>>>0&255),this.buffer_.push(u>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(u){jspb.asserts.assert(u==Math.floor(u)),jspb.asserts.assert(u>=-jspb.BinaryConstants.TWO_TO_31&&u<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(u>>>0&255),this.buffer_.push(u>>>8&255),this.buffer_.push(u>>>16&255),this.buffer_.push(u>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(u){jspb.asserts.assert(u==Math.floor(u)),jspb.asserts.assert(u>=-jspb.BinaryConstants.TWO_TO_63&&u<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(u),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(u){jspb.asserts.assert(u==Math.floor(u)),jspb.asserts.assert(+u>=-jspb.BinaryConstants.TWO_TO_63&&+u<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(u)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(u){jspb.asserts.assert(1/0===u||-1/0===u||isNaN(u)||u>=-jspb.BinaryConstants.FLOAT32_MAX&&u<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(u),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(u){jspb.asserts.assert(1/0===u||-1/0===u||isNaN(u)||u>=-jspb.BinaryConstants.FLOAT64_MAX&&u<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(u),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(u){jspb.asserts.assert(typeof u=="boolean"||typeof u=="number"),this.buffer_.push(u?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(u){jspb.asserts.assert(u==Math.floor(u)),jspb.asserts.assert(u>=-jspb.BinaryConstants.TWO_TO_31&&u<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(u)},jspb.BinaryEncoder.prototype.writeBytes=function(u){this.buffer_.push.apply(this.buffer_,u)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(u){jspb.utils.splitHash64(u),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(u){jspb.utils.splitHash64(u),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(u){var p=this.buffer_.length;jspb.asserts.assertString(u);for(var g=0;g<u.length;g++){var _=u.charCodeAt(g);if(128>_)this.buffer_.push(_);else if(2048>_)this.buffer_.push(_>>6|192),this.buffer_.push(63&_|128);else if(65536>_)if(55296<=_&&56319>=_&&g+1<u.length){var y=u.charCodeAt(g+1);56320<=y&&57343>=y&&(_=1024*(_-55296)+y-56320+65536,this.buffer_.push(_>>18|240),this.buffer_.push(_>>12&63|128),this.buffer_.push(_>>6&63|128),this.buffer_.push(63&_|128),g++)}else this.buffer_.push(_>>12|224),this.buffer_.push(_>>6&63|128),this.buffer_.push(63&_|128)}return this.buffer_.length-p},jspb.arith={},jspb.arith.UInt64=function(u,p){this.lo=u,this.hi=p},jspb.arith.UInt64.prototype.cmp=function(u){return this.hi<u.hi||this.hi==u.hi&&this.lo<u.lo?-1:this.hi==u.hi&&this.lo==u.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return this.lo==0&&this.hi==0},jspb.arith.UInt64.prototype.add=function(u){return new jspb.arith.UInt64((this.lo+u.lo&4294967295)>>>0>>>0,((this.hi+u.hi&4294967295)>>>0)+(4294967296<=this.lo+u.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(u){return new jspb.arith.UInt64((this.lo-u.lo&4294967295)>>>0>>>0,((this.hi-u.hi&4294967295)>>>0)-(0>this.lo-u.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(u,p){var g=65535&u,_=65535&p,y=p>>>16;for(p=g*_+65536*(g*y&65535)+65536*((u>>>=16)*_&65535),g=u*y+(g*y>>>16)+(u*_>>>16);4294967296<=p;)p-=4294967296,g+=1;return new jspb.arith.UInt64(p>>>0,g>>>0)},jspb.arith.UInt64.prototype.mul=function(u){var p=jspb.arith.UInt64.mul32x32(this.lo,u);return(u=jspb.arith.UInt64.mul32x32(this.hi,u)).hi=u.lo,u.lo=0,p.add(u)},jspb.arith.UInt64.prototype.div=function(u){if(u==0)return[];var p=new jspb.arith.UInt64(0,0),g=new jspb.arith.UInt64(this.lo,this.hi);u=new jspb.arith.UInt64(u,0);for(var _=new jspb.arith.UInt64(1,0);!u.msb();)u=u.leftShift(),_=_.leftShift();for(;!_.zero();)0>=u.cmp(g)&&(p=p.add(_),g=g.sub(u)),u=u.rightShift(),_=_.rightShift();return[p,g]},jspb.arith.UInt64.prototype.toString=function(){for(var u="",p=this;!p.zero();){var g=(p=p.div(10))[0];u=p[1].lo+u,p=g}return u==""&&(u="0"),u},jspb.arith.UInt64.fromString=function(u){for(var p=new jspb.arith.UInt64(0,0),g=new jspb.arith.UInt64(0,0),_=0;_<u.length;_++){if("0">u[_]||"9"<u[_])return null;var y=parseInt(u[_],10);g.lo=y,p=p.mul(10).add(g)}return p},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(u,p){this.lo=u,this.hi=p},jspb.arith.Int64.prototype.add=function(u){return new jspb.arith.Int64((this.lo+u.lo&4294967295)>>>0>>>0,((this.hi+u.hi&4294967295)>>>0)+(4294967296<=this.lo+u.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(u){return new jspb.arith.Int64((this.lo-u.lo&4294967295)>>>0>>>0,((this.hi-u.hi&4294967295)>>>0)-(0>this.lo-u.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var u=(2147483648&this.hi)!=0,p=new jspb.arith.UInt64(this.lo,this.hi);return u&&(p=new jspb.arith.UInt64(0,0).sub(p)),(u?"-":"")+p.toString()},jspb.arith.Int64.fromString=function(u){var p=0<u.length&&u[0]=="-";return p&&(u=u.substring(1)),(u=jspb.arith.UInt64.fromString(u))===null?null:(p&&(u=new jspb.arith.UInt64(0,0).sub(u)),new jspb.arith.Int64(u.lo,u.hi))},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(u){var p=this.encoder_.end();this.blocks_.push(p),this.blocks_.push(u),this.totalLength_+=p.length+u.length},jspb.BinaryWriter.prototype.beginDelimited_=function(u){return this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.DELIMITED),u=this.encoder_.end(),this.blocks_.push(u),this.totalLength_+=u.length,u.push(this.totalLength_),u},jspb.BinaryWriter.prototype.endDelimited_=function(u){var p=u.pop();for(p=this.totalLength_+this.encoder_.length()-p,jspb.asserts.assert(0<=p);127<p;)u.push(127&p|128),p>>>=7,this.totalLength_++;u.push(p),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(u,p,g){this.appendUint8Array_(u.subarray(p,g))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(u,p,g){u!=null&&p!=null&&g!=null&&this.writeSerializedMessage(u,p,g)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){jspb.asserts.assert(this.bookmarks_.length==0);for(var u=new Uint8Array(this.totalLength_+this.encoder_.length()),p=this.blocks_,g=p.length,_=0,y=0;y<g;y++){var m=p[y];u.set(m,_),_+=m.length}return p=this.encoder_.end(),u.set(p,_),_+=p.length,jspb.asserts.assert(_==u.length),this.blocks_=[u],u},goog.exportProperty(jspb.BinaryWriter.prototype,"getResultBuffer",jspb.BinaryWriter.prototype.getResultBuffer),jspb.BinaryWriter.prototype.getResultBase64String=function(u){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),u)},jspb.BinaryWriter.prototype.beginSubMessage=function(u){this.bookmarks_.push(this.beginDelimited_(u))},jspb.BinaryWriter.prototype.endSubMessage=function(){jspb.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(u,p){jspb.asserts.assert(1<=u&&u==Math.floor(u)),this.encoder_.writeUnsignedVarint32(8*u+p)},jspb.BinaryWriter.prototype.writeAny=function(u,p,g){var _=jspb.BinaryConstants.FieldType;switch(u){case _.DOUBLE:this.writeDouble(p,g);break;case _.FLOAT:this.writeFloat(p,g);break;case _.INT64:this.writeInt64(p,g);break;case _.UINT64:this.writeUint64(p,g);break;case _.INT32:this.writeInt32(p,g);break;case _.FIXED64:this.writeFixed64(p,g);break;case _.FIXED32:this.writeFixed32(p,g);break;case _.BOOL:this.writeBool(p,g);break;case _.STRING:this.writeString(p,g);break;case _.GROUP:jspb.asserts.fail("Group field type not supported in writeAny()");break;case _.MESSAGE:jspb.asserts.fail("Message field type not supported in writeAny()");break;case _.BYTES:this.writeBytes(p,g);break;case _.UINT32:this.writeUint32(p,g);break;case _.ENUM:this.writeEnum(p,g);break;case _.SFIXED32:this.writeSfixed32(p,g);break;case _.SFIXED64:this.writeSfixed64(p,g);break;case _.SINT32:this.writeSint32(p,g);break;case _.SINT64:this.writeSint64(p,g);break;case _.FHASH64:this.writeFixedHash64(p,g);break;case _.VHASH64:this.writeVarintHash64(p,g);break;default:jspb.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(u,p){p!=null&&(this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(p))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(u,p){p!=null&&(this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(p))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(u,p){p!=null&&(this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(p))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(u,p){p!=null&&(this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(p))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(u,p){p!=null&&(this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(p))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(u,p){p!=null&&(this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(p))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(u,p){p!=null&&(this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(p))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(u,p){p!=null&&(this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(p))},jspb.BinaryWriter.prototype.writeInt32=function(u,p){p!=null&&(jspb.asserts.assert(p>=-jspb.BinaryConstants.TWO_TO_31&&p<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(u,p))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt32",jspb.BinaryWriter.prototype.writeInt32),jspb.BinaryWriter.prototype.writeInt32String=function(u,p){p!=null&&(p=parseInt(p,10),jspb.asserts.assert(p>=-jspb.BinaryConstants.TWO_TO_31&&p<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(u,p))},jspb.BinaryWriter.prototype.writeInt64=function(u,p){p!=null&&(jspb.asserts.assert(p>=-jspb.BinaryConstants.TWO_TO_63&&p<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(u,p))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeInt64",jspb.BinaryWriter.prototype.writeInt64),jspb.BinaryWriter.prototype.writeInt64String=function(u,p){p!=null&&(p=jspb.arith.Int64.fromString(p),this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(p.lo,p.hi))},jspb.BinaryWriter.prototype.writeUint32=function(u,p){p!=null&&(jspb.asserts.assert(0<=p&&p<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(u,p))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint32",jspb.BinaryWriter.prototype.writeUint32),jspb.BinaryWriter.prototype.writeUint32String=function(u,p){p!=null&&(p=parseInt(p,10),jspb.asserts.assert(0<=p&&p<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(u,p))},jspb.BinaryWriter.prototype.writeUint64=function(u,p){p!=null&&(jspb.asserts.assert(0<=p&&p<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(u,p))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeUint64",jspb.BinaryWriter.prototype.writeUint64),jspb.BinaryWriter.prototype.writeUint64String=function(u,p){p!=null&&(p=jspb.arith.UInt64.fromString(p),this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(p.lo,p.hi))},jspb.BinaryWriter.prototype.writeSint32=function(u,p){p!=null&&(jspb.asserts.assert(p>=-jspb.BinaryConstants.TWO_TO_31&&p<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(u,p))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint32",jspb.BinaryWriter.prototype.writeSint32),jspb.BinaryWriter.prototype.writeSint64=function(u,p){p!=null&&(jspb.asserts.assert(p>=-jspb.BinaryConstants.TWO_TO_63&&p<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(u,p))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSint64",jspb.BinaryWriter.prototype.writeSint64),jspb.BinaryWriter.prototype.writeSintHash64=function(u,p){p!=null&&this.writeZigzagVarintHash64_(u,p)},jspb.BinaryWriter.prototype.writeSint64String=function(u,p){p!=null&&this.writeZigzagVarint64String_(u,p)},jspb.BinaryWriter.prototype.writeFixed32=function(u,p){p!=null&&(jspb.asserts.assert(0<=p&&p<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(p))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed32",jspb.BinaryWriter.prototype.writeFixed32),jspb.BinaryWriter.prototype.writeFixed64=function(u,p){p!=null&&(jspb.asserts.assert(0<=p&&p<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(p))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFixed64",jspb.BinaryWriter.prototype.writeFixed64),jspb.BinaryWriter.prototype.writeFixed64String=function(u,p){p!=null&&(p=jspb.arith.UInt64.fromString(p),this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(p.lo,p.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(u,p){p!=null&&(jspb.asserts.assert(p>=-jspb.BinaryConstants.TWO_TO_31&&p<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(p))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed32",jspb.BinaryWriter.prototype.writeSfixed32),jspb.BinaryWriter.prototype.writeSfixed64=function(u,p){p!=null&&(jspb.asserts.assert(p>=-jspb.BinaryConstants.TWO_TO_63&&p<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(p))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeSfixed64",jspb.BinaryWriter.prototype.writeSfixed64),jspb.BinaryWriter.prototype.writeSfixed64String=function(u,p){p!=null&&(p=jspb.arith.Int64.fromString(p),this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(p.lo,p.hi))},jspb.BinaryWriter.prototype.writeFloat=function(u,p){p!=null&&(this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(p))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeFloat",jspb.BinaryWriter.prototype.writeFloat),jspb.BinaryWriter.prototype.writeDouble=function(u,p){p!=null&&(this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(p))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeDouble",jspb.BinaryWriter.prototype.writeDouble),jspb.BinaryWriter.prototype.writeBool=function(u,p){p!=null&&(jspb.asserts.assert(typeof p=="boolean"||typeof p=="number"),this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(p))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeBool",jspb.BinaryWriter.prototype.writeBool),jspb.BinaryWriter.prototype.writeEnum=function(u,p){p!=null&&(jspb.asserts.assert(p>=-jspb.BinaryConstants.TWO_TO_31&&p<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(p))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeEnum",jspb.BinaryWriter.prototype.writeEnum),jspb.BinaryWriter.prototype.writeString=function(u,p){p!=null&&(u=this.beginDelimited_(u),this.encoder_.writeString(p),this.endDelimited_(u))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeString",jspb.BinaryWriter.prototype.writeString),jspb.BinaryWriter.prototype.writeBytes=function(u,p){p!=null&&(p=jspb.utils.byteSourceToUint8Array(p),this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(p.length),this.appendUint8Array_(p))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeBytes",jspb.BinaryWriter.prototype.writeBytes),jspb.BinaryWriter.prototype.writeMessage=function(u,p,g){p!=null&&(u=this.beginDelimited_(u),g(p,this),this.endDelimited_(u))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeMessage",jspb.BinaryWriter.prototype.writeMessage),jspb.BinaryWriter.prototype.writeMessageSet=function(u,p,g){p!=null&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(u),u=this.beginDelimited_(3),g(p,this),this.endDelimited_(u),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(u,p,g){p!=null&&(this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.START_GROUP),g(p,this),this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.END_GROUP))},goog.exportProperty(jspb.BinaryWriter.prototype,"writeGroup",jspb.BinaryWriter.prototype.writeGroup),jspb.BinaryWriter.prototype.writeFixedHash64=function(u,p){p!=null&&(jspb.asserts.assert(p.length==8),this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(p))},jspb.BinaryWriter.prototype.writeVarintHash64=function(u,p){p!=null&&(jspb.asserts.assert(p.length==8),this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(p))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(u,p,g){this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(p,g)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(u,p,g){this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(p,g)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(u,p,g){this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.VARINT);var _=this.encoder_;jspb.utils.toZigzag64(p,g,function(y,m){_.writeSplitVarint64(y>>>0,m>>>0)})},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeSignedVarint32_(u,p[g])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt32",jspb.BinaryWriter.prototype.writeRepeatedInt32),jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeInt32String(u,p[g])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeSignedVarint64_(u,p[g])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedInt64",jspb.BinaryWriter.prototype.writeRepeatedInt64),jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(u,p,g,_){if(p!=null)for(var y=0;y<p.length;y++)this.writeSplitFixed64(u,g(p[y]),_(p[y]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(u,p,g,_){if(p!=null)for(var y=0;y<p.length;y++)this.writeSplitVarint64(u,g(p[y]),_(p[y]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(u,p,g,_){if(p!=null)for(var y=0;y<p.length;y++)this.writeSplitZigzagVarint64(u,g(p[y]),_(p[y]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeInt64String(u,p[g])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeUnsignedVarint32_(u,p[g])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint32",jspb.BinaryWriter.prototype.writeRepeatedUint32),jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeUint32String(u,p[g])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeUnsignedVarint64_(u,p[g])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedUint64",jspb.BinaryWriter.prototype.writeRepeatedUint64),jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeUint64String(u,p[g])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeZigzagVarint32_(u,p[g])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint32",jspb.BinaryWriter.prototype.writeRepeatedSint32),jspb.BinaryWriter.prototype.writeRepeatedSint64=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeZigzagVarint64_(u,p[g])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSint64",jspb.BinaryWriter.prototype.writeRepeatedSint64),jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeZigzagVarint64String_(u,p[g])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeZigzagVarintHash64_(u,p[g])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeFixed32(u,p[g])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed32",jspb.BinaryWriter.prototype.writeRepeatedFixed32),jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeFixed64(u,p[g])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64",jspb.BinaryWriter.prototype.writeRepeatedFixed64),jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeFixed64String(u,p[g])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFixed64String",jspb.BinaryWriter.prototype.writeRepeatedFixed64String),jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeSfixed32(u,p[g])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed32",jspb.BinaryWriter.prototype.writeRepeatedSfixed32),jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeSfixed64(u,p[g])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedSfixed64",jspb.BinaryWriter.prototype.writeRepeatedSfixed64),jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeSfixed64String(u,p[g])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeFloat(u,p[g])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedFloat",jspb.BinaryWriter.prototype.writeRepeatedFloat),jspb.BinaryWriter.prototype.writeRepeatedDouble=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeDouble(u,p[g])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedDouble",jspb.BinaryWriter.prototype.writeRepeatedDouble),jspb.BinaryWriter.prototype.writeRepeatedBool=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeBool(u,p[g])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBool",jspb.BinaryWriter.prototype.writeRepeatedBool),jspb.BinaryWriter.prototype.writeRepeatedEnum=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeEnum(u,p[g])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedEnum",jspb.BinaryWriter.prototype.writeRepeatedEnum),jspb.BinaryWriter.prototype.writeRepeatedString=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeString(u,p[g])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedString",jspb.BinaryWriter.prototype.writeRepeatedString),jspb.BinaryWriter.prototype.writeRepeatedBytes=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeBytes(u,p[g])},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedBytes",jspb.BinaryWriter.prototype.writeRepeatedBytes),jspb.BinaryWriter.prototype.writeRepeatedMessage=function(u,p,g){if(p!=null)for(var _=0;_<p.length;_++){var y=this.beginDelimited_(u);g(p[_],this),this.endDelimited_(y)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedMessage",jspb.BinaryWriter.prototype.writeRepeatedMessage),jspb.BinaryWriter.prototype.writeRepeatedGroup=function(u,p,g){if(p!=null)for(var _=0;_<p.length;_++)this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.START_GROUP),g(p[_],this),this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.END_GROUP)},goog.exportProperty(jspb.BinaryWriter.prototype,"writeRepeatedGroup",jspb.BinaryWriter.prototype.writeRepeatedGroup),jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeFixedHash64(u,p[g])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(u,p){if(p!=null)for(var g=0;g<p.length;g++)this.writeVarintHash64(u,p[g])},jspb.BinaryWriter.prototype.writePackedInt32=function(u,p){if(p!=null&&p.length){u=this.beginDelimited_(u);for(var g=0;g<p.length;g++)this.encoder_.writeSignedVarint32(p[g]);this.endDelimited_(u)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt32",jspb.BinaryWriter.prototype.writePackedInt32),jspb.BinaryWriter.prototype.writePackedInt32String=function(u,p){if(p!=null&&p.length){u=this.beginDelimited_(u);for(var g=0;g<p.length;g++)this.encoder_.writeSignedVarint32(parseInt(p[g],10));this.endDelimited_(u)}},jspb.BinaryWriter.prototype.writePackedInt64=function(u,p){if(p!=null&&p.length){u=this.beginDelimited_(u);for(var g=0;g<p.length;g++)this.encoder_.writeSignedVarint64(p[g]);this.endDelimited_(u)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedInt64",jspb.BinaryWriter.prototype.writePackedInt64),jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(u,p,g,_){if(p!=null){u=this.beginDelimited_(u);for(var y=0;y<p.length;y++)this.encoder_.writeSplitFixed64(g(p[y]),_(p[y]));this.endDelimited_(u)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(u,p,g,_){if(p!=null){u=this.beginDelimited_(u);for(var y=0;y<p.length;y++)this.encoder_.writeSplitVarint64(g(p[y]),_(p[y]));this.endDelimited_(u)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(u,p,g,_){if(p!=null){u=this.beginDelimited_(u);for(var y=this.encoder_,m=0;m<p.length;m++)jspb.utils.toZigzag64(g(p[m]),_(p[m]),function(h,b){y.writeSplitVarint64(h>>>0,b>>>0)});this.endDelimited_(u)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(u,p){if(p!=null&&p.length){u=this.beginDelimited_(u);for(var g=0;g<p.length;g++){var _=jspb.arith.Int64.fromString(p[g]);this.encoder_.writeSplitVarint64(_.lo,_.hi)}this.endDelimited_(u)}},jspb.BinaryWriter.prototype.writePackedUint32=function(u,p){if(p!=null&&p.length){u=this.beginDelimited_(u);for(var g=0;g<p.length;g++)this.encoder_.writeUnsignedVarint32(p[g]);this.endDelimited_(u)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint32",jspb.BinaryWriter.prototype.writePackedUint32),jspb.BinaryWriter.prototype.writePackedUint32String=function(u,p){if(p!=null&&p.length){u=this.beginDelimited_(u);for(var g=0;g<p.length;g++)this.encoder_.writeUnsignedVarint32(parseInt(p[g],10));this.endDelimited_(u)}},jspb.BinaryWriter.prototype.writePackedUint64=function(u,p){if(p!=null&&p.length){u=this.beginDelimited_(u);for(var g=0;g<p.length;g++)this.encoder_.writeUnsignedVarint64(p[g]);this.endDelimited_(u)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedUint64",jspb.BinaryWriter.prototype.writePackedUint64),jspb.BinaryWriter.prototype.writePackedUint64String=function(u,p){if(p!=null&&p.length){u=this.beginDelimited_(u);for(var g=0;g<p.length;g++){var _=jspb.arith.UInt64.fromString(p[g]);this.encoder_.writeSplitVarint64(_.lo,_.hi)}this.endDelimited_(u)}},jspb.BinaryWriter.prototype.writePackedSint32=function(u,p){if(p!=null&&p.length){u=this.beginDelimited_(u);for(var g=0;g<p.length;g++)this.encoder_.writeZigzagVarint32(p[g]);this.endDelimited_(u)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint32",jspb.BinaryWriter.prototype.writePackedSint32),jspb.BinaryWriter.prototype.writePackedSint64=function(u,p){if(p!=null&&p.length){u=this.beginDelimited_(u);for(var g=0;g<p.length;g++)this.encoder_.writeZigzagVarint64(p[g]);this.endDelimited_(u)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSint64",jspb.BinaryWriter.prototype.writePackedSint64),jspb.BinaryWriter.prototype.writePackedSint64String=function(u,p){if(p!=null&&p.length){u=this.beginDelimited_(u);for(var g=0;g<p.length;g++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(p[g]));this.endDelimited_(u)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(u,p){if(p!=null&&p.length){u=this.beginDelimited_(u);for(var g=0;g<p.length;g++)this.encoder_.writeZigzagVarintHash64(p[g]);this.endDelimited_(u)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(u,p){if(p!=null&&p.length)for(this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*p.length),u=0;u<p.length;u++)this.encoder_.writeUint32(p[u])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed32",jspb.BinaryWriter.prototype.writePackedFixed32),jspb.BinaryWriter.prototype.writePackedFixed64=function(u,p){if(p!=null&&p.length)for(this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*p.length),u=0;u<p.length;u++)this.encoder_.writeUint64(p[u])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFixed64",jspb.BinaryWriter.prototype.writePackedFixed64),jspb.BinaryWriter.prototype.writePackedFixed64String=function(u,p){if(p!=null&&p.length)for(this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*p.length),u=0;u<p.length;u++){var g=jspb.arith.UInt64.fromString(p[u]);this.encoder_.writeSplitFixed64(g.lo,g.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(u,p){if(p!=null&&p.length)for(this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*p.length),u=0;u<p.length;u++)this.encoder_.writeInt32(p[u])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed32",jspb.BinaryWriter.prototype.writePackedSfixed32),jspb.BinaryWriter.prototype.writePackedSfixed64=function(u,p){if(p!=null&&p.length)for(this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*p.length),u=0;u<p.length;u++)this.encoder_.writeInt64(p[u])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedSfixed64",jspb.BinaryWriter.prototype.writePackedSfixed64),jspb.BinaryWriter.prototype.writePackedSfixed64String=function(u,p){if(p!=null&&p.length)for(this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*p.length),u=0;u<p.length;u++)this.encoder_.writeInt64String(p[u])},jspb.BinaryWriter.prototype.writePackedFloat=function(u,p){if(p!=null&&p.length)for(this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*p.length),u=0;u<p.length;u++)this.encoder_.writeFloat(p[u])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedFloat",jspb.BinaryWriter.prototype.writePackedFloat),jspb.BinaryWriter.prototype.writePackedDouble=function(u,p){if(p!=null&&p.length)for(this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*p.length),u=0;u<p.length;u++)this.encoder_.writeDouble(p[u])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedDouble",jspb.BinaryWriter.prototype.writePackedDouble),jspb.BinaryWriter.prototype.writePackedBool=function(u,p){if(p!=null&&p.length)for(this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(p.length),u=0;u<p.length;u++)this.encoder_.writeBool(p[u])},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedBool",jspb.BinaryWriter.prototype.writePackedBool),jspb.BinaryWriter.prototype.writePackedEnum=function(u,p){if(p!=null&&p.length){u=this.beginDelimited_(u);for(var g=0;g<p.length;g++)this.encoder_.writeEnum(p[g]);this.endDelimited_(u)}},goog.exportProperty(jspb.BinaryWriter.prototype,"writePackedEnum",jspb.BinaryWriter.prototype.writePackedEnum),jspb.BinaryWriter.prototype.writePackedFixedHash64=function(u,p){if(p!=null&&p.length)for(this.writeFieldHeader_(u,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*p.length),u=0;u<p.length;u++)this.encoder_.writeFixedHash64(p[u])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(u,p){if(p!=null&&p.length){u=this.beginDelimited_(u);for(var g=0;g<p.length;g++)this.encoder_.writeVarintHash64(p[g]);this.endDelimited_(u)}},jspb.Map=function(u,p){this.arr_=u,this.valueCtor_=p,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},goog.exportSymbol("jspb.Map",jspb.Map),jspb.Map.prototype.loadFromArray_=function(){for(var u=0;u<this.arr_.length;u++){var p=this.arr_[u],g=p[0];this.map_[g.toString()]=new jspb.Map.Entry_(g,p[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var u,p=this.map_;for(u in p)if(Object.prototype.hasOwnProperty.call(p,u)){var g=p[u].valueWrapper;g&&g.toArray()}}}else{for(this.arr_.length=0,(p=this.stringKeys_()).sort(),u=0;u<p.length;u++){var _=this.map_[p[u]];(g=_.valueWrapper)&&g.toArray(),this.arr_.push([_.key,_.value])}this.arrClean=!0}return this.arr_},goog.exportProperty(jspb.Map.prototype,"toArray",jspb.Map.prototype.toArray),jspb.Map.prototype.toObject=function(u,p){for(var g=this.toArray(),_=[],y=0;y<g.length;y++){var m=this.map_[g[y][0].toString()];this.wrapEntry_(m);var h=m.valueWrapper;h?(jspb.asserts.assert(p),_.push([m.key,p(u,h)])):_.push([m.key,m.value])}return _},goog.exportProperty(jspb.Map.prototype,"toObject",jspb.Map.prototype.toObject),jspb.Map.fromObject=function(u,p,g){p=new jspb.Map([],p);for(var _=0;_<u.length;_++){var y=u[_][0],m=g(u[_][1]);p.set(y,m)}return p},goog.exportProperty(jspb.Map,"fromObject",jspb.Map.fromObject),jspb.Map.ArrayIteratorIterable_=function(u){this.idx_=0,this.arr_=u},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},typeof Symbol<"u"&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},goog.exportProperty(jspb.Map.prototype,"getLength",jspb.Map.prototype.getLength),jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},goog.exportProperty(jspb.Map.prototype,"clear",jspb.Map.prototype.clear),jspb.Map.prototype.del=function(u){u=u.toString();var p=this.map_.hasOwnProperty(u);return delete this.map_[u],this.arrClean=!1,p},goog.exportProperty(jspb.Map.prototype,"del",jspb.Map.prototype.del),jspb.Map.prototype.getEntryList=function(){var u=[],p=this.stringKeys_();p.sort();for(var g=0;g<p.length;g++){var _=this.map_[p[g]];u.push([_.key,_.value])}return u},goog.exportProperty(jspb.Map.prototype,"getEntryList",jspb.Map.prototype.getEntryList),jspb.Map.prototype.entries=function(){var u=[],p=this.stringKeys_();p.sort();for(var g=0;g<p.length;g++){var _=this.map_[p[g]];u.push([_.key,this.wrapEntry_(_)])}return new jspb.Map.ArrayIteratorIterable_(u)},goog.exportProperty(jspb.Map.prototype,"entries",jspb.Map.prototype.entries),jspb.Map.prototype.keys=function(){var u=[],p=this.stringKeys_();p.sort();for(var g=0;g<p.length;g++)u.push(this.map_[p[g]].key);return new jspb.Map.ArrayIteratorIterable_(u)},goog.exportProperty(jspb.Map.prototype,"keys",jspb.Map.prototype.keys),jspb.Map.prototype.values=function(){var u=[],p=this.stringKeys_();p.sort();for(var g=0;g<p.length;g++)u.push(this.wrapEntry_(this.map_[p[g]]));return new jspb.Map.ArrayIteratorIterable_(u)},goog.exportProperty(jspb.Map.prototype,"values",jspb.Map.prototype.values),jspb.Map.prototype.forEach=function(u,p){var g=this.stringKeys_();g.sort();for(var _=0;_<g.length;_++){var y=this.map_[g[_]];u.call(p,this.wrapEntry_(y),y.key,this)}},goog.exportProperty(jspb.Map.prototype,"forEach",jspb.Map.prototype.forEach),jspb.Map.prototype.set=function(u,p){var g=new jspb.Map.Entry_(u);return this.valueCtor_?(g.valueWrapper=p,g.value=p.toArray()):g.value=p,this.map_[u.toString()]=g,this.arrClean=!1,this},goog.exportProperty(jspb.Map.prototype,"set",jspb.Map.prototype.set),jspb.Map.prototype.wrapEntry_=function(u){return this.valueCtor_?(u.valueWrapper||(u.valueWrapper=new this.valueCtor_(u.value)),u.valueWrapper):u.value},jspb.Map.prototype.get=function(u){if(u=this.map_[u.toString()])return this.wrapEntry_(u)},goog.exportProperty(jspb.Map.prototype,"get",jspb.Map.prototype.get),jspb.Map.prototype.has=function(u){return u.toString()in this.map_},goog.exportProperty(jspb.Map.prototype,"has",jspb.Map.prototype.has),jspb.Map.prototype.serializeBinary=function(u,p,g,_,y){var m=this.stringKeys_();m.sort();for(var h=0;h<m.length;h++){var b=this.map_[m[h]];p.beginSubMessage(u),g.call(p,1,b.key),this.valueCtor_?_.call(p,2,this.wrapEntry_(b),y):_.call(p,2,b.value),p.endSubMessage()}},goog.exportProperty(jspb.Map.prototype,"serializeBinary",jspb.Map.prototype.serializeBinary),jspb.Map.deserializeBinary=function(u,p,g,_,y,m,h){for(;p.nextField()&&!p.isEndGroup();){var b=p.getFieldNumber();b==1?m=g.call(p):b==2&&(u.valueCtor_?(jspb.asserts.assert(y),h||(h=new u.valueCtor_),_.call(p,h,y)):h=_.call(p))}jspb.asserts.assert(m!=null),jspb.asserts.assert(h!=null),u.set(m,h)},goog.exportProperty(jspb.Map,"deserializeBinary",jspb.Map.deserializeBinary),jspb.Map.prototype.stringKeys_=function(){var u,p=this.map_,g=[];for(u in p)Object.prototype.hasOwnProperty.call(p,u)&&g.push(u);return g},jspb.Map.Entry_=function(u,p){this.key=u,this.value=p,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(u,p,g,_,y){this.fieldIndex=u,this.fieldName=p,this.ctor=g,this.toObjectFn=_,this.isRepeated=y},goog.exportSymbol("jspb.ExtensionFieldInfo",jspb.ExtensionFieldInfo),jspb.ExtensionFieldBinaryInfo=function(u,p,g,_,y,m){this.fieldInfo=u,this.binaryReaderFn=p,this.binaryWriterFn=g,this.binaryMessageSerializeFn=_,this.binaryMessageDeserializeFn=y,this.isPacked=m},goog.exportSymbol("jspb.ExtensionFieldBinaryInfo",jspb.ExtensionFieldBinaryInfo),jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},goog.exportProperty(jspb.ExtensionFieldInfo.prototype,"isMessageType",jspb.ExtensionFieldInfo.prototype.isMessageType),jspb.Message=function(){},goog.exportSymbol("jspb.Message",jspb.Message),jspb.Message.GENERATE_TO_OBJECT=!0,goog.exportProperty(jspb.Message,"GENERATE_TO_OBJECT",jspb.Message.GENERATE_TO_OBJECT),jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,goog.exportProperty(jspb.Message,"GENERATE_FROM_OBJECT",jspb.Message.GENERATE_FROM_OBJECT),jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_=typeof Uint8Array=="function",jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},goog.exportProperty(jspb.Message.prototype,"getJsPbMessageId",jspb.Message.prototype.getJsPbMessageId),jspb.Message.getIndex_=function(u,p){return p+u.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(u,p){return p-u.arrayIndexOffset_},jspb.Message.initialize=function(u,p,g,_,y,m){if(u.wrappers_=null,p||(p=g?[g]:[]),u.messageId_=g?String(g):void 0,u.arrayIndexOffset_=g===0?-1:0,u.array=p,jspb.Message.initPivotAndExtensionObject_(u,_),u.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(u.repeatedFields=y),y)for(p=0;p<y.length;p++)(g=y[p])<u.pivot_?(g=jspb.Message.getIndex_(u,g),u.array[g]=u.array[g]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(u),u.extensionObject_[g]=u.extensionObject_[g]||jspb.Message.EMPTY_LIST_SENTINEL_);if(m&&m.length)for(p=0;p<m.length;p++)jspb.Message.computeOneofCase(u,m[p])},goog.exportProperty(jspb.Message,"initialize",jspb.Message.initialize),jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(u){return jspb.Message.ASSUME_LOCAL_ARRAYS?u instanceof Array:Array.isArray(u)},jspb.Message.isExtensionObject_=function(u){return!(u===null||typeof u!="object"||jspb.Message.isArray_(u)||jspb.Message.SUPPORTS_UINT8ARRAY_&&u instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(u,p){var g=u.array.length,_=-1;if(g&&(_=g-1,g=u.array[_],jspb.Message.isExtensionObject_(g)))return u.pivot_=jspb.Message.getFieldNumber_(u,_),void(u.extensionObject_=g);-1<p?(u.pivot_=Math.max(p,jspb.Message.getFieldNumber_(u,_+1)),u.extensionObject_=null):u.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(u){var p=jspb.Message.getIndex_(u,u.pivot_);u.array[p]||(u.extensionObject_=u.array[p]={})},jspb.Message.toObjectList=function(u,p,g){for(var _=[],y=0;y<u.length;y++)_[y]=p.call(u[y],g,u[y]);return _},goog.exportProperty(jspb.Message,"toObjectList",jspb.Message.toObjectList),jspb.Message.toObjectExtension=function(u,p,g,_,y){for(var m in g){var h=g[m],b=_.call(u,h);if(b!=null){for(var x in h.fieldName)if(h.fieldName.hasOwnProperty(x))break;p[x]=h.toObjectFn?h.isRepeated?jspb.Message.toObjectList(b,h.toObjectFn,y):h.toObjectFn(y,b):b}}},goog.exportProperty(jspb.Message,"toObjectExtension",jspb.Message.toObjectExtension),jspb.Message.serializeBinaryExtensions=function(u,p,g,_){for(var y in g){var m=g[y],h=m.fieldInfo;if(!m.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var b=_.call(u,h);if(b!=null)if(h.isMessageType()){if(!m.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");m.binaryWriterFn.call(p,h.fieldIndex,b,m.binaryMessageSerializeFn)}else m.binaryWriterFn.call(p,h.fieldIndex,b)}},goog.exportProperty(jspb.Message,"serializeBinaryExtensions",jspb.Message.serializeBinaryExtensions),jspb.Message.readBinaryExtension=function(u,p,g,_,y){var m=g[p.getFieldNumber()];if(m){if(g=m.fieldInfo,!m.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(g.isMessageType()){var h=new g.ctor;m.binaryReaderFn.call(p,h,m.binaryMessageDeserializeFn)}else h=m.binaryReaderFn.call(p);g.isRepeated&&!m.isPacked?(p=_.call(u,g))?p.push(h):y.call(u,g,[h]):y.call(u,g,h)}else p.skipField()},goog.exportProperty(jspb.Message,"readBinaryExtension",jspb.Message.readBinaryExtension),jspb.Message.getField=function(u,p){if(p<u.pivot_){p=jspb.Message.getIndex_(u,p);var g=u.array[p];return g===jspb.Message.EMPTY_LIST_SENTINEL_?u.array[p]=[]:g}if(u.extensionObject_)return(g=u.extensionObject_[p])===jspb.Message.EMPTY_LIST_SENTINEL_?u.extensionObject_[p]=[]:g},goog.exportProperty(jspb.Message,"getField",jspb.Message.getField),jspb.Message.getRepeatedField=function(u,p){return jspb.Message.getField(u,p)},goog.exportProperty(jspb.Message,"getRepeatedField",jspb.Message.getRepeatedField),jspb.Message.getOptionalFloatingPointField=function(u,p){return(u=jspb.Message.getField(u,p))==null?u:+u},goog.exportProperty(jspb.Message,"getOptionalFloatingPointField",jspb.Message.getOptionalFloatingPointField),jspb.Message.getBooleanField=function(u,p){return(u=jspb.Message.getField(u,p))==null?u:!!u},goog.exportProperty(jspb.Message,"getBooleanField",jspb.Message.getBooleanField),jspb.Message.getRepeatedFloatingPointField=function(u,p){var g=jspb.Message.getRepeatedField(u,p);if(u.convertedPrimitiveFields_||(u.convertedPrimitiveFields_={}),!u.convertedPrimitiveFields_[p]){for(var _=0;_<g.length;_++)g[_]=+g[_];u.convertedPrimitiveFields_[p]=!0}return g},goog.exportProperty(jspb.Message,"getRepeatedFloatingPointField",jspb.Message.getRepeatedFloatingPointField),jspb.Message.getRepeatedBooleanField=function(u,p){var g=jspb.Message.getRepeatedField(u,p);if(u.convertedPrimitiveFields_||(u.convertedPrimitiveFields_={}),!u.convertedPrimitiveFields_[p]){for(var _=0;_<g.length;_++)g[_]=!!g[_];u.convertedPrimitiveFields_[p]=!0}return g},goog.exportProperty(jspb.Message,"getRepeatedBooleanField",jspb.Message.getRepeatedBooleanField),jspb.Message.bytesAsB64=function(u){return u==null||typeof u=="string"?u:jspb.Message.SUPPORTS_UINT8ARRAY_&&u instanceof Uint8Array?goog.crypt.base64.encodeByteArray(u):(jspb.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(u)),null)},goog.exportProperty(jspb.Message,"bytesAsB64",jspb.Message.bytesAsB64),jspb.Message.bytesAsU8=function(u){return u==null||u instanceof Uint8Array?u:typeof u=="string"?goog.crypt.base64.decodeStringToUint8Array(u):(jspb.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(u)),null)},goog.exportProperty(jspb.Message,"bytesAsU8",jspb.Message.bytesAsU8),jspb.Message.bytesListAsB64=function(u){return jspb.Message.assertConsistentTypes_(u),u.length&&typeof u[0]!="string"?goog.array.map(u,jspb.Message.bytesAsB64):u},goog.exportProperty(jspb.Message,"bytesListAsB64",jspb.Message.bytesListAsB64),jspb.Message.bytesListAsU8=function(u){return jspb.Message.assertConsistentTypes_(u),!u.length||u[0]instanceof Uint8Array?u:goog.array.map(u,jspb.Message.bytesAsU8)},goog.exportProperty(jspb.Message,"bytesListAsU8",jspb.Message.bytesListAsU8),jspb.Message.assertConsistentTypes_=function(u){if(goog.DEBUG&&u&&1<u.length){var p=goog.typeOf(u[0]);goog.array.forEach(u,function(g){goog.typeOf(g)!=p&&jspb.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(g)+" expected "+p)})}},jspb.Message.getFieldWithDefault=function(u,p,g){return(u=jspb.Message.getField(u,p))==null?g:u},goog.exportProperty(jspb.Message,"getFieldWithDefault",jspb.Message.getFieldWithDefault),jspb.Message.getBooleanFieldWithDefault=function(u,p,g){return(u=jspb.Message.getBooleanField(u,p))==null?g:u},goog.exportProperty(jspb.Message,"getBooleanFieldWithDefault",jspb.Message.getBooleanFieldWithDefault),jspb.Message.getFloatingPointFieldWithDefault=function(u,p,g){return(u=jspb.Message.getOptionalFloatingPointField(u,p))==null?g:u},goog.exportProperty(jspb.Message,"getFloatingPointFieldWithDefault",jspb.Message.getFloatingPointFieldWithDefault),jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,goog.exportProperty(jspb.Message,"getFieldProto3",jspb.Message.getFieldProto3),jspb.Message.getMapField=function(u,p,g,_){if(u.wrappers_||(u.wrappers_={}),p in u.wrappers_)return u.wrappers_[p];var y=jspb.Message.getField(u,p);if(!y){if(g)return;y=[],jspb.Message.setField(u,p,y)}return u.wrappers_[p]=new jspb.Map(y,_)},goog.exportProperty(jspb.Message,"getMapField",jspb.Message.getMapField),jspb.Message.setField=function(u,p,g){return jspb.asserts.assertInstanceof(u,jspb.Message),p<u.pivot_?u.array[jspb.Message.getIndex_(u,p)]=g:(jspb.Message.maybeInitEmptyExtensionObject_(u),u.extensionObject_[p]=g),u},goog.exportProperty(jspb.Message,"setField",jspb.Message.setField),jspb.Message.setProto3IntField=function(u,p,g){return jspb.Message.setFieldIgnoringDefault_(u,p,g,0)},goog.exportProperty(jspb.Message,"setProto3IntField",jspb.Message.setProto3IntField),jspb.Message.setProto3FloatField=function(u,p,g){return jspb.Message.setFieldIgnoringDefault_(u,p,g,0)},goog.exportProperty(jspb.Message,"setProto3FloatField",jspb.Message.setProto3FloatField),jspb.Message.setProto3BooleanField=function(u,p,g){return jspb.Message.setFieldIgnoringDefault_(u,p,g,!1)},goog.exportProperty(jspb.Message,"setProto3BooleanField",jspb.Message.setProto3BooleanField),jspb.Message.setProto3StringField=function(u,p,g){return jspb.Message.setFieldIgnoringDefault_(u,p,g,"")},goog.exportProperty(jspb.Message,"setProto3StringField",jspb.Message.setProto3StringField),jspb.Message.setProto3BytesField=function(u,p,g){return jspb.Message.setFieldIgnoringDefault_(u,p,g,"")},goog.exportProperty(jspb.Message,"setProto3BytesField",jspb.Message.setProto3BytesField),jspb.Message.setProto3EnumField=function(u,p,g){return jspb.Message.setFieldIgnoringDefault_(u,p,g,0)},goog.exportProperty(jspb.Message,"setProto3EnumField",jspb.Message.setProto3EnumField),jspb.Message.setProto3StringIntField=function(u,p,g){return jspb.Message.setFieldIgnoringDefault_(u,p,g,"0")},goog.exportProperty(jspb.Message,"setProto3StringIntField",jspb.Message.setProto3StringIntField),jspb.Message.setFieldIgnoringDefault_=function(u,p,g,_){return jspb.asserts.assertInstanceof(u,jspb.Message),g!==_?jspb.Message.setField(u,p,g):p<u.pivot_?u.array[jspb.Message.getIndex_(u,p)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(u),delete u.extensionObject_[p]),u},jspb.Message.addToRepeatedField=function(u,p,g,_){return jspb.asserts.assertInstanceof(u,jspb.Message),p=jspb.Message.getRepeatedField(u,p),_!=null?p.splice(_,0,g):p.push(g),u},goog.exportProperty(jspb.Message,"addToRepeatedField",jspb.Message.addToRepeatedField),jspb.Message.setOneofField=function(u,p,g,_){return jspb.asserts.assertInstanceof(u,jspb.Message),(g=jspb.Message.computeOneofCase(u,g))&&g!==p&&_!==void 0&&(u.wrappers_&&g in u.wrappers_&&(u.wrappers_[g]=void 0),jspb.Message.setField(u,g,void 0)),jspb.Message.setField(u,p,_)},goog.exportProperty(jspb.Message,"setOneofField",jspb.Message.setOneofField),jspb.Message.computeOneofCase=function(u,p){for(var g,_,y=0;y<p.length;y++){var m=p[y],h=jspb.Message.getField(u,m);h!=null&&(g=m,_=h,jspb.Message.setField(u,m,void 0))}return g?(jspb.Message.setField(u,g,_),g):0},goog.exportProperty(jspb.Message,"computeOneofCase",jspb.Message.computeOneofCase),jspb.Message.getWrapperField=function(u,p,g,_){if(u.wrappers_||(u.wrappers_={}),!u.wrappers_[g]){var y=jspb.Message.getField(u,g);(_||y)&&(u.wrappers_[g]=new p(y))}return u.wrappers_[g]},goog.exportProperty(jspb.Message,"getWrapperField",jspb.Message.getWrapperField),jspb.Message.getRepeatedWrapperField=function(u,p,g){return jspb.Message.wrapRepeatedField_(u,p,g),(p=u.wrappers_[g])==jspb.Message.EMPTY_LIST_SENTINEL_&&(p=u.wrappers_[g]=[]),p},goog.exportProperty(jspb.Message,"getRepeatedWrapperField",jspb.Message.getRepeatedWrapperField),jspb.Message.wrapRepeatedField_=function(u,p,g){if(u.wrappers_||(u.wrappers_={}),!u.wrappers_[g]){for(var _=jspb.Message.getRepeatedField(u,g),y=[],m=0;m<_.length;m++)y[m]=new p(_[m]);u.wrappers_[g]=y}},jspb.Message.setWrapperField=function(u,p,g){jspb.asserts.assertInstanceof(u,jspb.Message),u.wrappers_||(u.wrappers_={});var _=g&&g.toArray();return u.wrappers_[p]=g,jspb.Message.setField(u,p,_)},goog.exportProperty(jspb.Message,"setWrapperField",jspb.Message.setWrapperField),jspb.Message.setOneofWrapperField=function(u,p,g,_){jspb.asserts.assertInstanceof(u,jspb.Message),u.wrappers_||(u.wrappers_={});var y=_&&_.toArray();return u.wrappers_[p]=_,jspb.Message.setOneofField(u,p,g,y)},goog.exportProperty(jspb.Message,"setOneofWrapperField",jspb.Message.setOneofWrapperField),jspb.Message.setRepeatedWrapperField=function(u,p,g){jspb.asserts.assertInstanceof(u,jspb.Message),u.wrappers_||(u.wrappers_={}),g=g||[];for(var _=[],y=0;y<g.length;y++)_[y]=g[y].toArray();return u.wrappers_[p]=g,jspb.Message.setField(u,p,_)},goog.exportProperty(jspb.Message,"setRepeatedWrapperField",jspb.Message.setRepeatedWrapperField),jspb.Message.addToRepeatedWrapperField=function(u,p,g,_,y){jspb.Message.wrapRepeatedField_(u,_,p);var m=u.wrappers_[p];return m||(m=u.wrappers_[p]=[]),g=g||new _,u=jspb.Message.getRepeatedField(u,p),y!=null?(m.splice(y,0,g),u.splice(y,0,g.toArray())):(m.push(g),u.push(g.toArray())),g},goog.exportProperty(jspb.Message,"addToRepeatedWrapperField",jspb.Message.addToRepeatedWrapperField),jspb.Message.toMap=function(u,p,g,_){for(var y={},m=0;m<u.length;m++)y[p.call(u[m])]=g?g.call(u[m],_,u[m]):u[m];return y},goog.exportProperty(jspb.Message,"toMap",jspb.Message.toMap),jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var u in this.wrappers_){var p=this.wrappers_[u];if(Array.isArray(p))for(var g=0;g<p.length;g++)p[g]&&p[g].toArray();else p&&p.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},goog.exportProperty(jspb.Message.prototype,"toArray",jspb.Message.prototype.toArray),jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(u){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var p=u.fieldIndex;if(u.isRepeated){if(u.isMessageType())return this.wrappers_[p]||(this.wrappers_[p]=goog.array.map(this.extensionObject_[p]||[],function(g){return new u.ctor(g)})),this.wrappers_[p]}else if(u.isMessageType())return!this.wrappers_[p]&&this.extensionObject_[p]&&(this.wrappers_[p]=new u.ctor(this.extensionObject_[p])),this.wrappers_[p];return this.extensionObject_[p]}},goog.exportProperty(jspb.Message.prototype,"getExtension",jspb.Message.prototype.getExtension),jspb.Message.prototype.setExtension=function(u,p){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var g=u.fieldIndex;return u.isRepeated?(p=p||[],u.isMessageType()?(this.wrappers_[g]=p,this.extensionObject_[g]=goog.array.map(p,function(_){return _.toArray()})):this.extensionObject_[g]=p):u.isMessageType()?(this.wrappers_[g]=p,this.extensionObject_[g]=p&&p.toArray()):this.extensionObject_[g]=p,this},goog.exportProperty(jspb.Message.prototype,"setExtension",jspb.Message.prototype.setExtension),jspb.Message.difference=function(u,p){if(!(u instanceof p.constructor))throw Error("Messages have different types.");var g=u.toArray();p=p.toArray();var _=[],y=0,m=g.length>p.length?g.length:p.length;for(u.getJsPbMessageId()&&(_[0]=u.getJsPbMessageId(),y=1);y<m;y++)jspb.Message.compareFields(g[y],p[y])||(_[y]=p[y]);return new u.constructor(_)},goog.exportProperty(jspb.Message,"difference",jspb.Message.difference),jspb.Message.equals=function(u,p){return u==p||!(!u||!p)&&u instanceof p.constructor&&jspb.Message.compareFields(u.toArray(),p.toArray())},goog.exportProperty(jspb.Message,"equals",jspb.Message.equals),jspb.Message.compareExtensions=function(u,p){u=u||{},p=p||{};var g,_={};for(g in u)_[g]=0;for(g in p)_[g]=0;for(g in _)if(!jspb.Message.compareFields(u[g],p[g]))return!1;return!0},goog.exportProperty(jspb.Message,"compareExtensions",jspb.Message.compareExtensions),jspb.Message.compareFields=function(u,p){if(u==p)return!0;if(!goog.isObject(u)||!goog.isObject(p))return!!(typeof u=="number"&&isNaN(u)||typeof p=="number"&&isNaN(p))&&String(u)==String(p);if(u.constructor!=p.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&u.constructor===Uint8Array){if(u.length!=p.length)return!1;for(var g=0;g<u.length;g++)if(u[g]!=p[g])return!1;return!0}if(u.constructor===Array){var _=void 0,y=void 0,m=Math.max(u.length,p.length);for(g=0;g<m;g++){var h=u[g],b=p[g];if(h&&h.constructor==Object&&(jspb.asserts.assert(_===void 0),jspb.asserts.assert(g===u.length-1),_=h,h=void 0),b&&b.constructor==Object&&(jspb.asserts.assert(y===void 0),jspb.asserts.assert(g===p.length-1),y=b,b=void 0),!jspb.Message.compareFields(h,b))return!1}return!_&&!y||(_=_||{},y=y||{},jspb.Message.compareExtensions(_,y))}if(u.constructor===Object)return jspb.Message.compareExtensions(u,p);throw Error("Invalid type in JSPB array")},goog.exportProperty(jspb.Message,"compareFields",jspb.Message.compareFields),jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},goog.exportProperty(jspb.Message.prototype,"cloneMessage",jspb.Message.prototype.cloneMessage),jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},goog.exportProperty(jspb.Message.prototype,"clone",jspb.Message.prototype.clone),jspb.Message.clone=function(u){return jspb.Message.cloneMessage(u)},goog.exportProperty(jspb.Message,"clone",jspb.Message.clone),jspb.Message.cloneMessage=function(u){return new u.constructor(jspb.Message.clone_(u.toArray()))},jspb.Message.copyInto=function(u,p){jspb.asserts.assertInstanceof(u,jspb.Message),jspb.asserts.assertInstanceof(p,jspb.Message),jspb.asserts.assert(u.constructor==p.constructor,"Copy source and target message should have the same type."),u=jspb.Message.clone(u);for(var g=p.toArray(),_=u.toArray(),y=g.length=0;y<_.length;y++)g[y]=_[y];p.wrappers_=u.wrappers_,p.extensionObject_=u.extensionObject_},goog.exportProperty(jspb.Message,"copyInto",jspb.Message.copyInto),jspb.Message.clone_=function(u){if(Array.isArray(u)){for(var p=Array(u.length),g=0;g<u.length;g++){var _=u[g];_!=null&&(p[g]=typeof _=="object"?jspb.Message.clone_(jspb.asserts.assert(_)):_)}return p}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&u instanceof Uint8Array)return new Uint8Array(u);for(g in p={},u)(_=u[g])!=null&&(p[g]=typeof _=="object"?jspb.Message.clone_(jspb.asserts.assert(_)):_);return p},jspb.Message.registerMessageType=function(u,p){p.messageId=u},goog.exportProperty(jspb.Message,"registerMessageType",jspb.Message.registerMessageType),jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf})(googleProtobuf);var calculator_options_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();g.exportSymbol("proto.mediapipe.CalculatorOptions",null,_),proto.mediapipe.CalculatorOptions=function(y){p.Message.initialize(this,y,0,2,null,null)},g.inherits(proto.mediapipe.CalculatorOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.CalculatorOptions.displayName="proto.mediapipe.CalculatorOptions"),proto.mediapipe.CalculatorOptions.extensions={},proto.mediapipe.CalculatorOptions.extensionsBinary={},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.CalculatorOptions.prototype.toObject=function(y){return proto.mediapipe.CalculatorOptions.toObject(y,this)},proto.mediapipe.CalculatorOptions.toObject=function(y,m){var h,b={mergeFields:(h=p.Message.getBooleanField(m,1))==null?void 0:h};return p.Message.toObjectExtension(m,b,proto.mediapipe.CalculatorOptions.extensions,proto.mediapipe.CalculatorOptions.prototype.getExtension,y),y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.CalculatorOptions.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.CalculatorOptions;return proto.mediapipe.CalculatorOptions.deserializeBinaryFromReader(h,m)},proto.mediapipe.CalculatorOptions.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)if(m.getFieldNumber()===1){var h=m.readBool();y.setMergeFields(h)}else p.Message.readBinaryExtension(y,m,proto.mediapipe.CalculatorOptions.extensionsBinary,proto.mediapipe.CalculatorOptions.prototype.getExtension,proto.mediapipe.CalculatorOptions.prototype.setExtension);return y},proto.mediapipe.CalculatorOptions.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.CalculatorOptions.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.CalculatorOptions.serializeBinaryToWriter=function(y,m){var h;(h=p.Message.getField(y,1))!=null&&m.writeBool(1,h),p.Message.serializeBinaryExtensions(y,m,proto.mediapipe.CalculatorOptions.extensionsBinary,proto.mediapipe.CalculatorOptions.prototype.getExtension)},proto.mediapipe.CalculatorOptions.prototype.getMergeFields=function(){return p.Message.getBooleanFieldWithDefault(this,1,!1)},proto.mediapipe.CalculatorOptions.prototype.setMergeFields=function(y){return p.Message.setField(this,1,y)},proto.mediapipe.CalculatorOptions.prototype.clearMergeFields=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.CalculatorOptions.prototype.hasMergeFields=function(){return p.Message.getField(this,1)!=null},g.object.extend(u,proto.mediapipe)})(calculator_options_pb);var any_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();g.exportSymbol("proto.google.protobuf.Any",null,_),proto.google.protobuf.Any=function(y){p.Message.initialize(this,y,0,-1,null,null)},g.inherits(proto.google.protobuf.Any,p.Message),g.DEBUG&&!COMPILED&&(proto.google.protobuf.Any.displayName="proto.google.protobuf.Any"),p.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Any.prototype.toObject=function(y){return proto.google.protobuf.Any.toObject(y,this)},proto.google.protobuf.Any.toObject=function(y,m){var h={typeUrl:p.Message.getFieldWithDefault(m,1,""),value:m.getValue_asB64()};return y&&(h.$jspbMessageInstance=m),h}),proto.google.protobuf.Any.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.google.protobuf.Any;return proto.google.protobuf.Any.deserializeBinaryFromReader(h,m)},proto.google.protobuf.Any.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var h=m.readString();y.setTypeUrl(h);break;case 2:h=m.readBytes(),y.setValue(h);break;default:m.skipField()}return y},proto.google.protobuf.Any.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.google.protobuf.Any.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.google.protobuf.Any.serializeBinaryToWriter=function(y,m){var h=void 0;(h=y.getTypeUrl()).length>0&&m.writeString(1,h),(h=y.getValue_asU8()).length>0&&m.writeBytes(2,h)},proto.google.protobuf.Any.prototype.getTypeUrl=function(){return p.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.Any.prototype.setTypeUrl=function(y){return p.Message.setProto3StringField(this,1,y)},proto.google.protobuf.Any.prototype.getValue=function(){return p.Message.getFieldWithDefault(this,2,"")},proto.google.protobuf.Any.prototype.getValue_asB64=function(){return p.Message.bytesAsB64(this.getValue())},proto.google.protobuf.Any.prototype.getValue_asU8=function(){return p.Message.bytesAsU8(this.getValue())},proto.google.protobuf.Any.prototype.setValue=function(y){return p.Message.setProto3BytesField(this,2,y)},g.object.extend(u,proto.google.protobuf),proto.google.protobuf.Any.prototype.getTypeName=function(){return this.getTypeUrl().split("/").pop()},proto.google.protobuf.Any.prototype.pack=function(y,m,h){h||(h="type.googleapis.com/"),h.substr(-1)!="/"?this.setTypeUrl(h+"/"+m):this.setTypeUrl(h+m),this.setValue(y)},proto.google.protobuf.Any.prototype.unpack=function(y,m){return this.getTypeName()==m?y(this.getValue_asU8()):null}})(any_pb);var mediapipe_options_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();g.exportSymbol("proto.mediapipe.MediaPipeOptions",null,_),proto.mediapipe.MediaPipeOptions=function(y){p.Message.initialize(this,y,0,1,null,null)},g.inherits(proto.mediapipe.MediaPipeOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.MediaPipeOptions.displayName="proto.mediapipe.MediaPipeOptions"),proto.mediapipe.MediaPipeOptions.extensions={},proto.mediapipe.MediaPipeOptions.extensionsBinary={},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.MediaPipeOptions.prototype.toObject=function(y){return proto.mediapipe.MediaPipeOptions.toObject(y,this)},proto.mediapipe.MediaPipeOptions.toObject=function(y,m){var h={};return p.Message.toObjectExtension(m,h,proto.mediapipe.MediaPipeOptions.extensions,proto.mediapipe.MediaPipeOptions.prototype.getExtension,y),y&&(h.$jspbMessageInstance=m),h}),proto.mediapipe.MediaPipeOptions.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.MediaPipeOptions;return proto.mediapipe.MediaPipeOptions.deserializeBinaryFromReader(h,m)},proto.mediapipe.MediaPipeOptions.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)m.getFieldNumber(),p.Message.readBinaryExtension(y,m,proto.mediapipe.MediaPipeOptions.extensionsBinary,proto.mediapipe.MediaPipeOptions.prototype.getExtension,proto.mediapipe.MediaPipeOptions.prototype.setExtension);return y},proto.mediapipe.MediaPipeOptions.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.MediaPipeOptions.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.MediaPipeOptions.serializeBinaryToWriter=function(y,m){p.Message.serializeBinaryExtensions(y,m,proto.mediapipe.MediaPipeOptions.extensionsBinary,proto.mediapipe.MediaPipeOptions.prototype.getExtension)},g.object.extend(u,proto.mediapipe)})(mediapipe_options_pb);var packet_factory_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();g.exportSymbol("proto.mediapipe.PacketFactoryConfig",null,_),g.exportSymbol("proto.mediapipe.PacketFactoryOptions",null,_),g.exportSymbol("proto.mediapipe.PacketManagerConfig",null,_),proto.mediapipe.PacketFactoryOptions=function(y){p.Message.initialize(this,y,0,1,null,null)},g.inherits(proto.mediapipe.PacketFactoryOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.PacketFactoryOptions.displayName="proto.mediapipe.PacketFactoryOptions"),proto.mediapipe.PacketFactoryOptions.extensions={},proto.mediapipe.PacketFactoryOptions.extensionsBinary={},proto.mediapipe.PacketFactoryConfig=function(y){p.Message.initialize(this,y,0,500,null,null)},g.inherits(proto.mediapipe.PacketFactoryConfig,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.PacketFactoryConfig.displayName="proto.mediapipe.PacketFactoryConfig"),proto.mediapipe.PacketManagerConfig=function(y){p.Message.initialize(this,y,0,-1,proto.mediapipe.PacketManagerConfig.repeatedFields_,null)},g.inherits(proto.mediapipe.PacketManagerConfig,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.PacketManagerConfig.displayName="proto.mediapipe.PacketManagerConfig"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketFactoryOptions.prototype.toObject=function(y){return proto.mediapipe.PacketFactoryOptions.toObject(y,this)},proto.mediapipe.PacketFactoryOptions.toObject=function(y,m){var h={};return p.Message.toObjectExtension(m,h,proto.mediapipe.PacketFactoryOptions.extensions,proto.mediapipe.PacketFactoryOptions.prototype.getExtension,y),y&&(h.$jspbMessageInstance=m),h}),proto.mediapipe.PacketFactoryOptions.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.PacketFactoryOptions;return proto.mediapipe.PacketFactoryOptions.deserializeBinaryFromReader(h,m)},proto.mediapipe.PacketFactoryOptions.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)m.getFieldNumber(),p.Message.readBinaryExtension(y,m,proto.mediapipe.PacketFactoryOptions.extensionsBinary,proto.mediapipe.PacketFactoryOptions.prototype.getExtension,proto.mediapipe.PacketFactoryOptions.prototype.setExtension);return y},proto.mediapipe.PacketFactoryOptions.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.PacketFactoryOptions.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.PacketFactoryOptions.serializeBinaryToWriter=function(y,m){p.Message.serializeBinaryExtensions(y,m,proto.mediapipe.PacketFactoryOptions.extensionsBinary,proto.mediapipe.PacketFactoryOptions.prototype.getExtension)},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketFactoryConfig.prototype.toObject=function(y){return proto.mediapipe.PacketFactoryConfig.toObject(y,this)},proto.mediapipe.PacketFactoryConfig.toObject=function(y,m){var h,b={packetFactory:(h=p.Message.getField(m,1))==null?void 0:h,outputSidePacket:(h=p.Message.getField(m,2))==null?void 0:h,externalOutput:(h=p.Message.getField(m,1002))==null?void 0:h,options:(h=m.getOptions())&&proto.mediapipe.PacketFactoryOptions.toObject(y,h)};return y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.PacketFactoryConfig.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.PacketFactoryConfig;return proto.mediapipe.PacketFactoryConfig.deserializeBinaryFromReader(h,m)},proto.mediapipe.PacketFactoryConfig.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var h=m.readString();y.setPacketFactory(h);break;case 2:h=m.readString(),y.setOutputSidePacket(h);break;case 1002:h=m.readString(),y.setExternalOutput(h);break;case 3:h=new proto.mediapipe.PacketFactoryOptions,m.readMessage(h,proto.mediapipe.PacketFactoryOptions.deserializeBinaryFromReader),y.setOptions(h);break;default:m.skipField()}return y},proto.mediapipe.PacketFactoryConfig.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.PacketFactoryConfig.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.PacketFactoryConfig.serializeBinaryToWriter=function(y,m){var h=void 0;(h=p.Message.getField(y,1))!=null&&m.writeString(1,h),(h=p.Message.getField(y,2))!=null&&m.writeString(2,h),(h=p.Message.getField(y,1002))!=null&&m.writeString(1002,h),(h=y.getOptions())!=null&&m.writeMessage(3,h,proto.mediapipe.PacketFactoryOptions.serializeBinaryToWriter)},proto.mediapipe.PacketFactoryConfig.prototype.getPacketFactory=function(){return p.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.PacketFactoryConfig.prototype.setPacketFactory=function(y){return p.Message.setField(this,1,y)},proto.mediapipe.PacketFactoryConfig.prototype.clearPacketFactory=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasPacketFactory=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.PacketFactoryConfig.prototype.getOutputSidePacket=function(){return p.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.PacketFactoryConfig.prototype.setOutputSidePacket=function(y){return p.Message.setField(this,2,y)},proto.mediapipe.PacketFactoryConfig.prototype.clearOutputSidePacket=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasOutputSidePacket=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.PacketFactoryConfig.prototype.getExternalOutput=function(){return p.Message.getFieldWithDefault(this,1002,"")},proto.mediapipe.PacketFactoryConfig.prototype.setExternalOutput=function(y){return p.Message.setField(this,1002,y)},proto.mediapipe.PacketFactoryConfig.prototype.clearExternalOutput=function(){return p.Message.setField(this,1002,void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasExternalOutput=function(){return p.Message.getField(this,1002)!=null},proto.mediapipe.PacketFactoryConfig.prototype.getOptions=function(){return p.Message.getWrapperField(this,proto.mediapipe.PacketFactoryOptions,3)},proto.mediapipe.PacketFactoryConfig.prototype.setOptions=function(y){return p.Message.setWrapperField(this,3,y)},proto.mediapipe.PacketFactoryConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.PacketFactoryConfig.prototype.hasOptions=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.PacketManagerConfig.repeatedFields_=[1],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketManagerConfig.prototype.toObject=function(y){return proto.mediapipe.PacketManagerConfig.toObject(y,this)},proto.mediapipe.PacketManagerConfig.toObject=function(y,m){var h={packetList:p.Message.toObjectList(m.getPacketList(),proto.mediapipe.PacketFactoryConfig.toObject,y)};return y&&(h.$jspbMessageInstance=m),h}),proto.mediapipe.PacketManagerConfig.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.PacketManagerConfig;return proto.mediapipe.PacketManagerConfig.deserializeBinaryFromReader(h,m)},proto.mediapipe.PacketManagerConfig.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)if(m.getFieldNumber()===1){var h=new proto.mediapipe.PacketFactoryConfig;m.readMessage(h,proto.mediapipe.PacketFactoryConfig.deserializeBinaryFromReader),y.addPacket(h)}else m.skipField();return y},proto.mediapipe.PacketManagerConfig.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.PacketManagerConfig.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.PacketManagerConfig.serializeBinaryToWriter=function(y,m){var h;(h=y.getPacketList()).length>0&&m.writeRepeatedMessage(1,h,proto.mediapipe.PacketFactoryConfig.serializeBinaryToWriter)},proto.mediapipe.PacketManagerConfig.prototype.getPacketList=function(){return p.Message.getRepeatedWrapperField(this,proto.mediapipe.PacketFactoryConfig,1)},proto.mediapipe.PacketManagerConfig.prototype.setPacketList=function(y){return p.Message.setRepeatedWrapperField(this,1,y)},proto.mediapipe.PacketManagerConfig.prototype.addPacket=function(y,m){return p.Message.addToRepeatedWrapperField(this,1,y,proto.mediapipe.PacketFactoryConfig,m)},proto.mediapipe.PacketManagerConfig.prototype.clearPacketList=function(){return this.setPacketList([])},g.object.extend(u,proto.mediapipe)})(packet_factory_pb);var packet_generator_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();g.exportSymbol("proto.mediapipe.PacketGeneratorConfig",null,_),g.exportSymbol("proto.mediapipe.PacketGeneratorOptions",null,_),proto.mediapipe.PacketGeneratorOptions=function(y){p.Message.initialize(this,y,0,2,null,null)},g.inherits(proto.mediapipe.PacketGeneratorOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.PacketGeneratorOptions.displayName="proto.mediapipe.PacketGeneratorOptions"),proto.mediapipe.PacketGeneratorOptions.extensions={},proto.mediapipe.PacketGeneratorOptions.extensionsBinary={},proto.mediapipe.PacketGeneratorConfig=function(y){p.Message.initialize(this,y,0,500,proto.mediapipe.PacketGeneratorConfig.repeatedFields_,null)},g.inherits(proto.mediapipe.PacketGeneratorConfig,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.PacketGeneratorConfig.displayName="proto.mediapipe.PacketGeneratorConfig"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketGeneratorOptions.prototype.toObject=function(y){return proto.mediapipe.PacketGeneratorOptions.toObject(y,this)},proto.mediapipe.PacketGeneratorOptions.toObject=function(y,m){var h={mergeFields:p.Message.getBooleanFieldWithDefault(m,1,!0)};return p.Message.toObjectExtension(m,h,proto.mediapipe.PacketGeneratorOptions.extensions,proto.mediapipe.PacketGeneratorOptions.prototype.getExtension,y),y&&(h.$jspbMessageInstance=m),h}),proto.mediapipe.PacketGeneratorOptions.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.PacketGeneratorOptions;return proto.mediapipe.PacketGeneratorOptions.deserializeBinaryFromReader(h,m)},proto.mediapipe.PacketGeneratorOptions.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)if(m.getFieldNumber()===1){var h=m.readBool();y.setMergeFields(h)}else p.Message.readBinaryExtension(y,m,proto.mediapipe.PacketGeneratorOptions.extensionsBinary,proto.mediapipe.PacketGeneratorOptions.prototype.getExtension,proto.mediapipe.PacketGeneratorOptions.prototype.setExtension);return y},proto.mediapipe.PacketGeneratorOptions.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.PacketGeneratorOptions.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.PacketGeneratorOptions.serializeBinaryToWriter=function(y,m){var h;(h=p.Message.getField(y,1))!=null&&m.writeBool(1,h),p.Message.serializeBinaryExtensions(y,m,proto.mediapipe.PacketGeneratorOptions.extensionsBinary,proto.mediapipe.PacketGeneratorOptions.prototype.getExtension)},proto.mediapipe.PacketGeneratorOptions.prototype.getMergeFields=function(){return p.Message.getBooleanFieldWithDefault(this,1,!0)},proto.mediapipe.PacketGeneratorOptions.prototype.setMergeFields=function(y){return p.Message.setField(this,1,y)},proto.mediapipe.PacketGeneratorOptions.prototype.clearMergeFields=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.PacketGeneratorOptions.prototype.hasMergeFields=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.PacketGeneratorConfig.repeatedFields_=[2,1002,3,1003],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.PacketGeneratorConfig.prototype.toObject=function(y){return proto.mediapipe.PacketGeneratorConfig.toObject(y,this)},proto.mediapipe.PacketGeneratorConfig.toObject=function(y,m){var h,b={packetGenerator:(h=p.Message.getField(m,1))==null?void 0:h,inputSidePacketList:(h=p.Message.getRepeatedField(m,2))==null?void 0:h,externalInputList:(h=p.Message.getRepeatedField(m,1002))==null?void 0:h,outputSidePacketList:(h=p.Message.getRepeatedField(m,3))==null?void 0:h,externalOutputList:(h=p.Message.getRepeatedField(m,1003))==null?void 0:h,options:(h=m.getOptions())&&proto.mediapipe.PacketGeneratorOptions.toObject(y,h)};return y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.PacketGeneratorConfig.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.PacketGeneratorConfig;return proto.mediapipe.PacketGeneratorConfig.deserializeBinaryFromReader(h,m)},proto.mediapipe.PacketGeneratorConfig.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var h=m.readString();y.setPacketGenerator(h);break;case 2:h=m.readString(),y.addInputSidePacket(h);break;case 1002:h=m.readString(),y.addExternalInput(h);break;case 3:h=m.readString(),y.addOutputSidePacket(h);break;case 1003:h=m.readString(),y.addExternalOutput(h);break;case 4:h=new proto.mediapipe.PacketGeneratorOptions,m.readMessage(h,proto.mediapipe.PacketGeneratorOptions.deserializeBinaryFromReader),y.setOptions(h);break;default:m.skipField()}return y},proto.mediapipe.PacketGeneratorConfig.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.PacketGeneratorConfig.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.PacketGeneratorConfig.serializeBinaryToWriter=function(y,m){var h=void 0;(h=p.Message.getField(y,1))!=null&&m.writeString(1,h),(h=y.getInputSidePacketList()).length>0&&m.writeRepeatedString(2,h),(h=y.getExternalInputList()).length>0&&m.writeRepeatedString(1002,h),(h=y.getOutputSidePacketList()).length>0&&m.writeRepeatedString(3,h),(h=y.getExternalOutputList()).length>0&&m.writeRepeatedString(1003,h),(h=y.getOptions())!=null&&m.writeMessage(4,h,proto.mediapipe.PacketGeneratorOptions.serializeBinaryToWriter)},proto.mediapipe.PacketGeneratorConfig.prototype.getPacketGenerator=function(){return p.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.PacketGeneratorConfig.prototype.setPacketGenerator=function(y){return p.Message.setField(this,1,y)},proto.mediapipe.PacketGeneratorConfig.prototype.clearPacketGenerator=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.PacketGeneratorConfig.prototype.hasPacketGenerator=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.PacketGeneratorConfig.prototype.getInputSidePacketList=function(){return p.Message.getRepeatedField(this,2)},proto.mediapipe.PacketGeneratorConfig.prototype.setInputSidePacketList=function(y){return p.Message.setField(this,2,y||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addInputSidePacket=function(y,m){return p.Message.addToRepeatedField(this,2,y,m)},proto.mediapipe.PacketGeneratorConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getExternalInputList=function(){return p.Message.getRepeatedField(this,1002)},proto.mediapipe.PacketGeneratorConfig.prototype.setExternalInputList=function(y){return p.Message.setField(this,1002,y||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addExternalInput=function(y,m){return p.Message.addToRepeatedField(this,1002,y,m)},proto.mediapipe.PacketGeneratorConfig.prototype.clearExternalInputList=function(){return this.setExternalInputList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getOutputSidePacketList=function(){return p.Message.getRepeatedField(this,3)},proto.mediapipe.PacketGeneratorConfig.prototype.setOutputSidePacketList=function(y){return p.Message.setField(this,3,y||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addOutputSidePacket=function(y,m){return p.Message.addToRepeatedField(this,3,y,m)},proto.mediapipe.PacketGeneratorConfig.prototype.clearOutputSidePacketList=function(){return this.setOutputSidePacketList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getExternalOutputList=function(){return p.Message.getRepeatedField(this,1003)},proto.mediapipe.PacketGeneratorConfig.prototype.setExternalOutputList=function(y){return p.Message.setField(this,1003,y||[])},proto.mediapipe.PacketGeneratorConfig.prototype.addExternalOutput=function(y,m){return p.Message.addToRepeatedField(this,1003,y,m)},proto.mediapipe.PacketGeneratorConfig.prototype.clearExternalOutputList=function(){return this.setExternalOutputList([])},proto.mediapipe.PacketGeneratorConfig.prototype.getOptions=function(){return p.Message.getWrapperField(this,proto.mediapipe.PacketGeneratorOptions,4)},proto.mediapipe.PacketGeneratorConfig.prototype.setOptions=function(y){return p.Message.setWrapperField(this,4,y)},proto.mediapipe.PacketGeneratorConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.PacketGeneratorConfig.prototype.hasOptions=function(){return p.Message.getField(this,4)!=null},g.object.extend(u,proto.mediapipe)})(packet_generator_pb);var status_handler_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=mediapipe_options_pb;g.object.extend(proto,y),g.exportSymbol("proto.mediapipe.StatusHandlerConfig",null,_),proto.mediapipe.StatusHandlerConfig=function(m){p.Message.initialize(this,m,0,500,proto.mediapipe.StatusHandlerConfig.repeatedFields_,null)},g.inherits(proto.mediapipe.StatusHandlerConfig,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.StatusHandlerConfig.displayName="proto.mediapipe.StatusHandlerConfig"),proto.mediapipe.StatusHandlerConfig.repeatedFields_=[2,1002],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.StatusHandlerConfig.prototype.toObject=function(m){return proto.mediapipe.StatusHandlerConfig.toObject(m,this)},proto.mediapipe.StatusHandlerConfig.toObject=function(m,h){var b,x={statusHandler:(b=p.Message.getField(h,1))==null?void 0:b,inputSidePacketList:(b=p.Message.getRepeatedField(h,2))==null?void 0:b,externalInputList:(b=p.Message.getRepeatedField(h,1002))==null?void 0:b,options:(b=h.getOptions())&&y.MediaPipeOptions.toObject(m,b)};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.StatusHandlerConfig.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.StatusHandlerConfig;return proto.mediapipe.StatusHandlerConfig.deserializeBinaryFromReader(b,h)},proto.mediapipe.StatusHandlerConfig.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=h.readString();m.setStatusHandler(b);break;case 2:b=h.readString(),m.addInputSidePacket(b);break;case 1002:b=h.readString(),m.addExternalInput(b);break;case 3:b=new y.MediaPipeOptions,h.readMessage(b,y.MediaPipeOptions.deserializeBinaryFromReader),m.setOptions(b);break;default:h.skipField()}return m},proto.mediapipe.StatusHandlerConfig.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.StatusHandlerConfig.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.StatusHandlerConfig.serializeBinaryToWriter=function(m,h){var b=void 0;(b=p.Message.getField(m,1))!=null&&h.writeString(1,b),(b=m.getInputSidePacketList()).length>0&&h.writeRepeatedString(2,b),(b=m.getExternalInputList()).length>0&&h.writeRepeatedString(1002,b),(b=m.getOptions())!=null&&h.writeMessage(3,b,y.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.StatusHandlerConfig.prototype.getStatusHandler=function(){return p.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.StatusHandlerConfig.prototype.setStatusHandler=function(m){return p.Message.setField(this,1,m)},proto.mediapipe.StatusHandlerConfig.prototype.clearStatusHandler=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.StatusHandlerConfig.prototype.hasStatusHandler=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.StatusHandlerConfig.prototype.getInputSidePacketList=function(){return p.Message.getRepeatedField(this,2)},proto.mediapipe.StatusHandlerConfig.prototype.setInputSidePacketList=function(m){return p.Message.setField(this,2,m||[])},proto.mediapipe.StatusHandlerConfig.prototype.addInputSidePacket=function(m,h){return p.Message.addToRepeatedField(this,2,m,h)},proto.mediapipe.StatusHandlerConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.StatusHandlerConfig.prototype.getExternalInputList=function(){return p.Message.getRepeatedField(this,1002)},proto.mediapipe.StatusHandlerConfig.prototype.setExternalInputList=function(m){return p.Message.setField(this,1002,m||[])},proto.mediapipe.StatusHandlerConfig.prototype.addExternalInput=function(m,h){return p.Message.addToRepeatedField(this,1002,m,h)},proto.mediapipe.StatusHandlerConfig.prototype.clearExternalInputList=function(){return this.setExternalInputList([])},proto.mediapipe.StatusHandlerConfig.prototype.getOptions=function(){return p.Message.getWrapperField(this,y.MediaPipeOptions,3)},proto.mediapipe.StatusHandlerConfig.prototype.setOptions=function(m){return p.Message.setWrapperField(this,3,m)},proto.mediapipe.StatusHandlerConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.StatusHandlerConfig.prototype.hasOptions=function(){return p.Message.getField(this,3)!=null},g.object.extend(u,proto.mediapipe)})(status_handler_pb);var stream_handler_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=mediapipe_options_pb;g.object.extend(proto,y),g.exportSymbol("proto.mediapipe.InputStreamHandlerConfig",null,_),g.exportSymbol("proto.mediapipe.OutputStreamHandlerConfig",null,_),proto.mediapipe.InputStreamHandlerConfig=function(m){p.Message.initialize(this,m,0,-1,null,null)},g.inherits(proto.mediapipe.InputStreamHandlerConfig,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.InputStreamHandlerConfig.displayName="proto.mediapipe.InputStreamHandlerConfig"),proto.mediapipe.OutputStreamHandlerConfig=function(m){p.Message.initialize(this,m,0,-1,proto.mediapipe.OutputStreamHandlerConfig.repeatedFields_,null)},g.inherits(proto.mediapipe.OutputStreamHandlerConfig,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.OutputStreamHandlerConfig.displayName="proto.mediapipe.OutputStreamHandlerConfig"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputStreamHandlerConfig.prototype.toObject=function(m){return proto.mediapipe.InputStreamHandlerConfig.toObject(m,this)},proto.mediapipe.InputStreamHandlerConfig.toObject=function(m,h){var b,x={inputStreamHandler:p.Message.getFieldWithDefault(h,1,"DefaultInputStreamHandler"),options:(b=h.getOptions())&&y.MediaPipeOptions.toObject(m,b)};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.InputStreamHandlerConfig.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.InputStreamHandlerConfig;return proto.mediapipe.InputStreamHandlerConfig.deserializeBinaryFromReader(b,h)},proto.mediapipe.InputStreamHandlerConfig.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=h.readString();m.setInputStreamHandler(b);break;case 3:b=new y.MediaPipeOptions,h.readMessage(b,y.MediaPipeOptions.deserializeBinaryFromReader),m.setOptions(b);break;default:h.skipField()}return m},proto.mediapipe.InputStreamHandlerConfig.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.InputStreamHandlerConfig.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.InputStreamHandlerConfig.serializeBinaryToWriter=function(m,h){var b=void 0;(b=p.Message.getField(m,1))!=null&&h.writeString(1,b),(b=m.getOptions())!=null&&h.writeMessage(3,b,y.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.InputStreamHandlerConfig.prototype.getInputStreamHandler=function(){return p.Message.getFieldWithDefault(this,1,"DefaultInputStreamHandler")},proto.mediapipe.InputStreamHandlerConfig.prototype.setInputStreamHandler=function(m){return p.Message.setField(this,1,m)},proto.mediapipe.InputStreamHandlerConfig.prototype.clearInputStreamHandler=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.InputStreamHandlerConfig.prototype.hasInputStreamHandler=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.InputStreamHandlerConfig.prototype.getOptions=function(){return p.Message.getWrapperField(this,y.MediaPipeOptions,3)},proto.mediapipe.InputStreamHandlerConfig.prototype.setOptions=function(m){return p.Message.setWrapperField(this,3,m)},proto.mediapipe.InputStreamHandlerConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.InputStreamHandlerConfig.prototype.hasOptions=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.OutputStreamHandlerConfig.repeatedFields_=[2],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.OutputStreamHandlerConfig.prototype.toObject=function(m){return proto.mediapipe.OutputStreamHandlerConfig.toObject(m,this)},proto.mediapipe.OutputStreamHandlerConfig.toObject=function(m,h){var b,x={outputStreamHandler:p.Message.getFieldWithDefault(h,1,"InOrderOutputStreamHandler"),inputSidePacketList:(b=p.Message.getRepeatedField(h,2))==null?void 0:b,options:(b=h.getOptions())&&y.MediaPipeOptions.toObject(m,b)};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.OutputStreamHandlerConfig.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.OutputStreamHandlerConfig;return proto.mediapipe.OutputStreamHandlerConfig.deserializeBinaryFromReader(b,h)},proto.mediapipe.OutputStreamHandlerConfig.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=h.readString();m.setOutputStreamHandler(b);break;case 2:b=h.readString(),m.addInputSidePacket(b);break;case 3:b=new y.MediaPipeOptions,h.readMessage(b,y.MediaPipeOptions.deserializeBinaryFromReader),m.setOptions(b);break;default:h.skipField()}return m},proto.mediapipe.OutputStreamHandlerConfig.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.OutputStreamHandlerConfig.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.OutputStreamHandlerConfig.serializeBinaryToWriter=function(m,h){var b=void 0;(b=p.Message.getField(m,1))!=null&&h.writeString(1,b),(b=m.getInputSidePacketList()).length>0&&h.writeRepeatedString(2,b),(b=m.getOptions())!=null&&h.writeMessage(3,b,y.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.OutputStreamHandlerConfig.prototype.getOutputStreamHandler=function(){return p.Message.getFieldWithDefault(this,1,"InOrderOutputStreamHandler")},proto.mediapipe.OutputStreamHandlerConfig.prototype.setOutputStreamHandler=function(m){return p.Message.setField(this,1,m)},proto.mediapipe.OutputStreamHandlerConfig.prototype.clearOutputStreamHandler=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.OutputStreamHandlerConfig.prototype.hasOutputStreamHandler=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.OutputStreamHandlerConfig.prototype.getInputSidePacketList=function(){return p.Message.getRepeatedField(this,2)},proto.mediapipe.OutputStreamHandlerConfig.prototype.setInputSidePacketList=function(m){return p.Message.setField(this,2,m||[])},proto.mediapipe.OutputStreamHandlerConfig.prototype.addInputSidePacket=function(m,h){return p.Message.addToRepeatedField(this,2,m,h)},proto.mediapipe.OutputStreamHandlerConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.OutputStreamHandlerConfig.prototype.getOptions=function(){return p.Message.getWrapperField(this,y.MediaPipeOptions,3)},proto.mediapipe.OutputStreamHandlerConfig.prototype.setOptions=function(m){return p.Message.setWrapperField(this,3,m)},proto.mediapipe.OutputStreamHandlerConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.OutputStreamHandlerConfig.prototype.hasOptions=function(){return p.Message.getField(this,3)!=null},g.object.extend(u,proto.mediapipe)})(stream_handler_pb),function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_options_pb;g.object.extend(proto,y);var m=any_pb;g.object.extend(proto,m);var h=mediapipe_options_pb;g.object.extend(proto,h);var b=packet_factory_pb;g.object.extend(proto,b);var x=packet_generator_pb;g.object.extend(proto,x);var O=status_handler_pb;g.object.extend(proto,O);var T=stream_handler_pb;g.object.extend(proto,T),g.exportSymbol("proto.mediapipe.CalculatorGraphConfig",null,_),g.exportSymbol("proto.mediapipe.CalculatorGraphConfig.Node",null,_),g.exportSymbol("proto.mediapipe.ExecutorConfig",null,_),g.exportSymbol("proto.mediapipe.InputCollection",null,_),g.exportSymbol("proto.mediapipe.InputCollection.InputType",null,_),g.exportSymbol("proto.mediapipe.InputCollectionSet",null,_),g.exportSymbol("proto.mediapipe.InputStreamInfo",null,_),g.exportSymbol("proto.mediapipe.ProfilerConfig",null,_),proto.mediapipe.ExecutorConfig=function(E){p.Message.initialize(this,E,0,-1,null,null)},g.inherits(proto.mediapipe.ExecutorConfig,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.ExecutorConfig.displayName="proto.mediapipe.ExecutorConfig"),proto.mediapipe.InputCollection=function(E){p.Message.initialize(this,E,0,500,proto.mediapipe.InputCollection.repeatedFields_,null)},g.inherits(proto.mediapipe.InputCollection,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.InputCollection.displayName="proto.mediapipe.InputCollection"),proto.mediapipe.InputCollectionSet=function(E){p.Message.initialize(this,E,0,-1,proto.mediapipe.InputCollectionSet.repeatedFields_,null)},g.inherits(proto.mediapipe.InputCollectionSet,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.InputCollectionSet.displayName="proto.mediapipe.InputCollectionSet"),proto.mediapipe.InputStreamInfo=function(E){p.Message.initialize(this,E,0,-1,null,null)},g.inherits(proto.mediapipe.InputStreamInfo,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.InputStreamInfo.displayName="proto.mediapipe.InputStreamInfo"),proto.mediapipe.ProfilerConfig=function(E){p.Message.initialize(this,E,0,-1,proto.mediapipe.ProfilerConfig.repeatedFields_,null)},g.inherits(proto.mediapipe.ProfilerConfig,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.ProfilerConfig.displayName="proto.mediapipe.ProfilerConfig"),proto.mediapipe.CalculatorGraphConfig=function(E){p.Message.initialize(this,E,0,500,proto.mediapipe.CalculatorGraphConfig.repeatedFields_,null)},g.inherits(proto.mediapipe.CalculatorGraphConfig,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.CalculatorGraphConfig.displayName="proto.mediapipe.CalculatorGraphConfig"),proto.mediapipe.CalculatorGraphConfig.Node=function(E){p.Message.initialize(this,E,0,500,proto.mediapipe.CalculatorGraphConfig.Node.repeatedFields_,null)},g.inherits(proto.mediapipe.CalculatorGraphConfig.Node,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.CalculatorGraphConfig.Node.displayName="proto.mediapipe.CalculatorGraphConfig.Node"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ExecutorConfig.prototype.toObject=function(E){return proto.mediapipe.ExecutorConfig.toObject(E,this)},proto.mediapipe.ExecutorConfig.toObject=function(E,M){var F,B={name:p.Message.getFieldWithDefault(M,1,""),type:p.Message.getFieldWithDefault(M,2,""),options:(F=M.getOptions())&&h.MediaPipeOptions.toObject(E,F)};return E&&(B.$jspbMessageInstance=M),B}),proto.mediapipe.ExecutorConfig.deserializeBinary=function(E){var M=new p.BinaryReader(E),F=new proto.mediapipe.ExecutorConfig;return proto.mediapipe.ExecutorConfig.deserializeBinaryFromReader(F,M)},proto.mediapipe.ExecutorConfig.deserializeBinaryFromReader=function(E,M){for(;M.nextField()&&!M.isEndGroup();)switch(M.getFieldNumber()){case 1:var F=M.readString();E.setName(F);break;case 2:F=M.readString(),E.setType(F);break;case 3:F=new h.MediaPipeOptions,M.readMessage(F,h.MediaPipeOptions.deserializeBinaryFromReader),E.setOptions(F);break;default:M.skipField()}return E},proto.mediapipe.ExecutorConfig.prototype.serializeBinary=function(){var E=new p.BinaryWriter;return proto.mediapipe.ExecutorConfig.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.ExecutorConfig.serializeBinaryToWriter=function(E,M){var F=void 0;(F=E.getName()).length>0&&M.writeString(1,F),(F=E.getType()).length>0&&M.writeString(2,F),(F=E.getOptions())!=null&&M.writeMessage(3,F,h.MediaPipeOptions.serializeBinaryToWriter)},proto.mediapipe.ExecutorConfig.prototype.getName=function(){return p.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.ExecutorConfig.prototype.setName=function(E){return p.Message.setProto3StringField(this,1,E)},proto.mediapipe.ExecutorConfig.prototype.getType=function(){return p.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.ExecutorConfig.prototype.setType=function(E){return p.Message.setProto3StringField(this,2,E)},proto.mediapipe.ExecutorConfig.prototype.getOptions=function(){return p.Message.getWrapperField(this,h.MediaPipeOptions,3)},proto.mediapipe.ExecutorConfig.prototype.setOptions=function(E){return p.Message.setWrapperField(this,3,E)},proto.mediapipe.ExecutorConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.ExecutorConfig.prototype.hasOptions=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.InputCollection.repeatedFields_=[2,1002],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputCollection.prototype.toObject=function(E){return proto.mediapipe.InputCollection.toObject(E,this)},proto.mediapipe.InputCollection.toObject=function(E,M){var F,B={name:p.Message.getFieldWithDefault(M,1,""),sidePacketNameList:(F=p.Message.getRepeatedField(M,2))==null?void 0:F,externalInputNameList:(F=p.Message.getRepeatedField(M,1002))==null?void 0:F,inputType:p.Message.getFieldWithDefault(M,3,0),fileName:p.Message.getFieldWithDefault(M,4,"")};return E&&(B.$jspbMessageInstance=M),B}),proto.mediapipe.InputCollection.deserializeBinary=function(E){var M=new p.BinaryReader(E),F=new proto.mediapipe.InputCollection;return proto.mediapipe.InputCollection.deserializeBinaryFromReader(F,M)},proto.mediapipe.InputCollection.deserializeBinaryFromReader=function(E,M){for(;M.nextField()&&!M.isEndGroup();)switch(M.getFieldNumber()){case 1:var F=M.readString();E.setName(F);break;case 2:F=M.readString(),E.addSidePacketName(F);break;case 1002:F=M.readString(),E.addExternalInputName(F);break;case 3:F=M.readEnum(),E.setInputType(F);break;case 4:F=M.readString(),E.setFileName(F);break;default:M.skipField()}return E},proto.mediapipe.InputCollection.prototype.serializeBinary=function(){var E=new p.BinaryWriter;return proto.mediapipe.InputCollection.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.InputCollection.serializeBinaryToWriter=function(E,M){var F=void 0;(F=E.getName()).length>0&&M.writeString(1,F),(F=E.getSidePacketNameList()).length>0&&M.writeRepeatedString(2,F),(F=E.getExternalInputNameList()).length>0&&M.writeRepeatedString(1002,F),(F=E.getInputType())!==0&&M.writeEnum(3,F),(F=E.getFileName()).length>0&&M.writeString(4,F)},proto.mediapipe.InputCollection.InputType={UNKNOWN:0,RECORDIO:1,FOREIGN_RECORDIO:2,FOREIGN_CSV_TEXT:3,INVALID_UPPER_BOUND:4},proto.mediapipe.InputCollection.prototype.getName=function(){return p.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InputCollection.prototype.setName=function(E){return p.Message.setProto3StringField(this,1,E)},proto.mediapipe.InputCollection.prototype.getSidePacketNameList=function(){return p.Message.getRepeatedField(this,2)},proto.mediapipe.InputCollection.prototype.setSidePacketNameList=function(E){return p.Message.setField(this,2,E||[])},proto.mediapipe.InputCollection.prototype.addSidePacketName=function(E,M){return p.Message.addToRepeatedField(this,2,E,M)},proto.mediapipe.InputCollection.prototype.clearSidePacketNameList=function(){return this.setSidePacketNameList([])},proto.mediapipe.InputCollection.prototype.getExternalInputNameList=function(){return p.Message.getRepeatedField(this,1002)},proto.mediapipe.InputCollection.prototype.setExternalInputNameList=function(E){return p.Message.setField(this,1002,E||[])},proto.mediapipe.InputCollection.prototype.addExternalInputName=function(E,M){return p.Message.addToRepeatedField(this,1002,E,M)},proto.mediapipe.InputCollection.prototype.clearExternalInputNameList=function(){return this.setExternalInputNameList([])},proto.mediapipe.InputCollection.prototype.getInputType=function(){return p.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.InputCollection.prototype.setInputType=function(E){return p.Message.setProto3EnumField(this,3,E)},proto.mediapipe.InputCollection.prototype.getFileName=function(){return p.Message.getFieldWithDefault(this,4,"")},proto.mediapipe.InputCollection.prototype.setFileName=function(E){return p.Message.setProto3StringField(this,4,E)},proto.mediapipe.InputCollectionSet.repeatedFields_=[1],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputCollectionSet.prototype.toObject=function(E){return proto.mediapipe.InputCollectionSet.toObject(E,this)},proto.mediapipe.InputCollectionSet.toObject=function(E,M){var F={inputCollectionList:p.Message.toObjectList(M.getInputCollectionList(),proto.mediapipe.InputCollection.toObject,E)};return E&&(F.$jspbMessageInstance=M),F}),proto.mediapipe.InputCollectionSet.deserializeBinary=function(E){var M=new p.BinaryReader(E),F=new proto.mediapipe.InputCollectionSet;return proto.mediapipe.InputCollectionSet.deserializeBinaryFromReader(F,M)},proto.mediapipe.InputCollectionSet.deserializeBinaryFromReader=function(E,M){for(;M.nextField()&&!M.isEndGroup();)if(M.getFieldNumber()===1){var F=new proto.mediapipe.InputCollection;M.readMessage(F,proto.mediapipe.InputCollection.deserializeBinaryFromReader),E.addInputCollection(F)}else M.skipField();return E},proto.mediapipe.InputCollectionSet.prototype.serializeBinary=function(){var E=new p.BinaryWriter;return proto.mediapipe.InputCollectionSet.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.InputCollectionSet.serializeBinaryToWriter=function(E,M){var F;(F=E.getInputCollectionList()).length>0&&M.writeRepeatedMessage(1,F,proto.mediapipe.InputCollection.serializeBinaryToWriter)},proto.mediapipe.InputCollectionSet.prototype.getInputCollectionList=function(){return p.Message.getRepeatedWrapperField(this,proto.mediapipe.InputCollection,1)},proto.mediapipe.InputCollectionSet.prototype.setInputCollectionList=function(E){return p.Message.setRepeatedWrapperField(this,1,E)},proto.mediapipe.InputCollectionSet.prototype.addInputCollection=function(E,M){return p.Message.addToRepeatedWrapperField(this,1,E,proto.mediapipe.InputCollection,M)},proto.mediapipe.InputCollectionSet.prototype.clearInputCollectionList=function(){return this.setInputCollectionList([])},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InputStreamInfo.prototype.toObject=function(E){return proto.mediapipe.InputStreamInfo.toObject(E,this)},proto.mediapipe.InputStreamInfo.toObject=function(E,M){var F={tagIndex:p.Message.getFieldWithDefault(M,1,""),backEdge:p.Message.getBooleanFieldWithDefault(M,2,!1)};return E&&(F.$jspbMessageInstance=M),F}),proto.mediapipe.InputStreamInfo.deserializeBinary=function(E){var M=new p.BinaryReader(E),F=new proto.mediapipe.InputStreamInfo;return proto.mediapipe.InputStreamInfo.deserializeBinaryFromReader(F,M)},proto.mediapipe.InputStreamInfo.deserializeBinaryFromReader=function(E,M){for(;M.nextField()&&!M.isEndGroup();)switch(M.getFieldNumber()){case 1:var F=M.readString();E.setTagIndex(F);break;case 2:F=M.readBool(),E.setBackEdge(F);break;default:M.skipField()}return E},proto.mediapipe.InputStreamInfo.prototype.serializeBinary=function(){var E=new p.BinaryWriter;return proto.mediapipe.InputStreamInfo.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.InputStreamInfo.serializeBinaryToWriter=function(E,M){var F=void 0;(F=E.getTagIndex()).length>0&&M.writeString(1,F),(F=E.getBackEdge())&&M.writeBool(2,F)},proto.mediapipe.InputStreamInfo.prototype.getTagIndex=function(){return p.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InputStreamInfo.prototype.setTagIndex=function(E){return p.Message.setProto3StringField(this,1,E)},proto.mediapipe.InputStreamInfo.prototype.getBackEdge=function(){return p.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.InputStreamInfo.prototype.setBackEdge=function(E){return p.Message.setProto3BooleanField(this,2,E)},proto.mediapipe.ProfilerConfig.repeatedFields_=[8],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ProfilerConfig.prototype.toObject=function(E){return proto.mediapipe.ProfilerConfig.toObject(E,this)},proto.mediapipe.ProfilerConfig.toObject=function(E,M){var F,B={histogramIntervalSizeUsec:p.Message.getFieldWithDefault(M,1,0),numHistogramIntervals:p.Message.getFieldWithDefault(M,2,0),enableInputOutputLatency:p.Message.getBooleanFieldWithDefault(M,3,!1),enableProfiler:p.Message.getBooleanFieldWithDefault(M,4,!1),enableStreamLatency:p.Message.getBooleanFieldWithDefault(M,5,!1),usePacketTimestampForAddedPacket:p.Message.getBooleanFieldWithDefault(M,6,!1),traceLogCapacity:p.Message.getFieldWithDefault(M,7,0),traceEventTypesDisabledList:(F=p.Message.getRepeatedField(M,8))==null?void 0:F,traceLogPath:p.Message.getFieldWithDefault(M,9,""),traceLogCount:p.Message.getFieldWithDefault(M,10,0),traceLogIntervalUsec:p.Message.getFieldWithDefault(M,11,0),traceLogMarginUsec:p.Message.getFieldWithDefault(M,12,0),traceLogDurationEvents:p.Message.getBooleanFieldWithDefault(M,13,!1),traceLogIntervalCount:p.Message.getFieldWithDefault(M,14,0),traceLogDisabled:p.Message.getBooleanFieldWithDefault(M,15,!1),traceEnabled:p.Message.getBooleanFieldWithDefault(M,16,!1),traceLogInstantEvents:p.Message.getBooleanFieldWithDefault(M,17,!1),calculatorFilter:p.Message.getFieldWithDefault(M,18,"")};return E&&(B.$jspbMessageInstance=M),B}),proto.mediapipe.ProfilerConfig.deserializeBinary=function(E){var M=new p.BinaryReader(E),F=new proto.mediapipe.ProfilerConfig;return proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader(F,M)},proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader=function(E,M){for(;M.nextField()&&!M.isEndGroup();)switch(M.getFieldNumber()){case 1:var F=M.readInt64();E.setHistogramIntervalSizeUsec(F);break;case 2:F=M.readInt64(),E.setNumHistogramIntervals(F);break;case 3:F=M.readBool(),E.setEnableInputOutputLatency(F);break;case 4:F=M.readBool(),E.setEnableProfiler(F);break;case 5:F=M.readBool(),E.setEnableStreamLatency(F);break;case 6:F=M.readBool(),E.setUsePacketTimestampForAddedPacket(F);break;case 7:F=M.readInt64(),E.setTraceLogCapacity(F);break;case 8:for(var B=M.isDelimited()?M.readPackedInt32():[M.readInt32()],S=0;S<B.length;S++)E.addTraceEventTypesDisabled(B[S]);break;case 9:F=M.readString(),E.setTraceLogPath(F);break;case 10:F=M.readInt32(),E.setTraceLogCount(F);break;case 11:F=M.readInt64(),E.setTraceLogIntervalUsec(F);break;case 12:F=M.readInt64(),E.setTraceLogMarginUsec(F);break;case 13:F=M.readBool(),E.setTraceLogDurationEvents(F);break;case 14:F=M.readInt32(),E.setTraceLogIntervalCount(F);break;case 15:F=M.readBool(),E.setTraceLogDisabled(F);break;case 16:F=M.readBool(),E.setTraceEnabled(F);break;case 17:F=M.readBool(),E.setTraceLogInstantEvents(F);break;case 18:F=M.readString(),E.setCalculatorFilter(F);break;default:M.skipField()}return E},proto.mediapipe.ProfilerConfig.prototype.serializeBinary=function(){var E=new p.BinaryWriter;return proto.mediapipe.ProfilerConfig.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.ProfilerConfig.serializeBinaryToWriter=function(E,M){var F=void 0;(F=E.getHistogramIntervalSizeUsec())!==0&&M.writeInt64(1,F),(F=E.getNumHistogramIntervals())!==0&&M.writeInt64(2,F),(F=E.getEnableInputOutputLatency())&&M.writeBool(3,F),(F=E.getEnableProfiler())&&M.writeBool(4,F),(F=E.getEnableStreamLatency())&&M.writeBool(5,F),(F=E.getUsePacketTimestampForAddedPacket())&&M.writeBool(6,F),(F=E.getTraceLogCapacity())!==0&&M.writeInt64(7,F),(F=E.getTraceEventTypesDisabledList()).length>0&&M.writePackedInt32(8,F),(F=E.getTraceLogPath()).length>0&&M.writeString(9,F),(F=E.getTraceLogCount())!==0&&M.writeInt32(10,F),(F=E.getTraceLogIntervalUsec())!==0&&M.writeInt64(11,F),(F=E.getTraceLogMarginUsec())!==0&&M.writeInt64(12,F),(F=E.getTraceLogDurationEvents())&&M.writeBool(13,F),(F=E.getTraceLogIntervalCount())!==0&&M.writeInt32(14,F),(F=E.getTraceLogDisabled())&&M.writeBool(15,F),(F=E.getTraceEnabled())&&M.writeBool(16,F),(F=E.getTraceLogInstantEvents())&&M.writeBool(17,F),(F=E.getCalculatorFilter()).length>0&&M.writeString(18,F)},proto.mediapipe.ProfilerConfig.prototype.getHistogramIntervalSizeUsec=function(){return p.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.ProfilerConfig.prototype.setHistogramIntervalSizeUsec=function(E){return p.Message.setProto3IntField(this,1,E)},proto.mediapipe.ProfilerConfig.prototype.getNumHistogramIntervals=function(){return p.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.ProfilerConfig.prototype.setNumHistogramIntervals=function(E){return p.Message.setProto3IntField(this,2,E)},proto.mediapipe.ProfilerConfig.prototype.getEnableInputOutputLatency=function(){return p.Message.getBooleanFieldWithDefault(this,3,!1)},proto.mediapipe.ProfilerConfig.prototype.setEnableInputOutputLatency=function(E){return p.Message.setProto3BooleanField(this,3,E)},proto.mediapipe.ProfilerConfig.prototype.getEnableProfiler=function(){return p.Message.getBooleanFieldWithDefault(this,4,!1)},proto.mediapipe.ProfilerConfig.prototype.setEnableProfiler=function(E){return p.Message.setProto3BooleanField(this,4,E)},proto.mediapipe.ProfilerConfig.prototype.getEnableStreamLatency=function(){return p.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.ProfilerConfig.prototype.setEnableStreamLatency=function(E){return p.Message.setProto3BooleanField(this,5,E)},proto.mediapipe.ProfilerConfig.prototype.getUsePacketTimestampForAddedPacket=function(){return p.Message.getBooleanFieldWithDefault(this,6,!1)},proto.mediapipe.ProfilerConfig.prototype.setUsePacketTimestampForAddedPacket=function(E){return p.Message.setProto3BooleanField(this,6,E)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogCapacity=function(){return p.Message.getFieldWithDefault(this,7,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogCapacity=function(E){return p.Message.setProto3IntField(this,7,E)},proto.mediapipe.ProfilerConfig.prototype.getTraceEventTypesDisabledList=function(){return p.Message.getRepeatedField(this,8)},proto.mediapipe.ProfilerConfig.prototype.setTraceEventTypesDisabledList=function(E){return p.Message.setField(this,8,E||[])},proto.mediapipe.ProfilerConfig.prototype.addTraceEventTypesDisabled=function(E,M){return p.Message.addToRepeatedField(this,8,E,M)},proto.mediapipe.ProfilerConfig.prototype.clearTraceEventTypesDisabledList=function(){return this.setTraceEventTypesDisabledList([])},proto.mediapipe.ProfilerConfig.prototype.getTraceLogPath=function(){return p.Message.getFieldWithDefault(this,9,"")},proto.mediapipe.ProfilerConfig.prototype.setTraceLogPath=function(E){return p.Message.setProto3StringField(this,9,E)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogCount=function(){return p.Message.getFieldWithDefault(this,10,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogCount=function(E){return p.Message.setProto3IntField(this,10,E)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogIntervalUsec=function(){return p.Message.getFieldWithDefault(this,11,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogIntervalUsec=function(E){return p.Message.setProto3IntField(this,11,E)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogMarginUsec=function(){return p.Message.getFieldWithDefault(this,12,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogMarginUsec=function(E){return p.Message.setProto3IntField(this,12,E)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogDurationEvents=function(){return p.Message.getBooleanFieldWithDefault(this,13,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogDurationEvents=function(E){return p.Message.setProto3BooleanField(this,13,E)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogIntervalCount=function(){return p.Message.getFieldWithDefault(this,14,0)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogIntervalCount=function(E){return p.Message.setProto3IntField(this,14,E)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogDisabled=function(){return p.Message.getBooleanFieldWithDefault(this,15,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogDisabled=function(E){return p.Message.setProto3BooleanField(this,15,E)},proto.mediapipe.ProfilerConfig.prototype.getTraceEnabled=function(){return p.Message.getBooleanFieldWithDefault(this,16,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceEnabled=function(E){return p.Message.setProto3BooleanField(this,16,E)},proto.mediapipe.ProfilerConfig.prototype.getTraceLogInstantEvents=function(){return p.Message.getBooleanFieldWithDefault(this,17,!1)},proto.mediapipe.ProfilerConfig.prototype.setTraceLogInstantEvents=function(E){return p.Message.setProto3BooleanField(this,17,E)},proto.mediapipe.ProfilerConfig.prototype.getCalculatorFilter=function(){return p.Message.getFieldWithDefault(this,18,"")},proto.mediapipe.ProfilerConfig.prototype.setCalculatorFilter=function(E){return p.Message.setProto3StringField(this,18,E)},proto.mediapipe.CalculatorGraphConfig.repeatedFields_=[1,6,7,9,10,15,16,17,14,1002],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.CalculatorGraphConfig.prototype.toObject=function(E){return proto.mediapipe.CalculatorGraphConfig.toObject(E,this)},proto.mediapipe.CalculatorGraphConfig.toObject=function(E,M){var F,B={nodeList:p.Message.toObjectList(M.getNodeList(),proto.mediapipe.CalculatorGraphConfig.Node.toObject,E),packetFactoryList:p.Message.toObjectList(M.getPacketFactoryList(),b.PacketFactoryConfig.toObject,E),packetGeneratorList:p.Message.toObjectList(M.getPacketGeneratorList(),x.PacketGeneratorConfig.toObject,E),numThreads:p.Message.getFieldWithDefault(M,8,0),statusHandlerList:p.Message.toObjectList(M.getStatusHandlerList(),O.StatusHandlerConfig.toObject,E),inputStreamList:(F=p.Message.getRepeatedField(M,10))==null?void 0:F,outputStreamList:(F=p.Message.getRepeatedField(M,15))==null?void 0:F,inputSidePacketList:(F=p.Message.getRepeatedField(M,16))==null?void 0:F,outputSidePacketList:(F=p.Message.getRepeatedField(M,17))==null?void 0:F,maxQueueSize:p.Message.getFieldWithDefault(M,11,0),reportDeadlock:p.Message.getBooleanFieldWithDefault(M,21,!1),inputStreamHandler:(F=M.getInputStreamHandler())&&T.InputStreamHandlerConfig.toObject(E,F),outputStreamHandler:(F=M.getOutputStreamHandler())&&T.OutputStreamHandlerConfig.toObject(E,F),executorList:p.Message.toObjectList(M.getExecutorList(),proto.mediapipe.ExecutorConfig.toObject,E),profilerConfig:(F=M.getProfilerConfig())&&proto.mediapipe.ProfilerConfig.toObject(E,F),pb_package:p.Message.getFieldWithDefault(M,19,""),type:p.Message.getFieldWithDefault(M,20,""),options:(F=M.getOptions())&&h.MediaPipeOptions.toObject(E,F),graphOptionsList:p.Message.toObjectList(M.getGraphOptionsList(),m.Any.toObject,E)};return E&&(B.$jspbMessageInstance=M),B}),proto.mediapipe.CalculatorGraphConfig.deserializeBinary=function(E){var M=new p.BinaryReader(E),F=new proto.mediapipe.CalculatorGraphConfig;return proto.mediapipe.CalculatorGraphConfig.deserializeBinaryFromReader(F,M)},proto.mediapipe.CalculatorGraphConfig.deserializeBinaryFromReader=function(E,M){for(;M.nextField()&&!M.isEndGroup();)switch(M.getFieldNumber()){case 1:var F=new proto.mediapipe.CalculatorGraphConfig.Node;M.readMessage(F,proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinaryFromReader),E.addNode(F);break;case 6:F=new b.PacketFactoryConfig,M.readMessage(F,b.PacketFactoryConfig.deserializeBinaryFromReader),E.addPacketFactory(F);break;case 7:F=new x.PacketGeneratorConfig,M.readMessage(F,x.PacketGeneratorConfig.deserializeBinaryFromReader),E.addPacketGenerator(F);break;case 8:F=M.readInt32(),E.setNumThreads(F);break;case 9:F=new O.StatusHandlerConfig,M.readMessage(F,O.StatusHandlerConfig.deserializeBinaryFromReader),E.addStatusHandler(F);break;case 10:F=M.readString(),E.addInputStream(F);break;case 15:F=M.readString(),E.addOutputStream(F);break;case 16:F=M.readString(),E.addInputSidePacket(F);break;case 17:F=M.readString(),E.addOutputSidePacket(F);break;case 11:F=M.readInt32(),E.setMaxQueueSize(F);break;case 21:F=M.readBool(),E.setReportDeadlock(F);break;case 12:F=new T.InputStreamHandlerConfig,M.readMessage(F,T.InputStreamHandlerConfig.deserializeBinaryFromReader),E.setInputStreamHandler(F);break;case 13:F=new T.OutputStreamHandlerConfig,M.readMessage(F,T.OutputStreamHandlerConfig.deserializeBinaryFromReader),E.setOutputStreamHandler(F);break;case 14:F=new proto.mediapipe.ExecutorConfig,M.readMessage(F,proto.mediapipe.ExecutorConfig.deserializeBinaryFromReader),E.addExecutor(F);break;case 18:F=new proto.mediapipe.ProfilerConfig,M.readMessage(F,proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader),E.setProfilerConfig(F);break;case 19:F=M.readString(),E.setPackage(F);break;case 20:F=M.readString(),E.setType(F);break;case 1001:F=new h.MediaPipeOptions,M.readMessage(F,h.MediaPipeOptions.deserializeBinaryFromReader),E.setOptions(F);break;case 1002:F=new m.Any,M.readMessage(F,m.Any.deserializeBinaryFromReader),E.addGraphOptions(F);break;default:M.skipField()}return E},proto.mediapipe.CalculatorGraphConfig.prototype.serializeBinary=function(){var E=new p.BinaryWriter;return proto.mediapipe.CalculatorGraphConfig.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.CalculatorGraphConfig.serializeBinaryToWriter=function(E,M){var F=void 0;(F=E.getNodeList()).length>0&&M.writeRepeatedMessage(1,F,proto.mediapipe.CalculatorGraphConfig.Node.serializeBinaryToWriter),(F=E.getPacketFactoryList()).length>0&&M.writeRepeatedMessage(6,F,b.PacketFactoryConfig.serializeBinaryToWriter),(F=E.getPacketGeneratorList()).length>0&&M.writeRepeatedMessage(7,F,x.PacketGeneratorConfig.serializeBinaryToWriter),(F=E.getNumThreads())!==0&&M.writeInt32(8,F),(F=E.getStatusHandlerList()).length>0&&M.writeRepeatedMessage(9,F,O.StatusHandlerConfig.serializeBinaryToWriter),(F=E.getInputStreamList()).length>0&&M.writeRepeatedString(10,F),(F=E.getOutputStreamList()).length>0&&M.writeRepeatedString(15,F),(F=E.getInputSidePacketList()).length>0&&M.writeRepeatedString(16,F),(F=E.getOutputSidePacketList()).length>0&&M.writeRepeatedString(17,F),(F=E.getMaxQueueSize())!==0&&M.writeInt32(11,F),(F=E.getReportDeadlock())&&M.writeBool(21,F),(F=E.getInputStreamHandler())!=null&&M.writeMessage(12,F,T.InputStreamHandlerConfig.serializeBinaryToWriter),(F=E.getOutputStreamHandler())!=null&&M.writeMessage(13,F,T.OutputStreamHandlerConfig.serializeBinaryToWriter),(F=E.getExecutorList()).length>0&&M.writeRepeatedMessage(14,F,proto.mediapipe.ExecutorConfig.serializeBinaryToWriter),(F=E.getProfilerConfig())!=null&&M.writeMessage(18,F,proto.mediapipe.ProfilerConfig.serializeBinaryToWriter),(F=E.getPackage()).length>0&&M.writeString(19,F),(F=E.getType()).length>0&&M.writeString(20,F),(F=E.getOptions())!=null&&M.writeMessage(1001,F,h.MediaPipeOptions.serializeBinaryToWriter),(F=E.getGraphOptionsList()).length>0&&M.writeRepeatedMessage(1002,F,m.Any.serializeBinaryToWriter)},proto.mediapipe.CalculatorGraphConfig.Node.repeatedFields_=[3,4,5,6,8,13,17,1005],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.CalculatorGraphConfig.Node.prototype.toObject=function(E){return proto.mediapipe.CalculatorGraphConfig.Node.toObject(E,this)},proto.mediapipe.CalculatorGraphConfig.Node.toObject=function(E,M){var F,B={name:p.Message.getFieldWithDefault(M,1,""),calculator:p.Message.getFieldWithDefault(M,2,""),inputStreamList:(F=p.Message.getRepeatedField(M,3))==null?void 0:F,outputStreamList:(F=p.Message.getRepeatedField(M,4))==null?void 0:F,inputSidePacketList:(F=p.Message.getRepeatedField(M,5))==null?void 0:F,outputSidePacketList:(F=p.Message.getRepeatedField(M,6))==null?void 0:F,options:(F=M.getOptions())&&y.CalculatorOptions.toObject(E,F),nodeOptionsList:p.Message.toObjectList(M.getNodeOptionsList(),m.Any.toObject,E),sourceLayer:p.Message.getFieldWithDefault(M,9,0),bufferSizeHint:p.Message.getFieldWithDefault(M,10,0),inputStreamHandler:(F=M.getInputStreamHandler())&&T.InputStreamHandlerConfig.toObject(E,F),outputStreamHandler:(F=M.getOutputStreamHandler())&&T.OutputStreamHandlerConfig.toObject(E,F),inputStreamInfoList:p.Message.toObjectList(M.getInputStreamInfoList(),proto.mediapipe.InputStreamInfo.toObject,E),executor:p.Message.getFieldWithDefault(M,14,""),profilerConfig:(F=M.getProfilerConfig())&&proto.mediapipe.ProfilerConfig.toObject(E,F),maxInFlight:p.Message.getFieldWithDefault(M,16,0),optionValueList:(F=p.Message.getRepeatedField(M,17))==null?void 0:F,externalInputList:(F=p.Message.getRepeatedField(M,1005))==null?void 0:F};return E&&(B.$jspbMessageInstance=M),B}),proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinary=function(E){var M=new p.BinaryReader(E),F=new proto.mediapipe.CalculatorGraphConfig.Node;return proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinaryFromReader(F,M)},proto.mediapipe.CalculatorGraphConfig.Node.deserializeBinaryFromReader=function(E,M){for(;M.nextField()&&!M.isEndGroup();)switch(M.getFieldNumber()){case 1:var F=M.readString();E.setName(F);break;case 2:F=M.readString(),E.setCalculator(F);break;case 3:F=M.readString(),E.addInputStream(F);break;case 4:F=M.readString(),E.addOutputStream(F);break;case 5:F=M.readString(),E.addInputSidePacket(F);break;case 6:F=M.readString(),E.addOutputSidePacket(F);break;case 7:F=new y.CalculatorOptions,M.readMessage(F,y.CalculatorOptions.deserializeBinaryFromReader),E.setOptions(F);break;case 8:F=new m.Any,M.readMessage(F,m.Any.deserializeBinaryFromReader),E.addNodeOptions(F);break;case 9:F=M.readInt32(),E.setSourceLayer(F);break;case 10:F=M.readInt32(),E.setBufferSizeHint(F);break;case 11:F=new T.InputStreamHandlerConfig,M.readMessage(F,T.InputStreamHandlerConfig.deserializeBinaryFromReader),E.setInputStreamHandler(F);break;case 12:F=new T.OutputStreamHandlerConfig,M.readMessage(F,T.OutputStreamHandlerConfig.deserializeBinaryFromReader),E.setOutputStreamHandler(F);break;case 13:F=new proto.mediapipe.InputStreamInfo,M.readMessage(F,proto.mediapipe.InputStreamInfo.deserializeBinaryFromReader),E.addInputStreamInfo(F);break;case 14:F=M.readString(),E.setExecutor(F);break;case 15:F=new proto.mediapipe.ProfilerConfig,M.readMessage(F,proto.mediapipe.ProfilerConfig.deserializeBinaryFromReader),E.setProfilerConfig(F);break;case 16:F=M.readInt32(),E.setMaxInFlight(F);break;case 17:F=M.readString(),E.addOptionValue(F);break;case 1005:F=M.readString(),E.addExternalInput(F);break;default:M.skipField()}return E},proto.mediapipe.CalculatorGraphConfig.Node.prototype.serializeBinary=function(){var E=new p.BinaryWriter;return proto.mediapipe.CalculatorGraphConfig.Node.serializeBinaryToWriter(this,E),E.getResultBuffer()},proto.mediapipe.CalculatorGraphConfig.Node.serializeBinaryToWriter=function(E,M){var F=void 0;(F=E.getName()).length>0&&M.writeString(1,F),(F=E.getCalculator()).length>0&&M.writeString(2,F),(F=E.getInputStreamList()).length>0&&M.writeRepeatedString(3,F),(F=E.getOutputStreamList()).length>0&&M.writeRepeatedString(4,F),(F=E.getInputSidePacketList()).length>0&&M.writeRepeatedString(5,F),(F=E.getOutputSidePacketList()).length>0&&M.writeRepeatedString(6,F),(F=E.getOptions())!=null&&M.writeMessage(7,F,y.CalculatorOptions.serializeBinaryToWriter),(F=E.getNodeOptionsList()).length>0&&M.writeRepeatedMessage(8,F,m.Any.serializeBinaryToWriter),(F=E.getSourceLayer())!==0&&M.writeInt32(9,F),(F=E.getBufferSizeHint())!==0&&M.writeInt32(10,F),(F=E.getInputStreamHandler())!=null&&M.writeMessage(11,F,T.InputStreamHandlerConfig.serializeBinaryToWriter),(F=E.getOutputStreamHandler())!=null&&M.writeMessage(12,F,T.OutputStreamHandlerConfig.serializeBinaryToWriter),(F=E.getInputStreamInfoList()).length>0&&M.writeRepeatedMessage(13,F,proto.mediapipe.InputStreamInfo.serializeBinaryToWriter),(F=E.getExecutor()).length>0&&M.writeString(14,F),(F=E.getProfilerConfig())!=null&&M.writeMessage(15,F,proto.mediapipe.ProfilerConfig.serializeBinaryToWriter),(F=E.getMaxInFlight())!==0&&M.writeInt32(16,F),(F=E.getOptionValueList()).length>0&&M.writeRepeatedString(17,F),(F=E.getExternalInputList()).length>0&&M.writeRepeatedString(1005,F)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getName=function(){return p.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setName=function(E){return p.Message.setProto3StringField(this,1,E)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getCalculator=function(){return p.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setCalculator=function(E){return p.Message.setProto3StringField(this,2,E)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputStreamList=function(){return p.Message.getRepeatedField(this,3)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputStreamList=function(E){return p.Message.setField(this,3,E||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addInputStream=function(E,M){return p.Message.addToRepeatedField(this,3,E,M)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputStreamList=function(){return this.setInputStreamList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOutputStreamList=function(){return p.Message.getRepeatedField(this,4)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOutputStreamList=function(E){return p.Message.setField(this,4,E||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addOutputStream=function(E,M){return p.Message.addToRepeatedField(this,4,E,M)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOutputStreamList=function(){return this.setOutputStreamList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputSidePacketList=function(){return p.Message.getRepeatedField(this,5)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputSidePacketList=function(E){return p.Message.setField(this,5,E||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addInputSidePacket=function(E,M){return p.Message.addToRepeatedField(this,5,E,M)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOutputSidePacketList=function(){return p.Message.getRepeatedField(this,6)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOutputSidePacketList=function(E){return p.Message.setField(this,6,E||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addOutputSidePacket=function(E,M){return p.Message.addToRepeatedField(this,6,E,M)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOutputSidePacketList=function(){return this.setOutputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOptions=function(){return p.Message.getWrapperField(this,y.CalculatorOptions,7)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOptions=function(E){return p.Message.setWrapperField(this,7,E)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasOptions=function(){return p.Message.getField(this,7)!=null},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getNodeOptionsList=function(){return p.Message.getRepeatedWrapperField(this,m.Any,8)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setNodeOptionsList=function(E){return p.Message.setRepeatedWrapperField(this,8,E)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addNodeOptions=function(E,M){return p.Message.addToRepeatedWrapperField(this,8,E,proto.google.protobuf.Any,M)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearNodeOptionsList=function(){return this.setNodeOptionsList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getSourceLayer=function(){return p.Message.getFieldWithDefault(this,9,0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setSourceLayer=function(E){return p.Message.setProto3IntField(this,9,E)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getBufferSizeHint=function(){return p.Message.getFieldWithDefault(this,10,0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setBufferSizeHint=function(E){return p.Message.setProto3IntField(this,10,E)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputStreamHandler=function(){return p.Message.getWrapperField(this,T.InputStreamHandlerConfig,11)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputStreamHandler=function(E){return p.Message.setWrapperField(this,11,E)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputStreamHandler=function(){return this.setInputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasInputStreamHandler=function(){return p.Message.getField(this,11)!=null},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOutputStreamHandler=function(){return p.Message.getWrapperField(this,T.OutputStreamHandlerConfig,12)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOutputStreamHandler=function(E){return p.Message.setWrapperField(this,12,E)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOutputStreamHandler=function(){return this.setOutputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasOutputStreamHandler=function(){return p.Message.getField(this,12)!=null},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getInputStreamInfoList=function(){return p.Message.getRepeatedWrapperField(this,proto.mediapipe.InputStreamInfo,13)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setInputStreamInfoList=function(E){return p.Message.setRepeatedWrapperField(this,13,E)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addInputStreamInfo=function(E,M){return p.Message.addToRepeatedWrapperField(this,13,E,proto.mediapipe.InputStreamInfo,M)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearInputStreamInfoList=function(){return this.setInputStreamInfoList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getExecutor=function(){return p.Message.getFieldWithDefault(this,14,"")},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setExecutor=function(E){return p.Message.setProto3StringField(this,14,E)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getProfilerConfig=function(){return p.Message.getWrapperField(this,proto.mediapipe.ProfilerConfig,15)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setProfilerConfig=function(E){return p.Message.setWrapperField(this,15,E)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearProfilerConfig=function(){return this.setProfilerConfig(void 0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.hasProfilerConfig=function(){return p.Message.getField(this,15)!=null},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getMaxInFlight=function(){return p.Message.getFieldWithDefault(this,16,0)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setMaxInFlight=function(E){return p.Message.setProto3IntField(this,16,E)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getOptionValueList=function(){return p.Message.getRepeatedField(this,17)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setOptionValueList=function(E){return p.Message.setField(this,17,E||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addOptionValue=function(E,M){return p.Message.addToRepeatedField(this,17,E,M)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearOptionValueList=function(){return this.setOptionValueList([])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.getExternalInputList=function(){return p.Message.getRepeatedField(this,1005)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.setExternalInputList=function(E){return p.Message.setField(this,1005,E||[])},proto.mediapipe.CalculatorGraphConfig.Node.prototype.addExternalInput=function(E,M){return p.Message.addToRepeatedField(this,1005,E,M)},proto.mediapipe.CalculatorGraphConfig.Node.prototype.clearExternalInputList=function(){return this.setExternalInputList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getNodeList=function(){return p.Message.getRepeatedWrapperField(this,proto.mediapipe.CalculatorGraphConfig.Node,1)},proto.mediapipe.CalculatorGraphConfig.prototype.setNodeList=function(E){return p.Message.setRepeatedWrapperField(this,1,E)},proto.mediapipe.CalculatorGraphConfig.prototype.addNode=function(E,M){return p.Message.addToRepeatedWrapperField(this,1,E,proto.mediapipe.CalculatorGraphConfig.Node,M)},proto.mediapipe.CalculatorGraphConfig.prototype.clearNodeList=function(){return this.setNodeList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getPacketFactoryList=function(){return p.Message.getRepeatedWrapperField(this,b.PacketFactoryConfig,6)},proto.mediapipe.CalculatorGraphConfig.prototype.setPacketFactoryList=function(E){return p.Message.setRepeatedWrapperField(this,6,E)},proto.mediapipe.CalculatorGraphConfig.prototype.addPacketFactory=function(E,M){return p.Message.addToRepeatedWrapperField(this,6,E,proto.mediapipe.PacketFactoryConfig,M)},proto.mediapipe.CalculatorGraphConfig.prototype.clearPacketFactoryList=function(){return this.setPacketFactoryList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getPacketGeneratorList=function(){return p.Message.getRepeatedWrapperField(this,x.PacketGeneratorConfig,7)},proto.mediapipe.CalculatorGraphConfig.prototype.setPacketGeneratorList=function(E){return p.Message.setRepeatedWrapperField(this,7,E)},proto.mediapipe.CalculatorGraphConfig.prototype.addPacketGenerator=function(E,M){return p.Message.addToRepeatedWrapperField(this,7,E,proto.mediapipe.PacketGeneratorConfig,M)},proto.mediapipe.CalculatorGraphConfig.prototype.clearPacketGeneratorList=function(){return this.setPacketGeneratorList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getNumThreads=function(){return p.Message.getFieldWithDefault(this,8,0)},proto.mediapipe.CalculatorGraphConfig.prototype.setNumThreads=function(E){return p.Message.setProto3IntField(this,8,E)},proto.mediapipe.CalculatorGraphConfig.prototype.getStatusHandlerList=function(){return p.Message.getRepeatedWrapperField(this,O.StatusHandlerConfig,9)},proto.mediapipe.CalculatorGraphConfig.prototype.setStatusHandlerList=function(E){return p.Message.setRepeatedWrapperField(this,9,E)},proto.mediapipe.CalculatorGraphConfig.prototype.addStatusHandler=function(E,M){return p.Message.addToRepeatedWrapperField(this,9,E,proto.mediapipe.StatusHandlerConfig,M)},proto.mediapipe.CalculatorGraphConfig.prototype.clearStatusHandlerList=function(){return this.setStatusHandlerList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getInputStreamList=function(){return p.Message.getRepeatedField(this,10)},proto.mediapipe.CalculatorGraphConfig.prototype.setInputStreamList=function(E){return p.Message.setField(this,10,E||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addInputStream=function(E,M){return p.Message.addToRepeatedField(this,10,E,M)},proto.mediapipe.CalculatorGraphConfig.prototype.clearInputStreamList=function(){return this.setInputStreamList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getOutputStreamList=function(){return p.Message.getRepeatedField(this,15)},proto.mediapipe.CalculatorGraphConfig.prototype.setOutputStreamList=function(E){return p.Message.setField(this,15,E||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addOutputStream=function(E,M){return p.Message.addToRepeatedField(this,15,E,M)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOutputStreamList=function(){return this.setOutputStreamList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getInputSidePacketList=function(){return p.Message.getRepeatedField(this,16)},proto.mediapipe.CalculatorGraphConfig.prototype.setInputSidePacketList=function(E){return p.Message.setField(this,16,E||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addInputSidePacket=function(E,M){return p.Message.addToRepeatedField(this,16,E,M)},proto.mediapipe.CalculatorGraphConfig.prototype.clearInputSidePacketList=function(){return this.setInputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getOutputSidePacketList=function(){return p.Message.getRepeatedField(this,17)},proto.mediapipe.CalculatorGraphConfig.prototype.setOutputSidePacketList=function(E){return p.Message.setField(this,17,E||[])},proto.mediapipe.CalculatorGraphConfig.prototype.addOutputSidePacket=function(E,M){return p.Message.addToRepeatedField(this,17,E,M)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOutputSidePacketList=function(){return this.setOutputSidePacketList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getMaxQueueSize=function(){return p.Message.getFieldWithDefault(this,11,0)},proto.mediapipe.CalculatorGraphConfig.prototype.setMaxQueueSize=function(E){return p.Message.setProto3IntField(this,11,E)},proto.mediapipe.CalculatorGraphConfig.prototype.getReportDeadlock=function(){return p.Message.getBooleanFieldWithDefault(this,21,!1)},proto.mediapipe.CalculatorGraphConfig.prototype.setReportDeadlock=function(E){return p.Message.setProto3BooleanField(this,21,E)},proto.mediapipe.CalculatorGraphConfig.prototype.getInputStreamHandler=function(){return p.Message.getWrapperField(this,T.InputStreamHandlerConfig,12)},proto.mediapipe.CalculatorGraphConfig.prototype.setInputStreamHandler=function(E){return p.Message.setWrapperField(this,12,E)},proto.mediapipe.CalculatorGraphConfig.prototype.clearInputStreamHandler=function(){return this.setInputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasInputStreamHandler=function(){return p.Message.getField(this,12)!=null},proto.mediapipe.CalculatorGraphConfig.prototype.getOutputStreamHandler=function(){return p.Message.getWrapperField(this,T.OutputStreamHandlerConfig,13)},proto.mediapipe.CalculatorGraphConfig.prototype.setOutputStreamHandler=function(E){return p.Message.setWrapperField(this,13,E)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOutputStreamHandler=function(){return this.setOutputStreamHandler(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasOutputStreamHandler=function(){return p.Message.getField(this,13)!=null},proto.mediapipe.CalculatorGraphConfig.prototype.getExecutorList=function(){return p.Message.getRepeatedWrapperField(this,proto.mediapipe.ExecutorConfig,14)},proto.mediapipe.CalculatorGraphConfig.prototype.setExecutorList=function(E){return p.Message.setRepeatedWrapperField(this,14,E)},proto.mediapipe.CalculatorGraphConfig.prototype.addExecutor=function(E,M){return p.Message.addToRepeatedWrapperField(this,14,E,proto.mediapipe.ExecutorConfig,M)},proto.mediapipe.CalculatorGraphConfig.prototype.clearExecutorList=function(){return this.setExecutorList([])},proto.mediapipe.CalculatorGraphConfig.prototype.getProfilerConfig=function(){return p.Message.getWrapperField(this,proto.mediapipe.ProfilerConfig,18)},proto.mediapipe.CalculatorGraphConfig.prototype.setProfilerConfig=function(E){return p.Message.setWrapperField(this,18,E)},proto.mediapipe.CalculatorGraphConfig.prototype.clearProfilerConfig=function(){return this.setProfilerConfig(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasProfilerConfig=function(){return p.Message.getField(this,18)!=null},proto.mediapipe.CalculatorGraphConfig.prototype.getPackage=function(){return p.Message.getFieldWithDefault(this,19,"")},proto.mediapipe.CalculatorGraphConfig.prototype.setPackage=function(E){return p.Message.setProto3StringField(this,19,E)},proto.mediapipe.CalculatorGraphConfig.prototype.getType=function(){return p.Message.getFieldWithDefault(this,20,"")},proto.mediapipe.CalculatorGraphConfig.prototype.setType=function(E){return p.Message.setProto3StringField(this,20,E)},proto.mediapipe.CalculatorGraphConfig.prototype.getOptions=function(){return p.Message.getWrapperField(this,h.MediaPipeOptions,1001)},proto.mediapipe.CalculatorGraphConfig.prototype.setOptions=function(E){return p.Message.setWrapperField(this,1001,E)},proto.mediapipe.CalculatorGraphConfig.prototype.clearOptions=function(){return this.setOptions(void 0)},proto.mediapipe.CalculatorGraphConfig.prototype.hasOptions=function(){return p.Message.getField(this,1001)!=null},proto.mediapipe.CalculatorGraphConfig.prototype.getGraphOptionsList=function(){return p.Message.getRepeatedWrapperField(this,m.Any,1002)},proto.mediapipe.CalculatorGraphConfig.prototype.setGraphOptionsList=function(E){return p.Message.setRepeatedWrapperField(this,1002,E)},proto.mediapipe.CalculatorGraphConfig.prototype.addGraphOptions=function(E,M){return p.Message.addToRepeatedWrapperField(this,1002,E,proto.google.protobuf.Any,M)},proto.mediapipe.CalculatorGraphConfig.prototype.clearGraphOptionsList=function(){return this.setGraphOptionsList([])},g.object.extend(u,proto.mediapipe)}(calculator_pb);var detection_pb={},location_data_pb={},rasterization_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();g.exportSymbol("proto.mediapipe.Rasterization",null,_),g.exportSymbol("proto.mediapipe.Rasterization.Interval",null,_),proto.mediapipe.Rasterization=function(y){p.Message.initialize(this,y,0,-1,proto.mediapipe.Rasterization.repeatedFields_,null)},g.inherits(proto.mediapipe.Rasterization,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.Rasterization.displayName="proto.mediapipe.Rasterization"),proto.mediapipe.Rasterization.Interval=function(y){p.Message.initialize(this,y,0,-1,null,null)},g.inherits(proto.mediapipe.Rasterization.Interval,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.Rasterization.Interval.displayName="proto.mediapipe.Rasterization.Interval"),proto.mediapipe.Rasterization.repeatedFields_=[1],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Rasterization.prototype.toObject=function(y){return proto.mediapipe.Rasterization.toObject(y,this)},proto.mediapipe.Rasterization.toObject=function(y,m){var h={intervalList:p.Message.toObjectList(m.getIntervalList(),proto.mediapipe.Rasterization.Interval.toObject,y)};return y&&(h.$jspbMessageInstance=m),h}),proto.mediapipe.Rasterization.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.Rasterization;return proto.mediapipe.Rasterization.deserializeBinaryFromReader(h,m)},proto.mediapipe.Rasterization.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)if(m.getFieldNumber()===1){var h=new proto.mediapipe.Rasterization.Interval;m.readMessage(h,proto.mediapipe.Rasterization.Interval.deserializeBinaryFromReader),y.addInterval(h)}else m.skipField();return y},proto.mediapipe.Rasterization.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.Rasterization.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.Rasterization.serializeBinaryToWriter=function(y,m){var h;(h=y.getIntervalList()).length>0&&m.writeRepeatedMessage(1,h,proto.mediapipe.Rasterization.Interval.serializeBinaryToWriter)},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Rasterization.Interval.prototype.toObject=function(y){return proto.mediapipe.Rasterization.Interval.toObject(y,this)},proto.mediapipe.Rasterization.Interval.toObject=function(y,m){var h,b={y:(h=p.Message.getField(m,1))==null?void 0:h,leftX:(h=p.Message.getField(m,2))==null?void 0:h,rightX:(h=p.Message.getField(m,3))==null?void 0:h};return y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.Rasterization.Interval.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.Rasterization.Interval;return proto.mediapipe.Rasterization.Interval.deserializeBinaryFromReader(h,m)},proto.mediapipe.Rasterization.Interval.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var h=m.readInt32();y.setY(h);break;case 2:h=m.readInt32(),y.setLeftX(h);break;case 3:h=m.readInt32(),y.setRightX(h);break;default:m.skipField()}return y},proto.mediapipe.Rasterization.Interval.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.Rasterization.Interval.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.Rasterization.Interval.serializeBinaryToWriter=function(y,m){var h=void 0;(h=p.Message.getField(y,1))!=null&&m.writeInt32(1,h),(h=p.Message.getField(y,2))!=null&&m.writeInt32(2,h),(h=p.Message.getField(y,3))!=null&&m.writeInt32(3,h)},proto.mediapipe.Rasterization.Interval.prototype.getY=function(){return p.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Rasterization.Interval.prototype.setY=function(y){return p.Message.setField(this,1,y)},proto.mediapipe.Rasterization.Interval.prototype.clearY=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.Rasterization.Interval.prototype.hasY=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.Rasterization.Interval.prototype.getLeftX=function(){return p.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.Rasterization.Interval.prototype.setLeftX=function(y){return p.Message.setField(this,2,y)},proto.mediapipe.Rasterization.Interval.prototype.clearLeftX=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.Rasterization.Interval.prototype.hasLeftX=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.Rasterization.Interval.prototype.getRightX=function(){return p.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.Rasterization.Interval.prototype.setRightX=function(y){return p.Message.setField(this,3,y)},proto.mediapipe.Rasterization.Interval.prototype.clearRightX=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.Rasterization.Interval.prototype.hasRightX=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.Rasterization.prototype.getIntervalList=function(){return p.Message.getRepeatedWrapperField(this,proto.mediapipe.Rasterization.Interval,1)},proto.mediapipe.Rasterization.prototype.setIntervalList=function(y){return p.Message.setRepeatedWrapperField(this,1,y)},proto.mediapipe.Rasterization.prototype.addInterval=function(y,m){return p.Message.addToRepeatedWrapperField(this,1,y,proto.mediapipe.Rasterization.Interval,m)},proto.mediapipe.Rasterization.prototype.clearIntervalList=function(){return this.setIntervalList([])},g.object.extend(u,proto.mediapipe)})(rasterization_pb),function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=rasterization_pb;g.object.extend(proto,y),g.exportSymbol("proto.mediapipe.LocationData",null,_),g.exportSymbol("proto.mediapipe.LocationData.BinaryMask",null,_),g.exportSymbol("proto.mediapipe.LocationData.BoundingBox",null,_),g.exportSymbol("proto.mediapipe.LocationData.Format",null,_),g.exportSymbol("proto.mediapipe.LocationData.RelativeBoundingBox",null,_),g.exportSymbol("proto.mediapipe.LocationData.RelativeKeypoint",null,_),proto.mediapipe.LocationData=function(m){p.Message.initialize(this,m,0,-1,proto.mediapipe.LocationData.repeatedFields_,null)},g.inherits(proto.mediapipe.LocationData,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.displayName="proto.mediapipe.LocationData"),proto.mediapipe.LocationData.BoundingBox=function(m){p.Message.initialize(this,m,0,-1,null,null)},g.inherits(proto.mediapipe.LocationData.BoundingBox,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.BoundingBox.displayName="proto.mediapipe.LocationData.BoundingBox"),proto.mediapipe.LocationData.RelativeBoundingBox=function(m){p.Message.initialize(this,m,0,-1,null,null)},g.inherits(proto.mediapipe.LocationData.RelativeBoundingBox,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.RelativeBoundingBox.displayName="proto.mediapipe.LocationData.RelativeBoundingBox"),proto.mediapipe.LocationData.BinaryMask=function(m){p.Message.initialize(this,m,0,-1,null,null)},g.inherits(proto.mediapipe.LocationData.BinaryMask,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.BinaryMask.displayName="proto.mediapipe.LocationData.BinaryMask"),proto.mediapipe.LocationData.RelativeKeypoint=function(m){p.Message.initialize(this,m,0,-1,null,null)},g.inherits(proto.mediapipe.LocationData.RelativeKeypoint,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.LocationData.RelativeKeypoint.displayName="proto.mediapipe.LocationData.RelativeKeypoint"),proto.mediapipe.LocationData.repeatedFields_=[5],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.prototype.toObject=function(m){return proto.mediapipe.LocationData.toObject(m,this)},proto.mediapipe.LocationData.toObject=function(m,h){var b,x={format:(b=p.Message.getField(h,1))==null?void 0:b,boundingBox:(b=h.getBoundingBox())&&proto.mediapipe.LocationData.BoundingBox.toObject(m,b),relativeBoundingBox:(b=h.getRelativeBoundingBox())&&proto.mediapipe.LocationData.RelativeBoundingBox.toObject(m,b),mask:(b=h.getMask())&&proto.mediapipe.LocationData.BinaryMask.toObject(m,b),relativeKeypointsList:p.Message.toObjectList(h.getRelativeKeypointsList(),proto.mediapipe.LocationData.RelativeKeypoint.toObject,m)};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.LocationData.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.LocationData;return proto.mediapipe.LocationData.deserializeBinaryFromReader(b,h)},proto.mediapipe.LocationData.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=h.readEnum();m.setFormat(b);break;case 2:b=new proto.mediapipe.LocationData.BoundingBox,h.readMessage(b,proto.mediapipe.LocationData.BoundingBox.deserializeBinaryFromReader),m.setBoundingBox(b);break;case 3:b=new proto.mediapipe.LocationData.RelativeBoundingBox,h.readMessage(b,proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinaryFromReader),m.setRelativeBoundingBox(b);break;case 4:b=new proto.mediapipe.LocationData.BinaryMask,h.readMessage(b,proto.mediapipe.LocationData.BinaryMask.deserializeBinaryFromReader),m.setMask(b);break;case 5:b=new proto.mediapipe.LocationData.RelativeKeypoint,h.readMessage(b,proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinaryFromReader),m.addRelativeKeypoints(b);break;default:h.skipField()}return m},proto.mediapipe.LocationData.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.LocationData.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.LocationData.serializeBinaryToWriter=function(m,h){var b=void 0;(b=p.Message.getField(m,1))!=null&&h.writeEnum(1,b),(b=m.getBoundingBox())!=null&&h.writeMessage(2,b,proto.mediapipe.LocationData.BoundingBox.serializeBinaryToWriter),(b=m.getRelativeBoundingBox())!=null&&h.writeMessage(3,b,proto.mediapipe.LocationData.RelativeBoundingBox.serializeBinaryToWriter),(b=m.getMask())!=null&&h.writeMessage(4,b,proto.mediapipe.LocationData.BinaryMask.serializeBinaryToWriter),(b=m.getRelativeKeypointsList()).length>0&&h.writeRepeatedMessage(5,b,proto.mediapipe.LocationData.RelativeKeypoint.serializeBinaryToWriter)},proto.mediapipe.LocationData.Format={GLOBAL:0,BOUNDING_BOX:1,RELATIVE_BOUNDING_BOX:2,MASK:3},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.BoundingBox.prototype.toObject=function(m){return proto.mediapipe.LocationData.BoundingBox.toObject(m,this)},proto.mediapipe.LocationData.BoundingBox.toObject=function(m,h){var b,x={xmin:(b=p.Message.getField(h,1))==null?void 0:b,ymin:(b=p.Message.getField(h,2))==null?void 0:b,width:(b=p.Message.getField(h,3))==null?void 0:b,height:(b=p.Message.getField(h,4))==null?void 0:b};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.LocationData.BoundingBox.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.LocationData.BoundingBox;return proto.mediapipe.LocationData.BoundingBox.deserializeBinaryFromReader(b,h)},proto.mediapipe.LocationData.BoundingBox.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=h.readInt32();m.setXmin(b);break;case 2:b=h.readInt32(),m.setYmin(b);break;case 3:b=h.readInt32(),m.setWidth(b);break;case 4:b=h.readInt32(),m.setHeight(b);break;default:h.skipField()}return m},proto.mediapipe.LocationData.BoundingBox.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.LocationData.BoundingBox.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.LocationData.BoundingBox.serializeBinaryToWriter=function(m,h){var b=void 0;(b=p.Message.getField(m,1))!=null&&h.writeInt32(1,b),(b=p.Message.getField(m,2))!=null&&h.writeInt32(2,b),(b=p.Message.getField(m,3))!=null&&h.writeInt32(3,b),(b=p.Message.getField(m,4))!=null&&h.writeInt32(4,b)},proto.mediapipe.LocationData.BoundingBox.prototype.getXmin=function(){return p.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setXmin=function(m){return p.Message.setField(this,1,m)},proto.mediapipe.LocationData.BoundingBox.prototype.clearXmin=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasXmin=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.LocationData.BoundingBox.prototype.getYmin=function(){return p.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setYmin=function(m){return p.Message.setField(this,2,m)},proto.mediapipe.LocationData.BoundingBox.prototype.clearYmin=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasYmin=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.LocationData.BoundingBox.prototype.getWidth=function(){return p.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setWidth=function(m){return p.Message.setField(this,3,m)},proto.mediapipe.LocationData.BoundingBox.prototype.clearWidth=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasWidth=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.LocationData.BoundingBox.prototype.getHeight=function(){return p.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.LocationData.BoundingBox.prototype.setHeight=function(m){return p.Message.setField(this,4,m)},proto.mediapipe.LocationData.BoundingBox.prototype.clearHeight=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.LocationData.BoundingBox.prototype.hasHeight=function(){return p.Message.getField(this,4)!=null},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.RelativeBoundingBox.prototype.toObject=function(m){return proto.mediapipe.LocationData.RelativeBoundingBox.toObject(m,this)},proto.mediapipe.LocationData.RelativeBoundingBox.toObject=function(m,h){var b,x={xmin:(b=p.Message.getOptionalFloatingPointField(h,1))==null?void 0:b,ymin:(b=p.Message.getOptionalFloatingPointField(h,2))==null?void 0:b,width:(b=p.Message.getOptionalFloatingPointField(h,3))==null?void 0:b,height:(b=p.Message.getOptionalFloatingPointField(h,4))==null?void 0:b};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.LocationData.RelativeBoundingBox;return proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinaryFromReader(b,h)},proto.mediapipe.LocationData.RelativeBoundingBox.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=h.readFloat();m.setXmin(b);break;case 2:b=h.readFloat(),m.setYmin(b);break;case 3:b=h.readFloat(),m.setWidth(b);break;case 4:b=h.readFloat(),m.setHeight(b);break;default:h.skipField()}return m},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.LocationData.RelativeBoundingBox.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.LocationData.RelativeBoundingBox.serializeBinaryToWriter=function(m,h){var b=void 0;(b=p.Message.getField(m,1))!=null&&h.writeFloat(1,b),(b=p.Message.getField(m,2))!=null&&h.writeFloat(2,b),(b=p.Message.getField(m,3))!=null&&h.writeFloat(3,b),(b=p.Message.getField(m,4))!=null&&h.writeFloat(4,b)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getXmin=function(){return p.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setXmin=function(m){return p.Message.setField(this,1,m)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearXmin=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasXmin=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getYmin=function(){return p.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setYmin=function(m){return p.Message.setField(this,2,m)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearYmin=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasYmin=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getWidth=function(){return p.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setWidth=function(m){return p.Message.setField(this,3,m)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearWidth=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasWidth=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.getHeight=function(){return p.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.setHeight=function(m){return p.Message.setField(this,4,m)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.clearHeight=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.LocationData.RelativeBoundingBox.prototype.hasHeight=function(){return p.Message.getField(this,4)!=null},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.BinaryMask.prototype.toObject=function(m){return proto.mediapipe.LocationData.BinaryMask.toObject(m,this)},proto.mediapipe.LocationData.BinaryMask.toObject=function(m,h){var b,x={width:(b=p.Message.getField(h,1))==null?void 0:b,height:(b=p.Message.getField(h,2))==null?void 0:b,rasterization:(b=h.getRasterization())&&y.Rasterization.toObject(m,b)};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.LocationData.BinaryMask.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.LocationData.BinaryMask;return proto.mediapipe.LocationData.BinaryMask.deserializeBinaryFromReader(b,h)},proto.mediapipe.LocationData.BinaryMask.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=h.readInt32();m.setWidth(b);break;case 2:b=h.readInt32(),m.setHeight(b);break;case 3:b=new y.Rasterization,h.readMessage(b,y.Rasterization.deserializeBinaryFromReader),m.setRasterization(b);break;default:h.skipField()}return m},proto.mediapipe.LocationData.BinaryMask.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.LocationData.BinaryMask.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.LocationData.BinaryMask.serializeBinaryToWriter=function(m,h){var b=void 0;(b=p.Message.getField(m,1))!=null&&h.writeInt32(1,b),(b=p.Message.getField(m,2))!=null&&h.writeInt32(2,b),(b=m.getRasterization())!=null&&h.writeMessage(3,b,y.Rasterization.serializeBinaryToWriter)},proto.mediapipe.LocationData.BinaryMask.prototype.getWidth=function(){return p.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.BinaryMask.prototype.setWidth=function(m){return p.Message.setField(this,1,m)},proto.mediapipe.LocationData.BinaryMask.prototype.clearWidth=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.BinaryMask.prototype.hasWidth=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.LocationData.BinaryMask.prototype.getHeight=function(){return p.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.BinaryMask.prototype.setHeight=function(m){return p.Message.setField(this,2,m)},proto.mediapipe.LocationData.BinaryMask.prototype.clearHeight=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.BinaryMask.prototype.hasHeight=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.LocationData.BinaryMask.prototype.getRasterization=function(){return p.Message.getWrapperField(this,y.Rasterization,3)},proto.mediapipe.LocationData.BinaryMask.prototype.setRasterization=function(m){return p.Message.setWrapperField(this,3,m)},proto.mediapipe.LocationData.BinaryMask.prototype.clearRasterization=function(){return this.setRasterization(void 0)},proto.mediapipe.LocationData.BinaryMask.prototype.hasRasterization=function(){return p.Message.getField(this,3)!=null},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LocationData.RelativeKeypoint.prototype.toObject=function(m){return proto.mediapipe.LocationData.RelativeKeypoint.toObject(m,this)},proto.mediapipe.LocationData.RelativeKeypoint.toObject=function(m,h){var b,x={x:(b=p.Message.getOptionalFloatingPointField(h,1))==null?void 0:b,y:(b=p.Message.getOptionalFloatingPointField(h,2))==null?void 0:b,keypointLabel:(b=p.Message.getField(h,3))==null?void 0:b,score:(b=p.Message.getOptionalFloatingPointField(h,4))==null?void 0:b};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.LocationData.RelativeKeypoint;return proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinaryFromReader(b,h)},proto.mediapipe.LocationData.RelativeKeypoint.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=h.readFloat();m.setX(b);break;case 2:b=h.readFloat(),m.setY(b);break;case 3:b=h.readString(),m.setKeypointLabel(b);break;case 4:b=h.readFloat(),m.setScore(b);break;default:h.skipField()}return m},proto.mediapipe.LocationData.RelativeKeypoint.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.LocationData.RelativeKeypoint.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.LocationData.RelativeKeypoint.serializeBinaryToWriter=function(m,h){var b=void 0;(b=p.Message.getField(m,1))!=null&&h.writeFloat(1,b),(b=p.Message.getField(m,2))!=null&&h.writeFloat(2,b),(b=p.Message.getField(m,3))!=null&&h.writeString(3,b),(b=p.Message.getField(m,4))!=null&&h.writeFloat(4,b)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getX=function(){return p.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setX=function(m){return p.Message.setField(this,1,m)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearX=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasX=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getY=function(){return p.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setY=function(m){return p.Message.setField(this,2,m)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearY=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasY=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getKeypointLabel=function(){return p.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setKeypointLabel=function(m){return p.Message.setField(this,3,m)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearKeypointLabel=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasKeypointLabel=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.LocationData.RelativeKeypoint.prototype.getScore=function(){return p.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.setScore=function(m){return p.Message.setField(this,4,m)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.clearScore=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.LocationData.RelativeKeypoint.prototype.hasScore=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.LocationData.prototype.getFormat=function(){return p.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.LocationData.prototype.setFormat=function(m){return p.Message.setField(this,1,m)},proto.mediapipe.LocationData.prototype.clearFormat=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.LocationData.prototype.hasFormat=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.LocationData.prototype.getBoundingBox=function(){return p.Message.getWrapperField(this,proto.mediapipe.LocationData.BoundingBox,2)},proto.mediapipe.LocationData.prototype.setBoundingBox=function(m){return p.Message.setWrapperField(this,2,m)},proto.mediapipe.LocationData.prototype.clearBoundingBox=function(){return this.setBoundingBox(void 0)},proto.mediapipe.LocationData.prototype.hasBoundingBox=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.LocationData.prototype.getRelativeBoundingBox=function(){return p.Message.getWrapperField(this,proto.mediapipe.LocationData.RelativeBoundingBox,3)},proto.mediapipe.LocationData.prototype.setRelativeBoundingBox=function(m){return p.Message.setWrapperField(this,3,m)},proto.mediapipe.LocationData.prototype.clearRelativeBoundingBox=function(){return this.setRelativeBoundingBox(void 0)},proto.mediapipe.LocationData.prototype.hasRelativeBoundingBox=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.LocationData.prototype.getMask=function(){return p.Message.getWrapperField(this,proto.mediapipe.LocationData.BinaryMask,4)},proto.mediapipe.LocationData.prototype.setMask=function(m){return p.Message.setWrapperField(this,4,m)},proto.mediapipe.LocationData.prototype.clearMask=function(){return this.setMask(void 0)},proto.mediapipe.LocationData.prototype.hasMask=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.LocationData.prototype.getRelativeKeypointsList=function(){return p.Message.getRepeatedWrapperField(this,proto.mediapipe.LocationData.RelativeKeypoint,5)},proto.mediapipe.LocationData.prototype.setRelativeKeypointsList=function(m){return p.Message.setRepeatedWrapperField(this,5,m)},proto.mediapipe.LocationData.prototype.addRelativeKeypoints=function(m,h){return p.Message.addToRepeatedWrapperField(this,5,m,proto.mediapipe.LocationData.RelativeKeypoint,h)},proto.mediapipe.LocationData.prototype.clearRelativeKeypointsList=function(){return this.setRelativeKeypointsList([])},g.object.extend(u,proto.mediapipe)}(location_data_pb),function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=location_data_pb;g.object.extend(proto,y),g.exportSymbol("proto.mediapipe.Detection",null,_),g.exportSymbol("proto.mediapipe.Detection.AssociatedDetection",null,_),g.exportSymbol("proto.mediapipe.DetectionList",null,_),proto.mediapipe.Detection=function(m){p.Message.initialize(this,m,0,-1,proto.mediapipe.Detection.repeatedFields_,null)},g.inherits(proto.mediapipe.Detection,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.Detection.displayName="proto.mediapipe.Detection"),proto.mediapipe.Detection.AssociatedDetection=function(m){p.Message.initialize(this,m,0,-1,null,null)},g.inherits(proto.mediapipe.Detection.AssociatedDetection,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.Detection.AssociatedDetection.displayName="proto.mediapipe.Detection.AssociatedDetection"),proto.mediapipe.DetectionList=function(m){p.Message.initialize(this,m,0,-1,proto.mediapipe.DetectionList.repeatedFields_,null)},g.inherits(proto.mediapipe.DetectionList,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.DetectionList.displayName="proto.mediapipe.DetectionList"),proto.mediapipe.Detection.repeatedFields_=[1,2,3,8,9],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Detection.prototype.toObject=function(m){return proto.mediapipe.Detection.toObject(m,this)},proto.mediapipe.Detection.toObject=function(m,h){var b,x={labelList:(b=p.Message.getRepeatedField(h,1))==null?void 0:b,labelIdList:(b=p.Message.getRepeatedField(h,2))==null?void 0:b,scoreList:(b=p.Message.getRepeatedFloatingPointField(h,3))==null?void 0:b,locationData:(b=h.getLocationData())&&y.LocationData.toObject(m,b),featureTag:(b=p.Message.getField(h,5))==null?void 0:b,trackId:(b=p.Message.getField(h,6))==null?void 0:b,detectionId:(b=p.Message.getField(h,7))==null?void 0:b,associatedDetectionsList:p.Message.toObjectList(h.getAssociatedDetectionsList(),proto.mediapipe.Detection.AssociatedDetection.toObject,m),displayNameList:(b=p.Message.getRepeatedField(h,9))==null?void 0:b,timestampUsec:(b=p.Message.getField(h,10))==null?void 0:b};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.Detection.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.Detection;return proto.mediapipe.Detection.deserializeBinaryFromReader(b,h)},proto.mediapipe.Detection.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=h.readString();m.addLabel(b);break;case 2:for(var x=h.isDelimited()?h.readPackedInt32():[h.readInt32()],O=0;O<x.length;O++)m.addLabelId(x[O]);break;case 3:for(x=h.isDelimited()?h.readPackedFloat():[h.readFloat()],O=0;O<x.length;O++)m.addScore(x[O]);break;case 4:b=new y.LocationData,h.readMessage(b,y.LocationData.deserializeBinaryFromReader),m.setLocationData(b);break;case 5:b=h.readString(),m.setFeatureTag(b);break;case 6:b=h.readString(),m.setTrackId(b);break;case 7:b=h.readInt64(),m.setDetectionId(b);break;case 8:b=new proto.mediapipe.Detection.AssociatedDetection,h.readMessage(b,proto.mediapipe.Detection.AssociatedDetection.deserializeBinaryFromReader),m.addAssociatedDetections(b);break;case 9:b=h.readString(),m.addDisplayName(b);break;case 10:b=h.readInt64(),m.setTimestampUsec(b);break;default:h.skipField()}return m},proto.mediapipe.Detection.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.Detection.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.Detection.serializeBinaryToWriter=function(m,h){var b=void 0;(b=m.getLabelList()).length>0&&h.writeRepeatedString(1,b),(b=m.getLabelIdList()).length>0&&h.writePackedInt32(2,b),(b=m.getScoreList()).length>0&&h.writePackedFloat(3,b),(b=m.getLocationData())!=null&&h.writeMessage(4,b,y.LocationData.serializeBinaryToWriter),(b=p.Message.getField(m,5))!=null&&h.writeString(5,b),(b=p.Message.getField(m,6))!=null&&h.writeString(6,b),(b=p.Message.getField(m,7))!=null&&h.writeInt64(7,b),(b=m.getAssociatedDetectionsList()).length>0&&h.writeRepeatedMessage(8,b,proto.mediapipe.Detection.AssociatedDetection.serializeBinaryToWriter),(b=m.getDisplayNameList()).length>0&&h.writeRepeatedString(9,b),(b=p.Message.getField(m,10))!=null&&h.writeInt64(10,b)},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Detection.AssociatedDetection.prototype.toObject=function(m){return proto.mediapipe.Detection.AssociatedDetection.toObject(m,this)},proto.mediapipe.Detection.AssociatedDetection.toObject=function(m,h){var b,x={id:(b=p.Message.getField(h,1))==null?void 0:b,confidence:(b=p.Message.getOptionalFloatingPointField(h,2))==null?void 0:b};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.Detection.AssociatedDetection.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.Detection.AssociatedDetection;return proto.mediapipe.Detection.AssociatedDetection.deserializeBinaryFromReader(b,h)},proto.mediapipe.Detection.AssociatedDetection.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=h.readInt32();m.setId(b);break;case 2:b=h.readFloat(),m.setConfidence(b);break;default:h.skipField()}return m},proto.mediapipe.Detection.AssociatedDetection.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.Detection.AssociatedDetection.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.Detection.AssociatedDetection.serializeBinaryToWriter=function(m,h){var b=void 0;(b=p.Message.getField(m,1))!=null&&h.writeInt32(1,b),(b=p.Message.getField(m,2))!=null&&h.writeFloat(2,b)},proto.mediapipe.Detection.AssociatedDetection.prototype.getId=function(){return p.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Detection.AssociatedDetection.prototype.setId=function(m){return p.Message.setField(this,1,m)},proto.mediapipe.Detection.AssociatedDetection.prototype.clearId=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.Detection.AssociatedDetection.prototype.hasId=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.Detection.AssociatedDetection.prototype.getConfidence=function(){return p.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.Detection.AssociatedDetection.prototype.setConfidence=function(m){return p.Message.setField(this,2,m)},proto.mediapipe.Detection.AssociatedDetection.prototype.clearConfidence=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.Detection.AssociatedDetection.prototype.hasConfidence=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.Detection.prototype.getLabelList=function(){return p.Message.getRepeatedField(this,1)},proto.mediapipe.Detection.prototype.setLabelList=function(m){return p.Message.setField(this,1,m||[])},proto.mediapipe.Detection.prototype.addLabel=function(m,h){return p.Message.addToRepeatedField(this,1,m,h)},proto.mediapipe.Detection.prototype.clearLabelList=function(){return this.setLabelList([])},proto.mediapipe.Detection.prototype.getLabelIdList=function(){return p.Message.getRepeatedField(this,2)},proto.mediapipe.Detection.prototype.setLabelIdList=function(m){return p.Message.setField(this,2,m||[])},proto.mediapipe.Detection.prototype.addLabelId=function(m,h){return p.Message.addToRepeatedField(this,2,m,h)},proto.mediapipe.Detection.prototype.clearLabelIdList=function(){return this.setLabelIdList([])},proto.mediapipe.Detection.prototype.getScoreList=function(){return p.Message.getRepeatedFloatingPointField(this,3)},proto.mediapipe.Detection.prototype.setScoreList=function(m){return p.Message.setField(this,3,m||[])},proto.mediapipe.Detection.prototype.addScore=function(m,h){return p.Message.addToRepeatedField(this,3,m,h)},proto.mediapipe.Detection.prototype.clearScoreList=function(){return this.setScoreList([])},proto.mediapipe.Detection.prototype.getLocationData=function(){return p.Message.getWrapperField(this,y.LocationData,4)},proto.mediapipe.Detection.prototype.setLocationData=function(m){return p.Message.setWrapperField(this,4,m)},proto.mediapipe.Detection.prototype.clearLocationData=function(){return this.setLocationData(void 0)},proto.mediapipe.Detection.prototype.hasLocationData=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.Detection.prototype.getFeatureTag=function(){return p.Message.getFieldWithDefault(this,5,"")},proto.mediapipe.Detection.prototype.setFeatureTag=function(m){return p.Message.setField(this,5,m)},proto.mediapipe.Detection.prototype.clearFeatureTag=function(){return p.Message.setField(this,5,void 0)},proto.mediapipe.Detection.prototype.hasFeatureTag=function(){return p.Message.getField(this,5)!=null},proto.mediapipe.Detection.prototype.getTrackId=function(){return p.Message.getFieldWithDefault(this,6,"")},proto.mediapipe.Detection.prototype.setTrackId=function(m){return p.Message.setField(this,6,m)},proto.mediapipe.Detection.prototype.clearTrackId=function(){return p.Message.setField(this,6,void 0)},proto.mediapipe.Detection.prototype.hasTrackId=function(){return p.Message.getField(this,6)!=null},proto.mediapipe.Detection.prototype.getDetectionId=function(){return p.Message.getFieldWithDefault(this,7,0)},proto.mediapipe.Detection.prototype.setDetectionId=function(m){return p.Message.setField(this,7,m)},proto.mediapipe.Detection.prototype.clearDetectionId=function(){return p.Message.setField(this,7,void 0)},proto.mediapipe.Detection.prototype.hasDetectionId=function(){return p.Message.getField(this,7)!=null},proto.mediapipe.Detection.prototype.getAssociatedDetectionsList=function(){return p.Message.getRepeatedWrapperField(this,proto.mediapipe.Detection.AssociatedDetection,8)},proto.mediapipe.Detection.prototype.setAssociatedDetectionsList=function(m){return p.Message.setRepeatedWrapperField(this,8,m)},proto.mediapipe.Detection.prototype.addAssociatedDetections=function(m,h){return p.Message.addToRepeatedWrapperField(this,8,m,proto.mediapipe.Detection.AssociatedDetection,h)},proto.mediapipe.Detection.prototype.clearAssociatedDetectionsList=function(){return this.setAssociatedDetectionsList([])},proto.mediapipe.Detection.prototype.getDisplayNameList=function(){return p.Message.getRepeatedField(this,9)},proto.mediapipe.Detection.prototype.setDisplayNameList=function(m){return p.Message.setField(this,9,m||[])},proto.mediapipe.Detection.prototype.addDisplayName=function(m,h){return p.Message.addToRepeatedField(this,9,m,h)},proto.mediapipe.Detection.prototype.clearDisplayNameList=function(){return this.setDisplayNameList([])},proto.mediapipe.Detection.prototype.getTimestampUsec=function(){return p.Message.getFieldWithDefault(this,10,0)},proto.mediapipe.Detection.prototype.setTimestampUsec=function(m){return p.Message.setField(this,10,m)},proto.mediapipe.Detection.prototype.clearTimestampUsec=function(){return p.Message.setField(this,10,void 0)},proto.mediapipe.Detection.prototype.hasTimestampUsec=function(){return p.Message.getField(this,10)!=null},proto.mediapipe.DetectionList.repeatedFields_=[1],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.DetectionList.prototype.toObject=function(m){return proto.mediapipe.DetectionList.toObject(m,this)},proto.mediapipe.DetectionList.toObject=function(m,h){var b={detectionList:p.Message.toObjectList(h.getDetectionList(),proto.mediapipe.Detection.toObject,m)};return m&&(b.$jspbMessageInstance=h),b}),proto.mediapipe.DetectionList.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.DetectionList;return proto.mediapipe.DetectionList.deserializeBinaryFromReader(b,h)},proto.mediapipe.DetectionList.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)if(h.getFieldNumber()===1){var b=new proto.mediapipe.Detection;h.readMessage(b,proto.mediapipe.Detection.deserializeBinaryFromReader),m.addDetection(b)}else h.skipField();return m},proto.mediapipe.DetectionList.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.DetectionList.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.DetectionList.serializeBinaryToWriter=function(m,h){var b;(b=m.getDetectionList()).length>0&&h.writeRepeatedMessage(1,b,proto.mediapipe.Detection.serializeBinaryToWriter)},proto.mediapipe.DetectionList.prototype.getDetectionList=function(){return p.Message.getRepeatedWrapperField(this,proto.mediapipe.Detection,1)},proto.mediapipe.DetectionList.prototype.setDetectionList=function(m){return p.Message.setRepeatedWrapperField(this,1,m)},proto.mediapipe.DetectionList.prototype.addDetection=function(m,h){return p.Message.addToRepeatedWrapperField(this,1,m,proto.mediapipe.Detection,h)},proto.mediapipe.DetectionList.prototype.clearDetectionList=function(){return this.setDetectionList([])},g.object.extend(u,proto.mediapipe)}(detection_pb);var base_options_pb={},acceleration_pb={},inference_calculator_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_pb;g.object.extend(proto,y);var m=calculator_options_pb;g.object.extend(proto,m),g.exportSymbol("proto.mediapipe.InferenceCalculatorOptions",null,_),g.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate",null,_),g.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.DelegateCase",null,_),g.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu",null,_),g.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.Api",null,_),g.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.InferenceUsage",null,_),g.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi",null,_),g.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite",null,_),g.exportSymbol("proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack",null,_),proto.mediapipe.InferenceCalculatorOptions=function(h){p.Message.initialize(this,h,0,-1,null,null)},g.inherits(proto.mediapipe.InferenceCalculatorOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.displayName="proto.mediapipe.InferenceCalculatorOptions"),proto.mediapipe.InferenceCalculatorOptions.Delegate=function(h){p.Message.initialize(this,h,0,-1,null,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_)},g.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate"),proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite=function(h){p.Message.initialize(this,h,0,-1,null,null)},g.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite"),proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu=function(h){p.Message.initialize(this,h,0,-1,null,null)},g.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu"),proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi=function(h){p.Message.initialize(this,h,0,-1,null,null)},g.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi"),proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack=function(h){p.Message.initialize(this,h,0,-1,null,null)},g.inherits(proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.displayName="proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.prototype.toObject=function(h){return proto.mediapipe.InferenceCalculatorOptions.toObject(h,this)},proto.mediapipe.InferenceCalculatorOptions.toObject=function(h,b){var x,O={modelPath:(x=p.Message.getField(b,1))==null?void 0:x,useGpu:p.Message.getBooleanFieldWithDefault(b,2,!1),useNnapi:p.Message.getBooleanFieldWithDefault(b,3,!1),cpuNumThread:p.Message.getFieldWithDefault(b,4,-1),delegate:(x=b.getDelegate())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.toObject(h,x)};return h&&(O.$jspbMessageInstance=b),O}),proto.mediapipe.InferenceCalculatorOptions.deserializeBinary=function(h){var b=new p.BinaryReader(h),x=new proto.mediapipe.InferenceCalculatorOptions;return proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader(x,b)},proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader=function(h,b){for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:var x=b.readString();h.setModelPath(x);break;case 2:x=b.readBool(),h.setUseGpu(x);break;case 3:x=b.readBool(),h.setUseNnapi(x);break;case 4:x=b.readInt32(),h.setCpuNumThread(x);break;case 5:x=new proto.mediapipe.InferenceCalculatorOptions.Delegate,b.readMessage(x,proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinaryFromReader),h.setDelegate(x);break;default:b.skipField()}return h},proto.mediapipe.InferenceCalculatorOptions.prototype.serializeBinary=function(){var h=new p.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter(this,h),h.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter=function(h,b){var x=void 0;(x=p.Message.getField(h,1))!=null&&b.writeString(1,x),(x=p.Message.getField(h,2))!=null&&b.writeBool(2,x),(x=p.Message.getField(h,3))!=null&&b.writeBool(3,x),(x=p.Message.getField(h,4))!=null&&b.writeInt32(4,x),(x=h.getDelegate())!=null&&b.writeMessage(5,x,proto.mediapipe.InferenceCalculatorOptions.Delegate.serializeBinaryToWriter)},proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_=[[1,2,3,4]],proto.mediapipe.InferenceCalculatorOptions.Delegate.DelegateCase={DELEGATE_NOT_SET:0,TFLITE:1,GPU:2,NNAPI:3,XNNPACK:4},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getDelegateCase=function(){return p.Message.computeOneofCase(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0])},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.toObject=function(h){return proto.mediapipe.InferenceCalculatorOptions.Delegate.toObject(h,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.toObject=function(h,b){var x,O={tflite:(x=b.getTflite())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.toObject(h,x),gpu:(x=b.getGpu())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.toObject(h,x),nnapi:(x=b.getNnapi())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.toObject(h,x),xnnpack:(x=b.getXnnpack())&&proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.toObject(h,x)};return h&&(O.$jspbMessageInstance=b),O}),proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinary=function(h){var b=new p.BinaryReader(h),x=new proto.mediapipe.InferenceCalculatorOptions.Delegate;return proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinaryFromReader(x,b)},proto.mediapipe.InferenceCalculatorOptions.Delegate.deserializeBinaryFromReader=function(h,b){for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:var x=new proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite;b.readMessage(x,proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader),h.setTflite(x);break;case 2:x=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu,b.readMessage(x,proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader),h.setGpu(x);break;case 3:x=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi,b.readMessage(x,proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader),h.setNnapi(x);break;case 4:x=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack,b.readMessage(x,proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader),h.setXnnpack(x);break;default:b.skipField()}return h},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.serializeBinary=function(){var h=new p.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.serializeBinaryToWriter(this,h),h.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.serializeBinaryToWriter=function(h,b){var x=void 0;(x=h.getTflite())!=null&&b.writeMessage(1,x,proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter),(x=h.getGpu())!=null&&b.writeMessage(2,x,proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter),(x=h.getNnapi())!=null&&b.writeMessage(3,x,proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter),(x=h.getXnnpack())!=null&&b.writeMessage(4,x,proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter)},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.prototype.toObject=function(h){return proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.toObject(h,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.toObject=function(h,b){var x={};return h&&(x.$jspbMessageInstance=b),x}),proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinary=function(h){var b=new p.BinaryReader(h),x=new proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite;return proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader(x,b)},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader=function(h,b){for(;b.nextField()&&!b.isEndGroup();)b.getFieldNumber(),b.skipField();return h},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.prototype.serializeBinary=function(){var h=new p.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter(this,h),h.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter=function(h,b){},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.toObject=function(h){return proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.toObject(h,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.toObject=function(h,b){var x,O={useAdvancedGpuApi:p.Message.getBooleanFieldWithDefault(b,1,!1),api:p.Message.getFieldWithDefault(b,4,0),allowPrecisionLoss:p.Message.getBooleanFieldWithDefault(b,3,!0),cachedKernelPath:(x=p.Message.getField(b,2))==null?void 0:x,serializedModelDir:(x=p.Message.getField(b,7))==null?void 0:x,modelToken:(x=p.Message.getField(b,8))==null?void 0:x,usage:p.Message.getFieldWithDefault(b,5,2)};return h&&(O.$jspbMessageInstance=b),O}),proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinary=function(h){var b=new p.BinaryReader(h),x=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader(x,b)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader=function(h,b){for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:var x=b.readBool();h.setUseAdvancedGpuApi(x);break;case 4:x=b.readEnum(),h.setApi(x);break;case 3:x=b.readBool(),h.setAllowPrecisionLoss(x);break;case 2:x=b.readString(),h.setCachedKernelPath(x);break;case 7:x=b.readString(),h.setSerializedModelDir(x);break;case 8:x=b.readString(),h.setModelToken(x);break;case 5:x=b.readEnum(),h.setUsage(x);break;default:b.skipField()}return h},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.serializeBinary=function(){var h=new p.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter(this,h),h.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter=function(h,b){var x=void 0;(x=p.Message.getField(h,1))!=null&&b.writeBool(1,x),(x=p.Message.getField(h,4))!=null&&b.writeEnum(4,x),(x=p.Message.getField(h,3))!=null&&b.writeBool(3,x),(x=p.Message.getField(h,2))!=null&&b.writeString(2,x),(x=p.Message.getField(h,7))!=null&&b.writeString(7,x),(x=p.Message.getField(h,8))!=null&&b.writeString(8,x),(x=p.Message.getField(h,5))!=null&&b.writeEnum(5,x)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.Api={ANY:0,OPENGL:1,OPENCL:2},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.InferenceUsage={UNSPECIFIED:0,FAST_SINGLE_ANSWER:1,SUSTAINED_SPEED:2},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getUseAdvancedGpuApi=function(){return p.Message.getBooleanFieldWithDefault(this,1,!1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setUseAdvancedGpuApi=function(h){return p.Message.setField(this,1,h)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearUseAdvancedGpuApi=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasUseAdvancedGpuApi=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getApi=function(){return p.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setApi=function(h){return p.Message.setField(this,4,h)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearApi=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasApi=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getAllowPrecisionLoss=function(){return p.Message.getBooleanFieldWithDefault(this,3,!0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setAllowPrecisionLoss=function(h){return p.Message.setField(this,3,h)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearAllowPrecisionLoss=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasAllowPrecisionLoss=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getCachedKernelPath=function(){return p.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setCachedKernelPath=function(h){return p.Message.setField(this,2,h)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearCachedKernelPath=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasCachedKernelPath=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getSerializedModelDir=function(){return p.Message.getFieldWithDefault(this,7,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setSerializedModelDir=function(h){return p.Message.setField(this,7,h)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearSerializedModelDir=function(){return p.Message.setField(this,7,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasSerializedModelDir=function(){return p.Message.getField(this,7)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getModelToken=function(){return p.Message.getFieldWithDefault(this,8,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setModelToken=function(h){return p.Message.setField(this,8,h)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearModelToken=function(){return p.Message.setField(this,8,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasModelToken=function(){return p.Message.getField(this,8)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.getUsage=function(){return p.Message.getFieldWithDefault(this,5,2)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.setUsage=function(h){return p.Message.setField(this,5,h)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.clearUsage=function(){return p.Message.setField(this,5,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu.prototype.hasUsage=function(){return p.Message.getField(this,5)!=null},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.toObject=function(h){return proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.toObject(h,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.toObject=function(h,b){var x,O={cacheDir:(x=p.Message.getField(b,1))==null?void 0:x,modelToken:(x=p.Message.getField(b,2))==null?void 0:x,acceleratorName:(x=p.Message.getField(b,3))==null?void 0:x};return h&&(O.$jspbMessageInstance=b),O}),proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinary=function(h){var b=new p.BinaryReader(h),x=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader(x,b)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader=function(h,b){for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:var x=b.readString();h.setCacheDir(x);break;case 2:x=b.readString(),h.setModelToken(x);break;case 3:x=b.readString(),h.setAcceleratorName(x);break;default:b.skipField()}return h},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.serializeBinary=function(){var h=new p.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter(this,h),h.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter=function(h,b){var x=void 0;(x=p.Message.getField(h,1))!=null&&b.writeString(1,x),(x=p.Message.getField(h,2))!=null&&b.writeString(2,x),(x=p.Message.getField(h,3))!=null&&b.writeString(3,x)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.getCacheDir=function(){return p.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.setCacheDir=function(h){return p.Message.setField(this,1,h)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.clearCacheDir=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.hasCacheDir=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.getModelToken=function(){return p.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.setModelToken=function(h){return p.Message.setField(this,2,h)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.clearModelToken=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.hasModelToken=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.getAcceleratorName=function(){return p.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.setAcceleratorName=function(h){return p.Message.setField(this,3,h)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.clearAcceleratorName=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi.prototype.hasAcceleratorName=function(){return p.Message.getField(this,3)!=null},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.toObject=function(h){return proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.toObject(h,this)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.toObject=function(h,b){var x={numThreads:p.Message.getFieldWithDefault(b,1,-1)};return h&&(x.$jspbMessageInstance=b),x}),proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinary=function(h){var b=new p.BinaryReader(h),x=new proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader(x,b)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader=function(h,b){for(;b.nextField()&&!b.isEndGroup();)if(b.getFieldNumber()===1){var x=b.readInt32();h.setNumThreads(x)}else b.skipField();return h},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.serializeBinary=function(){var h=new p.BinaryWriter;return proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter(this,h),h.getResultBuffer()},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter=function(h,b){var x;(x=p.Message.getField(h,1))!=null&&b.writeInt32(1,x)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.getNumThreads=function(){return p.Message.getFieldWithDefault(this,1,-1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.setNumThreads=function(h){return p.Message.setField(this,1,h)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.clearNumThreads=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack.prototype.hasNumThreads=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getTflite=function(){return p.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.TfLite,1)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setTflite=function(h){return p.Message.setOneofWrapperField(this,1,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],h)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearTflite=function(){return this.setTflite(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasTflite=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getGpu=function(){return p.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.Gpu,2)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setGpu=function(h){return p.Message.setOneofWrapperField(this,2,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],h)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearGpu=function(){return this.setGpu(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasGpu=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getNnapi=function(){return p.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.Nnapi,3)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setNnapi=function(h){return p.Message.setOneofWrapperField(this,3,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],h)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearNnapi=function(){return this.setNnapi(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasNnapi=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.getXnnpack=function(){return p.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate.Xnnpack,4)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.setXnnpack=function(h){return p.Message.setOneofWrapperField(this,4,proto.mediapipe.InferenceCalculatorOptions.Delegate.oneofGroups_[0],h)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.clearXnnpack=function(){return this.setXnnpack(void 0)},proto.mediapipe.InferenceCalculatorOptions.Delegate.prototype.hasXnnpack=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.InferenceCalculatorOptions.ext=new p.ExtensionFieldInfo(336783863,{ext:0},proto.mediapipe.InferenceCalculatorOptions,proto.mediapipe.InferenceCalculatorOptions.toObject,0),m.CalculatorOptions.extensionsBinary[336783863]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.InferenceCalculatorOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[336783863]=proto.mediapipe.InferenceCalculatorOptions.ext,proto.mediapipe.InferenceCalculatorOptions.prototype.getModelPath=function(){return p.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.InferenceCalculatorOptions.prototype.setModelPath=function(h){return p.Message.setField(this,1,h)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearModelPath=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasModelPath=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.InferenceCalculatorOptions.prototype.getUseGpu=function(){return p.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.InferenceCalculatorOptions.prototype.setUseGpu=function(h){return p.Message.setField(this,2,h)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearUseGpu=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasUseGpu=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.InferenceCalculatorOptions.prototype.getUseNnapi=function(){return p.Message.getBooleanFieldWithDefault(this,3,!1)},proto.mediapipe.InferenceCalculatorOptions.prototype.setUseNnapi=function(h){return p.Message.setField(this,3,h)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearUseNnapi=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasUseNnapi=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.InferenceCalculatorOptions.prototype.getCpuNumThread=function(){return p.Message.getFieldWithDefault(this,4,-1)},proto.mediapipe.InferenceCalculatorOptions.prototype.setCpuNumThread=function(h){return p.Message.setField(this,4,h)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearCpuNumThread=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasCpuNumThread=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.InferenceCalculatorOptions.prototype.getDelegate=function(){return p.Message.getWrapperField(this,proto.mediapipe.InferenceCalculatorOptions.Delegate,5)},proto.mediapipe.InferenceCalculatorOptions.prototype.setDelegate=function(h){return p.Message.setWrapperField(this,5,h)},proto.mediapipe.InferenceCalculatorOptions.prototype.clearDelegate=function(){return this.setDelegate(void 0)},proto.mediapipe.InferenceCalculatorOptions.prototype.hasDelegate=function(){return p.Message.getField(this,5)!=null},proto.mediapipe.InferenceCalculatorOptions.ext=new p.ExtensionFieldInfo(336783863,{ext:0},proto.mediapipe.InferenceCalculatorOptions,proto.mediapipe.InferenceCalculatorOptions.toObject,0),m.CalculatorOptions.extensionsBinary[336783863]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.InferenceCalculatorOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.InferenceCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.InferenceCalculatorOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[336783863]=proto.mediapipe.InferenceCalculatorOptions.ext,g.object.extend(u,proto.mediapipe)})(inference_calculator_pb),function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=inference_calculator_pb;g.object.extend(proto,y),g.exportSymbol("proto.mediapipe.tasks.core.proto.Acceleration",null,_),g.exportSymbol("proto.mediapipe.tasks.core.proto.Acceleration.DelegateCase",null,_),proto.mediapipe.tasks.core.proto.Acceleration=function(m){p.Message.initialize(this,m,0,-1,null,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_)},g.inherits(proto.mediapipe.tasks.core.proto.Acceleration,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.Acceleration.displayName="proto.mediapipe.tasks.core.proto.Acceleration"),proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_=[[1,2,4,5]],proto.mediapipe.tasks.core.proto.Acceleration.DelegateCase={DELEGATE_NOT_SET:0,XNNPACK:1,GPU:2,TFLITE:4,NNAPI:5},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getDelegateCase=function(){return p.Message.computeOneofCase(this,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0])},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.Acceleration.prototype.toObject=function(m){return proto.mediapipe.tasks.core.proto.Acceleration.toObject(m,this)},proto.mediapipe.tasks.core.proto.Acceleration.toObject=function(m,h){var b,x={xnnpack:(b=h.getXnnpack())&&y.InferenceCalculatorOptions.Delegate.Xnnpack.toObject(m,b),gpu:(b=h.getGpu())&&y.InferenceCalculatorOptions.Delegate.Gpu.toObject(m,b),tflite:(b=h.getTflite())&&y.InferenceCalculatorOptions.Delegate.TfLite.toObject(m,b),nnapi:(b=h.getNnapi())&&y.InferenceCalculatorOptions.Delegate.Nnapi.toObject(m,b)};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.tasks.core.proto.Acceleration.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.tasks.core.proto.Acceleration;return proto.mediapipe.tasks.core.proto.Acceleration.deserializeBinaryFromReader(b,h)},proto.mediapipe.tasks.core.proto.Acceleration.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=new y.InferenceCalculatorOptions.Delegate.Xnnpack;h.readMessage(b,y.InferenceCalculatorOptions.Delegate.Xnnpack.deserializeBinaryFromReader),m.setXnnpack(b);break;case 2:b=new y.InferenceCalculatorOptions.Delegate.Gpu,h.readMessage(b,y.InferenceCalculatorOptions.Delegate.Gpu.deserializeBinaryFromReader),m.setGpu(b);break;case 4:b=new y.InferenceCalculatorOptions.Delegate.TfLite,h.readMessage(b,y.InferenceCalculatorOptions.Delegate.TfLite.deserializeBinaryFromReader),m.setTflite(b);break;case 5:b=new y.InferenceCalculatorOptions.Delegate.Nnapi,h.readMessage(b,y.InferenceCalculatorOptions.Delegate.Nnapi.deserializeBinaryFromReader),m.setNnapi(b);break;default:h.skipField()}return m},proto.mediapipe.tasks.core.proto.Acceleration.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.tasks.core.proto.Acceleration.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.tasks.core.proto.Acceleration.serializeBinaryToWriter=function(m,h){var b=void 0;(b=m.getXnnpack())!=null&&h.writeMessage(1,b,y.InferenceCalculatorOptions.Delegate.Xnnpack.serializeBinaryToWriter),(b=m.getGpu())!=null&&h.writeMessage(2,b,y.InferenceCalculatorOptions.Delegate.Gpu.serializeBinaryToWriter),(b=m.getTflite())!=null&&h.writeMessage(4,b,y.InferenceCalculatorOptions.Delegate.TfLite.serializeBinaryToWriter),(b=m.getNnapi())!=null&&h.writeMessage(5,b,y.InferenceCalculatorOptions.Delegate.Nnapi.serializeBinaryToWriter)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getXnnpack=function(){return p.Message.getWrapperField(this,y.InferenceCalculatorOptions.Delegate.Xnnpack,1)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setXnnpack=function(m){return p.Message.setOneofWrapperField(this,1,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],m)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearXnnpack=function(){return this.setXnnpack(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasXnnpack=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getGpu=function(){return p.Message.getWrapperField(this,y.InferenceCalculatorOptions.Delegate.Gpu,2)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setGpu=function(m){return p.Message.setOneofWrapperField(this,2,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],m)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearGpu=function(){return this.setGpu(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasGpu=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getTflite=function(){return p.Message.getWrapperField(this,y.InferenceCalculatorOptions.Delegate.TfLite,4)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setTflite=function(m){return p.Message.setOneofWrapperField(this,4,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],m)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearTflite=function(){return this.setTflite(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasTflite=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.tasks.core.proto.Acceleration.prototype.getNnapi=function(){return p.Message.getWrapperField(this,y.InferenceCalculatorOptions.Delegate.Nnapi,5)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.setNnapi=function(m){return p.Message.setOneofWrapperField(this,5,proto.mediapipe.tasks.core.proto.Acceleration.oneofGroups_[0],m)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.clearNnapi=function(){return this.setNnapi(void 0)},proto.mediapipe.tasks.core.proto.Acceleration.prototype.hasNnapi=function(){return p.Message.getField(this,5)!=null},g.object.extend(u,proto.mediapipe.tasks.core.proto)}(acceleration_pb);var external_file_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();g.exportSymbol("proto.mediapipe.tasks.core.proto.ExternalFile",null,_),g.exportSymbol("proto.mediapipe.tasks.core.proto.FileDescriptorMeta",null,_),g.exportSymbol("proto.mediapipe.tasks.core.proto.FilePointerMeta",null,_),proto.mediapipe.tasks.core.proto.ExternalFile=function(y){p.Message.initialize(this,y,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.core.proto.ExternalFile,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.ExternalFile.displayName="proto.mediapipe.tasks.core.proto.ExternalFile"),proto.mediapipe.tasks.core.proto.FileDescriptorMeta=function(y){p.Message.initialize(this,y,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.core.proto.FileDescriptorMeta,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.FileDescriptorMeta.displayName="proto.mediapipe.tasks.core.proto.FileDescriptorMeta"),proto.mediapipe.tasks.core.proto.FilePointerMeta=function(y){p.Message.initialize(this,y,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.core.proto.FilePointerMeta,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.FilePointerMeta.displayName="proto.mediapipe.tasks.core.proto.FilePointerMeta"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.ExternalFile.prototype.toObject=function(y){return proto.mediapipe.tasks.core.proto.ExternalFile.toObject(y,this)},proto.mediapipe.tasks.core.proto.ExternalFile.toObject=function(y,m){var h,b={fileContent:m.getFileContent_asB64(),fileName:(h=p.Message.getField(m,2))==null?void 0:h,fileDescriptorMeta:(h=m.getFileDescriptorMeta())&&proto.mediapipe.tasks.core.proto.FileDescriptorMeta.toObject(y,h),filePointerMeta:(h=m.getFilePointerMeta())&&proto.mediapipe.tasks.core.proto.FilePointerMeta.toObject(y,h)};return y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.tasks.core.proto.ExternalFile.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.tasks.core.proto.ExternalFile;return proto.mediapipe.tasks.core.proto.ExternalFile.deserializeBinaryFromReader(h,m)},proto.mediapipe.tasks.core.proto.ExternalFile.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var h=m.readBytes();y.setFileContent(h);break;case 2:h=m.readString(),y.setFileName(h);break;case 3:h=new proto.mediapipe.tasks.core.proto.FileDescriptorMeta,m.readMessage(h,proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinaryFromReader),y.setFileDescriptorMeta(h);break;case 4:h=new proto.mediapipe.tasks.core.proto.FilePointerMeta,m.readMessage(h,proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinaryFromReader),y.setFilePointerMeta(h);break;default:m.skipField()}return y},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.tasks.core.proto.ExternalFile.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.tasks.core.proto.ExternalFile.serializeBinaryToWriter=function(y,m){var h=void 0;(h=p.Message.getField(y,1))!=null&&m.writeBytes(1,h),(h=p.Message.getField(y,2))!=null&&m.writeString(2,h),(h=y.getFileDescriptorMeta())!=null&&m.writeMessage(3,h,proto.mediapipe.tasks.core.proto.FileDescriptorMeta.serializeBinaryToWriter),(h=y.getFilePointerMeta())!=null&&m.writeMessage(4,h,proto.mediapipe.tasks.core.proto.FilePointerMeta.serializeBinaryToWriter)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileContent=function(){return p.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileContent_asB64=function(){return p.Message.bytesAsB64(this.getFileContent())},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileContent_asU8=function(){return p.Message.bytesAsU8(this.getFileContent())},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFileContent=function(y){return p.Message.setField(this,1,y)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFileContent=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFileContent=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileName=function(){return p.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFileName=function(y){return p.Message.setField(this,2,y)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFileName=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFileName=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFileDescriptorMeta=function(){return p.Message.getWrapperField(this,proto.mediapipe.tasks.core.proto.FileDescriptorMeta,3)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFileDescriptorMeta=function(y){return p.Message.setWrapperField(this,3,y)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFileDescriptorMeta=function(){return this.setFileDescriptorMeta(void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFileDescriptorMeta=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.getFilePointerMeta=function(){return p.Message.getWrapperField(this,proto.mediapipe.tasks.core.proto.FilePointerMeta,4)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.setFilePointerMeta=function(y){return p.Message.setWrapperField(this,4,y)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.clearFilePointerMeta=function(){return this.setFilePointerMeta(void 0)},proto.mediapipe.tasks.core.proto.ExternalFile.prototype.hasFilePointerMeta=function(){return p.Message.getField(this,4)!=null},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.toObject=function(y){return proto.mediapipe.tasks.core.proto.FileDescriptorMeta.toObject(y,this)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.toObject=function(y,m){var h,b={fd:(h=p.Message.getField(m,1))==null?void 0:h,length:(h=p.Message.getField(m,2))==null?void 0:h,offset:(h=p.Message.getField(m,3))==null?void 0:h};return y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.tasks.core.proto.FileDescriptorMeta;return proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinaryFromReader(h,m)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var h=m.readInt32();y.setFd(h);break;case 2:h=m.readInt64(),y.setLength(h);break;case 3:h=m.readInt64(),y.setOffset(h);break;default:m.skipField()}return y},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.tasks.core.proto.FileDescriptorMeta.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.serializeBinaryToWriter=function(y,m){var h=void 0;(h=p.Message.getField(y,1))!=null&&m.writeInt32(1,h),(h=p.Message.getField(y,2))!=null&&m.writeInt64(2,h),(h=p.Message.getField(y,3))!=null&&m.writeInt64(3,h)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.getFd=function(){return p.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.setFd=function(y){return p.Message.setField(this,1,y)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.clearFd=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.hasFd=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.getLength=function(){return p.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.setLength=function(y){return p.Message.setField(this,2,y)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.clearLength=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.hasLength=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.getOffset=function(){return p.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.setOffset=function(y){return p.Message.setField(this,3,y)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.clearOffset=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.tasks.core.proto.FileDescriptorMeta.prototype.hasOffset=function(){return p.Message.getField(this,3)!=null},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.toObject=function(y){return proto.mediapipe.tasks.core.proto.FilePointerMeta.toObject(y,this)},proto.mediapipe.tasks.core.proto.FilePointerMeta.toObject=function(y,m){var h,b={pointer:(h=p.Message.getField(m,1))==null?void 0:h,length:(h=p.Message.getField(m,2))==null?void 0:h};return y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.tasks.core.proto.FilePointerMeta;return proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinaryFromReader(h,m)},proto.mediapipe.tasks.core.proto.FilePointerMeta.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var h=m.readUint64();y.setPointer(h);break;case 2:h=m.readInt64(),y.setLength(h);break;default:m.skipField()}return y},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.tasks.core.proto.FilePointerMeta.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.tasks.core.proto.FilePointerMeta.serializeBinaryToWriter=function(y,m){var h=void 0;(h=p.Message.getField(y,1))!=null&&m.writeUint64(1,h),(h=p.Message.getField(y,2))!=null&&m.writeInt64(2,h)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.getPointer=function(){return p.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.setPointer=function(y){return p.Message.setField(this,1,y)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.clearPointer=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.hasPointer=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.getLength=function(){return p.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.setLength=function(y){return p.Message.setField(this,2,y)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.clearLength=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.FilePointerMeta.prototype.hasLength=function(){return p.Message.getField(this,2)!=null},g.object.extend(u,proto.mediapipe.tasks.core.proto)})(external_file_pb),function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=acceleration_pb;g.object.extend(proto,y);var m=external_file_pb;g.object.extend(proto,m),g.exportSymbol("proto.mediapipe.tasks.core.proto.BaseOptions",null,_),proto.mediapipe.tasks.core.proto.BaseOptions=function(h){p.Message.initialize(this,h,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.core.proto.BaseOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.core.proto.BaseOptions.displayName="proto.mediapipe.tasks.core.proto.BaseOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.core.proto.BaseOptions.prototype.toObject=function(h){return proto.mediapipe.tasks.core.proto.BaseOptions.toObject(h,this)},proto.mediapipe.tasks.core.proto.BaseOptions.toObject=function(h,b){var x,O={modelAsset:(x=b.getModelAsset())&&m.ExternalFile.toObject(h,x),useStreamMode:p.Message.getBooleanFieldWithDefault(b,2,!1),acceleration:(x=b.getAcceleration())&&y.Acceleration.toObject(h,x)};return h&&(O.$jspbMessageInstance=b),O}),proto.mediapipe.tasks.core.proto.BaseOptions.deserializeBinary=function(h){var b=new p.BinaryReader(h),x=new proto.mediapipe.tasks.core.proto.BaseOptions;return proto.mediapipe.tasks.core.proto.BaseOptions.deserializeBinaryFromReader(x,b)},proto.mediapipe.tasks.core.proto.BaseOptions.deserializeBinaryFromReader=function(h,b){for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:var x=new m.ExternalFile;b.readMessage(x,m.ExternalFile.deserializeBinaryFromReader),h.setModelAsset(x);break;case 2:x=b.readBool(),h.setUseStreamMode(x);break;case 3:x=new y.Acceleration,b.readMessage(x,y.Acceleration.deserializeBinaryFromReader),h.setAcceleration(x);break;default:b.skipField()}return h},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.serializeBinary=function(){var h=new p.BinaryWriter;return proto.mediapipe.tasks.core.proto.BaseOptions.serializeBinaryToWriter(this,h),h.getResultBuffer()},proto.mediapipe.tasks.core.proto.BaseOptions.serializeBinaryToWriter=function(h,b){var x=void 0;(x=h.getModelAsset())!=null&&b.writeMessage(1,x,m.ExternalFile.serializeBinaryToWriter),(x=p.Message.getField(h,2))!=null&&b.writeBool(2,x),(x=h.getAcceleration())!=null&&b.writeMessage(3,x,y.Acceleration.serializeBinaryToWriter)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.getModelAsset=function(){return p.Message.getWrapperField(this,m.ExternalFile,1)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.setModelAsset=function(h){return p.Message.setWrapperField(this,1,h)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.clearModelAsset=function(){return this.setModelAsset(void 0)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.hasModelAsset=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.getUseStreamMode=function(){return p.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.setUseStreamMode=function(h){return p.Message.setField(this,2,h)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.clearUseStreamMode=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.hasUseStreamMode=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.getAcceleration=function(){return p.Message.getWrapperField(this,y.Acceleration,3)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.setAcceleration=function(h){return p.Message.setWrapperField(this,3,h)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.clearAcceleration=function(){return this.setAcceleration(void 0)},proto.mediapipe.tasks.core.proto.BaseOptions.prototype.hasAcceleration=function(){return p.Message.getField(this,3)!=null},g.object.extend(u,proto.mediapipe.tasks.core.proto)}(base_options_pb);var face_detector_graph_options_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_pb;g.object.extend(proto,y);var m=calculator_options_pb;g.object.extend(proto,m);var h=base_options_pb;g.object.extend(proto,h),g.exportSymbol("proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions",null,_),proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions=function(b){p.Message.initialize(this,b,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.toObject=function(b){return proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject(b,this)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject=function(b,x){var O,T={baseOptions:(O=x.getBaseOptions())&&h.BaseOptions.toObject(b,O),minDetectionConfidence:p.Message.getFloatingPointFieldWithDefault(x,2,.5),minSuppressionThreshold:p.Message.getFloatingPointFieldWithDefault(x,3,.5),numFaces:(O=p.Message.getField(x,4))==null?void 0:O};return b&&(T.$jspbMessageInstance=x),T}),proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinary=function(b){var x=new p.BinaryReader(b),O=new proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions;return proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader(O,x)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader=function(b,x){for(;x.nextField()&&!x.isEndGroup();)switch(x.getFieldNumber()){case 1:var O=new h.BaseOptions;x.readMessage(O,h.BaseOptions.deserializeBinaryFromReader),b.setBaseOptions(O);break;case 2:O=x.readFloat(),b.setMinDetectionConfidence(O);break;case 3:O=x.readFloat(),b.setMinSuppressionThreshold(O);break;case 4:O=x.readInt32(),b.setNumFaces(O);break;default:x.skipField()}return b},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.serializeBinary=function(){var b=new p.BinaryWriter;return proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter(this,b),b.getResultBuffer()},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter=function(b,x){var O=void 0;(O=b.getBaseOptions())!=null&&x.writeMessage(1,O,h.BaseOptions.serializeBinaryToWriter),(O=p.Message.getField(b,2))!=null&&x.writeFloat(2,O),(O=p.Message.getField(b,3))!=null&&x.writeFloat(3,O),(O=p.Message.getField(b,4))!=null&&x.writeInt32(4,O)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext=new p.ExtensionFieldInfo(502141897,{ext:0},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[502141897]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[502141897]=proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getBaseOptions=function(){return p.Message.getWrapperField(this,h.BaseOptions,1)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setBaseOptions=function(b){return p.Message.setWrapperField(this,1,b)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasBaseOptions=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return p.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setMinDetectionConfidence=function(b){return p.Message.setField(this,2,b)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getMinSuppressionThreshold=function(){return p.Message.getFloatingPointFieldWithDefault(this,3,.5)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setMinSuppressionThreshold=function(b){return p.Message.setField(this,3,b)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearMinSuppressionThreshold=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasMinSuppressionThreshold=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.getNumFaces=function(){return p.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.setNumFaces=function(b){return p.Message.setField(this,4,b)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.clearNumFaces=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.prototype.hasNumFaces=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext=new p.ExtensionFieldInfo(502141897,{ext:0},proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[502141897]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[502141897]=proto.mediapipe.tasks.vision.face_detector.proto.FaceDetectorGraphOptions.ext,g.object.extend(u,proto.mediapipe.tasks.vision.face_detector.proto)})(face_detector_graph_options_pb);var detection_result={};Object.defineProperty(detection_result,"__esModule",{value:!0}),detection_result.convertFromDetectionProto=void 0;const DEFAULT_CATEGORY_INDEX=-1;function convertFromDetectionProto(u){var p,g,_,y,m,h,b,x,O,T,E,M,F;const B=u.getScoreList(),S=u.getLabelIdList(),w=u.getLabelList(),C=u.getDisplayNameList(),D={categories:[],keypoints:[]};for(let R=0;R<B.length;R++)D.categories.push({score:B[R],index:(p=S[R])!==null&&p!==void 0?p:DEFAULT_CATEGORY_INDEX,categoryName:(g=w[R])!==null&&g!==void 0?g:"",displayName:(_=C[R])!==null&&_!==void 0?_:""});const L=(y=u.getLocationData())===null||y===void 0?void 0:y.getBoundingBox();if(L&&(D.boundingBox={originX:(m=L.getXmin())!==null&&m!==void 0?m:0,originY:(h=L.getYmin())!==null&&h!==void 0?h:0,width:(b=L.getWidth())!==null&&b!==void 0?b:0,height:(x=L.getHeight())!==null&&x!==void 0?x:0}),(O=u.getLocationData())===null||O===void 0?void 0:O.getRelativeKeypointsList().length)for(const R of u.getLocationData().getRelativeKeypointsList())D.keypoints.push({x:(T=R.getX())!==null&&T!==void 0?T:0,y:(E=R.getY())!==null&&E!==void 0?E:0,score:(M=R.getScore())!==null&&M!==void 0?M:0,label:(F=R.getKeypointLabel())!==null&&F!==void 0?F:""});return D}detection_result.convertFromDetectionProto=convertFromDetectionProto;var vision_task_runner={},rect_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();g.exportSymbol("proto.mediapipe.NormalizedRect",null,_),g.exportSymbol("proto.mediapipe.Rect",null,_),proto.mediapipe.Rect=function(y){p.Message.initialize(this,y,0,-1,null,null)},g.inherits(proto.mediapipe.Rect,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.Rect.displayName="proto.mediapipe.Rect"),proto.mediapipe.NormalizedRect=function(y){p.Message.initialize(this,y,0,-1,null,null)},g.inherits(proto.mediapipe.NormalizedRect,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedRect.displayName="proto.mediapipe.NormalizedRect"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Rect.prototype.toObject=function(y){return proto.mediapipe.Rect.toObject(y,this)},proto.mediapipe.Rect.toObject=function(y,m){var h,b={xCenter:(h=p.Message.getField(m,1))==null?void 0:h,yCenter:(h=p.Message.getField(m,2))==null?void 0:h,height:(h=p.Message.getField(m,3))==null?void 0:h,width:(h=p.Message.getField(m,4))==null?void 0:h,rotation:p.Message.getFloatingPointFieldWithDefault(m,5,0),rectId:(h=p.Message.getField(m,6))==null?void 0:h};return y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.Rect.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.Rect;return proto.mediapipe.Rect.deserializeBinaryFromReader(h,m)},proto.mediapipe.Rect.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var h=m.readInt32();y.setXCenter(h);break;case 2:h=m.readInt32(),y.setYCenter(h);break;case 3:h=m.readInt32(),y.setHeight(h);break;case 4:h=m.readInt32(),y.setWidth(h);break;case 5:h=m.readFloat(),y.setRotation(h);break;case 6:h=m.readInt64(),y.setRectId(h);break;default:m.skipField()}return y},proto.mediapipe.Rect.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.Rect.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.Rect.serializeBinaryToWriter=function(y,m){var h=void 0;(h=p.Message.getField(y,1))!=null&&m.writeInt32(1,h),(h=p.Message.getField(y,2))!=null&&m.writeInt32(2,h),(h=p.Message.getField(y,3))!=null&&m.writeInt32(3,h),(h=p.Message.getField(y,4))!=null&&m.writeInt32(4,h),(h=p.Message.getField(y,5))!=null&&m.writeFloat(5,h),(h=p.Message.getField(y,6))!=null&&m.writeInt64(6,h)},proto.mediapipe.Rect.prototype.getXCenter=function(){return p.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Rect.prototype.setXCenter=function(y){return p.Message.setField(this,1,y)},proto.mediapipe.Rect.prototype.clearXCenter=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.Rect.prototype.hasXCenter=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.Rect.prototype.getYCenter=function(){return p.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.Rect.prototype.setYCenter=function(y){return p.Message.setField(this,2,y)},proto.mediapipe.Rect.prototype.clearYCenter=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.Rect.prototype.hasYCenter=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.Rect.prototype.getHeight=function(){return p.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.Rect.prototype.setHeight=function(y){return p.Message.setField(this,3,y)},proto.mediapipe.Rect.prototype.clearHeight=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.Rect.prototype.hasHeight=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.Rect.prototype.getWidth=function(){return p.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.Rect.prototype.setWidth=function(y){return p.Message.setField(this,4,y)},proto.mediapipe.Rect.prototype.clearWidth=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.Rect.prototype.hasWidth=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.Rect.prototype.getRotation=function(){return p.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.Rect.prototype.setRotation=function(y){return p.Message.setField(this,5,y)},proto.mediapipe.Rect.prototype.clearRotation=function(){return p.Message.setField(this,5,void 0)},proto.mediapipe.Rect.prototype.hasRotation=function(){return p.Message.getField(this,5)!=null},proto.mediapipe.Rect.prototype.getRectId=function(){return p.Message.getFieldWithDefault(this,6,0)},proto.mediapipe.Rect.prototype.setRectId=function(y){return p.Message.setField(this,6,y)},proto.mediapipe.Rect.prototype.clearRectId=function(){return p.Message.setField(this,6,void 0)},proto.mediapipe.Rect.prototype.hasRectId=function(){return p.Message.getField(this,6)!=null},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedRect.prototype.toObject=function(y){return proto.mediapipe.NormalizedRect.toObject(y,this)},proto.mediapipe.NormalizedRect.toObject=function(y,m){var h,b={xCenter:(h=p.Message.getOptionalFloatingPointField(m,1))==null?void 0:h,yCenter:(h=p.Message.getOptionalFloatingPointField(m,2))==null?void 0:h,height:(h=p.Message.getOptionalFloatingPointField(m,3))==null?void 0:h,width:(h=p.Message.getOptionalFloatingPointField(m,4))==null?void 0:h,rotation:p.Message.getFloatingPointFieldWithDefault(m,5,0),rectId:(h=p.Message.getField(m,6))==null?void 0:h};return y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.NormalizedRect.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.NormalizedRect;return proto.mediapipe.NormalizedRect.deserializeBinaryFromReader(h,m)},proto.mediapipe.NormalizedRect.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var h=m.readFloat();y.setXCenter(h);break;case 2:h=m.readFloat(),y.setYCenter(h);break;case 3:h=m.readFloat(),y.setHeight(h);break;case 4:h=m.readFloat(),y.setWidth(h);break;case 5:h=m.readFloat(),y.setRotation(h);break;case 6:h=m.readInt64(),y.setRectId(h);break;default:m.skipField()}return y},proto.mediapipe.NormalizedRect.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.NormalizedRect.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.NormalizedRect.serializeBinaryToWriter=function(y,m){var h=void 0;(h=p.Message.getField(y,1))!=null&&m.writeFloat(1,h),(h=p.Message.getField(y,2))!=null&&m.writeFloat(2,h),(h=p.Message.getField(y,3))!=null&&m.writeFloat(3,h),(h=p.Message.getField(y,4))!=null&&m.writeFloat(4,h),(h=p.Message.getField(y,5))!=null&&m.writeFloat(5,h),(h=p.Message.getField(y,6))!=null&&m.writeInt64(6,h)},proto.mediapipe.NormalizedRect.prototype.getXCenter=function(){return p.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.NormalizedRect.prototype.setXCenter=function(y){return p.Message.setField(this,1,y)},proto.mediapipe.NormalizedRect.prototype.clearXCenter=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.NormalizedRect.prototype.hasXCenter=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.NormalizedRect.prototype.getYCenter=function(){return p.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.NormalizedRect.prototype.setYCenter=function(y){return p.Message.setField(this,2,y)},proto.mediapipe.NormalizedRect.prototype.clearYCenter=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.NormalizedRect.prototype.hasYCenter=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.NormalizedRect.prototype.getHeight=function(){return p.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.NormalizedRect.prototype.setHeight=function(y){return p.Message.setField(this,3,y)},proto.mediapipe.NormalizedRect.prototype.clearHeight=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.NormalizedRect.prototype.hasHeight=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.NormalizedRect.prototype.getWidth=function(){return p.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.NormalizedRect.prototype.setWidth=function(y){return p.Message.setField(this,4,y)},proto.mediapipe.NormalizedRect.prototype.clearWidth=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.NormalizedRect.prototype.hasWidth=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.NormalizedRect.prototype.getRotation=function(){return p.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.NormalizedRect.prototype.setRotation=function(y){return p.Message.setField(this,5,y)},proto.mediapipe.NormalizedRect.prototype.clearRotation=function(){return p.Message.setField(this,5,void 0)},proto.mediapipe.NormalizedRect.prototype.hasRotation=function(){return p.Message.getField(this,5)!=null},proto.mediapipe.NormalizedRect.prototype.getRectId=function(){return p.Message.getFieldWithDefault(this,6,0)},proto.mediapipe.NormalizedRect.prototype.setRectId=function(y){return p.Message.setField(this,6,y)},proto.mediapipe.NormalizedRect.prototype.clearRectId=function(){return p.Message.setField(this,6,void 0)},proto.mediapipe.NormalizedRect.prototype.hasRectId=function(){return p.Message.getField(this,6)!=null},g.object.extend(u,proto.mediapipe)})(rect_pb);var task_runner={},graph_runner={};(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.createGraphRunner=u.createMediaPipeLib=u.GraphRunner=u.CALCULATOR_GRAPH_CONFIG_LISTENER_NAME=void 0;const p=platform_utils;u.CALCULATOR_GRAPH_CONFIG_LISTENER_NAME="__graph_config__";class g{constructor(h,b){this.autoResizeCanvas=!0,this.wasmModule=h,this.audioPtr=null,this.audioSize=0,this.hasMultiStreamSupport=typeof this.wasmModule._addIntToInputStream=="function",b!==void 0?this.wasmModule.canvas=b:typeof OffscreenCanvas>"u"||(0,p.isWebKit)()?(console.warn("OffscreenCanvas not supported and GraphRunner constructor glCanvas parameter is undefined. Creating backup canvas."),this.wasmModule.canvas=document.createElement("canvas")):this.wasmModule.canvas=new OffscreenCanvas(1,1)}async initializeGraph(h){const b=await fetch(h),x=await b.arrayBuffer(),O=!(h.endsWith(".pbtxt")||h.endsWith(".textproto"));this.setGraph(new Uint8Array(x),O)}setGraphFromString(h){this.setGraph(new TextEncoder().encode(h),!1)}setGraph(h,b){const x=h.length,O=this.wasmModule._malloc(x);this.wasmModule.HEAPU8.set(h,O),b?this.wasmModule._changeBinaryGraph(x,O):this.wasmModule._changeTextGraph(x,O),this.wasmModule._free(O)}configureAudio(h,b,x,O,T){this.wasmModule._configureAudio||console.warn('Attempting to use configureAudio without support for input audio. Is build dep ":gl_graph_runner_audio" missing?'),O=O||"input_audio",this.wrapStringPtr(O,E=>{T=T||"audio_header",this.wrapStringPtr(T,M=>{this.wasmModule._configureAudio(E,M,h,b,x)})})}setAutoResizeCanvas(h){this.autoResizeCanvas=h}setAutoRenderToScreen(h){this.wasmModule._setAutoRenderToScreen(h)}bindTextureToStream(h,b){if(!this.wasmModule.canvas)throw new Error("No OpenGL canvas configured.");b?this.wasmModule._bindTextureToStream(b):console.assert(this.wasmModule._bindTextureToCanvas());const x=this.wasmModule.canvas.getContext("webgl2")||this.wasmModule.canvas.getContext("webgl");if(!x)throw new Error("Failed to obtain WebGL context from the provided canvas. `getContext()` should only be invoked with `webgl` or `webgl2`.");let O,T;return x.texImage2D(x.TEXTURE_2D,0,x.RGBA,x.RGBA,x.UNSIGNED_BYTE,h),h.videoWidth?(O=h.videoWidth,T=h.videoHeight):h.naturalWidth?(O=h.naturalWidth,T=h.naturalHeight):(O=h.width,T=h.height),!this.autoResizeCanvas||O===this.wasmModule.canvas.width&&T===this.wasmModule.canvas.height||(this.wasmModule.canvas.width=O,this.wasmModule.canvas.height=T),[O,T]}processGl(h,b){const[x,O]=this.bindTextureToStream(h),T=this.wasmModule._malloc(16);this.wasmModule.HEAPU32[T/4]=x,this.wasmModule.HEAPU32[T/4+1]=O,this.wasmModule.HEAPF64[T/8+1]=b,this.wasmModule._processGl(T),this.wasmModule._free(T)}wrapStringPtr(h,b){this.hasMultiStreamSupport||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");const x=this.wasmModule.stringToNewUTF8(h);b(x),this.wasmModule._free(x)}wrapStringPtrPtr(h,b){this.hasMultiStreamSupport||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");const x=new Uint32Array(h.length);for(let T=0;T<h.length;T++)x[T]=this.wasmModule.stringToNewUTF8(h[T]);const O=this.wasmModule._malloc(4*x.length);this.wasmModule.HEAPU32.set(x,O>>2),b(O);for(const T of x)this.wasmModule._free(T);this.wasmModule._free(O)}getCalculatorGraphConfig(h,b){const x=u.CALCULATOR_GRAPH_CONFIG_LISTENER_NAME;this.setListener(x,O=>{h(O)}),this.wrapStringPtr(x,O=>{this.wasmModule._getGraphConfig(O,b)}),delete this.wasmModule.simpleListeners[x]}setListener(h,b){this.wasmModule.simpleListeners=this.wasmModule.simpleListeners||{},this.wasmModule.simpleListeners[h]=b}setVectorListener(h,b){let x=[];this.wasmModule.simpleListeners=this.wasmModule.simpleListeners||{},this.wasmModule.simpleListeners[h]=(O,T,E)=>{T?(b(x,E),x=[]):x.push(O)}}attachErrorListener(h){this.wasmModule.errorListener=h}attachEmptyPacketListener(h,b){this.wasmModule.emptyPacketListeners=this.wasmModule.emptyPacketListeners||{},this.wasmModule.emptyPacketListeners[h]=b}addAudioToStream(h,b,x){this.addAudioToStreamWithShape(h,0,0,b,x)}addAudioToStreamWithShape(h,b,x,O,T){const E=4*h.length;this.audioSize!==E&&(this.audioPtr&&this.wasmModule._free(this.audioPtr),this.audioPtr=this.wasmModule._malloc(E),this.audioSize=E),this.wasmModule.HEAPF32.set(h,this.audioPtr/4),this.wrapStringPtr(O,M=>{this.wasmModule._addAudioToInputStream(this.audioPtr,b,x,M,T)})}addGpuBufferToStream(h,b,x){this.wrapStringPtr(b,O=>{const[T,E]=this.bindTextureToStream(h,O);this.wasmModule._addBoundTextureToStream(O,T,E,x)})}addBoolToStream(h,b,x){this.wrapStringPtr(b,O=>{this.wasmModule._addBoolToInputStream(h,O,x)})}addDoubleToStream(h,b,x){this.wrapStringPtr(b,O=>{this.wasmModule._addDoubleToInputStream(h,O,x)})}addFloatToStream(h,b,x){this.wrapStringPtr(b,O=>{this.wasmModule._addFloatToInputStream(h,O,x)})}addIntToStream(h,b,x){this.wrapStringPtr(b,O=>{this.wasmModule._addIntToInputStream(h,O,x)})}addStringToStream(h,b,x){this.wrapStringPtr(b,O=>{this.wrapStringPtr(h,T=>{this.wasmModule._addStringToInputStream(T,O,x)})})}addStringRecordToStream(h,b,x){this.wrapStringPtr(b,O=>{this.wrapStringPtrPtr(Object.keys(h),T=>{this.wrapStringPtrPtr(Object.values(h),E=>{this.wasmModule._addFlatHashMapToInputStream(T,E,Object.keys(h).length,O,x)})})})}addProtoToStream(h,b,x,O){this.wrapStringPtr(x,T=>{this.wrapStringPtr(b,E=>{const M=this.wasmModule._malloc(h.length);this.wasmModule.HEAPU8.set(h,M),this.wasmModule._addProtoToInputStream(M,h.length,E,T,O),this.wasmModule._free(M)})})}addEmptyPacketToStream(h,b){this.wrapStringPtr(h,x=>{this.wasmModule._addEmptyPacketToInputStream(x,b)})}addBoolToInputSidePacket(h,b){this.wrapStringPtr(b,x=>{this.wasmModule._addBoolToInputSidePacket(h,x)})}addDoubleToInputSidePacket(h,b){this.wrapStringPtr(b,x=>{this.wasmModule._addDoubleToInputSidePacket(h,x)})}addFloatToInputSidePacket(h,b){this.wrapStringPtr(b,x=>{this.wasmModule._addFloatToInputSidePacket(h,x)})}addIntToInputSidePacket(h,b){this.wrapStringPtr(b,x=>{this.wasmModule._addIntToInputSidePacket(h,x)})}addStringToInputSidePacket(h,b){this.wrapStringPtr(b,x=>{this.wrapStringPtr(h,O=>{this.wasmModule._addStringToInputSidePacket(O,x)})})}addProtoToInputSidePacket(h,b,x){this.wrapStringPtr(x,O=>{this.wrapStringPtr(b,T=>{const E=this.wasmModule._malloc(h.length);this.wasmModule.HEAPU8.set(h,E),this.wasmModule._addProtoToInputSidePacket(E,h.length,T,O),this.wasmModule._free(E)})})}attachBoolListener(h,b){this.setListener(h,b),this.wrapStringPtr(h,x=>{this.wasmModule._attachBoolListener(x)})}attachBoolVectorListener(h,b){this.setVectorListener(h,b),this.wrapStringPtr(h,x=>{this.wasmModule._attachBoolVectorListener(x)})}attachIntListener(h,b){this.setListener(h,b),this.wrapStringPtr(h,x=>{this.wasmModule._attachIntListener(x)})}attachIntVectorListener(h,b){this.setVectorListener(h,b),this.wrapStringPtr(h,x=>{this.wasmModule._attachIntVectorListener(x)})}attachDoubleListener(h,b){this.setListener(h,b),this.wrapStringPtr(h,x=>{this.wasmModule._attachDoubleListener(x)})}attachDoubleVectorListener(h,b){this.setVectorListener(h,b),this.wrapStringPtr(h,x=>{this.wasmModule._attachDoubleVectorListener(x)})}attachFloatListener(h,b){this.setListener(h,b),this.wrapStringPtr(h,x=>{this.wasmModule._attachFloatListener(x)})}attachFloatVectorListener(h,b){this.setVectorListener(h,b),this.wrapStringPtr(h,x=>{this.wasmModule._attachFloatVectorListener(x)})}attachStringListener(h,b){this.setListener(h,b),this.wrapStringPtr(h,x=>{this.wasmModule._attachStringListener(x)})}attachStringVectorListener(h,b){this.setVectorListener(h,b),this.wrapStringPtr(h,x=>{this.wasmModule._attachStringVectorListener(x)})}attachProtoListener(h,b,x){this.setListener(h,b),this.wrapStringPtr(h,O=>{this.wasmModule._attachProtoListener(O,x||!1)})}attachProtoVectorListener(h,b,x){this.setVectorListener(h,b),this.wrapStringPtr(h,O=>{this.wasmModule._attachProtoVectorListener(O,x||!1)})}attachAudioListener(h,b,x){this.wasmModule._attachAudioListener||console.warn('Attempting to use attachAudioListener without support for output audio. Is build dep ":gl_graph_runner_audio_out" missing?'),this.setListener(h,(O,T)=>{const E=new Float32Array(O.buffer,O.byteOffset,O.length/4);b(E,T)}),this.wrapStringPtr(h,O=>{this.wasmModule._attachAudioListener(O,x||!1)})}finishProcessing(){this.wasmModule._waitUntilIdle()}closeGraph(){this.wasmModule._closeGraph(),this.wasmModule.simpleListeners=void 0,this.wasmModule.emptyPacketListeners=void 0}}async function _(m){if(typeof importScripts!="function"){const h=document.createElement("script");return h.setAttribute("src",m),h.setAttribute("crossorigin","anonymous"),new Promise(b=>{h.addEventListener("load",()=>{b()},!1),h.addEventListener("error",()=>{b()},!1),document.body.appendChild(h)})}importScripts(m.toString())}async function y(m,h,b,x,O){const T=[];if(h&&T.push(h),b&&T.push(b),T.length&&await Promise.all(T.map(_)),!self.ModuleFactory)throw new Error("ModuleFactory not set.");if(self.Module&&O){const M=self.Module;M.locateFile=O.locateFile,O.mainScriptUrlOrBlob&&(M.mainScriptUrlOrBlob=O.mainScriptUrlOrBlob)}const E=await self.ModuleFactory(self.Module||O);return self.ModuleFactory=self.Module=void 0,new m(E,x)}u.GraphRunner=g,u.createMediaPipeLib=y,u.createGraphRunner=async function(m,h,b,x){return y(g,m,h,b,x)}})(graph_runner);var register_model_resources_graph_service={};function SupportModelResourcesGraphService(u){return class extends u{registerModelResourcesGraphService(){this.wasmModule._registerModelResourcesGraphService()}}}Object.defineProperty(register_model_resources_graph_service,"__esModule",{value:!0}),register_model_resources_graph_service.SupportModelResourcesGraphService=void 0,register_model_resources_graph_service.SupportModelResourcesGraphService=SupportModelResourcesGraphService,Object.defineProperty(task_runner,"__esModule",{value:!0}),task_runner.TaskRunner=task_runner.createTaskRunner=task_runner.CachedGraphRunner=void 0;const inference_calculator_pb_1=inference_calculator_pb,calculator_pb_1=calculator_pb,acceleration_pb_1=acceleration_pb,external_file_pb_1=external_file_pb,graph_runner_1$1=graph_runner,register_model_resources_graph_service_1$1=register_model_resources_graph_service,NO_ASSETS=void 0,FREE_MEMORY_STREAM="free_memory",UNUSED_STREAM_SUFFIX="_unused_out",CachedGraphRunnerType=(0,register_model_resources_graph_service_1$1.SupportModelResourcesGraphService)(graph_runner_1$1.GraphRunner);class CachedGraphRunner extends CachedGraphRunnerType{}async function createTaskRunner(u,p,g,_){const y={locateFile:()=>g.wasmBinaryPath.toString()},m=await(0,graph_runner_1$1.createMediaPipeLib)(u,g.wasmLoaderPath,NO_ASSETS,p,y);return await m.setOptions(_),m}task_runner.CachedGraphRunner=CachedGraphRunner,task_runner.createTaskRunner=createTaskRunner;class TaskRunner{static async createInstance(p,g,_,y){return createTaskRunner(p,g,_,y)}constructor(p){this.graphRunner=p,this.processingErrors=[],this.latestOutputTimestamp=0,this.graphRunner.setAutoRenderToScreen(!1)}applyOptions(p){var g,_,y,m,h,b;const x=p.baseOptions||{};if(!((g=p.baseOptions)===null||g===void 0)&&g.modelAssetBuffer&&(!((_=p.baseOptions)===null||_===void 0)&&_.modelAssetPath))throw new Error("Cannot set both baseOptions.modelAssetPath and baseOptions.modelAssetBuffer");if(!(!((y=this.baseOptions.getModelAsset())===null||y===void 0)&&y.hasFileContent()||!((m=this.baseOptions.getModelAsset())===null||m===void 0)&&m.hasFileName()||!((h=p.baseOptions)===null||h===void 0)&&h.modelAssetBuffer||!((b=p.baseOptions)===null||b===void 0)&&b.modelAssetPath))throw new Error("Either baseOptions.modelAssetPath or baseOptions.modelAssetBuffer must be set");return this.setAcceleration(x),x.modelAssetPath?fetch(x.modelAssetPath.toString()).then(O=>{if(O.ok)return O.arrayBuffer();throw new Error(`Failed to fetch model: ${x.modelAssetPath} (${O.status})`)}).then(O=>{try{this.graphRunner.wasmModule.FS_unlink("/model.dat")}catch{}this.graphRunner.wasmModule.FS_createDataFile("/","model.dat",new Uint8Array(O),!0,!1,!1),this.setExternalFile("/model.dat"),this.refreshGraph(),this.onGraphRefreshed()}):(this.setExternalFile(x.modelAssetBuffer),this.refreshGraph(),this.onGraphRefreshed(),Promise.resolve())}onGraphRefreshed(){}getCalculatorGraphConfig(){let p;if(this.graphRunner.getCalculatorGraphConfig(g=>{p=calculator_pb_1.CalculatorGraphConfig.deserializeBinary(g)}),!p)throw new Error("Failed to retrieve CalculatorGraphConfig");return p}setGraph(p,g){this.graphRunner.attachErrorListener((_,y)=>{this.processingErrors.push(new Error(y))}),this.graphRunner.registerModelResourcesGraphService(),this.graphRunner.setGraph(p,g),this.keepaliveNode=void 0,this.handleErrors()}finishProcessing(){this.graphRunner.finishProcessing(),this.handleErrors()}setLatestOutputTimestamp(p){this.latestOutputTimestamp=Math.max(this.latestOutputTimestamp,p)}getSynctheticTimestamp(){return this.latestOutputTimestamp+1}handleErrors(){try{const p=this.processingErrors.length;if(p===1)throw new Error(this.processingErrors[0].message);if(p>1)throw new Error("Encountered multiple errors: "+this.processingErrors.map(g=>g.message).join(", "))}finally{this.processingErrors=[]}}setExternalFile(p){const g=this.baseOptions.getModelAsset()||new external_file_pb_1.ExternalFile;typeof p=="string"?(g.setFileName(p),g.clearFileContent()):p instanceof Uint8Array&&(g.setFileContent(p),g.clearFileName()),this.baseOptions.setModelAsset(g)}setAcceleration(p){let g=this.baseOptions.getAcceleration();g||(g=new acceleration_pb_1.Acceleration,g.setTflite(new inference_calculator_pb_1.InferenceCalculatorOptions.Delegate.TfLite)),"delegate"in p&&(p.delegate==="GPU"?g.setGpu(new inference_calculator_pb_1.InferenceCalculatorOptions.Delegate.Gpu):g.setTflite(new inference_calculator_pb_1.InferenceCalculatorOptions.Delegate.TfLite)),this.baseOptions.setAcceleration(g)}addKeepaliveNode(p){this.keepaliveNode=new calculator_pb_1.CalculatorGraphConfig.Node,this.keepaliveNode.setCalculator("PassThroughCalculator"),this.keepaliveNode.addInputStream(FREE_MEMORY_STREAM),this.keepaliveNode.addOutputStream(FREE_MEMORY_STREAM+UNUSED_STREAM_SUFFIX),p.addInputStream(FREE_MEMORY_STREAM),p.addNode(this.keepaliveNode)}keepStreamAlive(p){this.keepaliveNode.addInputStream(p),this.keepaliveNode.addOutputStream(p+UNUSED_STREAM_SUFFIX)}freeKeepaliveStreams(){this.graphRunner.addBoolToStream(!0,FREE_MEMORY_STREAM,this.latestOutputTimestamp)}close(){this.keepaliveNode=void 0,this.graphRunner.closeGraph()}}task_runner.TaskRunner=TaskRunner;var graph_runner_image_lib={};function SupportImage(u){return class extends u{get wasmImageModule(){return this.wasmModule}addGpuBufferAsImageToStream(p,g,_){this.wrapStringPtr(g,y=>{const[m,h]=this.bindTextureToStream(p,y);this.wasmImageModule._addBoundTextureAsImageToStream(y,m,h,_)})}attachImageListener(p,g){this.setListener(p,g),this.wrapStringPtr(p,_=>{this.wasmImageModule._attachImageListener(_)})}attachImageVectorListener(p,g){this.setVectorListener(p,g),this.wrapStringPtr(p,_=>{this.wasmImageModule._attachImageVectorListener(_)})}}}Object.defineProperty(graph_runner_image_lib,"__esModule",{value:!0}),graph_runner_image_lib.SupportImage=void 0,graph_runner_image_lib.SupportImage=SupportImage,Object.defineProperty(vision_task_runner,"__esModule",{value:!0}),vision_task_runner.VisionTaskRunner=vision_task_runner.VisionGraphRunner=void 0;const rect_pb_1=rect_pb,task_runner_1=task_runner,image_1$1=image,image_shader_context_1=image_shader_context,mask_1$1=mask,graph_runner_1=graph_runner,graph_runner_image_lib_1=graph_runner_image_lib,platform_utils_1=platform_utils,register_model_resources_graph_service_1=register_model_resources_graph_service,GraphRunnerVisionType=(0,register_model_resources_graph_service_1.SupportModelResourcesGraphService)((0,graph_runner_image_lib_1.SupportImage)(graph_runner_1.GraphRunner));class VisionGraphRunner extends GraphRunnerVisionType{}function createCanvas(){return typeof OffscreenCanvas<"u"&&!(0,platform_utils_1.isWebKit)()?void 0:document.createElement("canvas")}vision_task_runner.VisionGraphRunner=VisionGraphRunner;class VisionTaskRunner extends task_runner_1.TaskRunner{static async createVisionInstance(p,g,_){var y;const m=(y=_.canvas)!==null&&y!==void 0?y:createCanvas();return task_runner_1.TaskRunner.createInstance(p,m,g,_)}constructor(p,g,_,y){super(p),this.graphRunner=p,this.imageStreamName=g,this.normRectStreamName=_,this.roiAllowed=y,this.shaderContext=new image_shader_context_1.MPImageShaderContext}applyOptions(p){if("runningMode"in p){const g=!!p.runningMode&&p.runningMode!=="IMAGE";this.baseOptions.setUseStreamMode(g)}if(p.canvas!==void 0&&this.graphRunner.wasmModule.canvas!==p.canvas)throw new Error("You must create a new task to reset the canvas.");return super.applyOptions(p)}processImageData(p,g){var _;if(!((_=this.baseOptions)===null||_===void 0)&&_.getUseStreamMode())throw new Error("Task is not initialized with image mode. 'runningMode' must be set to 'IMAGE'.");this.process(p,g,this.getSynctheticTimestamp())}processVideoData(p,g,_){var y;if(!(!((y=this.baseOptions)===null||y===void 0)&&y.getUseStreamMode()))throw new Error("Task is not initialized with video mode. 'runningMode' must be set to 'VIDEO'.");this.process(p,g,_)}getImageSourceSize(p){return p.videoWidth!==void 0?[p.videoWidth,p.videoHeight]:p.naturalWidth!==void 0?[p.naturalWidth,p.naturalHeight]:[p.width,p.height]}convertToNormalizedRect(p,g){const _=new rect_pb_1.NormalizedRect;if(g!=null&&g.regionOfInterest){if(!this.roiAllowed)throw new Error("This task doesn't support region-of-interest.");const y=g.regionOfInterest;if(y.left>=y.right||y.top>=y.bottom)throw new Error("Expected RectF with left < right and top < bottom.");if(y.left<0||y.top<0||y.right>1||y.bottom>1)throw new Error("Expected RectF values to be in [0,1].");_.setXCenter((y.left+y.right)/2),_.setYCenter((y.top+y.bottom)/2),_.setWidth(y.right-y.left),_.setHeight(y.bottom-y.top)}else _.setXCenter(.5),_.setYCenter(.5),_.setWidth(1),_.setHeight(1);if(g!=null&&g.rotationDegrees){if((g==null?void 0:g.rotationDegrees)%90!=0)throw new Error("Expected rotation to be a multiple of 90.");if(_.setRotation(-Math.PI*g.rotationDegrees/180),(g==null?void 0:g.rotationDegrees)%180!=0){const[y,m]=this.getImageSourceSize(p),h=_.getHeight()*m/y,b=_.getWidth()*y/m;_.setWidth(h),_.setHeight(b)}}return _}process(p,g,_){const y=this.convertToNormalizedRect(p,g);this.graphRunner.addProtoToStream(y.serializeBinary(),"mediapipe.NormalizedRect",this.normRectStreamName,_),this.graphRunner.addGpuBufferAsImageToStream(p,this.imageStreamName,_??performance.now()),this.finishProcessing()}convertToMPImage(p,g){const{data:_,width:y,height:m}=p,h=y*m;let b;if(_ instanceof Uint8Array)if(_.length===3*h){const O=new Uint8ClampedArray(4*h);for(let T=0;T<h;++T)O[4*T]=_[3*T],O[4*T+1]=_[3*T+1],O[4*T+2]=_[3*T+2],O[4*T+3]=255;b=new ImageData(O,y,m)}else{if(_.length!==4*h)throw new Error("Unsupported channel count: "+_.length/h);b=new ImageData(new Uint8ClampedArray(_.buffer,_.byteOffset,_.length),y,m)}else{if(!(_ instanceof WebGLTexture))throw new Error(`Unsupported format: ${_.constructor.name}`);b=_}const x=new image_1$1.MPImage([b],!1,!1,this.graphRunner.wasmModule.canvas,this.shaderContext,y,m);return g?x.clone():x}convertToMPMask(p,g){const{data:_,width:y,height:m}=p,h=y*m;let b;if(_ instanceof Uint8Array||_ instanceof Float32Array){if(_.length!==h)throw new Error("Unsupported channel count: "+_.length/h);b=_}else b=_;const x=new mask_1$1.MPMask([b],!1,this.graphRunner.wasmModule.canvas,this.shaderContext,y,m);return g?x.clone():x}close(){this.shaderContext.close(),super.close()}}vision_task_runner.VisionTaskRunner=VisionTaskRunner;var face_detector_options={};Object.defineProperty(face_detector_options,"__esModule",{value:!0});var face_detector_result={};Object.defineProperty(face_detector_result,"__esModule",{value:!0}),function(u){var p=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(B,S,w,C){C===void 0&&(C=w);var D=Object.getOwnPropertyDescriptor(S,w);D&&!("get"in D?!S.__esModule:D.writable||D.configurable)||(D={enumerable:!0,get:function(){return S[w]}}),Object.defineProperty(B,C,D)}:function(B,S,w,C){C===void 0&&(C=w),B[C]=S[w]}),g=commonjsGlobal&&commonjsGlobal.__exportStar||function(B,S){for(var w in B)w==="default"||Object.prototype.hasOwnProperty.call(S,w)||p(S,B,w)};Object.defineProperty(u,"__esModule",{value:!0}),u.FaceDetector=void 0;const _=calculator_pb,y=calculator_options_pb,m=detection_pb,h=base_options_pb,b=face_detector_graph_options_pb,x=detection_result,O=vision_task_runner,T="image_in",E="norm_rect_in",M="detections";g(face_detector_options,u),g(face_detector_result,u);class F extends O.VisionTaskRunner{static createFromOptions(S,w){return O.VisionTaskRunner.createVisionInstance(F,S,w)}static createFromModelBuffer(S,w){return O.VisionTaskRunner.createVisionInstance(F,S,{baseOptions:{modelAssetBuffer:w}})}static async createFromModelPath(S,w){return O.VisionTaskRunner.createVisionInstance(F,S,{baseOptions:{modelAssetPath:w}})}constructor(S,w){super(new O.VisionGraphRunner(S,w),T,E,!1),this.result={detections:[]},this.options=new b.FaceDetectorGraphOptions,this.options.setBaseOptions(new h.BaseOptions),this.options.setMinDetectionConfidence(.5),this.options.setMinSuppressionThreshold(.3)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(S){this.options.setBaseOptions(S)}setOptions(S){var w,C;return"minDetectionConfidence"in S&&this.options.setMinDetectionConfidence((w=S.minDetectionConfidence)!==null&&w!==void 0?w:.5),"minSuppressionThreshold"in S&&this.options.setMinSuppressionThreshold((C=S.minSuppressionThreshold)!==null&&C!==void 0?C:.3),this.applyOptions(S)}detect(S,w){return this.result={detections:[]},this.processImageData(S,w),this.result}detectForVideo(S,w,C){return this.result={detections:[]},this.processVideoData(S,C,w),this.result}addJsFaceDetections(S){for(const w of S){const C=m.Detection.deserializeBinary(w);this.result.detections.push((0,x.convertFromDetectionProto)(C))}}refreshGraph(){const S=new _.CalculatorGraphConfig;S.addInputStream(T),S.addInputStream(E),S.addOutputStream(M);const w=new y.CalculatorOptions;w.setExtension(b.FaceDetectorGraphOptions.ext,this.options);const C=new _.CalculatorGraphConfig.Node;C.setCalculator("mediapipe.tasks.vision.face_detector.FaceDetectorGraph"),C.addInputStream("IMAGE:"+T),C.addInputStream("NORM_RECT:"+E),C.addOutputStream("DETECTIONS:"+M),C.setOptions(w),S.addNode(C),this.graphRunner.attachProtoVectorListener(M,(L,R)=>{this.addJsFaceDetections(L),this.setLatestOutputTimestamp(R)}),this.graphRunner.attachEmptyPacketListener(M,L=>{this.setLatestOutputTimestamp(L)});const D=S.serializeBinary();this.setGraph(new Uint8Array(D),!0)}}u.FaceDetector=F}(face_detector);var face_landmarker={},classification_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();g.exportSymbol("proto.mediapipe.Classification",null,_),g.exportSymbol("proto.mediapipe.ClassificationList",null,_),g.exportSymbol("proto.mediapipe.ClassificationListCollection",null,_),proto.mediapipe.Classification=function(y){p.Message.initialize(this,y,0,-1,null,null)},g.inherits(proto.mediapipe.Classification,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.Classification.displayName="proto.mediapipe.Classification"),proto.mediapipe.ClassificationList=function(y){p.Message.initialize(this,y,0,-1,proto.mediapipe.ClassificationList.repeatedFields_,null)},g.inherits(proto.mediapipe.ClassificationList,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.ClassificationList.displayName="proto.mediapipe.ClassificationList"),proto.mediapipe.ClassificationListCollection=function(y){p.Message.initialize(this,y,0,-1,proto.mediapipe.ClassificationListCollection.repeatedFields_,null)},g.inherits(proto.mediapipe.ClassificationListCollection,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.ClassificationListCollection.displayName="proto.mediapipe.ClassificationListCollection"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Classification.prototype.toObject=function(y){return proto.mediapipe.Classification.toObject(y,this)},proto.mediapipe.Classification.toObject=function(y,m){var h,b={index:(h=p.Message.getField(m,1))==null?void 0:h,score:(h=p.Message.getOptionalFloatingPointField(m,2))==null?void 0:h,label:(h=p.Message.getField(m,3))==null?void 0:h,displayName:(h=p.Message.getField(m,4))==null?void 0:h};return y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.Classification.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.Classification;return proto.mediapipe.Classification.deserializeBinaryFromReader(h,m)},proto.mediapipe.Classification.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var h=m.readInt32();y.setIndex(h);break;case 2:h=m.readFloat(),y.setScore(h);break;case 3:h=m.readString(),y.setLabel(h);break;case 4:h=m.readString(),y.setDisplayName(h);break;default:m.skipField()}return y},proto.mediapipe.Classification.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.Classification.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.Classification.serializeBinaryToWriter=function(y,m){var h=void 0;(h=p.Message.getField(y,1))!=null&&m.writeInt32(1,h),(h=p.Message.getField(y,2))!=null&&m.writeFloat(2,h),(h=p.Message.getField(y,3))!=null&&m.writeString(3,h),(h=p.Message.getField(y,4))!=null&&m.writeString(4,h)},proto.mediapipe.Classification.prototype.getIndex=function(){return p.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Classification.prototype.setIndex=function(y){return p.Message.setField(this,1,y)},proto.mediapipe.Classification.prototype.clearIndex=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.Classification.prototype.hasIndex=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.Classification.prototype.getScore=function(){return p.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.Classification.prototype.setScore=function(y){return p.Message.setField(this,2,y)},proto.mediapipe.Classification.prototype.clearScore=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.Classification.prototype.hasScore=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.Classification.prototype.getLabel=function(){return p.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.Classification.prototype.setLabel=function(y){return p.Message.setField(this,3,y)},proto.mediapipe.Classification.prototype.clearLabel=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.Classification.prototype.hasLabel=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.Classification.prototype.getDisplayName=function(){return p.Message.getFieldWithDefault(this,4,"")},proto.mediapipe.Classification.prototype.setDisplayName=function(y){return p.Message.setField(this,4,y)},proto.mediapipe.Classification.prototype.clearDisplayName=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.Classification.prototype.hasDisplayName=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.ClassificationList.repeatedFields_=[1],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ClassificationList.prototype.toObject=function(y){return proto.mediapipe.ClassificationList.toObject(y,this)},proto.mediapipe.ClassificationList.toObject=function(y,m){var h={classificationList:p.Message.toObjectList(m.getClassificationList(),proto.mediapipe.Classification.toObject,y)};return y&&(h.$jspbMessageInstance=m),h}),proto.mediapipe.ClassificationList.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.ClassificationList;return proto.mediapipe.ClassificationList.deserializeBinaryFromReader(h,m)},proto.mediapipe.ClassificationList.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)if(m.getFieldNumber()===1){var h=new proto.mediapipe.Classification;m.readMessage(h,proto.mediapipe.Classification.deserializeBinaryFromReader),y.addClassification(h)}else m.skipField();return y},proto.mediapipe.ClassificationList.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.ClassificationList.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.ClassificationList.serializeBinaryToWriter=function(y,m){var h;(h=y.getClassificationList()).length>0&&m.writeRepeatedMessage(1,h,proto.mediapipe.Classification.serializeBinaryToWriter)},proto.mediapipe.ClassificationList.prototype.getClassificationList=function(){return p.Message.getRepeatedWrapperField(this,proto.mediapipe.Classification,1)},proto.mediapipe.ClassificationList.prototype.setClassificationList=function(y){return p.Message.setRepeatedWrapperField(this,1,y)},proto.mediapipe.ClassificationList.prototype.addClassification=function(y,m){return p.Message.addToRepeatedWrapperField(this,1,y,proto.mediapipe.Classification,m)},proto.mediapipe.ClassificationList.prototype.clearClassificationList=function(){return this.setClassificationList([])},proto.mediapipe.ClassificationListCollection.repeatedFields_=[1],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ClassificationListCollection.prototype.toObject=function(y){return proto.mediapipe.ClassificationListCollection.toObject(y,this)},proto.mediapipe.ClassificationListCollection.toObject=function(y,m){var h={classificationListList:p.Message.toObjectList(m.getClassificationListList(),proto.mediapipe.ClassificationList.toObject,y)};return y&&(h.$jspbMessageInstance=m),h}),proto.mediapipe.ClassificationListCollection.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.ClassificationListCollection;return proto.mediapipe.ClassificationListCollection.deserializeBinaryFromReader(h,m)},proto.mediapipe.ClassificationListCollection.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)if(m.getFieldNumber()===1){var h=new proto.mediapipe.ClassificationList;m.readMessage(h,proto.mediapipe.ClassificationList.deserializeBinaryFromReader),y.addClassificationList(h)}else m.skipField();return y},proto.mediapipe.ClassificationListCollection.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.ClassificationListCollection.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.ClassificationListCollection.serializeBinaryToWriter=function(y,m){var h;(h=y.getClassificationListList()).length>0&&m.writeRepeatedMessage(1,h,proto.mediapipe.ClassificationList.serializeBinaryToWriter)},proto.mediapipe.ClassificationListCollection.prototype.getClassificationListList=function(){return p.Message.getRepeatedWrapperField(this,proto.mediapipe.ClassificationList,1)},proto.mediapipe.ClassificationListCollection.prototype.setClassificationListList=function(y){return p.Message.setRepeatedWrapperField(this,1,y)},proto.mediapipe.ClassificationListCollection.prototype.addClassificationList=function(y,m){return p.Message.addToRepeatedWrapperField(this,1,y,proto.mediapipe.ClassificationList,m)},proto.mediapipe.ClassificationListCollection.prototype.clearClassificationListList=function(){return this.setClassificationListList([])},g.object.extend(u,proto.mediapipe)})(classification_pb);var landmark_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();g.exportSymbol("proto.mediapipe.Landmark",null,_),g.exportSymbol("proto.mediapipe.LandmarkList",null,_),g.exportSymbol("proto.mediapipe.LandmarkListCollection",null,_),g.exportSymbol("proto.mediapipe.NormalizedLandmark",null,_),g.exportSymbol("proto.mediapipe.NormalizedLandmarkList",null,_),g.exportSymbol("proto.mediapipe.NormalizedLandmarkListCollection",null,_),proto.mediapipe.Landmark=function(y){p.Message.initialize(this,y,0,-1,null,null)},g.inherits(proto.mediapipe.Landmark,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.Landmark.displayName="proto.mediapipe.Landmark"),proto.mediapipe.LandmarkList=function(y){p.Message.initialize(this,y,0,-1,proto.mediapipe.LandmarkList.repeatedFields_,null)},g.inherits(proto.mediapipe.LandmarkList,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.LandmarkList.displayName="proto.mediapipe.LandmarkList"),proto.mediapipe.LandmarkListCollection=function(y){p.Message.initialize(this,y,0,-1,proto.mediapipe.LandmarkListCollection.repeatedFields_,null)},g.inherits(proto.mediapipe.LandmarkListCollection,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.LandmarkListCollection.displayName="proto.mediapipe.LandmarkListCollection"),proto.mediapipe.NormalizedLandmark=function(y){p.Message.initialize(this,y,0,-1,null,null)},g.inherits(proto.mediapipe.NormalizedLandmark,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedLandmark.displayName="proto.mediapipe.NormalizedLandmark"),proto.mediapipe.NormalizedLandmarkList=function(y){p.Message.initialize(this,y,0,-1,proto.mediapipe.NormalizedLandmarkList.repeatedFields_,null)},g.inherits(proto.mediapipe.NormalizedLandmarkList,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedLandmarkList.displayName="proto.mediapipe.NormalizedLandmarkList"),proto.mediapipe.NormalizedLandmarkListCollection=function(y){p.Message.initialize(this,y,0,-1,proto.mediapipe.NormalizedLandmarkListCollection.repeatedFields_,null)},g.inherits(proto.mediapipe.NormalizedLandmarkListCollection,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.NormalizedLandmarkListCollection.displayName="proto.mediapipe.NormalizedLandmarkListCollection"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Landmark.prototype.toObject=function(y){return proto.mediapipe.Landmark.toObject(y,this)},proto.mediapipe.Landmark.toObject=function(y,m){var h,b={x:(h=p.Message.getOptionalFloatingPointField(m,1))==null?void 0:h,y:(h=p.Message.getOptionalFloatingPointField(m,2))==null?void 0:h,z:(h=p.Message.getOptionalFloatingPointField(m,3))==null?void 0:h,visibility:(h=p.Message.getOptionalFloatingPointField(m,4))==null?void 0:h,presence:(h=p.Message.getOptionalFloatingPointField(m,5))==null?void 0:h};return y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.Landmark.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.Landmark;return proto.mediapipe.Landmark.deserializeBinaryFromReader(h,m)},proto.mediapipe.Landmark.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var h=m.readFloat();y.setX(h);break;case 2:h=m.readFloat(),y.setY(h);break;case 3:h=m.readFloat(),y.setZ(h);break;case 4:h=m.readFloat(),y.setVisibility(h);break;case 5:h=m.readFloat(),y.setPresence(h);break;default:m.skipField()}return y},proto.mediapipe.Landmark.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.Landmark.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.Landmark.serializeBinaryToWriter=function(y,m){var h=void 0;(h=p.Message.getField(y,1))!=null&&m.writeFloat(1,h),(h=p.Message.getField(y,2))!=null&&m.writeFloat(2,h),(h=p.Message.getField(y,3))!=null&&m.writeFloat(3,h),(h=p.Message.getField(y,4))!=null&&m.writeFloat(4,h),(h=p.Message.getField(y,5))!=null&&m.writeFloat(5,h)},proto.mediapipe.Landmark.prototype.getX=function(){return p.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.Landmark.prototype.setX=function(y){return p.Message.setField(this,1,y)},proto.mediapipe.Landmark.prototype.clearX=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.Landmark.prototype.hasX=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.Landmark.prototype.getY=function(){return p.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.Landmark.prototype.setY=function(y){return p.Message.setField(this,2,y)},proto.mediapipe.Landmark.prototype.clearY=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.Landmark.prototype.hasY=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.Landmark.prototype.getZ=function(){return p.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.Landmark.prototype.setZ=function(y){return p.Message.setField(this,3,y)},proto.mediapipe.Landmark.prototype.clearZ=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.Landmark.prototype.hasZ=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.Landmark.prototype.getVisibility=function(){return p.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.Landmark.prototype.setVisibility=function(y){return p.Message.setField(this,4,y)},proto.mediapipe.Landmark.prototype.clearVisibility=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.Landmark.prototype.hasVisibility=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.Landmark.prototype.getPresence=function(){return p.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.Landmark.prototype.setPresence=function(y){return p.Message.setField(this,5,y)},proto.mediapipe.Landmark.prototype.clearPresence=function(){return p.Message.setField(this,5,void 0)},proto.mediapipe.Landmark.prototype.hasPresence=function(){return p.Message.getField(this,5)!=null},proto.mediapipe.LandmarkList.repeatedFields_=[1],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LandmarkList.prototype.toObject=function(y){return proto.mediapipe.LandmarkList.toObject(y,this)},proto.mediapipe.LandmarkList.toObject=function(y,m){var h={landmarkList:p.Message.toObjectList(m.getLandmarkList(),proto.mediapipe.Landmark.toObject,y)};return y&&(h.$jspbMessageInstance=m),h}),proto.mediapipe.LandmarkList.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.LandmarkList;return proto.mediapipe.LandmarkList.deserializeBinaryFromReader(h,m)},proto.mediapipe.LandmarkList.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)if(m.getFieldNumber()===1){var h=new proto.mediapipe.Landmark;m.readMessage(h,proto.mediapipe.Landmark.deserializeBinaryFromReader),y.addLandmark(h)}else m.skipField();return y},proto.mediapipe.LandmarkList.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.LandmarkList.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.LandmarkList.serializeBinaryToWriter=function(y,m){var h;(h=y.getLandmarkList()).length>0&&m.writeRepeatedMessage(1,h,proto.mediapipe.Landmark.serializeBinaryToWriter)},proto.mediapipe.LandmarkList.prototype.getLandmarkList=function(){return p.Message.getRepeatedWrapperField(this,proto.mediapipe.Landmark,1)},proto.mediapipe.LandmarkList.prototype.setLandmarkList=function(y){return p.Message.setRepeatedWrapperField(this,1,y)},proto.mediapipe.LandmarkList.prototype.addLandmark=function(y,m){return p.Message.addToRepeatedWrapperField(this,1,y,proto.mediapipe.Landmark,m)},proto.mediapipe.LandmarkList.prototype.clearLandmarkList=function(){return this.setLandmarkList([])},proto.mediapipe.LandmarkListCollection.repeatedFields_=[1],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LandmarkListCollection.prototype.toObject=function(y){return proto.mediapipe.LandmarkListCollection.toObject(y,this)},proto.mediapipe.LandmarkListCollection.toObject=function(y,m){var h={landmarkListList:p.Message.toObjectList(m.getLandmarkListList(),proto.mediapipe.LandmarkList.toObject,y)};return y&&(h.$jspbMessageInstance=m),h}),proto.mediapipe.LandmarkListCollection.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.LandmarkListCollection;return proto.mediapipe.LandmarkListCollection.deserializeBinaryFromReader(h,m)},proto.mediapipe.LandmarkListCollection.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)if(m.getFieldNumber()===1){var h=new proto.mediapipe.LandmarkList;m.readMessage(h,proto.mediapipe.LandmarkList.deserializeBinaryFromReader),y.addLandmarkList(h)}else m.skipField();return y},proto.mediapipe.LandmarkListCollection.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.LandmarkListCollection.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.LandmarkListCollection.serializeBinaryToWriter=function(y,m){var h;(h=y.getLandmarkListList()).length>0&&m.writeRepeatedMessage(1,h,proto.mediapipe.LandmarkList.serializeBinaryToWriter)},proto.mediapipe.LandmarkListCollection.prototype.getLandmarkListList=function(){return p.Message.getRepeatedWrapperField(this,proto.mediapipe.LandmarkList,1)},proto.mediapipe.LandmarkListCollection.prototype.setLandmarkListList=function(y){return p.Message.setRepeatedWrapperField(this,1,y)},proto.mediapipe.LandmarkListCollection.prototype.addLandmarkList=function(y,m){return p.Message.addToRepeatedWrapperField(this,1,y,proto.mediapipe.LandmarkList,m)},proto.mediapipe.LandmarkListCollection.prototype.clearLandmarkListList=function(){return this.setLandmarkListList([])},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedLandmark.prototype.toObject=function(y){return proto.mediapipe.NormalizedLandmark.toObject(y,this)},proto.mediapipe.NormalizedLandmark.toObject=function(y,m){var h,b={x:(h=p.Message.getOptionalFloatingPointField(m,1))==null?void 0:h,y:(h=p.Message.getOptionalFloatingPointField(m,2))==null?void 0:h,z:(h=p.Message.getOptionalFloatingPointField(m,3))==null?void 0:h,visibility:(h=p.Message.getOptionalFloatingPointField(m,4))==null?void 0:h,presence:(h=p.Message.getOptionalFloatingPointField(m,5))==null?void 0:h};return y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.NormalizedLandmark.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.NormalizedLandmark;return proto.mediapipe.NormalizedLandmark.deserializeBinaryFromReader(h,m)},proto.mediapipe.NormalizedLandmark.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var h=m.readFloat();y.setX(h);break;case 2:h=m.readFloat(),y.setY(h);break;case 3:h=m.readFloat(),y.setZ(h);break;case 4:h=m.readFloat(),y.setVisibility(h);break;case 5:h=m.readFloat(),y.setPresence(h);break;default:m.skipField()}return y},proto.mediapipe.NormalizedLandmark.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.NormalizedLandmark.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.NormalizedLandmark.serializeBinaryToWriter=function(y,m){var h=void 0;(h=p.Message.getField(y,1))!=null&&m.writeFloat(1,h),(h=p.Message.getField(y,2))!=null&&m.writeFloat(2,h),(h=p.Message.getField(y,3))!=null&&m.writeFloat(3,h),(h=p.Message.getField(y,4))!=null&&m.writeFloat(4,h),(h=p.Message.getField(y,5))!=null&&m.writeFloat(5,h)},proto.mediapipe.NormalizedLandmark.prototype.getX=function(){return p.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.NormalizedLandmark.prototype.setX=function(y){return p.Message.setField(this,1,y)},proto.mediapipe.NormalizedLandmark.prototype.clearX=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasX=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.NormalizedLandmark.prototype.getY=function(){return p.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.NormalizedLandmark.prototype.setY=function(y){return p.Message.setField(this,2,y)},proto.mediapipe.NormalizedLandmark.prototype.clearY=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasY=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.NormalizedLandmark.prototype.getZ=function(){return p.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.NormalizedLandmark.prototype.setZ=function(y){return p.Message.setField(this,3,y)},proto.mediapipe.NormalizedLandmark.prototype.clearZ=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasZ=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.NormalizedLandmark.prototype.getVisibility=function(){return p.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.NormalizedLandmark.prototype.setVisibility=function(y){return p.Message.setField(this,4,y)},proto.mediapipe.NormalizedLandmark.prototype.clearVisibility=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasVisibility=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.NormalizedLandmark.prototype.getPresence=function(){return p.Message.getFloatingPointFieldWithDefault(this,5,0)},proto.mediapipe.NormalizedLandmark.prototype.setPresence=function(y){return p.Message.setField(this,5,y)},proto.mediapipe.NormalizedLandmark.prototype.clearPresence=function(){return p.Message.setField(this,5,void 0)},proto.mediapipe.NormalizedLandmark.prototype.hasPresence=function(){return p.Message.getField(this,5)!=null},proto.mediapipe.NormalizedLandmarkList.repeatedFields_=[1],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedLandmarkList.prototype.toObject=function(y){return proto.mediapipe.NormalizedLandmarkList.toObject(y,this)},proto.mediapipe.NormalizedLandmarkList.toObject=function(y,m){var h={landmarkList:p.Message.toObjectList(m.getLandmarkList(),proto.mediapipe.NormalizedLandmark.toObject,y)};return y&&(h.$jspbMessageInstance=m),h}),proto.mediapipe.NormalizedLandmarkList.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.NormalizedLandmarkList;return proto.mediapipe.NormalizedLandmarkList.deserializeBinaryFromReader(h,m)},proto.mediapipe.NormalizedLandmarkList.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)if(m.getFieldNumber()===1){var h=new proto.mediapipe.NormalizedLandmark;m.readMessage(h,proto.mediapipe.NormalizedLandmark.deserializeBinaryFromReader),y.addLandmark(h)}else m.skipField();return y},proto.mediapipe.NormalizedLandmarkList.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.NormalizedLandmarkList.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.NormalizedLandmarkList.serializeBinaryToWriter=function(y,m){var h;(h=y.getLandmarkList()).length>0&&m.writeRepeatedMessage(1,h,proto.mediapipe.NormalizedLandmark.serializeBinaryToWriter)},proto.mediapipe.NormalizedLandmarkList.prototype.getLandmarkList=function(){return p.Message.getRepeatedWrapperField(this,proto.mediapipe.NormalizedLandmark,1)},proto.mediapipe.NormalizedLandmarkList.prototype.setLandmarkList=function(y){return p.Message.setRepeatedWrapperField(this,1,y)},proto.mediapipe.NormalizedLandmarkList.prototype.addLandmark=function(y,m){return p.Message.addToRepeatedWrapperField(this,1,y,proto.mediapipe.NormalizedLandmark,m)},proto.mediapipe.NormalizedLandmarkList.prototype.clearLandmarkList=function(){return this.setLandmarkList([])},proto.mediapipe.NormalizedLandmarkListCollection.repeatedFields_=[1],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.NormalizedLandmarkListCollection.prototype.toObject=function(y){return proto.mediapipe.NormalizedLandmarkListCollection.toObject(y,this)},proto.mediapipe.NormalizedLandmarkListCollection.toObject=function(y,m){var h={landmarkListList:p.Message.toObjectList(m.getLandmarkListList(),proto.mediapipe.NormalizedLandmarkList.toObject,y)};return y&&(h.$jspbMessageInstance=m),h}),proto.mediapipe.NormalizedLandmarkListCollection.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.NormalizedLandmarkListCollection;return proto.mediapipe.NormalizedLandmarkListCollection.deserializeBinaryFromReader(h,m)},proto.mediapipe.NormalizedLandmarkListCollection.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)if(m.getFieldNumber()===1){var h=new proto.mediapipe.NormalizedLandmarkList;m.readMessage(h,proto.mediapipe.NormalizedLandmarkList.deserializeBinaryFromReader),y.addLandmarkList(h)}else m.skipField();return y},proto.mediapipe.NormalizedLandmarkListCollection.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.NormalizedLandmarkListCollection.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.NormalizedLandmarkListCollection.serializeBinaryToWriter=function(y,m){var h;(h=y.getLandmarkListList()).length>0&&m.writeRepeatedMessage(1,h,proto.mediapipe.NormalizedLandmarkList.serializeBinaryToWriter)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.getLandmarkListList=function(){return p.Message.getRepeatedWrapperField(this,proto.mediapipe.NormalizedLandmarkList,1)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.setLandmarkListList=function(y){return p.Message.setRepeatedWrapperField(this,1,y)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.addLandmarkList=function(y,m){return p.Message.addToRepeatedWrapperField(this,1,y,proto.mediapipe.NormalizedLandmarkList,m)},proto.mediapipe.NormalizedLandmarkListCollection.prototype.clearLandmarkListList=function(){return this.setLandmarkListList([])},g.object.extend(u,proto.mediapipe)})(landmark_pb);var face_geometry_pb={},matrix_data_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();g.exportSymbol("proto.mediapipe.MatrixData",null,_),g.exportSymbol("proto.mediapipe.MatrixData.Layout",null,_),proto.mediapipe.MatrixData=function(y){p.Message.initialize(this,y,0,-1,proto.mediapipe.MatrixData.repeatedFields_,null)},g.inherits(proto.mediapipe.MatrixData,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.MatrixData.displayName="proto.mediapipe.MatrixData"),proto.mediapipe.MatrixData.repeatedFields_=[3],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.MatrixData.prototype.toObject=function(y){return proto.mediapipe.MatrixData.toObject(y,this)},proto.mediapipe.MatrixData.toObject=function(y,m){var h,b={rows:(h=p.Message.getField(m,1))==null?void 0:h,cols:(h=p.Message.getField(m,2))==null?void 0:h,packedDataList:(h=p.Message.getRepeatedFloatingPointField(m,3))==null?void 0:h,layout:p.Message.getFieldWithDefault(m,4,0)};return y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.MatrixData.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.MatrixData;return proto.mediapipe.MatrixData.deserializeBinaryFromReader(h,m)},proto.mediapipe.MatrixData.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var h=m.readInt32();y.setRows(h);break;case 2:h=m.readInt32(),y.setCols(h);break;case 3:for(var b=m.isDelimited()?m.readPackedFloat():[m.readFloat()],x=0;x<b.length;x++)y.addPackedData(b[x]);break;case 4:h=m.readEnum(),y.setLayout(h);break;default:m.skipField()}return y},proto.mediapipe.MatrixData.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.MatrixData.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.MatrixData.serializeBinaryToWriter=function(y,m){var h=void 0;(h=p.Message.getField(y,1))!=null&&m.writeInt32(1,h),(h=p.Message.getField(y,2))!=null&&m.writeInt32(2,h),(h=y.getPackedDataList()).length>0&&m.writePackedFloat(3,h),(h=p.Message.getField(y,4))!=null&&m.writeEnum(4,h)},proto.mediapipe.MatrixData.Layout={COLUMN_MAJOR:0,ROW_MAJOR:1},proto.mediapipe.MatrixData.prototype.getRows=function(){return p.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.MatrixData.prototype.setRows=function(y){return p.Message.setField(this,1,y)},proto.mediapipe.MatrixData.prototype.clearRows=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.MatrixData.prototype.hasRows=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.MatrixData.prototype.getCols=function(){return p.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.MatrixData.prototype.setCols=function(y){return p.Message.setField(this,2,y)},proto.mediapipe.MatrixData.prototype.clearCols=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.MatrixData.prototype.hasCols=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.MatrixData.prototype.getPackedDataList=function(){return p.Message.getRepeatedFloatingPointField(this,3)},proto.mediapipe.MatrixData.prototype.setPackedDataList=function(y){return p.Message.setField(this,3,y||[])},proto.mediapipe.MatrixData.prototype.addPackedData=function(y,m){return p.Message.addToRepeatedField(this,3,y,m)},proto.mediapipe.MatrixData.prototype.clearPackedDataList=function(){return this.setPackedDataList([])},proto.mediapipe.MatrixData.prototype.getLayout=function(){return p.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.MatrixData.prototype.setLayout=function(y){return p.Message.setField(this,4,y)},proto.mediapipe.MatrixData.prototype.clearLayout=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.MatrixData.prototype.hasLayout=function(){return p.Message.getField(this,4)!=null},g.object.extend(u,proto.mediapipe)})(matrix_data_pb);var mesh_3d_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();g.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d",null,_),g.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.PrimitiveType",null,_),g.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.VertexType",null,_),proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d=function(y){p.Message.initialize(this,y,0,-1,proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.repeatedFields_,null)},g.inherits(proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.displayName="proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d"),proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.repeatedFields_=[3,4],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.toObject=function(y){return proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.toObject(y,this)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.toObject=function(y,m){var h,b={vertexType:(h=p.Message.getField(m,1))==null?void 0:h,primitiveType:(h=p.Message.getField(m,2))==null?void 0:h,vertexBufferList:(h=p.Message.getRepeatedFloatingPointField(m,3))==null?void 0:h,indexBufferList:(h=p.Message.getRepeatedField(m,4))==null?void 0:h};return y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d;return proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.deserializeBinaryFromReader(h,m)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var h=m.readEnum();y.setVertexType(h);break;case 2:h=m.readEnum(),y.setPrimitiveType(h);break;case 3:for(var b=m.isDelimited()?m.readPackedFloat():[m.readFloat()],x=0;x<b.length;x++)y.addVertexBuffer(b[x]);break;case 4:for(b=m.isDelimited()?m.readPackedUint32():[m.readUint32()],x=0;x<b.length;x++)y.addIndexBuffer(b[x]);break;default:m.skipField()}return y},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.serializeBinaryToWriter=function(y,m){var h=void 0;(h=p.Message.getField(y,1))!=null&&m.writeEnum(1,h),(h=p.Message.getField(y,2))!=null&&m.writeEnum(2,h),(h=y.getVertexBufferList()).length>0&&m.writeRepeatedFloat(3,h),(h=y.getIndexBufferList()).length>0&&m.writeRepeatedUint32(4,h)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.VertexType={VERTEX_PT:0},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.PrimitiveType={TRIANGLE:0},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getVertexType=function(){return p.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setVertexType=function(y){return p.Message.setField(this,1,y)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearVertexType=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.hasVertexType=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getPrimitiveType=function(){return p.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setPrimitiveType=function(y){return p.Message.setField(this,2,y)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearPrimitiveType=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.hasPrimitiveType=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getVertexBufferList=function(){return p.Message.getRepeatedFloatingPointField(this,3)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setVertexBufferList=function(y){return p.Message.setField(this,3,y||[])},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.addVertexBuffer=function(y,m){return p.Message.addToRepeatedField(this,3,y,m)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearVertexBufferList=function(){return this.setVertexBufferList([])},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.getIndexBufferList=function(){return p.Message.getRepeatedField(this,4)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.setIndexBufferList=function(y){return p.Message.setField(this,4,y||[])},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.addIndexBuffer=function(y,m){return p.Message.addToRepeatedField(this,4,y,m)},proto.mediapipe.tasks.vision.face_geometry.proto.Mesh3d.prototype.clearIndexBufferList=function(){return this.setIndexBufferList([])},g.object.extend(u,proto.mediapipe.tasks.vision.face_geometry.proto)})(mesh_3d_pb),function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=matrix_data_pb;g.object.extend(proto,y);var m=mesh_3d_pb;g.object.extend(proto,m),g.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry",null,_),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry=function(h){p.Message.initialize(this,h,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.displayName="proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.toObject=function(h){return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.toObject(h,this)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.toObject=function(h,b){var x,O={mesh:(x=b.getMesh())&&m.Mesh3d.toObject(h,x),poseTransformMatrix:(x=b.getPoseTransformMatrix())&&y.MatrixData.toObject(h,x)};return h&&(O.$jspbMessageInstance=b),O}),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.deserializeBinary=function(h){var b=new p.BinaryReader(h),x=new proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.deserializeBinaryFromReader(x,b)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.deserializeBinaryFromReader=function(h,b){for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:var x=new m.Mesh3d;b.readMessage(x,m.Mesh3d.deserializeBinaryFromReader),h.setMesh(x);break;case 2:x=new y.MatrixData,b.readMessage(x,y.MatrixData.deserializeBinaryFromReader),h.setPoseTransformMatrix(x);break;default:b.skipField()}return h},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.serializeBinary=function(){var h=new p.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.serializeBinaryToWriter(this,h),h.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.serializeBinaryToWriter=function(h,b){var x=void 0;(x=h.getMesh())!=null&&b.writeMessage(1,x,m.Mesh3d.serializeBinaryToWriter),(x=h.getPoseTransformMatrix())!=null&&b.writeMessage(2,x,y.MatrixData.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.getMesh=function(){return p.Message.getWrapperField(this,m.Mesh3d,1)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.setMesh=function(h){return p.Message.setWrapperField(this,1,h)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.clearMesh=function(){return this.setMesh(void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.hasMesh=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.getPoseTransformMatrix=function(){return p.Message.getWrapperField(this,y.MatrixData,2)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.setPoseTransformMatrix=function(h){return p.Message.setWrapperField(this,2,h)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.clearPoseTransformMatrix=function(){return this.setPoseTransformMatrix(void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometry.prototype.hasPoseTransformMatrix=function(){return p.Message.getField(this,2)!=null},g.object.extend(u,proto.mediapipe.tasks.vision.face_geometry.proto)}(face_geometry_pb);var face_landmarker_graph_options_pb={},face_geometry_graph_options_pb={},geometry_pipeline_calculator_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_options_pb;g.object.extend(proto,y);var m=external_file_pb;g.object.extend(proto,m),g.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions",null,_),proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions=function(h){p.Message.initialize(this,h,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.displayName="proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.toObject=function(h){return proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject(h,this)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject=function(h,b){var x,O={metadataFile:(x=b.getMetadataFile())&&m.ExternalFile.toObject(h,x)};return h&&(O.$jspbMessageInstance=b),O}),proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinary=function(h){var b=new p.BinaryReader(h),x=new proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions;return proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader(x,b)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader=function(h,b){for(;b.nextField()&&!b.isEndGroup();)if(b.getFieldNumber()===1){var x=new m.ExternalFile;b.readMessage(x,m.ExternalFile.deserializeBinaryFromReader),h.setMetadataFile(x)}else b.skipField();return h},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.serializeBinary=function(){var h=new p.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter(this,h),h.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter=function(h,b){var x;(x=h.getMetadataFile())!=null&&b.writeMessage(1,x,m.ExternalFile.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext=new p.ExtensionFieldInfo(512499200,{ext:0},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject,0),y.CalculatorOptions.extensionsBinary[512499200]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader,!1),y.CalculatorOptions.extensions[512499200]=proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.getMetadataFile=function(){return p.Message.getWrapperField(this,m.ExternalFile,1)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.setMetadataFile=function(h){return p.Message.setWrapperField(this,1,h)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.clearMetadataFile=function(){return this.setMetadataFile(void 0)},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.prototype.hasMetadataFile=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext=new p.ExtensionFieldInfo(512499200,{ext:0},proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.toObject,0),y.CalculatorOptions.extensionsBinary[512499200]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader,!1),y.CalculatorOptions.extensions[512499200]=proto.mediapipe.tasks.vision.face_geometry.FaceGeometryPipelineCalculatorOptions.ext,g.object.extend(u,proto.mediapipe.tasks.vision.face_geometry)})(geometry_pipeline_calculator_pb),function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_options_pb;g.object.extend(proto,y);var m=geometry_pipeline_calculator_pb;g.object.extend(proto,m),g.exportSymbol("proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions",null,_),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions=function(h){p.Message.initialize(this,h,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.displayName="proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.toObject=function(h){return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject(h,this)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject=function(h,b){var x,O={geometryPipelineOptions:(x=b.getGeometryPipelineOptions())&&m.FaceGeometryPipelineCalculatorOptions.toObject(h,x)};return h&&(O.$jspbMessageInstance=b),O}),proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinary=function(h){var b=new p.BinaryReader(h),x=new proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader(x,b)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader=function(h,b){for(;b.nextField()&&!b.isEndGroup();)if(b.getFieldNumber()===1){var x=new m.FaceGeometryPipelineCalculatorOptions;b.readMessage(x,m.FaceGeometryPipelineCalculatorOptions.deserializeBinaryFromReader),h.setGeometryPipelineOptions(x)}else b.skipField();return h},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.serializeBinary=function(){var h=new p.BinaryWriter;return proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter(this,h),h.getResultBuffer()},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter=function(h,b){var x;(x=h.getGeometryPipelineOptions())!=null&&b.writeMessage(1,x,m.FaceGeometryPipelineCalculatorOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext=new p.ExtensionFieldInfo(515723506,{ext:0},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject,0),y.CalculatorOptions.extensionsBinary[515723506]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader,!1),y.CalculatorOptions.extensions[515723506]=proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.getGeometryPipelineOptions=function(){return p.Message.getWrapperField(this,m.FaceGeometryPipelineCalculatorOptions,1)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.setGeometryPipelineOptions=function(h){return p.Message.setWrapperField(this,1,h)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.clearGeometryPipelineOptions=function(){return this.setGeometryPipelineOptions(void 0)},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.prototype.hasGeometryPipelineOptions=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext=new p.ExtensionFieldInfo(515723506,{ext:0},proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.toObject,0),y.CalculatorOptions.extensionsBinary[515723506]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.deserializeBinaryFromReader,!1),y.CalculatorOptions.extensions[515723506]=proto.mediapipe.tasks.vision.face_geometry.proto.FaceGeometryGraphOptions.ext,g.object.extend(u,proto.mediapipe.tasks.vision.face_geometry.proto)}(face_geometry_graph_options_pb);var face_landmarks_detector_graph_options_pb={},face_blendshapes_graph_options_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_pb;g.object.extend(proto,y);var m=calculator_options_pb;g.object.extend(proto,m);var h=base_options_pb;g.object.extend(proto,h),g.exportSymbol("proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions",null,_),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions=function(b){p.Message.initialize(this,b,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.displayName="proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.toObject=function(b){return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject(b,this)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject=function(b,x){var O,T={baseOptions:(O=x.getBaseOptions())&&h.BaseOptions.toObject(b,O)};return b&&(T.$jspbMessageInstance=x),T}),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinary=function(b){var x=new p.BinaryReader(b),O=new proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader(O,x)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader=function(b,x){for(;x.nextField()&&!x.isEndGroup();)if(x.getFieldNumber()===1){var O=new h.BaseOptions;x.readMessage(O,h.BaseOptions.deserializeBinaryFromReader),b.setBaseOptions(O)}else x.skipField();return b},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.serializeBinary=function(){var b=new p.BinaryWriter;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter(this,b),b.getResultBuffer()},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter=function(b,x){var O;(O=b.getBaseOptions())!=null&&x.writeMessage(1,O,h.BaseOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext=new p.ExtensionFieldInfo(508981768,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[508981768]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[508981768]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.getBaseOptions=function(){return p.Message.getWrapperField(this,h.BaseOptions,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.setBaseOptions=function(b){return p.Message.setWrapperField(this,1,b)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.prototype.hasBaseOptions=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext=new p.ExtensionFieldInfo(508981768,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[508981768]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[508981768]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceBlendshapesGraphOptions.ext,g.object.extend(u,proto.mediapipe.tasks.vision.face_landmarker.proto)})(face_blendshapes_graph_options_pb),function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_pb;g.object.extend(proto,y);var m=calculator_options_pb;g.object.extend(proto,m);var h=base_options_pb;g.object.extend(proto,h);var b=face_blendshapes_graph_options_pb;g.object.extend(proto,b),g.exportSymbol("proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions",null,_),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions=function(x){p.Message.initialize(this,x,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.toObject=function(x){return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject(x,this)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject=function(x,O){var T,E={baseOptions:(T=O.getBaseOptions())&&h.BaseOptions.toObject(x,T),minDetectionConfidence:p.Message.getFloatingPointFieldWithDefault(O,2,.5),smoothLandmarks:(T=p.Message.getBooleanField(O,4))==null?void 0:T,faceBlendshapesGraphOptions:(T=O.getFaceBlendshapesGraphOptions())&&b.FaceBlendshapesGraphOptions.toObject(x,T)};return x&&(E.$jspbMessageInstance=O),E}),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinary=function(x){var O=new p.BinaryReader(x),T=new proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader(T,O)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader=function(x,O){for(;O.nextField()&&!O.isEndGroup();)switch(O.getFieldNumber()){case 1:var T=new h.BaseOptions;O.readMessage(T,h.BaseOptions.deserializeBinaryFromReader),x.setBaseOptions(T);break;case 2:T=O.readFloat(),x.setMinDetectionConfidence(T);break;case 4:T=O.readBool(),x.setSmoothLandmarks(T);break;case 3:T=new b.FaceBlendshapesGraphOptions,O.readMessage(T,b.FaceBlendshapesGraphOptions.deserializeBinaryFromReader),x.setFaceBlendshapesGraphOptions(T);break;default:O.skipField()}return x},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.serializeBinary=function(){var x=new p.BinaryWriter;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter(this,x),x.getResultBuffer()},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter=function(x,O){var T=void 0;(T=x.getBaseOptions())!=null&&O.writeMessage(1,T,h.BaseOptions.serializeBinaryToWriter),(T=p.Message.getField(x,2))!=null&&O.writeFloat(2,T),(T=p.Message.getField(x,4))!=null&&O.writeBool(4,T),(T=x.getFaceBlendshapesGraphOptions())!=null&&O.writeMessage(3,T,b.FaceBlendshapesGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext=new p.ExtensionFieldInfo(508968149,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[508968149]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[508968149]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getBaseOptions=function(){return p.Message.getWrapperField(this,h.BaseOptions,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setBaseOptions=function(x){return p.Message.setWrapperField(this,1,x)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasBaseOptions=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return p.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setMinDetectionConfidence=function(x){return p.Message.setField(this,2,x)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getSmoothLandmarks=function(){return p.Message.getBooleanFieldWithDefault(this,4,!1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setSmoothLandmarks=function(x){return p.Message.setField(this,4,x)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearSmoothLandmarks=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasSmoothLandmarks=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.getFaceBlendshapesGraphOptions=function(){return p.Message.getWrapperField(this,b.FaceBlendshapesGraphOptions,3)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.setFaceBlendshapesGraphOptions=function(x){return p.Message.setWrapperField(this,3,x)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.clearFaceBlendshapesGraphOptions=function(){return this.setFaceBlendshapesGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.prototype.hasFaceBlendshapesGraphOptions=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext=new p.ExtensionFieldInfo(508968149,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[508968149]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[508968149]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarksDetectorGraphOptions.ext,g.object.extend(u,proto.mediapipe.tasks.vision.face_landmarker.proto)}(face_landmarks_detector_graph_options_pb),function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_pb;g.object.extend(proto,y);var m=calculator_options_pb;g.object.extend(proto,m);var h=base_options_pb;g.object.extend(proto,h);var b=face_detector_graph_options_pb;g.object.extend(proto,b);var x=face_geometry_graph_options_pb;g.object.extend(proto,x);var O=face_landmarks_detector_graph_options_pb;g.object.extend(proto,O),g.exportSymbol("proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions",null,_),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions=function(T){p.Message.initialize(this,T,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.displayName="proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.toObject=function(T){return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject(T,this)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject=function(T,E){var M,F={baseOptions:(M=E.getBaseOptions())&&h.BaseOptions.toObject(T,M),faceDetectorGraphOptions:(M=E.getFaceDetectorGraphOptions())&&b.FaceDetectorGraphOptions.toObject(T,M),faceLandmarksDetectorGraphOptions:(M=E.getFaceLandmarksDetectorGraphOptions())&&O.FaceLandmarksDetectorGraphOptions.toObject(T,M),minTrackingConfidence:p.Message.getFloatingPointFieldWithDefault(E,4,.5),faceGeometryGraphOptions:(M=E.getFaceGeometryGraphOptions())&&x.FaceGeometryGraphOptions.toObject(T,M)};return T&&(F.$jspbMessageInstance=E),F}),proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinary=function(T){var E=new p.BinaryReader(T),M=new proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader(M,E)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader=function(T,E){for(;E.nextField()&&!E.isEndGroup();)switch(E.getFieldNumber()){case 1:var M=new h.BaseOptions;E.readMessage(M,h.BaseOptions.deserializeBinaryFromReader),T.setBaseOptions(M);break;case 2:M=new b.FaceDetectorGraphOptions,E.readMessage(M,b.FaceDetectorGraphOptions.deserializeBinaryFromReader),T.setFaceDetectorGraphOptions(M);break;case 3:M=new O.FaceLandmarksDetectorGraphOptions,E.readMessage(M,O.FaceLandmarksDetectorGraphOptions.deserializeBinaryFromReader),T.setFaceLandmarksDetectorGraphOptions(M);break;case 4:M=E.readFloat(),T.setMinTrackingConfidence(M);break;case 5:M=new x.FaceGeometryGraphOptions,E.readMessage(M,x.FaceGeometryGraphOptions.deserializeBinaryFromReader),T.setFaceGeometryGraphOptions(M);break;default:E.skipField()}return T},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.serializeBinary=function(){var T=new p.BinaryWriter;return proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter(this,T),T.getResultBuffer()},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter=function(T,E){var M=void 0;(M=T.getBaseOptions())!=null&&E.writeMessage(1,M,h.BaseOptions.serializeBinaryToWriter),(M=T.getFaceDetectorGraphOptions())!=null&&E.writeMessage(2,M,b.FaceDetectorGraphOptions.serializeBinaryToWriter),(M=T.getFaceLandmarksDetectorGraphOptions())!=null&&E.writeMessage(3,M,O.FaceLandmarksDetectorGraphOptions.serializeBinaryToWriter),(M=p.Message.getField(T,4))!=null&&E.writeFloat(4,M),(M=T.getFaceGeometryGraphOptions())!=null&&E.writeMessage(5,M,x.FaceGeometryGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext=new p.ExtensionFieldInfo(508968150,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[508968150]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[508968150]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getBaseOptions=function(){return p.Message.getWrapperField(this,h.BaseOptions,1)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setBaseOptions=function(T){return p.Message.setWrapperField(this,1,T)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasBaseOptions=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getFaceDetectorGraphOptions=function(){return p.Message.getWrapperField(this,b.FaceDetectorGraphOptions,2)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setFaceDetectorGraphOptions=function(T){return p.Message.setWrapperField(this,2,T)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearFaceDetectorGraphOptions=function(){return this.setFaceDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasFaceDetectorGraphOptions=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getFaceLandmarksDetectorGraphOptions=function(){return p.Message.getWrapperField(this,O.FaceLandmarksDetectorGraphOptions,3)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setFaceLandmarksDetectorGraphOptions=function(T){return p.Message.setWrapperField(this,3,T)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearFaceLandmarksDetectorGraphOptions=function(){return this.setFaceLandmarksDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasFaceLandmarksDetectorGraphOptions=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getMinTrackingConfidence=function(){return p.Message.getFloatingPointFieldWithDefault(this,4,.5)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setMinTrackingConfidence=function(T){return p.Message.setField(this,4,T)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearMinTrackingConfidence=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasMinTrackingConfidence=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.getFaceGeometryGraphOptions=function(){return p.Message.getWrapperField(this,x.FaceGeometryGraphOptions,5)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.setFaceGeometryGraphOptions=function(T){return p.Message.setWrapperField(this,5,T)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.clearFaceGeometryGraphOptions=function(){return this.setFaceGeometryGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.prototype.hasFaceGeometryGraphOptions=function(){return p.Message.getField(this,5)!=null},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext=new p.ExtensionFieldInfo(508968150,{ext:0},proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[508968150]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[508968150]=proto.mediapipe.tasks.vision.face_landmarker.proto.FaceLandmarkerGraphOptions.ext,g.object.extend(u,proto.mediapipe.tasks.vision.face_landmarker.proto)}(face_landmarker_graph_options_pb);var classifier_result={};Object.defineProperty(classifier_result,"__esModule",{value:!0}),classifier_result.convertFromClassificationResultProto=classifier_result.convertFromClassifications=void 0;const DEFAULT_INDEX$1=-1,DEFAULT_SCORE=0;function convertFromClassifications(u,p=DEFAULT_INDEX$1,g=""){return{categories:u.map(_=>{var y,m,h,b;return{index:(y=_.getIndex())!==null&&y!==void 0?y:DEFAULT_INDEX$1,score:(m=_.getScore())!==null&&m!==void 0?m:DEFAULT_SCORE,categoryName:(h=_.getLabel())!==null&&h!==void 0?h:"",displayName:(b=_.getDisplayName())!==null&&b!==void 0?b:""}}),headIndex:p,headName:g}}function convertFromClassificationsProto(u){var p,g;return convertFromClassifications((g=(p=u.getClassificationList())===null||p===void 0?void 0:p.getClassificationList())!==null&&g!==void 0?g:[],u.getHeadIndex(),u.getHeadName())}function convertFromClassificationResultProto(u){const p={classifications:u.getClassificationsList().map(g=>convertFromClassificationsProto(g))};return u.hasTimestampMs()&&(p.timestampMs=u.getTimestampMs()),p}classifier_result.convertFromClassifications=convertFromClassifications,classifier_result.convertFromClassificationResultProto=convertFromClassificationResultProto;var landmark_result={};function convertToLandmarks(u){var p,g,_;const y=[];for(const m of u.getLandmarkList())y.push({x:(p=m.getX())!==null&&p!==void 0?p:0,y:(g=m.getY())!==null&&g!==void 0?g:0,z:(_=m.getZ())!==null&&_!==void 0?_:0});return y}function convertToWorldLandmarks(u){var p,g,_;const y=[];for(const m of u.getLandmarkList())y.push({x:(p=m.getX())!==null&&p!==void 0?p:0,y:(g=m.getY())!==null&&g!==void 0?g:0,z:(_=m.getZ())!==null&&_!==void 0?_:0});return y}Object.defineProperty(landmark_result,"__esModule",{value:!0}),landmark_result.convertToWorldLandmarks=landmark_result.convertToLandmarks=void 0,landmark_result.convertToLandmarks=convertToLandmarks,landmark_result.convertToWorldLandmarks=convertToWorldLandmarks;var face_landmarks_connections={},exports;exports=face_landmarks_connections,Object.defineProperty(exports,"__esModule",{value:!0}),exports.FACE_LANDMARKS_TESSELATION=exports.FACE_LANDMARKS_CONTOURS=exports.FACE_LANDMARKS_FACE_OVAL=exports.FACE_LANDMARKS_RIGHT_IRIS=exports.FACE_LANDMARKS_RIGHT_EYEBROW=exports.FACE_LANDMARKS_RIGHT_EYE=exports.FACE_LANDMARKS_LEFT_IRIS=exports.FACE_LANDMARKS_LEFT_EYEBROW=exports.FACE_LANDMARKS_LEFT_EYE=exports.FACE_LANDMARKS_LIPS=void 0,exports.FACE_LANDMARKS_LIPS=[{start:61,end:146},{start:146,end:91},{start:91,end:181},{start:181,end:84},{start:84,end:17},{start:17,end:314},{start:314,end:405},{start:405,end:321},{start:321,end:375},{start:375,end:291},{start:61,end:185},{start:185,end:40},{start:40,end:39},{start:39,end:37},{start:37,end:0},{start:0,end:267},{start:267,end:269},{start:269,end:270},{start:270,end:409},{start:409,end:291},{start:78,end:95},{start:95,end:88},{start:88,end:178},{start:178,end:87},{start:87,end:14},{start:14,end:317},{start:317,end:402},{start:402,end:318},{start:318,end:324},{start:324,end:308},{start:78,end:191},{start:191,end:80},{start:80,end:81},{start:81,end:82},{start:82,end:13},{start:13,end:312},{start:312,end:311},{start:311,end:310},{start:310,end:415},{start:415,end:308}],exports.FACE_LANDMARKS_LEFT_EYE=[{start:263,end:249},{start:249,end:390},{start:390,end:373},{start:373,end:374},{start:374,end:380},{start:380,end:381},{start:381,end:382},{start:382,end:362},{start:263,end:466},{start:466,end:388},{start:388,end:387},{start:387,end:386},{start:386,end:385},{start:385,end:384},{start:384,end:398},{start:398,end:362}],exports.FACE_LANDMARKS_LEFT_EYEBROW=[{start:276,end:283},{start:283,end:282},{start:282,end:295},{start:295,end:285},{start:300,end:293},{start:293,end:334},{start:334,end:296},{start:296,end:336}],exports.FACE_LANDMARKS_LEFT_IRIS=[{start:474,end:475},{start:475,end:476},{start:476,end:477},{start:477,end:474}],exports.FACE_LANDMARKS_RIGHT_EYE=[{start:33,end:7},{start:7,end:163},{start:163,end:144},{start:144,end:145},{start:145,end:153},{start:153,end:154},{start:154,end:155},{start:155,end:133},{start:33,end:246},{start:246,end:161},{start:161,end:160},{start:160,end:159},{start:159,end:158},{start:158,end:157},{start:157,end:173},{start:173,end:133}],exports.FACE_LANDMARKS_RIGHT_EYEBROW=[{start:46,end:53},{start:53,end:52},{start:52,end:65},{start:65,end:55},{start:70,end:63},{start:63,end:105},{start:105,end:66},{start:66,end:107}],exports.FACE_LANDMARKS_RIGHT_IRIS=[{start:469,end:470},{start:470,end:471},{start:471,end:472},{start:472,end:469}],exports.FACE_LANDMARKS_FACE_OVAL=[{start:10,end:338},{start:338,end:297},{start:297,end:332},{start:332,end:284},{start:284,end:251},{start:251,end:389},{start:389,end:356},{start:356,end:454},{start:454,end:323},{start:323,end:361},{start:361,end:288},{start:288,end:397},{start:397,end:365},{start:365,end:379},{start:379,end:378},{start:378,end:400},{start:400,end:377},{start:377,end:152},{start:152,end:148},{start:148,end:176},{start:176,end:149},{start:149,end:150},{start:150,end:136},{start:136,end:172},{start:172,end:58},{start:58,end:132},{start:132,end:93},{start:93,end:234},{start:234,end:127},{start:127,end:162},{start:162,end:21},{start:21,end:54},{start:54,end:103},{start:103,end:67},{start:67,end:109},{start:109,end:10}],exports.FACE_LANDMARKS_CONTOURS=[...exports.FACE_LANDMARKS_LIPS,...exports.FACE_LANDMARKS_LEFT_EYE,...exports.FACE_LANDMARKS_LEFT_EYEBROW,...exports.FACE_LANDMARKS_RIGHT_EYE,...exports.FACE_LANDMARKS_RIGHT_EYEBROW,...exports.FACE_LANDMARKS_FACE_OVAL],exports.FACE_LANDMARKS_TESSELATION=[{start:127,end:34},{start:34,end:139},{start:139,end:127},{start:11,end:0},{start:0,end:37},{start:37,end:11},{start:232,end:231},{start:231,end:120},{start:120,end:232},{start:72,end:37},{start:37,end:39},{start:39,end:72},{start:128,end:121},{start:121,end:47},{start:47,end:128},{start:232,end:121},{start:121,end:128},{start:128,end:232},{start:104,end:69},{start:69,end:67},{start:67,end:104},{start:175,end:171},{start:171,end:148},{start:148,end:175},{start:118,end:50},{start:50,end:101},{start:101,end:118},{start:73,end:39},{start:39,end:40},{start:40,end:73},{start:9,end:151},{start:151,end:108},{start:108,end:9},{start:48,end:115},{start:115,end:131},{start:131,end:48},{start:194,end:204},{start:204,end:211},{start:211,end:194},{start:74,end:40},{start:40,end:185},{start:185,end:74},{start:80,end:42},{start:42,end:183},{start:183,end:80},{start:40,end:92},{start:92,end:186},{start:186,end:40},{start:230,end:229},{start:229,end:118},{start:118,end:230},{start:202,end:212},{start:212,end:214},{start:214,end:202},{start:83,end:18},{start:18,end:17},{start:17,end:83},{start:76,end:61},{start:61,end:146},{start:146,end:76},{start:160,end:29},{start:29,end:30},{start:30,end:160},{start:56,end:157},{start:157,end:173},{start:173,end:56},{start:106,end:204},{start:204,end:194},{start:194,end:106},{start:135,end:214},{start:214,end:192},{start:192,end:135},{start:203,end:165},{start:165,end:98},{start:98,end:203},{start:21,end:71},{start:71,end:68},{start:68,end:21},{start:51,end:45},{start:45,end:4},{start:4,end:51},{start:144,end:24},{start:24,end:23},{start:23,end:144},{start:77,end:146},{start:146,end:91},{start:91,end:77},{start:205,end:50},{start:50,end:187},{start:187,end:205},{start:201,end:200},{start:200,end:18},{start:18,end:201},{start:91,end:106},{start:106,end:182},{start:182,end:91},{start:90,end:91},{start:91,end:181},{start:181,end:90},{start:85,end:84},{start:84,end:17},{start:17,end:85},{start:206,end:203},{start:203,end:36},{start:36,end:206},{start:148,end:171},{start:171,end:140},{start:140,end:148},{start:92,end:40},{start:40,end:39},{start:39,end:92},{start:193,end:189},{start:189,end:244},{start:244,end:193},{start:159,end:158},{start:158,end:28},{start:28,end:159},{start:247,end:246},{start:246,end:161},{start:161,end:247},{start:236,end:3},{start:3,end:196},{start:196,end:236},{start:54,end:68},{start:68,end:104},{start:104,end:54},{start:193,end:168},{start:168,end:8},{start:8,end:193},{start:117,end:228},{start:228,end:31},{start:31,end:117},{start:189,end:193},{start:193,end:55},{start:55,end:189},{start:98,end:97},{start:97,end:99},{start:99,end:98},{start:126,end:47},{start:47,end:100},{start:100,end:126},{start:166,end:79},{start:79,end:218},{start:218,end:166},{start:155,end:154},{start:154,end:26},{start:26,end:155},{start:209,end:49},{start:49,end:131},{start:131,end:209},{start:135,end:136},{start:136,end:150},{start:150,end:135},{start:47,end:126},{start:126,end:217},{start:217,end:47},{start:223,end:52},{start:52,end:53},{start:53,end:223},{start:45,end:51},{start:51,end:134},{start:134,end:45},{start:211,end:170},{start:170,end:140},{start:140,end:211},{start:67,end:69},{start:69,end:108},{start:108,end:67},{start:43,end:106},{start:106,end:91},{start:91,end:43},{start:230,end:119},{start:119,end:120},{start:120,end:230},{start:226,end:130},{start:130,end:247},{start:247,end:226},{start:63,end:53},{start:53,end:52},{start:52,end:63},{start:238,end:20},{start:20,end:242},{start:242,end:238},{start:46,end:70},{start:70,end:156},{start:156,end:46},{start:78,end:62},{start:62,end:96},{start:96,end:78},{start:46,end:53},{start:53,end:63},{start:63,end:46},{start:143,end:34},{start:34,end:227},{start:227,end:143},{start:123,end:117},{start:117,end:111},{start:111,end:123},{start:44,end:125},{start:125,end:19},{start:19,end:44},{start:236,end:134},{start:134,end:51},{start:51,end:236},{start:216,end:206},{start:206,end:205},{start:205,end:216},{start:154,end:153},{start:153,end:22},{start:22,end:154},{start:39,end:37},{start:37,end:167},{start:167,end:39},{start:200,end:201},{start:201,end:208},{start:208,end:200},{start:36,end:142},{start:142,end:100},{start:100,end:36},{start:57,end:212},{start:212,end:202},{start:202,end:57},{start:20,end:60},{start:60,end:99},{start:99,end:20},{start:28,end:158},{start:158,end:157},{start:157,end:28},{start:35,end:226},{start:226,end:113},{start:113,end:35},{start:160,end:159},{start:159,end:27},{start:27,end:160},{start:204,end:202},{start:202,end:210},{start:210,end:204},{start:113,end:225},{start:225,end:46},{start:46,end:113},{start:43,end:202},{start:202,end:204},{start:204,end:43},{start:62,end:76},{start:76,end:77},{start:77,end:62},{start:137,end:123},{start:123,end:116},{start:116,end:137},{start:41,end:38},{start:38,end:72},{start:72,end:41},{start:203,end:129},{start:129,end:142},{start:142,end:203},{start:64,end:98},{start:98,end:240},{start:240,end:64},{start:49,end:102},{start:102,end:64},{start:64,end:49},{start:41,end:73},{start:73,end:74},{start:74,end:41},{start:212,end:216},{start:216,end:207},{start:207,end:212},{start:42,end:74},{start:74,end:184},{start:184,end:42},{start:169,end:170},{start:170,end:211},{start:211,end:169},{start:170,end:149},{start:149,end:176},{start:176,end:170},{start:105,end:66},{start:66,end:69},{start:69,end:105},{start:122,end:6},{start:6,end:168},{start:168,end:122},{start:123,end:147},{start:147,end:187},{start:187,end:123},{start:96,end:77},{start:77,end:90},{start:90,end:96},{start:65,end:55},{start:55,end:107},{start:107,end:65},{start:89,end:90},{start:90,end:180},{start:180,end:89},{start:101,end:100},{start:100,end:120},{start:120,end:101},{start:63,end:105},{start:105,end:104},{start:104,end:63},{start:93,end:137},{start:137,end:227},{start:227,end:93},{start:15,end:86},{start:86,end:85},{start:85,end:15},{start:129,end:102},{start:102,end:49},{start:49,end:129},{start:14,end:87},{start:87,end:86},{start:86,end:14},{start:55,end:8},{start:8,end:9},{start:9,end:55},{start:100,end:47},{start:47,end:121},{start:121,end:100},{start:145,end:23},{start:23,end:22},{start:22,end:145},{start:88,end:89},{start:89,end:179},{start:179,end:88},{start:6,end:122},{start:122,end:196},{start:196,end:6},{start:88,end:95},{start:95,end:96},{start:96,end:88},{start:138,end:172},{start:172,end:136},{start:136,end:138},{start:215,end:58},{start:58,end:172},{start:172,end:215},{start:115,end:48},{start:48,end:219},{start:219,end:115},{start:42,end:80},{start:80,end:81},{start:81,end:42},{start:195,end:3},{start:3,end:51},{start:51,end:195},{start:43,end:146},{start:146,end:61},{start:61,end:43},{start:171,end:175},{start:175,end:199},{start:199,end:171},{start:81,end:82},{start:82,end:38},{start:38,end:81},{start:53,end:46},{start:46,end:225},{start:225,end:53},{start:144,end:163},{start:163,end:110},{start:110,end:144},{start:52,end:65},{start:65,end:66},{start:66,end:52},{start:229,end:228},{start:228,end:117},{start:117,end:229},{start:34,end:127},{start:127,end:234},{start:234,end:34},{start:107,end:108},{start:108,end:69},{start:69,end:107},{start:109,end:108},{start:108,end:151},{start:151,end:109},{start:48,end:64},{start:64,end:235},{start:235,end:48},{start:62,end:78},{start:78,end:191},{start:191,end:62},{start:129,end:209},{start:209,end:126},{start:126,end:129},{start:111,end:35},{start:35,end:143},{start:143,end:111},{start:117,end:123},{start:123,end:50},{start:50,end:117},{start:222,end:65},{start:65,end:52},{start:52,end:222},{start:19,end:125},{start:125,end:141},{start:141,end:19},{start:221,end:55},{start:55,end:65},{start:65,end:221},{start:3,end:195},{start:195,end:197},{start:197,end:3},{start:25,end:7},{start:7,end:33},{start:33,end:25},{start:220,end:237},{start:237,end:44},{start:44,end:220},{start:70,end:71},{start:71,end:139},{start:139,end:70},{start:122,end:193},{start:193,end:245},{start:245,end:122},{start:247,end:130},{start:130,end:33},{start:33,end:247},{start:71,end:21},{start:21,end:162},{start:162,end:71},{start:170,end:169},{start:169,end:150},{start:150,end:170},{start:188,end:174},{start:174,end:196},{start:196,end:188},{start:216,end:186},{start:186,end:92},{start:92,end:216},{start:2,end:97},{start:97,end:167},{start:167,end:2},{start:141,end:125},{start:125,end:241},{start:241,end:141},{start:164,end:167},{start:167,end:37},{start:37,end:164},{start:72,end:38},{start:38,end:12},{start:12,end:72},{start:38,end:82},{start:82,end:13},{start:13,end:38},{start:63,end:68},{start:68,end:71},{start:71,end:63},{start:226,end:35},{start:35,end:111},{start:111,end:226},{start:101,end:50},{start:50,end:205},{start:205,end:101},{start:206,end:92},{start:92,end:165},{start:165,end:206},{start:209,end:198},{start:198,end:217},{start:217,end:209},{start:165,end:167},{start:167,end:97},{start:97,end:165},{start:220,end:115},{start:115,end:218},{start:218,end:220},{start:133,end:112},{start:112,end:243},{start:243,end:133},{start:239,end:238},{start:238,end:241},{start:241,end:239},{start:214,end:135},{start:135,end:169},{start:169,end:214},{start:190,end:173},{start:173,end:133},{start:133,end:190},{start:171,end:208},{start:208,end:32},{start:32,end:171},{start:125,end:44},{start:44,end:237},{start:237,end:125},{start:86,end:87},{start:87,end:178},{start:178,end:86},{start:85,end:86},{start:86,end:179},{start:179,end:85},{start:84,end:85},{start:85,end:180},{start:180,end:84},{start:83,end:84},{start:84,end:181},{start:181,end:83},{start:201,end:83},{start:83,end:182},{start:182,end:201},{start:137,end:93},{start:93,end:132},{start:132,end:137},{start:76,end:62},{start:62,end:183},{start:183,end:76},{start:61,end:76},{start:76,end:184},{start:184,end:61},{start:57,end:61},{start:61,end:185},{start:185,end:57},{start:212,end:57},{start:57,end:186},{start:186,end:212},{start:214,end:207},{start:207,end:187},{start:187,end:214},{start:34,end:143},{start:143,end:156},{start:156,end:34},{start:79,end:239},{start:239,end:237},{start:237,end:79},{start:123,end:137},{start:137,end:177},{start:177,end:123},{start:44,end:1},{start:1,end:4},{start:4,end:44},{start:201,end:194},{start:194,end:32},{start:32,end:201},{start:64,end:102},{start:102,end:129},{start:129,end:64},{start:213,end:215},{start:215,end:138},{start:138,end:213},{start:59,end:166},{start:166,end:219},{start:219,end:59},{start:242,end:99},{start:99,end:97},{start:97,end:242},{start:2,end:94},{start:94,end:141},{start:141,end:2},{start:75,end:59},{start:59,end:235},{start:235,end:75},{start:24,end:110},{start:110,end:228},{start:228,end:24},{start:25,end:130},{start:130,end:226},{start:226,end:25},{start:23,end:24},{start:24,end:229},{start:229,end:23},{start:22,end:23},{start:23,end:230},{start:230,end:22},{start:26,end:22},{start:22,end:231},{start:231,end:26},{start:112,end:26},{start:26,end:232},{start:232,end:112},{start:189,end:190},{start:190,end:243},{start:243,end:189},{start:221,end:56},{start:56,end:190},{start:190,end:221},{start:28,end:56},{start:56,end:221},{start:221,end:28},{start:27,end:28},{start:28,end:222},{start:222,end:27},{start:29,end:27},{start:27,end:223},{start:223,end:29},{start:30,end:29},{start:29,end:224},{start:224,end:30},{start:247,end:30},{start:30,end:225},{start:225,end:247},{start:238,end:79},{start:79,end:20},{start:20,end:238},{start:166,end:59},{start:59,end:75},{start:75,end:166},{start:60,end:75},{start:75,end:240},{start:240,end:60},{start:147,end:177},{start:177,end:215},{start:215,end:147},{start:20,end:79},{start:79,end:166},{start:166,end:20},{start:187,end:147},{start:147,end:213},{start:213,end:187},{start:112,end:233},{start:233,end:244},{start:244,end:112},{start:233,end:128},{start:128,end:245},{start:245,end:233},{start:128,end:114},{start:114,end:188},{start:188,end:128},{start:114,end:217},{start:217,end:174},{start:174,end:114},{start:131,end:115},{start:115,end:220},{start:220,end:131},{start:217,end:198},{start:198,end:236},{start:236,end:217},{start:198,end:131},{start:131,end:134},{start:134,end:198},{start:177,end:132},{start:132,end:58},{start:58,end:177},{start:143,end:35},{start:35,end:124},{start:124,end:143},{start:110,end:163},{start:163,end:7},{start:7,end:110},{start:228,end:110},{start:110,end:25},{start:25,end:228},{start:356,end:389},{start:389,end:368},{start:368,end:356},{start:11,end:302},{start:302,end:267},{start:267,end:11},{start:452,end:350},{start:350,end:349},{start:349,end:452},{start:302,end:303},{start:303,end:269},{start:269,end:302},{start:357,end:343},{start:343,end:277},{start:277,end:357},{start:452,end:453},{start:453,end:357},{start:357,end:452},{start:333,end:332},{start:332,end:297},{start:297,end:333},{start:175,end:152},{start:152,end:377},{start:377,end:175},{start:347,end:348},{start:348,end:330},{start:330,end:347},{start:303,end:304},{start:304,end:270},{start:270,end:303},{start:9,end:336},{start:336,end:337},{start:337,end:9},{start:278,end:279},{start:279,end:360},{start:360,end:278},{start:418,end:262},{start:262,end:431},{start:431,end:418},{start:304,end:408},{start:408,end:409},{start:409,end:304},{start:310,end:415},{start:415,end:407},{start:407,end:310},{start:270,end:409},{start:409,end:410},{start:410,end:270},{start:450,end:348},{start:348,end:347},{start:347,end:450},{start:422,end:430},{start:430,end:434},{start:434,end:422},{start:313,end:314},{start:314,end:17},{start:17,end:313},{start:306,end:307},{start:307,end:375},{start:375,end:306},{start:387,end:388},{start:388,end:260},{start:260,end:387},{start:286,end:414},{start:414,end:398},{start:398,end:286},{start:335,end:406},{start:406,end:418},{start:418,end:335},{start:364,end:367},{start:367,end:416},{start:416,end:364},{start:423,end:358},{start:358,end:327},{start:327,end:423},{start:251,end:284},{start:284,end:298},{start:298,end:251},{start:281,end:5},{start:5,end:4},{start:4,end:281},{start:373,end:374},{start:374,end:253},{start:253,end:373},{start:307,end:320},{start:320,end:321},{start:321,end:307},{start:425,end:427},{start:427,end:411},{start:411,end:425},{start:421,end:313},{start:313,end:18},{start:18,end:421},{start:321,end:405},{start:405,end:406},{start:406,end:321},{start:320,end:404},{start:404,end:405},{start:405,end:320},{start:315,end:16},{start:16,end:17},{start:17,end:315},{start:426,end:425},{start:425,end:266},{start:266,end:426},{start:377,end:400},{start:400,end:369},{start:369,end:377},{start:322,end:391},{start:391,end:269},{start:269,end:322},{start:417,end:465},{start:465,end:464},{start:464,end:417},{start:386,end:257},{start:257,end:258},{start:258,end:386},{start:466,end:260},{start:260,end:388},{start:388,end:466},{start:456,end:399},{start:399,end:419},{start:419,end:456},{start:284,end:332},{start:332,end:333},{start:333,end:284},{start:417,end:285},{start:285,end:8},{start:8,end:417},{start:346,end:340},{start:340,end:261},{start:261,end:346},{start:413,end:441},{start:441,end:285},{start:285,end:413},{start:327,end:460},{start:460,end:328},{start:328,end:327},{start:355,end:371},{start:371,end:329},{start:329,end:355},{start:392,end:439},{start:439,end:438},{start:438,end:392},{start:382,end:341},{start:341,end:256},{start:256,end:382},{start:429,end:420},{start:420,end:360},{start:360,end:429},{start:364,end:394},{start:394,end:379},{start:379,end:364},{start:277,end:343},{start:343,end:437},{start:437,end:277},{start:443,end:444},{start:444,end:283},{start:283,end:443},{start:275,end:440},{start:440,end:363},{start:363,end:275},{start:431,end:262},{start:262,end:369},{start:369,end:431},{start:297,end:338},{start:338,end:337},{start:337,end:297},{start:273,end:375},{start:375,end:321},{start:321,end:273},{start:450,end:451},{start:451,end:349},{start:349,end:450},{start:446,end:342},{start:342,end:467},{start:467,end:446},{start:293,end:334},{start:334,end:282},{start:282,end:293},{start:458,end:461},{start:461,end:462},{start:462,end:458},{start:276,end:353},{start:353,end:383},{start:383,end:276},{start:308,end:324},{start:324,end:325},{start:325,end:308},{start:276,end:300},{start:300,end:293},{start:293,end:276},{start:372,end:345},{start:345,end:447},{start:447,end:372},{start:352,end:345},{start:345,end:340},{start:340,end:352},{start:274,end:1},{start:1,end:19},{start:19,end:274},{start:456,end:248},{start:248,end:281},{start:281,end:456},{start:436,end:427},{start:427,end:425},{start:425,end:436},{start:381,end:256},{start:256,end:252},{start:252,end:381},{start:269,end:391},{start:391,end:393},{start:393,end:269},{start:200,end:199},{start:199,end:428},{start:428,end:200},{start:266,end:330},{start:330,end:329},{start:329,end:266},{start:287,end:273},{start:273,end:422},{start:422,end:287},{start:250,end:462},{start:462,end:328},{start:328,end:250},{start:258,end:286},{start:286,end:384},{start:384,end:258},{start:265,end:353},{start:353,end:342},{start:342,end:265},{start:387,end:259},{start:259,end:257},{start:257,end:387},{start:424,end:431},{start:431,end:430},{start:430,end:424},{start:342,end:353},{start:353,end:276},{start:276,end:342},{start:273,end:335},{start:335,end:424},{start:424,end:273},{start:292,end:325},{start:325,end:307},{start:307,end:292},{start:366,end:447},{start:447,end:345},{start:345,end:366},{start:271,end:303},{start:303,end:302},{start:302,end:271},{start:423,end:266},{start:266,end:371},{start:371,end:423},{start:294,end:455},{start:455,end:460},{start:460,end:294},{start:279,end:278},{start:278,end:294},{start:294,end:279},{start:271,end:272},{start:272,end:304},{start:304,end:271},{start:432,end:434},{start:434,end:427},{start:427,end:432},{start:272,end:407},{start:407,end:408},{start:408,end:272},{start:394,end:430},{start:430,end:431},{start:431,end:394},{start:395,end:369},{start:369,end:400},{start:400,end:395},{start:334,end:333},{start:333,end:299},{start:299,end:334},{start:351,end:417},{start:417,end:168},{start:168,end:351},{start:352,end:280},{start:280,end:411},{start:411,end:352},{start:325,end:319},{start:319,end:320},{start:320,end:325},{start:295,end:296},{start:296,end:336},{start:336,end:295},{start:319,end:403},{start:403,end:404},{start:404,end:319},{start:330,end:348},{start:348,end:349},{start:349,end:330},{start:293,end:298},{start:298,end:333},{start:333,end:293},{start:323,end:454},{start:454,end:447},{start:447,end:323},{start:15,end:16},{start:16,end:315},{start:315,end:15},{start:358,end:429},{start:429,end:279},{start:279,end:358},{start:14,end:15},{start:15,end:316},{start:316,end:14},{start:285,end:336},{start:336,end:9},{start:9,end:285},{start:329,end:349},{start:349,end:350},{start:350,end:329},{start:374,end:380},{start:380,end:252},{start:252,end:374},{start:318,end:402},{start:402,end:403},{start:403,end:318},{start:6,end:197},{start:197,end:419},{start:419,end:6},{start:318,end:319},{start:319,end:325},{start:325,end:318},{start:367,end:364},{start:364,end:365},{start:365,end:367},{start:435,end:367},{start:367,end:397},{start:397,end:435},{start:344,end:438},{start:438,end:439},{start:439,end:344},{start:272,end:271},{start:271,end:311},{start:311,end:272},{start:195,end:5},{start:5,end:281},{start:281,end:195},{start:273,end:287},{start:287,end:291},{start:291,end:273},{start:396,end:428},{start:428,end:199},{start:199,end:396},{start:311,end:271},{start:271,end:268},{start:268,end:311},{start:283,end:444},{start:444,end:445},{start:445,end:283},{start:373,end:254},{start:254,end:339},{start:339,end:373},{start:282,end:334},{start:334,end:296},{start:296,end:282},{start:449,end:347},{start:347,end:346},{start:346,end:449},{start:264,end:447},{start:447,end:454},{start:454,end:264},{start:336,end:296},{start:296,end:299},{start:299,end:336},{start:338,end:10},{start:10,end:151},{start:151,end:338},{start:278,end:439},{start:439,end:455},{start:455,end:278},{start:292,end:407},{start:407,end:415},{start:415,end:292},{start:358,end:371},{start:371,end:355},{start:355,end:358},{start:340,end:345},{start:345,end:372},{start:372,end:340},{start:346,end:347},{start:347,end:280},{start:280,end:346},{start:442,end:443},{start:443,end:282},{start:282,end:442},{start:19,end:94},{start:94,end:370},{start:370,end:19},{start:441,end:442},{start:442,end:295},{start:295,end:441},{start:248,end:419},{start:419,end:197},{start:197,end:248},{start:263,end:255},{start:255,end:359},{start:359,end:263},{start:440,end:275},{start:275,end:274},{start:274,end:440},{start:300,end:383},{start:383,end:368},{start:368,end:300},{start:351,end:412},{start:412,end:465},{start:465,end:351},{start:263,end:467},{start:467,end:466},{start:466,end:263},{start:301,end:368},{start:368,end:389},{start:389,end:301},{start:395,end:378},{start:378,end:379},{start:379,end:395},{start:412,end:351},{start:351,end:419},{start:419,end:412},{start:436,end:426},{start:426,end:322},{start:322,end:436},{start:2,end:164},{start:164,end:393},{start:393,end:2},{start:370,end:462},{start:462,end:461},{start:461,end:370},{start:164,end:0},{start:0,end:267},{start:267,end:164},{start:302,end:11},{start:11,end:12},{start:12,end:302},{start:268,end:12},{start:12,end:13},{start:13,end:268},{start:293,end:300},{start:300,end:301},{start:301,end:293},{start:446,end:261},{start:261,end:340},{start:340,end:446},{start:330,end:266},{start:266,end:425},{start:425,end:330},{start:426,end:423},{start:423,end:391},{start:391,end:426},{start:429,end:355},{start:355,end:437},{start:437,end:429},{start:391,end:327},{start:327,end:326},{start:326,end:391},{start:440,end:457},{start:457,end:438},{start:438,end:440},{start:341,end:382},{start:382,end:362},{start:362,end:341},{start:459,end:457},{start:457,end:461},{start:461,end:459},{start:434,end:430},{start:430,end:394},{start:394,end:434},{start:414,end:463},{start:463,end:362},{start:362,end:414},{start:396,end:369},{start:369,end:262},{start:262,end:396},{start:354,end:461},{start:461,end:457},{start:457,end:354},{start:316,end:403},{start:403,end:402},{start:402,end:316},{start:315,end:404},{start:404,end:403},{start:403,end:315},{start:314,end:405},{start:405,end:404},{start:404,end:314},{start:313,end:406},{start:406,end:405},{start:405,end:313},{start:421,end:418},{start:418,end:406},{start:406,end:421},{start:366,end:401},{start:401,end:361},{start:361,end:366},{start:306,end:408},{start:408,end:407},{start:407,end:306},{start:291,end:409},{start:409,end:408},{start:408,end:291},{start:287,end:410},{start:410,end:409},{start:409,end:287},{start:432,end:436},{start:436,end:410},{start:410,end:432},{start:434,end:416},{start:416,end:411},{start:411,end:434},{start:264,end:368},{start:368,end:383},{start:383,end:264},{start:309,end:438},{start:438,end:457},{start:457,end:309},{start:352,end:376},{start:376,end:401},{start:401,end:352},{start:274,end:275},{start:275,end:4},{start:4,end:274},{start:421,end:428},{start:428,end:262},{start:262,end:421},{start:294,end:327},{start:327,end:358},{start:358,end:294},{start:433,end:416},{start:416,end:367},{start:367,end:433},{start:289,end:455},{start:455,end:439},{start:439,end:289},{start:462,end:370},{start:370,end:326},{start:326,end:462},{start:2,end:326},{start:326,end:370},{start:370,end:2},{start:305,end:460},{start:460,end:455},{start:455,end:305},{start:254,end:449},{start:449,end:448},{start:448,end:254},{start:255,end:261},{start:261,end:446},{start:446,end:255},{start:253,end:450},{start:450,end:449},{start:449,end:253},{start:252,end:451},{start:451,end:450},{start:450,end:252},{start:256,end:452},{start:452,end:451},{start:451,end:256},{start:341,end:453},{start:453,end:452},{start:452,end:341},{start:413,end:464},{start:464,end:463},{start:463,end:413},{start:441,end:413},{start:413,end:414},{start:414,end:441},{start:258,end:442},{start:442,end:441},{start:441,end:258},{start:257,end:443},{start:443,end:442},{start:442,end:257},{start:259,end:444},{start:444,end:443},{start:443,end:259},{start:260,end:445},{start:445,end:444},{start:444,end:260},{start:467,end:342},{start:342,end:445},{start:445,end:467},{start:459,end:458},{start:458,end:250},{start:250,end:459},{start:289,end:392},{start:392,end:290},{start:290,end:289},{start:290,end:328},{start:328,end:460},{start:460,end:290},{start:376,end:433},{start:433,end:435},{start:435,end:376},{start:250,end:290},{start:290,end:392},{start:392,end:250},{start:411,end:416},{start:416,end:433},{start:433,end:411},{start:341,end:463},{start:463,end:464},{start:464,end:341},{start:453,end:464},{start:464,end:465},{start:465,end:453},{start:357,end:465},{start:465,end:412},{start:412,end:357},{start:343,end:412},{start:412,end:399},{start:399,end:343},{start:360,end:363},{start:363,end:440},{start:440,end:360},{start:437,end:399},{start:399,end:456},{start:456,end:437},{start:420,end:456},{start:456,end:363},{start:363,end:420},{start:401,end:435},{start:435,end:288},{start:288,end:401},{start:372,end:383},{start:383,end:353},{start:353,end:372},{start:339,end:255},{start:255,end:249},{start:249,end:339},{start:448,end:261},{start:261,end:255},{start:255,end:448},{start:133,end:243},{start:243,end:190},{start:190,end:133},{start:133,end:155},{start:155,end:112},{start:112,end:133},{start:33,end:246},{start:246,end:247},{start:247,end:33},{start:33,end:130},{start:130,end:25},{start:25,end:33},{start:398,end:384},{start:384,end:286},{start:286,end:398},{start:362,end:398},{start:398,end:414},{start:414,end:362},{start:362,end:463},{start:463,end:341},{start:341,end:362},{start:263,end:359},{start:359,end:467},{start:467,end:263},{start:263,end:249},{start:249,end:255},{start:255,end:263},{start:466,end:467},{start:467,end:260},{start:260,end:466},{start:75,end:60},{start:60,end:166},{start:166,end:75},{start:238,end:239},{start:239,end:79},{start:79,end:238},{start:162,end:127},{start:127,end:139},{start:139,end:162},{start:72,end:11},{start:11,end:37},{start:37,end:72},{start:121,end:232},{start:232,end:120},{start:120,end:121},{start:73,end:72},{start:72,end:39},{start:39,end:73},{start:114,end:128},{start:128,end:47},{start:47,end:114},{start:233,end:232},{start:232,end:128},{start:128,end:233},{start:103,end:104},{start:104,end:67},{start:67,end:103},{start:152,end:175},{start:175,end:148},{start:148,end:152},{start:119,end:118},{start:118,end:101},{start:101,end:119},{start:74,end:73},{start:73,end:40},{start:40,end:74},{start:107,end:9},{start:9,end:108},{start:108,end:107},{start:49,end:48},{start:48,end:131},{start:131,end:49},{start:32,end:194},{start:194,end:211},{start:211,end:32},{start:184,end:74},{start:74,end:185},{start:185,end:184},{start:191,end:80},{start:80,end:183},{start:183,end:191},{start:185,end:40},{start:40,end:186},{start:186,end:185},{start:119,end:230},{start:230,end:118},{start:118,end:119},{start:210,end:202},{start:202,end:214},{start:214,end:210},{start:84,end:83},{start:83,end:17},{start:17,end:84},{start:77,end:76},{start:76,end:146},{start:146,end:77},{start:161,end:160},{start:160,end:30},{start:30,end:161},{start:190,end:56},{start:56,end:173},{start:173,end:190},{start:182,end:106},{start:106,end:194},{start:194,end:182},{start:138,end:135},{start:135,end:192},{start:192,end:138},{start:129,end:203},{start:203,end:98},{start:98,end:129},{start:54,end:21},{start:21,end:68},{start:68,end:54},{start:5,end:51},{start:51,end:4},{start:4,end:5},{start:145,end:144},{start:144,end:23},{start:23,end:145},{start:90,end:77},{start:77,end:91},{start:91,end:90},{start:207,end:205},{start:205,end:187},{start:187,end:207},{start:83,end:201},{start:201,end:18},{start:18,end:83},{start:181,end:91},{start:91,end:182},{start:182,end:181},{start:180,end:90},{start:90,end:181},{start:181,end:180},{start:16,end:85},{start:85,end:17},{start:17,end:16},{start:205,end:206},{start:206,end:36},{start:36,end:205},{start:176,end:148},{start:148,end:140},{start:140,end:176},{start:165,end:92},{start:92,end:39},{start:39,end:165},{start:245,end:193},{start:193,end:244},{start:244,end:245},{start:27,end:159},{start:159,end:28},{start:28,end:27},{start:30,end:247},{start:247,end:161},{start:161,end:30},{start:174,end:236},{start:236,end:196},{start:196,end:174},{start:103,end:54},{start:54,end:104},{start:104,end:103},{start:55,end:193},{start:193,end:8},{start:8,end:55},{start:111,end:117},{start:117,end:31},{start:31,end:111},{start:221,end:189},{start:189,end:55},{start:55,end:221},{start:240,end:98},{start:98,end:99},{start:99,end:240},{start:142,end:126},{start:126,end:100},{start:100,end:142},{start:219,end:166},{start:166,end:218},{start:218,end:219},{start:112,end:155},{start:155,end:26},{start:26,end:112},{start:198,end:209},{start:209,end:131},{start:131,end:198},{start:169,end:135},{start:135,end:150},{start:150,end:169},{start:114,end:47},{start:47,end:217},{start:217,end:114},{start:224,end:223},{start:223,end:53},{start:53,end:224},{start:220,end:45},{start:45,end:134},{start:134,end:220},{start:32,end:211},{start:211,end:140},{start:140,end:32},{start:109,end:67},{start:67,end:108},{start:108,end:109},{start:146,end:43},{start:43,end:91},{start:91,end:146},{start:231,end:230},{start:230,end:120},{start:120,end:231},{start:113,end:226},{start:226,end:247},{start:247,end:113},{start:105,end:63},{start:63,end:52},{start:52,end:105},{start:241,end:238},{start:238,end:242},{start:242,end:241},{start:124,end:46},{start:46,end:156},{start:156,end:124},{start:95,end:78},{start:78,end:96},{start:96,end:95},{start:70,end:46},{start:46,end:63},{start:63,end:70},{start:116,end:143},{start:143,end:227},{start:227,end:116},{start:116,end:123},{start:123,end:111},{start:111,end:116},{start:1,end:44},{start:44,end:19},{start:19,end:1},{start:3,end:236},{start:236,end:51},{start:51,end:3},{start:207,end:216},{start:216,end:205},{start:205,end:207},{start:26,end:154},{start:154,end:22},{start:22,end:26},{start:165,end:39},{start:39,end:167},{start:167,end:165},{start:199,end:200},{start:200,end:208},{start:208,end:199},{start:101,end:36},{start:36,end:100},{start:100,end:101},{start:43,end:57},{start:57,end:202},{start:202,end:43},{start:242,end:20},{start:20,end:99},{start:99,end:242},{start:56,end:28},{start:28,end:157},{start:157,end:56},{start:124,end:35},{start:35,end:113},{start:113,end:124},{start:29,end:160},{start:160,end:27},{start:27,end:29},{start:211,end:204},{start:204,end:210},{start:210,end:211},{start:124,end:113},{start:113,end:46},{start:46,end:124},{start:106,end:43},{start:43,end:204},{start:204,end:106},{start:96,end:62},{start:62,end:77},{start:77,end:96},{start:227,end:137},{start:137,end:116},{start:116,end:227},{start:73,end:41},{start:41,end:72},{start:72,end:73},{start:36,end:203},{start:203,end:142},{start:142,end:36},{start:235,end:64},{start:64,end:240},{start:240,end:235},{start:48,end:49},{start:49,end:64},{start:64,end:48},{start:42,end:41},{start:41,end:74},{start:74,end:42},{start:214,end:212},{start:212,end:207},{start:207,end:214},{start:183,end:42},{start:42,end:184},{start:184,end:183},{start:210,end:169},{start:169,end:211},{start:211,end:210},{start:140,end:170},{start:170,end:176},{start:176,end:140},{start:104,end:105},{start:105,end:69},{start:69,end:104},{start:193,end:122},{start:122,end:168},{start:168,end:193},{start:50,end:123},{start:123,end:187},{start:187,end:50},{start:89,end:96},{start:96,end:90},{start:90,end:89},{start:66,end:65},{start:65,end:107},{start:107,end:66},{start:179,end:89},{start:89,end:180},{start:180,end:179},{start:119,end:101},{start:101,end:120},{start:120,end:119},{start:68,end:63},{start:63,end:104},{start:104,end:68},{start:234,end:93},{start:93,end:227},{start:227,end:234},{start:16,end:15},{start:15,end:85},{start:85,end:16},{start:209,end:129},{start:129,end:49},{start:49,end:209},{start:15,end:14},{start:14,end:86},{start:86,end:15},{start:107,end:55},{start:55,end:9},{start:9,end:107},{start:120,end:100},{start:100,end:121},{start:121,end:120},{start:153,end:145},{start:145,end:22},{start:22,end:153},{start:178,end:88},{start:88,end:179},{start:179,end:178},{start:197,end:6},{start:6,end:196},{start:196,end:197},{start:89,end:88},{start:88,end:96},{start:96,end:89},{start:135,end:138},{start:138,end:136},{start:136,end:135},{start:138,end:215},{start:215,end:172},{start:172,end:138},{start:218,end:115},{start:115,end:219},{start:219,end:218},{start:41,end:42},{start:42,end:81},{start:81,end:41},{start:5,end:195},{start:195,end:51},{start:51,end:5},{start:57,end:43},{start:43,end:61},{start:61,end:57},{start:208,end:171},{start:171,end:199},{start:199,end:208},{start:41,end:81},{start:81,end:38},{start:38,end:41},{start:224,end:53},{start:53,end:225},{start:225,end:224},{start:24,end:144},{start:144,end:110},{start:110,end:24},{start:105,end:52},{start:52,end:66},{start:66,end:105},{start:118,end:229},{start:229,end:117},{start:117,end:118},{start:227,end:34},{start:34,end:234},{start:234,end:227},{start:66,end:107},{start:107,end:69},{start:69,end:66},{start:10,end:109},{start:109,end:151},{start:151,end:10},{start:219,end:48},{start:48,end:235},{start:235,end:219},{start:183,end:62},{start:62,end:191},{start:191,end:183},{start:142,end:129},{start:129,end:126},{start:126,end:142},{start:116,end:111},{start:111,end:143},{start:143,end:116},{start:118,end:117},{start:117,end:50},{start:50,end:118},{start:223,end:222},{start:222,end:52},{start:52,end:223},{start:94,end:19},{start:19,end:141},{start:141,end:94},{start:222,end:221},{start:221,end:65},{start:65,end:222},{start:196,end:3},{start:3,end:197},{start:197,end:196},{start:45,end:220},{start:220,end:44},{start:44,end:45},{start:156,end:70},{start:70,end:139},{start:139,end:156},{start:188,end:122},{start:122,end:245},{start:245,end:188},{start:139,end:71},{start:71,end:162},{start:162,end:139},{start:149,end:170},{start:170,end:150},{start:150,end:149},{start:122,end:188},{start:188,end:196},{start:196,end:122},{start:206,end:216},{start:216,end:92},{start:92,end:206},{start:164,end:2},{start:2,end:167},{start:167,end:164},{start:242,end:141},{start:141,end:241},{start:241,end:242},{start:0,end:164},{start:164,end:37},{start:37,end:0},{start:11,end:72},{start:72,end:12},{start:12,end:11},{start:12,end:38},{start:38,end:13},{start:13,end:12},{start:70,end:63},{start:63,end:71},{start:71,end:70},{start:31,end:226},{start:226,end:111},{start:111,end:31},{start:36,end:101},{start:101,end:205},{start:205,end:36},{start:203,end:206},{start:206,end:165},{start:165,end:203},{start:126,end:209},{start:209,end:217},{start:217,end:126},{start:98,end:165},{start:165,end:97},{start:97,end:98},{start:237,end:220},{start:220,end:218},{start:218,end:237},{start:237,end:239},{start:239,end:241},{start:241,end:237},{start:210,end:214},{start:214,end:169},{start:169,end:210},{start:140,end:171},{start:171,end:32},{start:32,end:140},{start:241,end:125},{start:125,end:237},{start:237,end:241},{start:179,end:86},{start:86,end:178},{start:178,end:179},{start:180,end:85},{start:85,end:179},{start:179,end:180},{start:181,end:84},{start:84,end:180},{start:180,end:181},{start:182,end:83},{start:83,end:181},{start:181,end:182},{start:194,end:201},{start:201,end:182},{start:182,end:194},{start:177,end:137},{start:137,end:132},{start:132,end:177},{start:184,end:76},{start:76,end:183},{start:183,end:184},{start:185,end:61},{start:61,end:184},{start:184,end:185},{start:186,end:57},{start:57,end:185},{start:185,end:186},{start:216,end:212},{start:212,end:186},{start:186,end:216},{start:192,end:214},{start:214,end:187},{start:187,end:192},{start:139,end:34},{start:34,end:156},{start:156,end:139},{start:218,end:79},{start:79,end:237},{start:237,end:218},{start:147,end:123},{start:123,end:177},{start:177,end:147},{start:45,end:44},{start:44,end:4},{start:4,end:45},{start:208,end:201},{start:201,end:32},{start:32,end:208},{start:98,end:64},{start:64,end:129},{start:129,end:98},{start:192,end:213},{start:213,end:138},{start:138,end:192},{start:235,end:59},{start:59,end:219},{start:219,end:235},{start:141,end:242},{start:242,end:97},{start:97,end:141},{start:97,end:2},{start:2,end:141},{start:141,end:97},{start:240,end:75},{start:75,end:235},{start:235,end:240},{start:229,end:24},{start:24,end:228},{start:228,end:229},{start:31,end:25},{start:25,end:226},{start:226,end:31},{start:230,end:23},{start:23,end:229},{start:229,end:230},{start:231,end:22},{start:22,end:230},{start:230,end:231},{start:232,end:26},{start:26,end:231},{start:231,end:232},{start:233,end:112},{start:112,end:232},{start:232,end:233},{start:244,end:189},{start:189,end:243},{start:243,end:244},{start:189,end:221},{start:221,end:190},{start:190,end:189},{start:222,end:28},{start:28,end:221},{start:221,end:222},{start:223,end:27},{start:27,end:222},{start:222,end:223},{start:224,end:29},{start:29,end:223},{start:223,end:224},{start:225,end:30},{start:30,end:224},{start:224,end:225},{start:113,end:247},{start:247,end:225},{start:225,end:113},{start:99,end:60},{start:60,end:240},{start:240,end:99},{start:213,end:147},{start:147,end:215},{start:215,end:213},{start:60,end:20},{start:20,end:166},{start:166,end:60},{start:192,end:187},{start:187,end:213},{start:213,end:192},{start:243,end:112},{start:112,end:244},{start:244,end:243},{start:244,end:233},{start:233,end:245},{start:245,end:244},{start:245,end:128},{start:128,end:188},{start:188,end:245},{start:188,end:114},{start:114,end:174},{start:174,end:188},{start:134,end:131},{start:131,end:220},{start:220,end:134},{start:174,end:217},{start:217,end:236},{start:236,end:174},{start:236,end:198},{start:198,end:134},{start:134,end:236},{start:215,end:177},{start:177,end:58},{start:58,end:215},{start:156,end:143},{start:143,end:124},{start:124,end:156},{start:25,end:110},{start:110,end:7},{start:7,end:25},{start:31,end:228},{start:228,end:25},{start:25,end:31},{start:264,end:356},{start:356,end:368},{start:368,end:264},{start:0,end:11},{start:11,end:267},{start:267,end:0},{start:451,end:452},{start:452,end:349},{start:349,end:451},{start:267,end:302},{start:302,end:269},{start:269,end:267},{start:350,end:357},{start:357,end:277},{start:277,end:350},{start:350,end:452},{start:452,end:357},{start:357,end:350},{start:299,end:333},{start:333,end:297},{start:297,end:299},{start:396,end:175},{start:175,end:377},{start:377,end:396},{start:280,end:347},{start:347,end:330},{start:330,end:280},{start:269,end:303},{start:303,end:270},{start:270,end:269},{start:151,end:9},{start:9,end:337},{start:337,end:151},{start:344,end:278},{start:278,end:360},{start:360,end:344},{start:424,end:418},{start:418,end:431},{start:431,end:424},{start:270,end:304},{start:304,end:409},{start:409,end:270},{start:272,end:310},{start:310,end:407},{start:407,end:272},{start:322,end:270},{start:270,end:410},{start:410,end:322},{start:449,end:450},{start:450,end:347},{start:347,end:449},{start:432,end:422},{start:422,end:434},{start:434,end:432},{start:18,end:313},{start:313,end:17},{start:17,end:18},{start:291,end:306},{start:306,end:375},{start:375,end:291},{start:259,end:387},{start:387,end:260},{start:260,end:259},{start:424,end:335},{start:335,end:418},{start:418,end:424},{start:434,end:364},{start:364,end:416},{start:416,end:434},{start:391,end:423},{start:423,end:327},{start:327,end:391},{start:301,end:251},{start:251,end:298},{start:298,end:301},{start:275,end:281},{start:281,end:4},{start:4,end:275},{start:254,end:373},{start:373,end:253},{start:253,end:254},{start:375,end:307},{start:307,end:321},{start:321,end:375},{start:280,end:425},{start:425,end:411},{start:411,end:280},{start:200,end:421},{start:421,end:18},{start:18,end:200},{start:335,end:321},{start:321,end:406},{start:406,end:335},{start:321,end:320},{start:320,end:405},{start:405,end:321},{start:314,end:315},{start:315,end:17},{start:17,end:314},{start:423,end:426},{start:426,end:266},{start:266,end:423},{start:396,end:377},{start:377,end:369},{start:369,end:396},{start:270,end:322},{start:322,end:269},{start:269,end:270},{start:413,end:417},{start:417,end:464},{start:464,end:413},{start:385,end:386},{start:386,end:258},{start:258,end:385},{start:248,end:456},{start:456,end:419},{start:419,end:248},{start:298,end:284},{start:284,end:333},{start:333,end:298},{start:168,end:417},{start:417,end:8},{start:8,end:168},{start:448,end:346},{start:346,end:261},{start:261,end:448},{start:417,end:413},{start:413,end:285},{start:285,end:417},{start:326,end:327},{start:327,end:328},{start:328,end:326},{start:277,end:355},{start:355,end:329},{start:329,end:277},{start:309,end:392},{start:392,end:438},{start:438,end:309},{start:381,end:382},{start:382,end:256},{start:256,end:381},{start:279,end:429},{start:429,end:360},{start:360,end:279},{start:365,end:364},{start:364,end:379},{start:379,end:365},{start:355,end:277},{start:277,end:437},{start:437,end:355},{start:282,end:443},{start:443,end:283},{start:283,end:282},{start:281,end:275},{start:275,end:363},{start:363,end:281},{start:395,end:431},{start:431,end:369},{start:369,end:395},{start:299,end:297},{start:297,end:337},{start:337,end:299},{start:335,end:273},{start:273,end:321},{start:321,end:335},{start:348,end:450},{start:450,end:349},{start:349,end:348},{start:359,end:446},{start:446,end:467},{start:467,end:359},{start:283,end:293},{start:293,end:282},{start:282,end:283},{start:250,end:458},{start:458,end:462},{start:462,end:250},{start:300,end:276},{start:276,end:383},{start:383,end:300},{start:292,end:308},{start:308,end:325},{start:325,end:292},{start:283,end:276},{start:276,end:293},{start:293,end:283},{start:264,end:372},{start:372,end:447},{start:447,end:264},{start:346,end:352},{start:352,end:340},{start:340,end:346},{start:354,end:274},{start:274,end:19},{start:19,end:354},{start:363,end:456},{start:456,end:281},{start:281,end:363},{start:426,end:436},{start:436,end:425},{start:425,end:426},{start:380,end:381},{start:381,end:252},{start:252,end:380},{start:267,end:269},{start:269,end:393},{start:393,end:267},{start:421,end:200},{start:200,end:428},{start:428,end:421},{start:371,end:266},{start:266,end:329},{start:329,end:371},{start:432,end:287},{start:287,end:422},{start:422,end:432},{start:290,end:250},{start:250,end:328},{start:328,end:290},{start:385,end:258},{start:258,end:384},{start:384,end:385},{start:446,end:265},{start:265,end:342},{start:342,end:446},{start:386,end:387},{start:387,end:257},{start:257,end:386},{start:422,end:424},{start:424,end:430},{start:430,end:422},{start:445,end:342},{start:342,end:276},{start:276,end:445},{start:422,end:273},{start:273,end:424},{start:424,end:422},{start:306,end:292},{start:292,end:307},{start:307,end:306},{start:352,end:366},{start:366,end:345},{start:345,end:352},{start:268,end:271},{start:271,end:302},{start:302,end:268},{start:358,end:423},{start:423,end:371},{start:371,end:358},{start:327,end:294},{start:294,end:460},{start:460,end:327},{start:331,end:279},{start:279,end:294},{start:294,end:331},{start:303,end:271},{start:271,end:304},{start:304,end:303},{start:436,end:432},{start:432,end:427},{start:427,end:436},{start:304,end:272},{start:272,end:408},{start:408,end:304},{start:395,end:394},{start:394,end:431},{start:431,end:395},{start:378,end:395},{start:395,end:400},{start:400,end:378},{start:296,end:334},{start:334,end:299},{start:299,end:296},{start:6,end:351},{start:351,end:168},{start:168,end:6},{start:376,end:352},{start:352,end:411},{start:411,end:376},{start:307,end:325},{start:325,end:320},{start:320,end:307},{start:285,end:295},{start:295,end:336},{start:336,end:285},{start:320,end:319},{start:319,end:404},{start:404,end:320},{start:329,end:330},{start:330,end:349},{start:349,end:329},{start:334,end:293},{start:293,end:333},{start:333,end:334},{start:366,end:323},{start:323,end:447},{start:447,end:366},{start:316,end:15},{start:15,end:315},{start:315,end:316},{start:331,end:358},{start:358,end:279},{start:279,end:331},{start:317,end:14},{start:14,end:316},{start:316,end:317},{start:8,end:285},{start:285,end:9},{start:9,end:8},{start:277,end:329},{start:329,end:350},{start:350,end:277},{start:253,end:374},{start:374,end:252},{start:252,end:253},{start:319,end:318},{start:318,end:403},{start:403,end:319},{start:351,end:6},{start:6,end:419},{start:419,end:351},{start:324,end:318},{start:318,end:325},{start:325,end:324},{start:397,end:367},{start:367,end:365},{start:365,end:397},{start:288,end:435},{start:435,end:397},{start:397,end:288},{start:278,end:344},{start:344,end:439},{start:439,end:278},{start:310,end:272},{start:272,end:311},{start:311,end:310},{start:248,end:195},{start:195,end:281},{start:281,end:248},{start:375,end:273},{start:273,end:291},{start:291,end:375},{start:175,end:396},{start:396,end:199},{start:199,end:175},{start:312,end:311},{start:311,end:268},{start:268,end:312},{start:276,end:283},{start:283,end:445},{start:445,end:276},{start:390,end:373},{start:373,end:339},{start:339,end:390},{start:295,end:282},{start:282,end:296},{start:296,end:295},{start:448,end:449},{start:449,end:346},{start:346,end:448},{start:356,end:264},{start:264,end:454},{start:454,end:356},{start:337,end:336},{start:336,end:299},{start:299,end:337},{start:337,end:338},{start:338,end:151},{start:151,end:337},{start:294,end:278},{start:278,end:455},{start:455,end:294},{start:308,end:292},{start:292,end:415},{start:415,end:308},{start:429,end:358},{start:358,end:355},{start:355,end:429},{start:265,end:340},{start:340,end:372},{start:372,end:265},{start:352,end:346},{start:346,end:280},{start:280,end:352},{start:295,end:442},{start:442,end:282},{start:282,end:295},{start:354,end:19},{start:19,end:370},{start:370,end:354},{start:285,end:441},{start:441,end:295},{start:295,end:285},{start:195,end:248},{start:248,end:197},{start:197,end:195},{start:457,end:440},{start:440,end:274},{start:274,end:457},{start:301,end:300},{start:300,end:368},{start:368,end:301},{start:417,end:351},{start:351,end:465},{start:465,end:417},{start:251,end:301},{start:301,end:389},{start:389,end:251},{start:394,end:395},{start:395,end:379},{start:379,end:394},{start:399,end:412},{start:412,end:419},{start:419,end:399},{start:410,end:436},{start:436,end:322},{start:322,end:410},{start:326,end:2},{start:2,end:393},{start:393,end:326},{start:354,end:370},{start:370,end:461},{start:461,end:354},{start:393,end:164},{start:164,end:267},{start:267,end:393},{start:268,end:302},{start:302,end:12},{start:12,end:268},{start:312,end:268},{start:268,end:13},{start:13,end:312},{start:298,end:293},{start:293,end:301},{start:301,end:298},{start:265,end:446},{start:446,end:340},{start:340,end:265},{start:280,end:330},{start:330,end:425},{start:425,end:280},{start:322,end:426},{start:426,end:391},{start:391,end:322},{start:420,end:429},{start:429,end:437},{start:437,end:420},{start:393,end:391},{start:391,end:326},{start:326,end:393},{start:344,end:440},{start:440,end:438},{start:438,end:344},{start:458,end:459},{start:459,end:461},{start:461,end:458},{start:364,end:434},{start:434,end:394},{start:394,end:364},{start:428,end:396},{start:396,end:262},{start:262,end:428},{start:274,end:354},{start:354,end:457},{start:457,end:274},{start:317,end:316},{start:316,end:402},{start:402,end:317},{start:316,end:315},{start:315,end:403},{start:403,end:316},{start:315,end:314},{start:314,end:404},{start:404,end:315},{start:314,end:313},{start:313,end:405},{start:405,end:314},{start:313,end:421},{start:421,end:406},{start:406,end:313},{start:323,end:366},{start:366,end:361},{start:361,end:323},{start:292,end:306},{start:306,end:407},{start:407,end:292},{start:306,end:291},{start:291,end:408},{start:408,end:306},{start:291,end:287},{start:287,end:409},{start:409,end:291},{start:287,end:432},{start:432,end:410},{start:410,end:287},{start:427,end:434},{start:434,end:411},{start:411,end:427},{start:372,end:264},{start:264,end:383},{start:383,end:372},{start:459,end:309},{start:309,end:457},{start:457,end:459},{start:366,end:352},{start:352,end:401},{start:401,end:366},{start:1,end:274},{start:274,end:4},{start:4,end:1},{start:418,end:421},{start:421,end:262},{start:262,end:418},{start:331,end:294},{start:294,end:358},{start:358,end:331},{start:435,end:433},{start:433,end:367},{start:367,end:435},{start:392,end:289},{start:289,end:439},{start:439,end:392},{start:328,end:462},{start:462,end:326},{start:326,end:328},{start:94,end:2},{start:2,end:370},{start:370,end:94},{start:289,end:305},{start:305,end:455},{start:455,end:289},{start:339,end:254},{start:254,end:448},{start:448,end:339},{start:359,end:255},{start:255,end:446},{start:446,end:359},{start:254,end:253},{start:253,end:449},{start:449,end:254},{start:253,end:252},{start:252,end:450},{start:450,end:253},{start:252,end:256},{start:256,end:451},{start:451,end:252},{start:256,end:341},{start:341,end:452},{start:452,end:256},{start:414,end:413},{start:413,end:463},{start:463,end:414},{start:286,end:441},{start:441,end:414},{start:414,end:286},{start:286,end:258},{start:258,end:441},{start:441,end:286},{start:258,end:257},{start:257,end:442},{start:442,end:258},{start:257,end:259},{start:259,end:443},{start:443,end:257},{start:259,end:260},{start:260,end:444},{start:444,end:259},{start:260,end:467},{start:467,end:445},{start:445,end:260},{start:309,end:459},{start:459,end:250},{start:250,end:309},{start:305,end:289},{start:289,end:290},{start:290,end:305},{start:305,end:290},{start:290,end:460},{start:460,end:305},{start:401,end:376},{start:376,end:435},{start:435,end:401},{start:309,end:250},{start:250,end:392},{start:392,end:309},{start:376,end:411},{start:411,end:433},{start:433,end:376},{start:453,end:341},{start:341,end:464},{start:464,end:453},{start:357,end:453},{start:453,end:465},{start:465,end:357},{start:343,end:357},{start:357,end:412},{start:412,end:343},{start:437,end:343},{start:343,end:399},{start:399,end:437},{start:344,end:360},{start:360,end:440},{start:440,end:344},{start:420,end:437},{start:437,end:456},{start:456,end:420},{start:360,end:420},{start:420,end:363},{start:363,end:360},{start:361,end:401},{start:401,end:288},{start:288,end:361},{start:265,end:372},{start:372,end:353},{start:353,end:265},{start:390,end:339},{start:339,end:249},{start:249,end:390},{start:339,end:448},{start:448,end:255},{start:255,end:339}];var face_landmarker_options={};Object.defineProperty(face_landmarker_options,"__esModule",{value:!0});var face_landmarker_result={};Object.defineProperty(face_landmarker_result,"__esModule",{value:!0}),function(u){var p=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(I,P,G,z){z===void 0&&(z=G);var j=Object.getOwnPropertyDescriptor(P,G);j&&!("get"in j?!P.__esModule:j.writable||j.configurable)||(j={enumerable:!0,get:function(){return P[G]}}),Object.defineProperty(I,z,j)}:function(I,P,G,z){z===void 0&&(z=G),I[z]=P[G]}),g=commonjsGlobal&&commonjsGlobal.__exportStar||function(I,P){for(var G in I)G==="default"||Object.prototype.hasOwnProperty.call(P,G)||p(P,I,G)};Object.defineProperty(u,"__esModule",{value:!0}),u.FaceLandmarker=void 0;const _=calculator_pb,y=calculator_options_pb,m=classification_pb,h=landmark_pb,b=base_options_pb,x=face_detector_graph_options_pb,O=face_geometry_pb,T=face_landmarker_graph_options_pb,E=face_landmarks_detector_graph_options_pb,M=classifier_result,F=landmark_result,B=vision_task_runner,S=face_landmarks_connections;g(face_landmarker_options,u),g(face_landmarker_result,u);const w="image_in",C="norm_rect",D="face_landmarks",L="blendshapes",R="face_geometry",k=.5;class A extends B.VisionTaskRunner{static createFromOptions(P,G){return B.VisionTaskRunner.createVisionInstance(A,P,G)}static createFromModelBuffer(P,G){return B.VisionTaskRunner.createVisionInstance(A,P,{baseOptions:{modelAssetBuffer:G}})}static createFromModelPath(P,G){return B.VisionTaskRunner.createVisionInstance(A,P,{baseOptions:{modelAssetPath:G}})}constructor(P,G){super(new B.VisionGraphRunner(P,G),w,C,!1),this.result={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]},this.outputFaceBlendshapes=!1,this.outputFacialTransformationMatrixes=!1,this.options=new T.FaceLandmarkerGraphOptions,this.options.setBaseOptions(new b.BaseOptions),this.faceLandmarksDetectorGraphOptions=new E.FaceLandmarksDetectorGraphOptions,this.options.setFaceLandmarksDetectorGraphOptions(this.faceLandmarksDetectorGraphOptions),this.faceDetectorGraphOptions=new x.FaceDetectorGraphOptions,this.options.setFaceDetectorGraphOptions(this.faceDetectorGraphOptions),this.initDefaults()}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(P){this.options.setBaseOptions(P)}setOptions(P){var G,z,j,N;return"numFaces"in P&&this.faceDetectorGraphOptions.setNumFaces((G=P.numFaces)!==null&&G!==void 0?G:1),"minFaceDetectionConfidence"in P&&this.faceDetectorGraphOptions.setMinDetectionConfidence((z=P.minFaceDetectionConfidence)!==null&&z!==void 0?z:k),"minTrackingConfidence"in P&&this.options.setMinTrackingConfidence((j=P.minTrackingConfidence)!==null&&j!==void 0?j:k),"minFacePresenceConfidence"in P&&this.faceLandmarksDetectorGraphOptions.setMinDetectionConfidence((N=P.minFacePresenceConfidence)!==null&&N!==void 0?N:k),"outputFaceBlendshapes"in P&&(this.outputFaceBlendshapes=!!P.outputFaceBlendshapes),"outputFacialTransformationMatrixes"in P&&(this.outputFacialTransformationMatrixes=!!P.outputFacialTransformationMatrixes),this.applyOptions(P)}detect(P,G){return this.resetResults(),this.processImageData(P,G),this.result}detectForVideo(P,G,z){return this.resetResults(),this.processVideoData(P,z,G),this.result}resetResults(){this.result={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]}}initDefaults(){this.faceDetectorGraphOptions.setNumFaces(1),this.faceDetectorGraphOptions.setMinDetectionConfidence(k),this.faceLandmarksDetectorGraphOptions.setMinDetectionConfidence(k),this.options.setMinTrackingConfidence(k)}addJsLandmarks(P){for(const G of P){const z=h.NormalizedLandmarkList.deserializeBinary(G);this.result.faceLandmarks.push((0,F.convertToLandmarks)(z))}}addBlenshape(P){var G;if(this.outputFaceBlendshapes)for(const z of P){const j=m.ClassificationList.deserializeBinary(z);this.result.faceBlendshapes.push((0,M.convertFromClassifications)((G=j.getClassificationList())!==null&&G!==void 0?G:[]))}}addFacialTransformationMatrixes(P){var G,z,j;if(this.outputFacialTransformationMatrixes)for(const N of P){const W=O.FaceGeometry.deserializeBinary(N).getPoseTransformMatrix();W&&this.result.facialTransformationMatrixes.push({rows:(G=W.getRows())!==null&&G!==void 0?G:0,columns:(z=W.getCols())!==null&&z!==void 0?z:0,data:(j=W.getPackedDataList())!==null&&j!==void 0?j:[]})}}refreshGraph(){const P=new _.CalculatorGraphConfig;P.addInputStream(w),P.addInputStream(C),P.addOutputStream(D);const G=new y.CalculatorOptions;G.setExtension(T.FaceLandmarkerGraphOptions.ext,this.options);const z=new _.CalculatorGraphConfig.Node;z.setCalculator("mediapipe.tasks.vision.face_landmarker.FaceLandmarkerGraph"),z.addInputStream("IMAGE:"+w),z.addInputStream("NORM_RECT:"+C),z.addOutputStream("NORM_LANDMARKS:"+D),z.setOptions(G),P.addNode(z),this.graphRunner.attachProtoVectorListener(D,(N,W)=>{this.addJsLandmarks(N),this.setLatestOutputTimestamp(W)}),this.graphRunner.attachEmptyPacketListener(D,N=>{this.setLatestOutputTimestamp(N)}),this.outputFaceBlendshapes&&(P.addOutputStream(L),z.addOutputStream("BLENDSHAPES:"+L),this.graphRunner.attachProtoVectorListener(L,(N,W)=>{this.addBlenshape(N),this.setLatestOutputTimestamp(W)}),this.graphRunner.attachEmptyPacketListener(L,N=>{this.setLatestOutputTimestamp(N)})),this.outputFacialTransformationMatrixes&&(P.addOutputStream(R),z.addOutputStream("FACE_GEOMETRY:"+R),this.graphRunner.attachProtoVectorListener(R,(N,W)=>{this.addFacialTransformationMatrixes(N),this.setLatestOutputTimestamp(W)}),this.graphRunner.attachEmptyPacketListener(R,N=>{this.setLatestOutputTimestamp(N)}));const j=P.serializeBinary();this.setGraph(new Uint8Array(j),!0)}}u.FaceLandmarker=A,A.FACE_LANDMARKS_LIPS=S.FACE_LANDMARKS_LIPS,A.FACE_LANDMARKS_LEFT_EYE=S.FACE_LANDMARKS_LEFT_EYE,A.FACE_LANDMARKS_LEFT_EYEBROW=S.FACE_LANDMARKS_LEFT_EYEBROW,A.FACE_LANDMARKS_LEFT_IRIS=S.FACE_LANDMARKS_LEFT_IRIS,A.FACE_LANDMARKS_RIGHT_EYE=S.FACE_LANDMARKS_RIGHT_EYE,A.FACE_LANDMARKS_RIGHT_EYEBROW=S.FACE_LANDMARKS_RIGHT_EYEBROW,A.FACE_LANDMARKS_RIGHT_IRIS=S.FACE_LANDMARKS_RIGHT_IRIS,A.FACE_LANDMARKS_FACE_OVAL=S.FACE_LANDMARKS_FACE_OVAL,A.FACE_LANDMARKS_CONTOURS=S.FACE_LANDMARKS_CONTOURS,A.FACE_LANDMARKS_TESSELATION=S.FACE_LANDMARKS_TESSELATION}(face_landmarker);var face_stylizer={},face_stylizer_graph_options_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_pb;g.object.extend(proto,y);var m=calculator_options_pb;g.object.extend(proto,m);var h=base_options_pb;g.object.extend(proto,h);var b=face_landmarker_graph_options_pb;g.object.extend(proto,b),g.exportSymbol("proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions",null,_),proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions=function(x){p.Message.initialize(this,x,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.displayName="proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.toObject=function(x){return proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject(x,this)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject=function(x,O){var T,E={baseOptions:(T=O.getBaseOptions())&&h.BaseOptions.toObject(x,T),faceLandmarkerGraphOptions:(T=O.getFaceLandmarkerGraphOptions())&&b.FaceLandmarkerGraphOptions.toObject(x,T),faceAlignmentSize:p.Message.getFieldWithDefault(O,3,256)};return x&&(E.$jspbMessageInstance=O),E}),proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinary=function(x){var O=new p.BinaryReader(x),T=new proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions;return proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader(T,O)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader=function(x,O){for(;O.nextField()&&!O.isEndGroup();)switch(O.getFieldNumber()){case 1:var T=new h.BaseOptions;O.readMessage(T,h.BaseOptions.deserializeBinaryFromReader),x.setBaseOptions(T);break;case 2:T=new b.FaceLandmarkerGraphOptions,O.readMessage(T,b.FaceLandmarkerGraphOptions.deserializeBinaryFromReader),x.setFaceLandmarkerGraphOptions(T);break;case 3:T=O.readInt32(),x.setFaceAlignmentSize(T);break;default:O.skipField()}return x},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.serializeBinary=function(){var x=new p.BinaryWriter;return proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter(this,x),x.getResultBuffer()},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter=function(x,O){var T=void 0;(T=x.getBaseOptions())!=null&&O.writeMessage(1,T,h.BaseOptions.serializeBinaryToWriter),(T=x.getFaceLandmarkerGraphOptions())!=null&&O.writeMessage(2,T,b.FaceLandmarkerGraphOptions.serializeBinaryToWriter),(T=p.Message.getField(x,3))!=null&&O.writeInt32(3,T)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext=new p.ExtensionFieldInfo(513916220,{ext:0},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[513916220]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[513916220]=proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.getBaseOptions=function(){return p.Message.getWrapperField(this,h.BaseOptions,1)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.setBaseOptions=function(x){return p.Message.setWrapperField(this,1,x)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.hasBaseOptions=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.getFaceLandmarkerGraphOptions=function(){return p.Message.getWrapperField(this,b.FaceLandmarkerGraphOptions,2)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.setFaceLandmarkerGraphOptions=function(x){return p.Message.setWrapperField(this,2,x)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.clearFaceLandmarkerGraphOptions=function(){return this.setFaceLandmarkerGraphOptions(void 0)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.hasFaceLandmarkerGraphOptions=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.getFaceAlignmentSize=function(){return p.Message.getFieldWithDefault(this,3,256)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.setFaceAlignmentSize=function(x){return p.Message.setField(this,3,x)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.clearFaceAlignmentSize=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.prototype.hasFaceAlignmentSize=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext=new p.ExtensionFieldInfo(513916220,{ext:0},proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[513916220]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[513916220]=proto.mediapipe.tasks.vision.face_stylizer.proto.FaceStylizerGraphOptions.ext,g.object.extend(u,proto.mediapipe.tasks.vision.face_stylizer.proto)})(face_stylizer_graph_options_pb);var face_stylizer_options={};Object.defineProperty(face_stylizer_options,"__esModule",{value:!0}),function(u){var p=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(M,F,B,S){S===void 0&&(S=B);var w=Object.getOwnPropertyDescriptor(F,B);w&&!("get"in w?!F.__esModule:w.writable||w.configurable)||(w={enumerable:!0,get:function(){return F[B]}}),Object.defineProperty(M,S,w)}:function(M,F,B,S){S===void 0&&(S=B),M[S]=F[B]}),g=commonjsGlobal&&commonjsGlobal.__exportStar||function(M,F){for(var B in M)B==="default"||Object.prototype.hasOwnProperty.call(F,B)||p(F,M,B)};Object.defineProperty(u,"__esModule",{value:!0}),u.FaceStylizer=void 0;const _=calculator_pb,y=calculator_options_pb,m=base_options_pb,h=face_stylizer_graph_options_pb,b=vision_task_runner;g(face_stylizer_options,u);const x="image_in",O="norm_rect",T="stylized_image";class E extends b.VisionTaskRunner{static createFromOptions(F,B){return b.VisionTaskRunner.createVisionInstance(E,F,B)}static createFromModelBuffer(F,B){return b.VisionTaskRunner.createVisionInstance(E,F,{baseOptions:{modelAssetBuffer:B}})}static createFromModelPath(F,B){return b.VisionTaskRunner.createVisionInstance(E,F,{baseOptions:{modelAssetPath:B}})}constructor(F,B){super(new b.VisionGraphRunner(F,B),x,O,!0),this.options=new h.FaceStylizerGraphOptions,this.options.setBaseOptions(new m.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(F){this.options.setBaseOptions(F)}setOptions(F){return super.applyOptions(F)}stylize(F,B,S){const w=typeof B!="function"?B:{};if(this.userCallback=typeof B=="function"?B:S,this.processImageData(F,w??{}),!this.userCallback)return this.result}stylizeForVideo(F,B,S,w){const C=typeof S!="function"?S:{};if(this.userCallback=typeof S=="function"?S:w,this.processVideoData(F,C,B),this.userCallback=void 0,!this.userCallback)return this.result}refreshGraph(){const F=new _.CalculatorGraphConfig;F.addInputStream(x),F.addInputStream(O),F.addOutputStream(T);const B=new y.CalculatorOptions;B.setExtension(h.FaceStylizerGraphOptions.ext,this.options);const S=new _.CalculatorGraphConfig.Node;S.setCalculator("mediapipe.tasks.vision.face_stylizer.FaceStylizerGraph"),S.addInputStream("IMAGE:"+x),S.addInputStream("NORM_RECT:"+O),S.addOutputStream("STYLIZED_IMAGE:"+T),S.setOptions(B),F.addNode(S),this.graphRunner.attachImageListener(T,(C,D)=>{const L=this.convertToMPImage(C,!this.userCallback);this.result=L,this.userCallback&&this.userCallback(L),this.setLatestOutputTimestamp(D)}),this.graphRunner.attachEmptyPacketListener(T,C=>{this.result=null,this.userCallback&&this.userCallback(null),this.setLatestOutputTimestamp(C)});const w=F.serializeBinary();this.setGraph(new Uint8Array(w),!0)}}u.FaceStylizer=E}(face_stylizer);var gesture_recognizer={},gesture_classifier_graph_options_pb={},classifier_options_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();g.exportSymbol("proto.mediapipe.tasks.components.processors.proto.ClassifierOptions",null,_),proto.mediapipe.tasks.components.processors.proto.ClassifierOptions=function(y){p.Message.initialize(this,y,0,-1,proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.repeatedFields_,null)},g.inherits(proto.mediapipe.tasks.components.processors.proto.ClassifierOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.displayName="proto.mediapipe.tasks.components.processors.proto.ClassifierOptions"),proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.repeatedFields_=[4,5],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.toObject=function(y){return proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.toObject(y,this)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.toObject=function(y,m){var h,b={displayNamesLocale:p.Message.getFieldWithDefault(m,1,"en"),maxResults:p.Message.getFieldWithDefault(m,2,-1),scoreThreshold:(h=p.Message.getOptionalFloatingPointField(m,3))==null?void 0:h,categoryAllowlistList:(h=p.Message.getRepeatedField(m,4))==null?void 0:h,categoryDenylistList:(h=p.Message.getRepeatedField(m,5))==null?void 0:h};return y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.tasks.components.processors.proto.ClassifierOptions;return proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.deserializeBinaryFromReader(h,m)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var h=m.readString();y.setDisplayNamesLocale(h);break;case 2:h=m.readInt32(),y.setMaxResults(h);break;case 3:h=m.readFloat(),y.setScoreThreshold(h);break;case 4:h=m.readString(),y.addCategoryAllowlist(h);break;case 5:h=m.readString(),y.addCategoryDenylist(h);break;default:m.skipField()}return y},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.serializeBinaryToWriter=function(y,m){var h=void 0;(h=p.Message.getField(y,1))!=null&&m.writeString(1,h),(h=p.Message.getField(y,2))!=null&&m.writeInt32(2,h),(h=p.Message.getField(y,3))!=null&&m.writeFloat(3,h),(h=y.getCategoryAllowlistList()).length>0&&m.writeRepeatedString(4,h),(h=y.getCategoryDenylistList()).length>0&&m.writeRepeatedString(5,h)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getDisplayNamesLocale=function(){return p.Message.getFieldWithDefault(this,1,"en")},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setDisplayNamesLocale=function(y){return p.Message.setField(this,1,y)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearDisplayNamesLocale=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.hasDisplayNamesLocale=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getMaxResults=function(){return p.Message.getFieldWithDefault(this,2,-1)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setMaxResults=function(y){return p.Message.setField(this,2,y)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearMaxResults=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.hasMaxResults=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getScoreThreshold=function(){return p.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setScoreThreshold=function(y){return p.Message.setField(this,3,y)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearScoreThreshold=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.hasScoreThreshold=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getCategoryAllowlistList=function(){return p.Message.getRepeatedField(this,4)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setCategoryAllowlistList=function(y){return p.Message.setField(this,4,y||[])},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.addCategoryAllowlist=function(y,m){return p.Message.addToRepeatedField(this,4,y,m)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearCategoryAllowlistList=function(){return this.setCategoryAllowlistList([])},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.getCategoryDenylistList=function(){return p.Message.getRepeatedField(this,5)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.setCategoryDenylistList=function(y){return p.Message.setField(this,5,y||[])},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.addCategoryDenylist=function(y,m){return p.Message.addToRepeatedField(this,5,y,m)},proto.mediapipe.tasks.components.processors.proto.ClassifierOptions.prototype.clearCategoryDenylistList=function(){return this.setCategoryDenylistList([])},g.object.extend(u,proto.mediapipe.tasks.components.processors.proto)})(classifier_options_pb),function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_pb;g.object.extend(proto,y);var m=calculator_options_pb;g.object.extend(proto,m);var h=classifier_options_pb;g.object.extend(proto,h);var b=base_options_pb;g.object.extend(proto,b),g.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions",null,_),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions=function(x){p.Message.initialize(this,x,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.toObject=function(x){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject(x,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject=function(x,O){var T,E={baseOptions:(T=O.getBaseOptions())&&b.BaseOptions.toObject(x,T),classifierOptions:(T=O.getClassifierOptions())&&h.ClassifierOptions.toObject(x,T)};return x&&(E.$jspbMessageInstance=O),E}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinary=function(x){var O=new p.BinaryReader(x),T=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader(T,O)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader=function(x,O){for(;O.nextField()&&!O.isEndGroup();)switch(O.getFieldNumber()){case 1:var T=new b.BaseOptions;O.readMessage(T,b.BaseOptions.deserializeBinaryFromReader),x.setBaseOptions(T);break;case 2:T=new h.ClassifierOptions,O.readMessage(T,h.ClassifierOptions.deserializeBinaryFromReader),x.setClassifierOptions(T);break;default:O.skipField()}return x},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.serializeBinary=function(){var x=new p.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter(this,x),x.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter=function(x,O){var T=void 0;(T=x.getBaseOptions())!=null&&O.writeMessage(1,T,b.BaseOptions.serializeBinaryToWriter),(T=x.getClassifierOptions())!=null&&O.writeMessage(2,T,h.ClassifierOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext=new p.ExtensionFieldInfo(478825465,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[478825465]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[478825465]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.getBaseOptions=function(){return p.Message.getWrapperField(this,b.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.setBaseOptions=function(x){return p.Message.setWrapperField(this,1,x)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.hasBaseOptions=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.getClassifierOptions=function(){return p.Message.getWrapperField(this,h.ClassifierOptions,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.setClassifierOptions=function(x){return p.Message.setWrapperField(this,2,x)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.clearClassifierOptions=function(){return this.setClassifierOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.prototype.hasClassifierOptions=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext=new p.ExtensionFieldInfo(478825465,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[478825465]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[478825465]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureClassifierGraphOptions.ext,g.object.extend(u,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(gesture_classifier_graph_options_pb);var gesture_recognizer_graph_options_pb={},hand_gesture_recognizer_graph_options_pb={},gesture_embedder_graph_options_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_pb;g.object.extend(proto,y);var m=calculator_options_pb;g.object.extend(proto,m);var h=base_options_pb;g.object.extend(proto,h),g.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions",null,_),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions=function(b){p.Message.initialize(this,b,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.toObject=function(b){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject(b,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject=function(b,x){var O,T={baseOptions:(O=x.getBaseOptions())&&h.BaseOptions.toObject(b,O)};return b&&(T.$jspbMessageInstance=x),T}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinary=function(b){var x=new p.BinaryReader(b),O=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader(O,x)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader=function(b,x){for(;x.nextField()&&!x.isEndGroup();)if(x.getFieldNumber()===1){var O=new h.BaseOptions;x.readMessage(O,h.BaseOptions.deserializeBinaryFromReader),b.setBaseOptions(O)}else x.skipField();return b},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.serializeBinary=function(){var b=new p.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter(this,b),b.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter=function(b,x){var O;(O=b.getBaseOptions())!=null&&x.writeMessage(1,O,h.BaseOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext=new p.ExtensionFieldInfo(478825422,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[478825422]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[478825422]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.getBaseOptions=function(){return p.Message.getWrapperField(this,h.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.setBaseOptions=function(b){return p.Message.setWrapperField(this,1,b)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.prototype.hasBaseOptions=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext=new p.ExtensionFieldInfo(478825422,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[478825422]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[478825422]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureEmbedderGraphOptions.ext,g.object.extend(u,proto.mediapipe.tasks.vision.gesture_recognizer.proto)})(gesture_embedder_graph_options_pb),function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_pb;g.object.extend(proto,y);var m=calculator_options_pb;g.object.extend(proto,m);var h=base_options_pb;g.object.extend(proto,h);var b=gesture_classifier_graph_options_pb;g.object.extend(proto,b);var x=gesture_embedder_graph_options_pb;g.object.extend(proto,x),g.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions",null,_),proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions=function(O){p.Message.initialize(this,O,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.toObject=function(O){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject(O,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject=function(O,T){var E,M={baseOptions:(E=T.getBaseOptions())&&h.BaseOptions.toObject(O,E),gestureEmbedderGraphOptions:(E=T.getGestureEmbedderGraphOptions())&&x.GestureEmbedderGraphOptions.toObject(O,E),cannedGestureClassifierGraphOptions:(E=T.getCannedGestureClassifierGraphOptions())&&b.GestureClassifierGraphOptions.toObject(O,E),customGestureClassifierGraphOptions:(E=T.getCustomGestureClassifierGraphOptions())&&b.GestureClassifierGraphOptions.toObject(O,E)};return O&&(M.$jspbMessageInstance=T),M}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinary=function(O){var T=new p.BinaryReader(O),E=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader(E,T)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader=function(O,T){for(;T.nextField()&&!T.isEndGroup();)switch(T.getFieldNumber()){case 1:var E=new h.BaseOptions;T.readMessage(E,h.BaseOptions.deserializeBinaryFromReader),O.setBaseOptions(E);break;case 2:E=new x.GestureEmbedderGraphOptions,T.readMessage(E,x.GestureEmbedderGraphOptions.deserializeBinaryFromReader),O.setGestureEmbedderGraphOptions(E);break;case 3:E=new b.GestureClassifierGraphOptions,T.readMessage(E,b.GestureClassifierGraphOptions.deserializeBinaryFromReader),O.setCannedGestureClassifierGraphOptions(E);break;case 4:E=new b.GestureClassifierGraphOptions,T.readMessage(E,b.GestureClassifierGraphOptions.deserializeBinaryFromReader),O.setCustomGestureClassifierGraphOptions(E);break;default:T.skipField()}return O},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.serializeBinary=function(){var O=new p.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter(this,O),O.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter=function(O,T){var E=void 0;(E=O.getBaseOptions())!=null&&T.writeMessage(1,E,h.BaseOptions.serializeBinaryToWriter),(E=O.getGestureEmbedderGraphOptions())!=null&&T.writeMessage(2,E,x.GestureEmbedderGraphOptions.serializeBinaryToWriter),(E=O.getCannedGestureClassifierGraphOptions())!=null&&T.writeMessage(3,E,b.GestureClassifierGraphOptions.serializeBinaryToWriter),(E=O.getCustomGestureClassifierGraphOptions())!=null&&T.writeMessage(4,E,b.GestureClassifierGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext=new p.ExtensionFieldInfo(463370452,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[463370452]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[463370452]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getBaseOptions=function(){return p.Message.getWrapperField(this,h.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setBaseOptions=function(O){return p.Message.setWrapperField(this,1,O)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasBaseOptions=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getGestureEmbedderGraphOptions=function(){return p.Message.getWrapperField(this,x.GestureEmbedderGraphOptions,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setGestureEmbedderGraphOptions=function(O){return p.Message.setWrapperField(this,2,O)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearGestureEmbedderGraphOptions=function(){return this.setGestureEmbedderGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasGestureEmbedderGraphOptions=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getCannedGestureClassifierGraphOptions=function(){return p.Message.getWrapperField(this,b.GestureClassifierGraphOptions,3)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setCannedGestureClassifierGraphOptions=function(O){return p.Message.setWrapperField(this,3,O)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearCannedGestureClassifierGraphOptions=function(){return this.setCannedGestureClassifierGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasCannedGestureClassifierGraphOptions=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.getCustomGestureClassifierGraphOptions=function(){return p.Message.getWrapperField(this,b.GestureClassifierGraphOptions,4)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.setCustomGestureClassifierGraphOptions=function(O){return p.Message.setWrapperField(this,4,O)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.clearCustomGestureClassifierGraphOptions=function(){return this.setCustomGestureClassifierGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.prototype.hasCustomGestureClassifierGraphOptions=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext=new p.ExtensionFieldInfo(463370452,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[463370452]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[463370452]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.HandGestureRecognizerGraphOptions.ext,g.object.extend(u,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(hand_gesture_recognizer_graph_options_pb);var hand_landmarker_graph_options_pb={},hand_detector_graph_options_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_pb;g.object.extend(proto,y);var m=calculator_options_pb;g.object.extend(proto,m);var h=base_options_pb;g.object.extend(proto,h),g.exportSymbol("proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions",null,_),proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions=function(b){p.Message.initialize(this,b,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.toObject=function(b){return proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject(b,this)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject=function(b,x){var O,T={baseOptions:(O=x.getBaseOptions())&&h.BaseOptions.toObject(b,O),minDetectionConfidence:p.Message.getFloatingPointFieldWithDefault(x,2,.5),numHands:(O=p.Message.getField(x,3))==null?void 0:O};return b&&(T.$jspbMessageInstance=x),T}),proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinary=function(b){var x=new p.BinaryReader(b),O=new proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions;return proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader(O,x)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader=function(b,x){for(;x.nextField()&&!x.isEndGroup();)switch(x.getFieldNumber()){case 1:var O=new h.BaseOptions;x.readMessage(O,h.BaseOptions.deserializeBinaryFromReader),b.setBaseOptions(O);break;case 2:O=x.readFloat(),b.setMinDetectionConfidence(O);break;case 3:O=x.readInt32(),b.setNumHands(O);break;default:x.skipField()}return b},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.serializeBinary=function(){var b=new p.BinaryWriter;return proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter(this,b),b.getResultBuffer()},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter=function(b,x){var O=void 0;(O=b.getBaseOptions())!=null&&x.writeMessage(1,O,h.BaseOptions.serializeBinaryToWriter),(O=p.Message.getField(b,2))!=null&&x.writeFloat(2,O),(O=p.Message.getField(b,3))!=null&&x.writeInt32(3,O)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext=new p.ExtensionFieldInfo(464864288,{ext:0},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[464864288]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[464864288]=proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.getBaseOptions=function(){return p.Message.getWrapperField(this,h.BaseOptions,1)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.setBaseOptions=function(b){return p.Message.setWrapperField(this,1,b)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.hasBaseOptions=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return p.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.setMinDetectionConfidence=function(b){return p.Message.setField(this,2,b)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.getNumHands=function(){return p.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.setNumHands=function(b){return p.Message.setField(this,3,b)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.clearNumHands=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.prototype.hasNumHands=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext=new p.ExtensionFieldInfo(464864288,{ext:0},proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[464864288]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[464864288]=proto.mediapipe.tasks.vision.hand_detector.proto.HandDetectorGraphOptions.ext,g.object.extend(u,proto.mediapipe.tasks.vision.hand_detector.proto)})(hand_detector_graph_options_pb);var hand_landmarks_detector_graph_options_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_pb;g.object.extend(proto,y);var m=calculator_options_pb;g.object.extend(proto,m);var h=base_options_pb;g.object.extend(proto,h),g.exportSymbol("proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions",null,_),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions=function(b){p.Message.initialize(this,b,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.toObject=function(b){return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject(b,this)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject=function(b,x){var O,T={baseOptions:(O=x.getBaseOptions())&&h.BaseOptions.toObject(b,O),minDetectionConfidence:p.Message.getFloatingPointFieldWithDefault(x,2,.5)};return b&&(T.$jspbMessageInstance=x),T}),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinary=function(b){var x=new p.BinaryReader(b),O=new proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader(O,x)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader=function(b,x){for(;x.nextField()&&!x.isEndGroup();)switch(x.getFieldNumber()){case 1:var O=new h.BaseOptions;x.readMessage(O,h.BaseOptions.deserializeBinaryFromReader),b.setBaseOptions(O);break;case 2:O=x.readFloat(),b.setMinDetectionConfidence(O);break;default:x.skipField()}return b},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.serializeBinary=function(){var b=new p.BinaryWriter;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter(this,b),b.getResultBuffer()},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter=function(b,x){var O=void 0;(O=b.getBaseOptions())!=null&&x.writeMessage(1,O,h.BaseOptions.serializeBinaryToWriter),(O=p.Message.getField(b,2))!=null&&x.writeFloat(2,O)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext=new p.ExtensionFieldInfo(474472470,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[474472470]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[474472470]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.getBaseOptions=function(){return p.Message.getWrapperField(this,h.BaseOptions,1)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.setBaseOptions=function(b){return p.Message.setWrapperField(this,1,b)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.hasBaseOptions=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return p.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.setMinDetectionConfidence=function(b){return p.Message.setField(this,2,b)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext=new p.ExtensionFieldInfo(474472470,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[474472470]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[474472470]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarksDetectorGraphOptions.ext,g.object.extend(u,proto.mediapipe.tasks.vision.hand_landmarker.proto)})(hand_landmarks_detector_graph_options_pb),function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_pb;g.object.extend(proto,y);var m=calculator_options_pb;g.object.extend(proto,m);var h=base_options_pb;g.object.extend(proto,h);var b=hand_detector_graph_options_pb;g.object.extend(proto,b);var x=hand_landmarks_detector_graph_options_pb;g.object.extend(proto,x),g.exportSymbol("proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions",null,_),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions=function(O){p.Message.initialize(this,O,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.displayName="proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.toObject=function(O){return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject(O,this)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject=function(O,T){var E,M={baseOptions:(E=T.getBaseOptions())&&h.BaseOptions.toObject(O,E),handDetectorGraphOptions:(E=T.getHandDetectorGraphOptions())&&b.HandDetectorGraphOptions.toObject(O,E),handLandmarksDetectorGraphOptions:(E=T.getHandLandmarksDetectorGraphOptions())&&x.HandLandmarksDetectorGraphOptions.toObject(O,E),minTrackingConfidence:p.Message.getFloatingPointFieldWithDefault(T,4,.5)};return O&&(M.$jspbMessageInstance=T),M}),proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinary=function(O){var T=new p.BinaryReader(O),E=new proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader(E,T)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader=function(O,T){for(;T.nextField()&&!T.isEndGroup();)switch(T.getFieldNumber()){case 1:var E=new h.BaseOptions;T.readMessage(E,h.BaseOptions.deserializeBinaryFromReader),O.setBaseOptions(E);break;case 2:E=new b.HandDetectorGraphOptions,T.readMessage(E,b.HandDetectorGraphOptions.deserializeBinaryFromReader),O.setHandDetectorGraphOptions(E);break;case 3:E=new x.HandLandmarksDetectorGraphOptions,T.readMessage(E,x.HandLandmarksDetectorGraphOptions.deserializeBinaryFromReader),O.setHandLandmarksDetectorGraphOptions(E);break;case 4:E=T.readFloat(),O.setMinTrackingConfidence(E);break;default:T.skipField()}return O},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.serializeBinary=function(){var O=new p.BinaryWriter;return proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter(this,O),O.getResultBuffer()},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter=function(O,T){var E=void 0;(E=O.getBaseOptions())!=null&&T.writeMessage(1,E,h.BaseOptions.serializeBinaryToWriter),(E=O.getHandDetectorGraphOptions())!=null&&T.writeMessage(2,E,b.HandDetectorGraphOptions.serializeBinaryToWriter),(E=O.getHandLandmarksDetectorGraphOptions())!=null&&T.writeMessage(3,E,x.HandLandmarksDetectorGraphOptions.serializeBinaryToWriter),(E=p.Message.getField(O,4))!=null&&T.writeFloat(4,E)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext=new p.ExtensionFieldInfo(462713202,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[462713202]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[462713202]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getBaseOptions=function(){return p.Message.getWrapperField(this,h.BaseOptions,1)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setBaseOptions=function(O){return p.Message.setWrapperField(this,1,O)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasBaseOptions=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getHandDetectorGraphOptions=function(){return p.Message.getWrapperField(this,b.HandDetectorGraphOptions,2)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setHandDetectorGraphOptions=function(O){return p.Message.setWrapperField(this,2,O)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearHandDetectorGraphOptions=function(){return this.setHandDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasHandDetectorGraphOptions=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getHandLandmarksDetectorGraphOptions=function(){return p.Message.getWrapperField(this,x.HandLandmarksDetectorGraphOptions,3)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setHandLandmarksDetectorGraphOptions=function(O){return p.Message.setWrapperField(this,3,O)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearHandLandmarksDetectorGraphOptions=function(){return this.setHandLandmarksDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasHandLandmarksDetectorGraphOptions=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.getMinTrackingConfidence=function(){return p.Message.getFloatingPointFieldWithDefault(this,4,.5)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.setMinTrackingConfidence=function(O){return p.Message.setField(this,4,O)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.clearMinTrackingConfidence=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.prototype.hasMinTrackingConfidence=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext=new p.ExtensionFieldInfo(462713202,{ext:0},proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[462713202]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[462713202]=proto.mediapipe.tasks.vision.hand_landmarker.proto.HandLandmarkerGraphOptions.ext,g.object.extend(u,proto.mediapipe.tasks.vision.hand_landmarker.proto)}(hand_landmarker_graph_options_pb),function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_pb;g.object.extend(proto,y);var m=calculator_options_pb;g.object.extend(proto,m);var h=base_options_pb;g.object.extend(proto,h);var b=hand_gesture_recognizer_graph_options_pb;g.object.extend(proto,b);var x=hand_landmarker_graph_options_pb;g.object.extend(proto,x),g.exportSymbol("proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions",null,_),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions=function(O){p.Message.initialize(this,O,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.displayName="proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.toObject=function(O){return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject(O,this)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject=function(O,T){var E,M={baseOptions:(E=T.getBaseOptions())&&h.BaseOptions.toObject(O,E),handLandmarkerGraphOptions:(E=T.getHandLandmarkerGraphOptions())&&x.HandLandmarkerGraphOptions.toObject(O,E),handGestureRecognizerGraphOptions:(E=T.getHandGestureRecognizerGraphOptions())&&b.HandGestureRecognizerGraphOptions.toObject(O,E)};return O&&(M.$jspbMessageInstance=T),M}),proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinary=function(O){var T=new p.BinaryReader(O),E=new proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader(E,T)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader=function(O,T){for(;T.nextField()&&!T.isEndGroup();)switch(T.getFieldNumber()){case 1:var E=new h.BaseOptions;T.readMessage(E,h.BaseOptions.deserializeBinaryFromReader),O.setBaseOptions(E);break;case 2:E=new x.HandLandmarkerGraphOptions,T.readMessage(E,x.HandLandmarkerGraphOptions.deserializeBinaryFromReader),O.setHandLandmarkerGraphOptions(E);break;case 3:E=new b.HandGestureRecognizerGraphOptions,T.readMessage(E,b.HandGestureRecognizerGraphOptions.deserializeBinaryFromReader),O.setHandGestureRecognizerGraphOptions(E);break;default:T.skipField()}return O},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.serializeBinary=function(){var O=new p.BinaryWriter;return proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter(this,O),O.getResultBuffer()},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter=function(O,T){var E=void 0;(E=O.getBaseOptions())!=null&&T.writeMessage(1,E,h.BaseOptions.serializeBinaryToWriter),(E=O.getHandLandmarkerGraphOptions())!=null&&T.writeMessage(2,E,x.HandLandmarkerGraphOptions.serializeBinaryToWriter),(E=O.getHandGestureRecognizerGraphOptions())!=null&&T.writeMessage(3,E,b.HandGestureRecognizerGraphOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext=new p.ExtensionFieldInfo(479097054,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[479097054]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[479097054]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.getBaseOptions=function(){return p.Message.getWrapperField(this,h.BaseOptions,1)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.setBaseOptions=function(O){return p.Message.setWrapperField(this,1,O)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.hasBaseOptions=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.getHandLandmarkerGraphOptions=function(){return p.Message.getWrapperField(this,x.HandLandmarkerGraphOptions,2)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.setHandLandmarkerGraphOptions=function(O){return p.Message.setWrapperField(this,2,O)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.clearHandLandmarkerGraphOptions=function(){return this.setHandLandmarkerGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.hasHandLandmarkerGraphOptions=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.getHandGestureRecognizerGraphOptions=function(){return p.Message.getWrapperField(this,b.HandGestureRecognizerGraphOptions,3)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.setHandGestureRecognizerGraphOptions=function(O){return p.Message.setWrapperField(this,3,O)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.clearHandGestureRecognizerGraphOptions=function(){return this.setHandGestureRecognizerGraphOptions(void 0)},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.prototype.hasHandGestureRecognizerGraphOptions=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext=new p.ExtensionFieldInfo(479097054,{ext:0},proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[479097054]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[479097054]=proto.mediapipe.tasks.vision.gesture_recognizer.proto.GestureRecognizerGraphOptions.ext,g.object.extend(u,proto.mediapipe.tasks.vision.gesture_recognizer.proto)}(gesture_recognizer_graph_options_pb);var classifier_options={};Object.defineProperty(classifier_options,"__esModule",{value:!0}),classifier_options.convertClassifierOptionsToProto=void 0;const classifier_options_pb_1=classifier_options_pb;function convertClassifierOptionsToProto(u,p){const g=p?p.clone():new classifier_options_pb_1.ClassifierOptions;return u.displayNamesLocale!==void 0?g.setDisplayNamesLocale(u.displayNamesLocale):u.displayNamesLocale===void 0&&g.clearDisplayNamesLocale(),u.maxResults!==void 0?g.setMaxResults(u.maxResults):"maxResults"in u&&g.clearMaxResults(),u.scoreThreshold!==void 0?g.setScoreThreshold(u.scoreThreshold):"scoreThreshold"in u&&g.clearScoreThreshold(),u.categoryAllowlist!==void 0?g.setCategoryAllowlistList(u.categoryAllowlist):"categoryAllowlist"in u&&g.clearCategoryAllowlistList(),u.categoryDenylist!==void 0?g.setCategoryDenylistList(u.categoryDenylist):"categoryDenylist"in u&&g.clearCategoryDenylistList(),g}classifier_options.convertClassifierOptionsToProto=convertClassifierOptionsToProto;var hand_landmarks_connections={};Object.defineProperty(hand_landmarks_connections,"__esModule",{value:!0}),hand_landmarks_connections.HAND_CONNECTIONS=void 0,hand_landmarks_connections.HAND_CONNECTIONS=[{start:0,end:1},{start:1,end:2},{start:2,end:3},{start:3,end:4},{start:0,end:5},{start:5,end:6},{start:6,end:7},{start:7,end:8},{start:5,end:9},{start:9,end:10},{start:10,end:11},{start:11,end:12},{start:9,end:13},{start:13,end:14},{start:14,end:15},{start:15,end:16},{start:13,end:17},{start:0,end:17},{start:17,end:18},{start:18,end:19},{start:19,end:20}];var gesture_recognizer_options={};Object.defineProperty(gesture_recognizer_options,"__esModule",{value:!0});var gesture_recognizer_result={};Object.defineProperty(gesture_recognizer_result,"__esModule",{value:!0}),function(u){var p=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(G,z,j,N){N===void 0&&(N=j);var W=Object.getOwnPropertyDescriptor(z,j);W&&!("get"in W?!z.__esModule:W.writable||W.configurable)||(W={enumerable:!0,get:function(){return z[j]}}),Object.defineProperty(G,N,W)}:function(G,z,j,N){N===void 0&&(N=j),G[N]=z[j]}),g=commonjsGlobal&&commonjsGlobal.__exportStar||function(G,z){for(var j in G)j==="default"||Object.prototype.hasOwnProperty.call(z,j)||p(z,G,j)};Object.defineProperty(u,"__esModule",{value:!0}),u.GestureRecognizer=void 0;const _=calculator_pb,y=calculator_options_pb,m=classification_pb,h=landmark_pb,b=base_options_pb,x=gesture_classifier_graph_options_pb,O=gesture_recognizer_graph_options_pb,T=hand_gesture_recognizer_graph_options_pb,E=hand_detector_graph_options_pb,M=hand_landmarker_graph_options_pb,F=hand_landmarks_detector_graph_options_pb,B=classifier_options,S=vision_task_runner,w=hand_landmarks_connections;g(gesture_recognizer_options,u),g(gesture_recognizer_result,u);const C="image_in",D="norm_rect",L="hand_gestures",R="hand_landmarks",k="world_hand_landmarks",A="handedness",I=.5;class P extends S.VisionTaskRunner{static createFromOptions(z,j){return S.VisionTaskRunner.createVisionInstance(P,z,j)}static createFromModelBuffer(z,j){return S.VisionTaskRunner.createVisionInstance(P,z,{baseOptions:{modelAssetBuffer:j}})}static createFromModelPath(z,j){return S.VisionTaskRunner.createVisionInstance(P,z,{baseOptions:{modelAssetPath:j}})}constructor(z,j){super(new S.VisionGraphRunner(z,j),C,D,!1),this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handednesses=[],this.options=new O.GestureRecognizerGraphOptions,this.options.setBaseOptions(new b.BaseOptions),this.handLandmarkerGraphOptions=new M.HandLandmarkerGraphOptions,this.options.setHandLandmarkerGraphOptions(this.handLandmarkerGraphOptions),this.handLandmarksDetectorGraphOptions=new F.HandLandmarksDetectorGraphOptions,this.handLandmarkerGraphOptions.setHandLandmarksDetectorGraphOptions(this.handLandmarksDetectorGraphOptions),this.handDetectorGraphOptions=new E.HandDetectorGraphOptions,this.handLandmarkerGraphOptions.setHandDetectorGraphOptions(this.handDetectorGraphOptions),this.handGestureRecognizerGraphOptions=new T.HandGestureRecognizerGraphOptions,this.options.setHandGestureRecognizerGraphOptions(this.handGestureRecognizerGraphOptions),this.handDetectorGraphOptions.setMinDetectionConfidence(I),this.handLandmarkerGraphOptions.setMinTrackingConfidence(I),this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence(I)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(z){this.options.setBaseOptions(z)}setOptions(z){var j,N,W,U,H,$,V,J;if(this.handDetectorGraphOptions.setNumHands((j=z.numHands)!==null&&j!==void 0?j:1),"minHandDetectionConfidence"in z&&this.handDetectorGraphOptions.setMinDetectionConfidence((N=z.minHandDetectionConfidence)!==null&&N!==void 0?N:I),"minTrackingConfidence"in z&&this.handLandmarkerGraphOptions.setMinTrackingConfidence((W=z.minTrackingConfidence)!==null&&W!==void 0?W:I),"minHandPresenceConfidence"in z&&this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence((U=z.minHandPresenceConfidence)!==null&&U!==void 0?U:I),z.cannedGesturesClassifierOptions){const Y=new x.GestureClassifierGraphOptions;Y.setClassifierOptions((0,B.convertClassifierOptionsToProto)(z.cannedGesturesClassifierOptions,(H=this.handGestureRecognizerGraphOptions.getCannedGestureClassifierGraphOptions())===null||H===void 0?void 0:H.getClassifierOptions())),this.handGestureRecognizerGraphOptions.setCannedGestureClassifierGraphOptions(Y)}else z.cannedGesturesClassifierOptions===void 0&&(($=this.handGestureRecognizerGraphOptions.getCannedGestureClassifierGraphOptions())===null||$===void 0||$.clearClassifierOptions());if(z.customGesturesClassifierOptions){const Y=new x.GestureClassifierGraphOptions;Y.setClassifierOptions((0,B.convertClassifierOptionsToProto)(z.customGesturesClassifierOptions,(V=this.handGestureRecognizerGraphOptions.getCustomGestureClassifierGraphOptions())===null||V===void 0?void 0:V.getClassifierOptions())),this.handGestureRecognizerGraphOptions.setCustomGestureClassifierGraphOptions(Y)}else z.customGesturesClassifierOptions===void 0&&((J=this.handGestureRecognizerGraphOptions.getCustomGestureClassifierGraphOptions())===null||J===void 0||J.clearClassifierOptions());return this.applyOptions(z)}recognize(z,j){return this.resetResults(),this.processImageData(z,j),this.processResults()}recognizeForVideo(z,j,N){return this.resetResults(),this.processVideoData(z,N,j),this.processResults()}resetResults(){this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handednesses=[]}processResults(){return this.gestures.length===0?{gestures:[],landmarks:[],worldLandmarks:[],handednesses:[]}:{gestures:this.gestures,landmarks:this.landmarks,worldLandmarks:this.worldLandmarks,handednesses:this.handednesses}}toJsCategories(z,j=!0){var N,W,U;const H=[];for(const $ of z){const V=m.ClassificationList.deserializeBinary($),J=[];for(const Y of V.getClassificationList()){const q=j&&Y.hasIndex()?Y.getIndex():-1;J.push({score:(N=Y.getScore())!==null&&N!==void 0?N:0,index:q,categoryName:(W=Y.getLabel())!==null&&W!==void 0?W:"",displayName:(U=Y.getDisplayName())!==null&&U!==void 0?U:""})}H.push(J)}return H}addJsLandmarks(z){var j,N,W;for(const U of z){const H=h.NormalizedLandmarkList.deserializeBinary(U),$=[];for(const V of H.getLandmarkList())$.push({x:(j=V.getX())!==null&&j!==void 0?j:0,y:(N=V.getY())!==null&&N!==void 0?N:0,z:(W=V.getZ())!==null&&W!==void 0?W:0});this.landmarks.push($)}}adddJsWorldLandmarks(z){var j,N,W;for(const U of z){const H=h.LandmarkList.deserializeBinary(U),$=[];for(const V of H.getLandmarkList())$.push({x:(j=V.getX())!==null&&j!==void 0?j:0,y:(N=V.getY())!==null&&N!==void 0?N:0,z:(W=V.getZ())!==null&&W!==void 0?W:0});this.worldLandmarks.push($)}}refreshGraph(){const z=new _.CalculatorGraphConfig;z.addInputStream(C),z.addInputStream(D),z.addOutputStream(L),z.addOutputStream(R),z.addOutputStream(k),z.addOutputStream(A);const j=new y.CalculatorOptions;j.setExtension(O.GestureRecognizerGraphOptions.ext,this.options);const N=new _.CalculatorGraphConfig.Node;N.setCalculator("mediapipe.tasks.vision.gesture_recognizer.GestureRecognizerGraph"),N.addInputStream("IMAGE:"+C),N.addInputStream("NORM_RECT:"+D),N.addOutputStream("HAND_GESTURES:"+L),N.addOutputStream("LANDMARKS:"+R),N.addOutputStream("WORLD_LANDMARKS:"+k),N.addOutputStream("HANDEDNESS:"+A),N.setOptions(j),z.addNode(N),this.graphRunner.attachProtoVectorListener(R,(U,H)=>{this.addJsLandmarks(U),this.setLatestOutputTimestamp(H)}),this.graphRunner.attachEmptyPacketListener(R,U=>{this.setLatestOutputTimestamp(U)}),this.graphRunner.attachProtoVectorListener(k,(U,H)=>{this.adddJsWorldLandmarks(U),this.setLatestOutputTimestamp(H)}),this.graphRunner.attachEmptyPacketListener(k,U=>{this.setLatestOutputTimestamp(U)}),this.graphRunner.attachProtoVectorListener(L,(U,H)=>{this.gestures.push(...this.toJsCategories(U,!1)),this.setLatestOutputTimestamp(H)}),this.graphRunner.attachEmptyPacketListener(L,U=>{this.setLatestOutputTimestamp(U)}),this.graphRunner.attachProtoVectorListener(A,(U,H)=>{this.handednesses.push(...this.toJsCategories(U)),this.setLatestOutputTimestamp(H)}),this.graphRunner.attachEmptyPacketListener(A,U=>{this.setLatestOutputTimestamp(U)});const W=z.serializeBinary();this.setGraph(new Uint8Array(W),!0)}}u.GestureRecognizer=P,P.HAND_CONNECTIONS=w.HAND_CONNECTIONS}(gesture_recognizer);var hand_landmarker={},hand_landmarker_options={};Object.defineProperty(hand_landmarker_options,"__esModule",{value:!0});var hand_landmarker_result={};Object.defineProperty(hand_landmarker_result,"__esModule",{value:!0}),function(u){var p=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(k,A,I,P){P===void 0&&(P=I);var G=Object.getOwnPropertyDescriptor(A,I);G&&!("get"in G?!A.__esModule:G.writable||G.configurable)||(G={enumerable:!0,get:function(){return A[I]}}),Object.defineProperty(k,P,G)}:function(k,A,I,P){P===void 0&&(P=I),k[P]=A[I]}),g=commonjsGlobal&&commonjsGlobal.__exportStar||function(k,A){for(var I in k)I==="default"||Object.prototype.hasOwnProperty.call(A,I)||p(A,k,I)};Object.defineProperty(u,"__esModule",{value:!0}),u.HandLandmarker=void 0;const _=calculator_pb,y=calculator_options_pb,m=classification_pb,h=landmark_pb,b=base_options_pb,x=hand_detector_graph_options_pb,O=hand_landmarker_graph_options_pb,T=hand_landmarks_detector_graph_options_pb,E=landmark_result,M=vision_task_runner,F=hand_landmarks_connections;g(hand_landmarker_options,u),g(hand_landmarker_result,u);const B="image_in",S="norm_rect",w="hand_landmarks",C="world_hand_landmarks",D="handedness",L=.5;class R extends M.VisionTaskRunner{static createFromOptions(A,I){return M.VisionTaskRunner.createVisionInstance(R,A,I)}static createFromModelBuffer(A,I){return M.VisionTaskRunner.createVisionInstance(R,A,{baseOptions:{modelAssetBuffer:I}})}static createFromModelPath(A,I){return M.VisionTaskRunner.createVisionInstance(R,A,{baseOptions:{modelAssetPath:I}})}constructor(A,I){super(new M.VisionGraphRunner(A,I),B,S,!1),this.landmarks=[],this.worldLandmarks=[],this.handednesses=[],this.options=new O.HandLandmarkerGraphOptions,this.options.setBaseOptions(new b.BaseOptions),this.handLandmarksDetectorGraphOptions=new T.HandLandmarksDetectorGraphOptions,this.options.setHandLandmarksDetectorGraphOptions(this.handLandmarksDetectorGraphOptions),this.handDetectorGraphOptions=new x.HandDetectorGraphOptions,this.options.setHandDetectorGraphOptions(this.handDetectorGraphOptions),this.initDefaults()}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(A){this.options.setBaseOptions(A)}setOptions(A){var I,P,G,z;return"numHands"in A&&this.handDetectorGraphOptions.setNumHands((I=A.numHands)!==null&&I!==void 0?I:1),"minHandDetectionConfidence"in A&&this.handDetectorGraphOptions.setMinDetectionConfidence((P=A.minHandDetectionConfidence)!==null&&P!==void 0?P:L),"minTrackingConfidence"in A&&this.options.setMinTrackingConfidence((G=A.minTrackingConfidence)!==null&&G!==void 0?G:L),"minHandPresenceConfidence"in A&&this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence((z=A.minHandPresenceConfidence)!==null&&z!==void 0?z:L),this.applyOptions(A)}detect(A,I){return this.resetResults(),this.processImageData(A,I),this.processResults()}detectForVideo(A,I,P){return this.resetResults(),this.processVideoData(A,P,I),this.processResults()}resetResults(){this.landmarks=[],this.worldLandmarks=[],this.handednesses=[]}processResults(){return{landmarks:this.landmarks,worldLandmarks:this.worldLandmarks,handednesses:this.handednesses}}initDefaults(){this.handDetectorGraphOptions.setNumHands(1),this.handDetectorGraphOptions.setMinDetectionConfidence(L),this.handLandmarksDetectorGraphOptions.setMinDetectionConfidence(L),this.options.setMinTrackingConfidence(L)}toJsCategories(A){var I,P,G,z;const j=[];for(const N of A){const W=m.ClassificationList.deserializeBinary(N),U=[];for(const H of W.getClassificationList())U.push({score:(I=H.getScore())!==null&&I!==void 0?I:0,index:(P=H.getIndex())!==null&&P!==void 0?P:-1,categoryName:(G=H.getLabel())!==null&&G!==void 0?G:"",displayName:(z=H.getDisplayName())!==null&&z!==void 0?z:""});j.push(U)}return j}addJsLandmarks(A){for(const I of A){const P=h.NormalizedLandmarkList.deserializeBinary(I);this.landmarks.push((0,E.convertToLandmarks)(P))}}adddJsWorldLandmarks(A){for(const I of A){const P=h.LandmarkList.deserializeBinary(I);this.worldLandmarks.push((0,E.convertToWorldLandmarks)(P))}}refreshGraph(){const A=new _.CalculatorGraphConfig;A.addInputStream(B),A.addInputStream(S),A.addOutputStream(w),A.addOutputStream(C),A.addOutputStream(D);const I=new y.CalculatorOptions;I.setExtension(O.HandLandmarkerGraphOptions.ext,this.options);const P=new _.CalculatorGraphConfig.Node;P.setCalculator("mediapipe.tasks.vision.hand_landmarker.HandLandmarkerGraph"),P.addInputStream("IMAGE:"+B),P.addInputStream("NORM_RECT:"+S),P.addOutputStream("LANDMARKS:"+w),P.addOutputStream("WORLD_LANDMARKS:"+C),P.addOutputStream("HANDEDNESS:"+D),P.setOptions(I),A.addNode(P),this.graphRunner.attachProtoVectorListener(w,(z,j)=>{this.addJsLandmarks(z),this.setLatestOutputTimestamp(j)}),this.graphRunner.attachEmptyPacketListener(w,z=>{this.setLatestOutputTimestamp(z)}),this.graphRunner.attachProtoVectorListener(C,(z,j)=>{this.adddJsWorldLandmarks(z),this.setLatestOutputTimestamp(j)}),this.graphRunner.attachEmptyPacketListener(C,z=>{this.setLatestOutputTimestamp(z)}),this.graphRunner.attachProtoVectorListener(D,(z,j)=>{this.handednesses.push(...this.toJsCategories(z)),this.setLatestOutputTimestamp(j)}),this.graphRunner.attachEmptyPacketListener(D,z=>{this.setLatestOutputTimestamp(z)});const G=A.serializeBinary();this.setGraph(new Uint8Array(G),!0)}}u.HandLandmarker=R,R.HAND_CONNECTIONS=F.HAND_CONNECTIONS}(hand_landmarker);var image_classifier={},classifications_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=classification_pb;g.object.extend(proto,y),g.exportSymbol("proto.mediapipe.tasks.components.containers.proto.ClassificationResult",null,_),g.exportSymbol("proto.mediapipe.tasks.components.containers.proto.Classifications",null,_),proto.mediapipe.tasks.components.containers.proto.Classifications=function(m){p.Message.initialize(this,m,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.components.containers.proto.Classifications,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.Classifications.displayName="proto.mediapipe.tasks.components.containers.proto.Classifications"),proto.mediapipe.tasks.components.containers.proto.ClassificationResult=function(m){p.Message.initialize(this,m,0,-1,proto.mediapipe.tasks.components.containers.proto.ClassificationResult.repeatedFields_,null)},g.inherits(proto.mediapipe.tasks.components.containers.proto.ClassificationResult,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.ClassificationResult.displayName="proto.mediapipe.tasks.components.containers.proto.ClassificationResult"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.toObject=function(m){return proto.mediapipe.tasks.components.containers.proto.Classifications.toObject(m,this)},proto.mediapipe.tasks.components.containers.proto.Classifications.toObject=function(m,h){var b,x={classificationList:(b=h.getClassificationList())&&y.ClassificationList.toObject(m,b),headIndex:(b=p.Message.getField(h,2))==null?void 0:b,headName:(b=p.Message.getField(h,3))==null?void 0:b};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.tasks.components.containers.proto.Classifications;return proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinaryFromReader(b,h)},proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 4:var b=new y.ClassificationList;h.readMessage(b,y.ClassificationList.deserializeBinaryFromReader),m.setClassificationList(b);break;case 2:b=h.readInt32(),m.setHeadIndex(b);break;case 3:b=h.readString(),m.setHeadName(b);break;default:h.skipField()}return m},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.Classifications.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.Classifications.serializeBinaryToWriter=function(m,h){var b=void 0;(b=m.getClassificationList())!=null&&h.writeMessage(4,b,y.ClassificationList.serializeBinaryToWriter),(b=p.Message.getField(m,2))!=null&&h.writeInt32(2,b),(b=p.Message.getField(m,3))!=null&&h.writeString(3,b)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.getClassificationList=function(){return p.Message.getWrapperField(this,y.ClassificationList,4)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.setClassificationList=function(m){return p.Message.setWrapperField(this,4,m)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.clearClassificationList=function(){return this.setClassificationList(void 0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.hasClassificationList=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.getHeadIndex=function(){return p.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.setHeadIndex=function(m){return p.Message.setField(this,2,m)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.clearHeadIndex=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.hasHeadIndex=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.getHeadName=function(){return p.Message.getFieldWithDefault(this,3,"")},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.setHeadName=function(m){return p.Message.setField(this,3,m)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.clearHeadName=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.tasks.components.containers.proto.Classifications.prototype.hasHeadName=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.repeatedFields_=[1],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.toObject=function(m){return proto.mediapipe.tasks.components.containers.proto.ClassificationResult.toObject(m,this)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.toObject=function(m,h){var b,x={classificationsList:p.Message.toObjectList(h.getClassificationsList(),proto.mediapipe.tasks.components.containers.proto.Classifications.toObject,m),timestampMs:(b=p.Message.getField(h,2))==null?void 0:b};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.tasks.components.containers.proto.ClassificationResult.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.tasks.components.containers.proto.ClassificationResult;return proto.mediapipe.tasks.components.containers.proto.ClassificationResult.deserializeBinaryFromReader(b,h)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=new proto.mediapipe.tasks.components.containers.proto.Classifications;h.readMessage(b,proto.mediapipe.tasks.components.containers.proto.Classifications.deserializeBinaryFromReader),m.addClassifications(b);break;case 2:b=h.readInt64(),m.setTimestampMs(b);break;default:h.skipField()}return m},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.ClassificationResult.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.serializeBinaryToWriter=function(m,h){var b=void 0;(b=m.getClassificationsList()).length>0&&h.writeRepeatedMessage(1,b,proto.mediapipe.tasks.components.containers.proto.Classifications.serializeBinaryToWriter),(b=p.Message.getField(m,2))!=null&&h.writeInt64(2,b)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.getClassificationsList=function(){return p.Message.getRepeatedWrapperField(this,proto.mediapipe.tasks.components.containers.proto.Classifications,1)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.setClassificationsList=function(m){return p.Message.setRepeatedWrapperField(this,1,m)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.addClassifications=function(m,h){return p.Message.addToRepeatedWrapperField(this,1,m,proto.mediapipe.tasks.components.containers.proto.Classifications,h)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.clearClassificationsList=function(){return this.setClassificationsList([])},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.getTimestampMs=function(){return p.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.setTimestampMs=function(m){return p.Message.setField(this,2,m)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.clearTimestampMs=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.containers.proto.ClassificationResult.prototype.hasTimestampMs=function(){return p.Message.getField(this,2)!=null},g.object.extend(u,proto.mediapipe.tasks.components.containers.proto)})(classifications_pb);var image_classifier_graph_options_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_pb;g.object.extend(proto,y);var m=calculator_options_pb;g.object.extend(proto,m);var h=classifier_options_pb;g.object.extend(proto,h);var b=base_options_pb;g.object.extend(proto,b),g.exportSymbol("proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions",null,_),proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions=function(x){p.Message.initialize(this,x,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.displayName="proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.toObject=function(x){return proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject(x,this)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject=function(x,O){var T,E={baseOptions:(T=O.getBaseOptions())&&b.BaseOptions.toObject(x,T),classifierOptions:(T=O.getClassifierOptions())&&h.ClassifierOptions.toObject(x,T)};return x&&(E.$jspbMessageInstance=O),E}),proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinary=function(x){var O=new p.BinaryReader(x),T=new proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions;return proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader(T,O)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader=function(x,O){for(;O.nextField()&&!O.isEndGroup();)switch(O.getFieldNumber()){case 1:var T=new b.BaseOptions;O.readMessage(T,b.BaseOptions.deserializeBinaryFromReader),x.setBaseOptions(T);break;case 2:T=new h.ClassifierOptions,O.readMessage(T,h.ClassifierOptions.deserializeBinaryFromReader),x.setClassifierOptions(T);break;default:O.skipField()}return x},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.serializeBinary=function(){var x=new p.BinaryWriter;return proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter(this,x),x.getResultBuffer()},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter=function(x,O){var T=void 0;(T=x.getBaseOptions())!=null&&O.writeMessage(1,T,b.BaseOptions.serializeBinaryToWriter),(T=x.getClassifierOptions())!=null&&O.writeMessage(2,T,h.ClassifierOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext=new p.ExtensionFieldInfo(456383383,{ext:0},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[456383383]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[456383383]=proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.getBaseOptions=function(){return p.Message.getWrapperField(this,b.BaseOptions,1)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.setBaseOptions=function(x){return p.Message.setWrapperField(this,1,x)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.hasBaseOptions=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.getClassifierOptions=function(){return p.Message.getWrapperField(this,h.ClassifierOptions,2)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.setClassifierOptions=function(x){return p.Message.setWrapperField(this,2,x)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.clearClassifierOptions=function(){return this.setClassifierOptions(void 0)},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.prototype.hasClassifierOptions=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext=new p.ExtensionFieldInfo(456383383,{ext:0},proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[456383383]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[456383383]=proto.mediapipe.tasks.vision.image_classifier.proto.ImageClassifierGraphOptions.ext,g.object.extend(u,proto.mediapipe.tasks.vision.image_classifier.proto)})(image_classifier_graph_options_pb);var image_classifier_options={};Object.defineProperty(image_classifier_options,"__esModule",{value:!0});var image_classifier_result={};Object.defineProperty(image_classifier_result,"__esModule",{value:!0}),function(u){var p=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(S,w,C,D){D===void 0&&(D=C);var L=Object.getOwnPropertyDescriptor(w,C);L&&!("get"in L?!w.__esModule:L.writable||L.configurable)||(L={enumerable:!0,get:function(){return w[C]}}),Object.defineProperty(S,D,L)}:function(S,w,C,D){D===void 0&&(D=C),S[D]=w[C]}),g=commonjsGlobal&&commonjsGlobal.__exportStar||function(S,w){for(var C in S)C==="default"||Object.prototype.hasOwnProperty.call(w,C)||p(w,S,C)};Object.defineProperty(u,"__esModule",{value:!0}),u.ImageClassifier=void 0;const _=calculator_pb,y=calculator_options_pb,m=classifications_pb,h=base_options_pb,b=image_classifier_graph_options_pb,x=classifier_options,O=classifier_result,T=vision_task_runner,E="input_image",M="norm_rect",F="classifications";g(image_classifier_options,u),g(image_classifier_result,u);class B extends T.VisionTaskRunner{static createFromOptions(w,C){return T.VisionTaskRunner.createVisionInstance(B,w,C)}static createFromModelBuffer(w,C){return T.VisionTaskRunner.createVisionInstance(B,w,{baseOptions:{modelAssetBuffer:C}})}static createFromModelPath(w,C){return T.VisionTaskRunner.createVisionInstance(B,w,{baseOptions:{modelAssetPath:C}})}constructor(w,C){super(new T.VisionGraphRunner(w,C),E,M,!0),this.classificationResult={classifications:[]},this.options=new b.ImageClassifierGraphOptions,this.options.setBaseOptions(new h.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(w){this.options.setBaseOptions(w)}setOptions(w){return this.options.setClassifierOptions((0,x.convertClassifierOptionsToProto)(w,this.options.getClassifierOptions())),this.applyOptions(w)}classify(w,C){return this.classificationResult={classifications:[]},this.processImageData(w,C),this.classificationResult}classifyForVideo(w,C,D){return this.classificationResult={classifications:[]},this.processVideoData(w,D,C),this.classificationResult}refreshGraph(){const w=new _.CalculatorGraphConfig;w.addInputStream(E),w.addInputStream(M),w.addOutputStream(F);const C=new y.CalculatorOptions;C.setExtension(b.ImageClassifierGraphOptions.ext,this.options);const D=new _.CalculatorGraphConfig.Node;D.setCalculator("mediapipe.tasks.vision.image_classifier.ImageClassifierGraph"),D.addInputStream("IMAGE:"+E),D.addInputStream("NORM_RECT:"+M),D.addOutputStream("CLASSIFICATIONS:"+F),D.setOptions(C),w.addNode(D),this.graphRunner.attachProtoListener(F,(R,k)=>{this.classificationResult=(0,O.convertFromClassificationResultProto)(m.ClassificationResult.deserializeBinary(R)),this.setLatestOutputTimestamp(k)}),this.graphRunner.attachEmptyPacketListener(F,R=>{this.setLatestOutputTimestamp(R)});const L=w.serializeBinary();this.setGraph(new Uint8Array(L),!0)}}u.ImageClassifier=B}(image_classifier);var image_embedder={},embeddings_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();g.exportSymbol("proto.mediapipe.tasks.components.containers.proto.Embedding",null,_),g.exportSymbol("proto.mediapipe.tasks.components.containers.proto.Embedding.EmbeddingCase",null,_),g.exportSymbol("proto.mediapipe.tasks.components.containers.proto.EmbeddingResult",null,_),g.exportSymbol("proto.mediapipe.tasks.components.containers.proto.FloatEmbedding",null,_),g.exportSymbol("proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding",null,_),proto.mediapipe.tasks.components.containers.proto.FloatEmbedding=function(y){p.Message.initialize(this,y,0,-1,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.repeatedFields_,null)},g.inherits(proto.mediapipe.tasks.components.containers.proto.FloatEmbedding,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.displayName="proto.mediapipe.tasks.components.containers.proto.FloatEmbedding"),proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding=function(y){p.Message.initialize(this,y,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.displayName="proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding"),proto.mediapipe.tasks.components.containers.proto.Embedding=function(y){p.Message.initialize(this,y,0,-1,null,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_)},g.inherits(proto.mediapipe.tasks.components.containers.proto.Embedding,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.Embedding.displayName="proto.mediapipe.tasks.components.containers.proto.Embedding"),proto.mediapipe.tasks.components.containers.proto.EmbeddingResult=function(y){p.Message.initialize(this,y,0,-1,proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.repeatedFields_,null)},g.inherits(proto.mediapipe.tasks.components.containers.proto.EmbeddingResult,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.displayName="proto.mediapipe.tasks.components.containers.proto.EmbeddingResult"),proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.repeatedFields_=[1],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.toObject=function(y){return proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.toObject(y,this)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.toObject=function(y,m){var h,b={valuesList:(h=p.Message.getRepeatedFloatingPointField(m,1))==null?void 0:h};return y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.tasks.components.containers.proto.FloatEmbedding;return proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinaryFromReader(h,m)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)if(m.getFieldNumber()===1)for(var h=m.isDelimited()?m.readPackedFloat():[m.readFloat()],b=0;b<h.length;b++)y.addValues(h[b]);else m.skipField();return y},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.serializeBinaryToWriter=function(y,m){var h;(h=y.getValuesList()).length>0&&m.writePackedFloat(1,h)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.getValuesList=function(){return p.Message.getRepeatedFloatingPointField(this,1)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.setValuesList=function(y){return p.Message.setField(this,1,y||[])},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.addValues=function(y,m){return p.Message.addToRepeatedField(this,1,y,m)},proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.prototype.clearValuesList=function(){return this.setValuesList([])},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.toObject=function(y){return proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.toObject(y,this)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.toObject=function(y,m){var h={values:m.getValues_asB64()};return y&&(h.$jspbMessageInstance=m),h}),proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding;return proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinaryFromReader(h,m)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)if(m.getFieldNumber()===1){var h=m.readBytes();y.setValues(h)}else m.skipField();return y},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.serializeBinaryToWriter=function(y,m){var h;(h=p.Message.getField(y,1))!=null&&m.writeBytes(1,h)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.getValues=function(){return p.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.getValues_asB64=function(){return p.Message.bytesAsB64(this.getValues())},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.getValues_asU8=function(){return p.Message.bytesAsU8(this.getValues())},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.setValues=function(y){return p.Message.setField(this,1,y)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.clearValues=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.prototype.hasValues=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_=[[1,2]],proto.mediapipe.tasks.components.containers.proto.Embedding.EmbeddingCase={EMBEDDING_NOT_SET:0,FLOAT_EMBEDDING:1,QUANTIZED_EMBEDDING:2},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getEmbeddingCase=function(){return p.Message.computeOneofCase(this,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_[0])},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.toObject=function(y){return proto.mediapipe.tasks.components.containers.proto.Embedding.toObject(y,this)},proto.mediapipe.tasks.components.containers.proto.Embedding.toObject=function(y,m){var h,b={floatEmbedding:(h=m.getFloatEmbedding())&&proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.toObject(y,h),quantizedEmbedding:(h=m.getQuantizedEmbedding())&&proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.toObject(y,h),headIndex:(h=p.Message.getField(m,3))==null?void 0:h,headName:(h=p.Message.getField(m,4))==null?void 0:h};return y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.tasks.components.containers.proto.Embedding;return proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinaryFromReader(h,m)},proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var h=new proto.mediapipe.tasks.components.containers.proto.FloatEmbedding;m.readMessage(h,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.deserializeBinaryFromReader),y.setFloatEmbedding(h);break;case 2:h=new proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding,m.readMessage(h,proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.deserializeBinaryFromReader),y.setQuantizedEmbedding(h);break;case 3:h=m.readInt32(),y.setHeadIndex(h);break;case 4:h=m.readString(),y.setHeadName(h);break;default:m.skipField()}return y},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.Embedding.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.Embedding.serializeBinaryToWriter=function(y,m){var h=void 0;(h=y.getFloatEmbedding())!=null&&m.writeMessage(1,h,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding.serializeBinaryToWriter),(h=y.getQuantizedEmbedding())!=null&&m.writeMessage(2,h,proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding.serializeBinaryToWriter),(h=p.Message.getField(y,3))!=null&&m.writeInt32(3,h),(h=p.Message.getField(y,4))!=null&&m.writeString(4,h)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getFloatEmbedding=function(){return p.Message.getWrapperField(this,proto.mediapipe.tasks.components.containers.proto.FloatEmbedding,1)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setFloatEmbedding=function(y){return p.Message.setOneofWrapperField(this,1,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_[0],y)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearFloatEmbedding=function(){return this.setFloatEmbedding(void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasFloatEmbedding=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getQuantizedEmbedding=function(){return p.Message.getWrapperField(this,proto.mediapipe.tasks.components.containers.proto.QuantizedEmbedding,2)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setQuantizedEmbedding=function(y){return p.Message.setOneofWrapperField(this,2,proto.mediapipe.tasks.components.containers.proto.Embedding.oneofGroups_[0],y)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearQuantizedEmbedding=function(){return this.setQuantizedEmbedding(void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasQuantizedEmbedding=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getHeadIndex=function(){return p.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setHeadIndex=function(y){return p.Message.setField(this,3,y)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearHeadIndex=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasHeadIndex=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.getHeadName=function(){return p.Message.getFieldWithDefault(this,4,"")},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.setHeadName=function(y){return p.Message.setField(this,4,y)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.clearHeadName=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.tasks.components.containers.proto.Embedding.prototype.hasHeadName=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.repeatedFields_=[1],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.toObject=function(y){return proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.toObject(y,this)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.toObject=function(y,m){var h,b={embeddingsList:p.Message.toObjectList(m.getEmbeddingsList(),proto.mediapipe.tasks.components.containers.proto.Embedding.toObject,y),timestampMs:(h=p.Message.getField(m,2))==null?void 0:h};return y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.tasks.components.containers.proto.EmbeddingResult;return proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.deserializeBinaryFromReader(h,m)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var h=new proto.mediapipe.tasks.components.containers.proto.Embedding;m.readMessage(h,proto.mediapipe.tasks.components.containers.proto.Embedding.deserializeBinaryFromReader),y.addEmbeddings(h);break;case 2:h=m.readInt64(),y.setTimestampMs(h);break;default:m.skipField()}return y},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.serializeBinaryToWriter=function(y,m){var h=void 0;(h=y.getEmbeddingsList()).length>0&&m.writeRepeatedMessage(1,h,proto.mediapipe.tasks.components.containers.proto.Embedding.serializeBinaryToWriter),(h=p.Message.getField(y,2))!=null&&m.writeInt64(2,h)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.getEmbeddingsList=function(){return p.Message.getRepeatedWrapperField(this,proto.mediapipe.tasks.components.containers.proto.Embedding,1)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.setEmbeddingsList=function(y){return p.Message.setRepeatedWrapperField(this,1,y)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.addEmbeddings=function(y,m){return p.Message.addToRepeatedWrapperField(this,1,y,proto.mediapipe.tasks.components.containers.proto.Embedding,m)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.clearEmbeddingsList=function(){return this.setEmbeddingsList([])},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.getTimestampMs=function(){return p.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.setTimestampMs=function(y){return p.Message.setField(this,2,y)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.clearTimestampMs=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.containers.proto.EmbeddingResult.prototype.hasTimestampMs=function(){return p.Message.getField(this,2)!=null},g.object.extend(u,proto.mediapipe.tasks.components.containers.proto)})(embeddings_pb);var image_embedder_graph_options_pb={},embedder_options_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();g.exportSymbol("proto.mediapipe.tasks.components.processors.proto.EmbedderOptions",null,_),proto.mediapipe.tasks.components.processors.proto.EmbedderOptions=function(y){p.Message.initialize(this,y,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.components.processors.proto.EmbedderOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.displayName="proto.mediapipe.tasks.components.processors.proto.EmbedderOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.toObject=function(y){return proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.toObject(y,this)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.toObject=function(y,m){var h,b={l2Normalize:(h=p.Message.getBooleanField(m,1))==null?void 0:h,quantize:(h=p.Message.getBooleanField(m,2))==null?void 0:h};return y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.tasks.components.processors.proto.EmbedderOptions;return proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.deserializeBinaryFromReader(h,m)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var h=m.readBool();y.setL2Normalize(h);break;case 2:h=m.readBool(),y.setQuantize(h);break;default:m.skipField()}return y},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.serializeBinaryToWriter=function(y,m){var h=void 0;(h=p.Message.getField(y,1))!=null&&m.writeBool(1,h),(h=p.Message.getField(y,2))!=null&&m.writeBool(2,h)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.getL2Normalize=function(){return p.Message.getBooleanFieldWithDefault(this,1,!1)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.setL2Normalize=function(y){return p.Message.setField(this,1,y)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.clearL2Normalize=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.hasL2Normalize=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.getQuantize=function(){return p.Message.getBooleanFieldWithDefault(this,2,!1)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.setQuantize=function(y){return p.Message.setField(this,2,y)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.clearQuantize=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.tasks.components.processors.proto.EmbedderOptions.prototype.hasQuantize=function(){return p.Message.getField(this,2)!=null},g.object.extend(u,proto.mediapipe.tasks.components.processors.proto)})(embedder_options_pb),function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_pb;g.object.extend(proto,y);var m=calculator_options_pb;g.object.extend(proto,m);var h=embedder_options_pb;g.object.extend(proto,h);var b=base_options_pb;g.object.extend(proto,b),g.exportSymbol("proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions",null,_),proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions=function(x){p.Message.initialize(this,x,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.displayName="proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.toObject=function(x){return proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject(x,this)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject=function(x,O){var T,E={baseOptions:(T=O.getBaseOptions())&&b.BaseOptions.toObject(x,T),embedderOptions:(T=O.getEmbedderOptions())&&h.EmbedderOptions.toObject(x,T)};return x&&(E.$jspbMessageInstance=O),E}),proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinary=function(x){var O=new p.BinaryReader(x),T=new proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions;return proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader(T,O)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader=function(x,O){for(;O.nextField()&&!O.isEndGroup();)switch(O.getFieldNumber()){case 1:var T=new b.BaseOptions;O.readMessage(T,b.BaseOptions.deserializeBinaryFromReader),x.setBaseOptions(T);break;case 2:T=new h.EmbedderOptions,O.readMessage(T,h.EmbedderOptions.deserializeBinaryFromReader),x.setEmbedderOptions(T);break;default:O.skipField()}return x},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.serializeBinary=function(){var x=new p.BinaryWriter;return proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter(this,x),x.getResultBuffer()},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter=function(x,O){var T=void 0;(T=x.getBaseOptions())!=null&&O.writeMessage(1,T,b.BaseOptions.serializeBinaryToWriter),(T=x.getEmbedderOptions())!=null&&O.writeMessage(2,T,h.EmbedderOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext=new p.ExtensionFieldInfo(476348187,{ext:0},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[476348187]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[476348187]=proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.getBaseOptions=function(){return p.Message.getWrapperField(this,b.BaseOptions,1)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.setBaseOptions=function(x){return p.Message.setWrapperField(this,1,x)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.hasBaseOptions=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.getEmbedderOptions=function(){return p.Message.getWrapperField(this,h.EmbedderOptions,2)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.setEmbedderOptions=function(x){return p.Message.setWrapperField(this,2,x)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.clearEmbedderOptions=function(){return this.setEmbedderOptions(void 0)},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.prototype.hasEmbedderOptions=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext=new p.ExtensionFieldInfo(476348187,{ext:0},proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[476348187]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[476348187]=proto.mediapipe.tasks.vision.image_embedder.proto.ImageEmbedderGraphOptions.ext,g.object.extend(u,proto.mediapipe.tasks.vision.image_embedder.proto)}(image_embedder_graph_options_pb);var embedder_options={};Object.defineProperty(embedder_options,"__esModule",{value:!0}),embedder_options.convertEmbedderOptionsToProto=void 0;const embedder_options_pb_1=embedder_options_pb;function convertEmbedderOptionsToProto(u,p){const g=p?p.clone():new embedder_options_pb_1.EmbedderOptions;return u.l2Normalize!==void 0?g.setL2Normalize(u.l2Normalize):"l2Normalize"in u&&g.clearL2Normalize(),u.quantize!==void 0?g.setQuantize(u.quantize):"quantize"in u&&g.clearQuantize(),g}embedder_options.convertEmbedderOptionsToProto=convertEmbedderOptionsToProto;var embedder_result={};Object.defineProperty(embedder_result,"__esModule",{value:!0}),embedder_result.convertFromEmbeddingResultProto=void 0;const DEFAULT_INDEX=-1;function convertFromEmbeddingsProto(u){var p,g,_,y;const m={headIndex:(p=u.getHeadIndex())!==null&&p!==void 0?p:DEFAULT_INDEX,headName:(g=u.getHeadName())!==null&&g!==void 0?g:""};if(u.hasFloatEmbedding())m.floatEmbedding=u.getFloatEmbedding().getValuesList();else{const h=(y=(_=u.getQuantizedEmbedding())===null||_===void 0?void 0:_.getValues())!==null&&y!==void 0?y:"";m.quantizedEmbedding=typeof h=="string"?Uint8Array.from(atob(h),b=>b.charCodeAt(0)):h}return m}function convertFromEmbeddingResultProto(u){return{embeddings:u.getEmbeddingsList().map(p=>convertFromEmbeddingsProto(p)),timestampMs:u.getTimestampMs()}}embedder_result.convertFromEmbeddingResultProto=convertFromEmbeddingResultProto;var cosine_similarity={};function computeCosineSimilarity(u,p){if(u.floatEmbedding&&p.floatEmbedding)return compute(u.floatEmbedding,p.floatEmbedding);if(u.quantizedEmbedding&&p.quantizedEmbedding)return compute(convertToBytes(u.quantizedEmbedding),convertToBytes(p.quantizedEmbedding));throw new Error("Cannot compute cosine similarity between quantized and float embeddings.")}function convertToBytes(u){return Array.from(u,p=>p>127?p-256:p)}function compute(u,p){if(u.length!==p.length)throw new Error(`Cannot compute cosine similarity between embeddings of different sizes (${u.length} vs. ${p.length}).`);let g=0,_=0,y=0;for(let m=0;m<u.length;m++)g+=u[m]*p[m],_+=u[m]*u[m],y+=p[m]*p[m];if(_<=0||y<=0)throw new Error("Cannot compute cosine similarity on embedding with 0 norm.");return g/Math.sqrt(_*y)}Object.defineProperty(cosine_similarity,"__esModule",{value:!0}),cosine_similarity.computeCosineSimilarity=void 0,cosine_similarity.computeCosineSimilarity=computeCosineSimilarity;var image_embedder_options={};Object.defineProperty(image_embedder_options,"__esModule",{value:!0});var image_embedder_result={};Object.defineProperty(image_embedder_result,"__esModule",{value:!0}),function(u){var p=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(w,C,D,L){L===void 0&&(L=D);var R=Object.getOwnPropertyDescriptor(C,D);R&&!("get"in R?!C.__esModule:R.writable||R.configurable)||(R={enumerable:!0,get:function(){return C[D]}}),Object.defineProperty(w,L,R)}:function(w,C,D,L){L===void 0&&(L=D),w[L]=C[D]}),g=commonjsGlobal&&commonjsGlobal.__exportStar||function(w,C){for(var D in w)D==="default"||Object.prototype.hasOwnProperty.call(C,D)||p(C,w,D)};Object.defineProperty(u,"__esModule",{value:!0}),u.ImageEmbedder=void 0;const _=calculator_pb,y=calculator_options_pb,m=embeddings_pb,h=base_options_pb,b=image_embedder_graph_options_pb,x=embedder_options,O=embedder_result,T=cosine_similarity,E=vision_task_runner,M="image_in",F="norm_rect",B="embeddings_out";g(image_embedder_options,u),g(image_embedder_result,u);class S extends E.VisionTaskRunner{static createFromOptions(C,D){return E.VisionTaskRunner.createVisionInstance(S,C,D)}static createFromModelBuffer(C,D){return E.VisionTaskRunner.createVisionInstance(S,C,{baseOptions:{modelAssetBuffer:D}})}static createFromModelPath(C,D){return E.VisionTaskRunner.createVisionInstance(S,C,{baseOptions:{modelAssetPath:D}})}constructor(C,D){super(new E.VisionGraphRunner(C,D),M,F,!0),this.options=new b.ImageEmbedderGraphOptions,this.embeddings={embeddings:[]},this.options.setBaseOptions(new h.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(C){this.options.setBaseOptions(C)}setOptions(C){return this.options.setEmbedderOptions((0,x.convertEmbedderOptionsToProto)(C,this.options.getEmbedderOptions())),this.applyOptions(C)}embed(C,D){return this.processImageData(C,D),this.embeddings}embedForVideo(C,D,L){return this.processVideoData(C,L,D),this.embeddings}static cosineSimilarity(C,D){return(0,T.computeCosineSimilarity)(C,D)}addJsImageEmdedding(C){const D=m.EmbeddingResult.deserializeBinary(C);this.embeddings=(0,O.convertFromEmbeddingResultProto)(D)}refreshGraph(){const C=new _.CalculatorGraphConfig;C.addInputStream(M),C.addInputStream(F),C.addOutputStream(B);const D=new y.CalculatorOptions;D.setExtension(b.ImageEmbedderGraphOptions.ext,this.options);const L=new _.CalculatorGraphConfig.Node;L.setCalculator("mediapipe.tasks.vision.image_embedder.ImageEmbedderGraph"),L.addInputStream("IMAGE:"+M),L.addInputStream("NORM_RECT:"+F),L.addOutputStream("EMBEDDINGS:"+B),L.setOptions(D),C.addNode(L),this.graphRunner.attachProtoListener(B,(k,A)=>{this.addJsImageEmdedding(k),this.setLatestOutputTimestamp(A)}),this.graphRunner.attachEmptyPacketListener(B,k=>{this.setLatestOutputTimestamp(k)});const R=C.serializeBinary();this.setGraph(new Uint8Array(R),!0)}}u.ImageEmbedder=S}(image_embedder);var image_segmenter={},tensors_to_segmentation_calculator_pb={},segmenter_options_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();g.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions",null,_),g.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.Activation",null,_),g.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.OutputType",null,_),proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions=function(y){p.Message.initialize(this,y,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.displayName="proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.toObject=function(y){return proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.toObject(y,this)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.toObject=function(y,m){var h,b={outputType:(h=p.Message.getField(m,1))==null?void 0:h,activation:p.Message.getFieldWithDefault(m,2,0)};return y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions;return proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.deserializeBinaryFromReader(h,m)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var h=m.readEnum();y.setOutputType(h);break;case 2:h=m.readEnum(),y.setActivation(h);break;default:m.skipField()}return y},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.serializeBinaryToWriter=function(y,m){var h=void 0;(h=p.Message.getField(y,1))!=null&&m.writeEnum(1,h),(h=p.Message.getField(y,2))!=null&&m.writeEnum(2,h)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.OutputType={UNSPECIFIED:0,CATEGORY_MASK:1,CONFIDENCE_MASK:2},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.Activation={NONE:0,SIGMOID:1,SOFTMAX:2},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.getOutputType=function(){return p.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.setOutputType=function(y){return p.Message.setField(this,1,y)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.clearOutputType=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.hasOutputType=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.getActivation=function(){return p.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.setActivation=function(y){return p.Message.setField(this,2,y)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.clearActivation=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.SegmenterOptions.prototype.hasActivation=function(){return p.Message.getField(this,2)!=null},g.object.extend(u,proto.mediapipe.tasks.vision.image_segmenter.proto)})(segmenter_options_pb);var label_map_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();g.exportSymbol("proto.mediapipe.LabelMapItem",null,_),proto.mediapipe.LabelMapItem=function(y){p.Message.initialize(this,y,0,-1,proto.mediapipe.LabelMapItem.repeatedFields_,null)},g.inherits(proto.mediapipe.LabelMapItem,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.LabelMapItem.displayName="proto.mediapipe.LabelMapItem"),proto.mediapipe.LabelMapItem.repeatedFields_=[3],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.LabelMapItem.prototype.toObject=function(y){return proto.mediapipe.LabelMapItem.toObject(y,this)},proto.mediapipe.LabelMapItem.toObject=function(y,m){var h,b={name:(h=p.Message.getField(m,1))==null?void 0:h,displayName:(h=p.Message.getField(m,2))==null?void 0:h,childNameList:(h=p.Message.getRepeatedField(m,3))==null?void 0:h};return y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.LabelMapItem.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.LabelMapItem;return proto.mediapipe.LabelMapItem.deserializeBinaryFromReader(h,m)},proto.mediapipe.LabelMapItem.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var h=m.readString();y.setName(h);break;case 2:h=m.readString(),y.setDisplayName(h);break;case 3:h=m.readString(),y.addChildName(h);break;default:m.skipField()}return y},proto.mediapipe.LabelMapItem.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.LabelMapItem.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.LabelMapItem.serializeBinaryToWriter=function(y,m){var h=void 0;(h=p.Message.getField(y,1))!=null&&m.writeString(1,h),(h=p.Message.getField(y,2))!=null&&m.writeString(2,h),(h=y.getChildNameList()).length>0&&m.writeRepeatedString(3,h)},proto.mediapipe.LabelMapItem.prototype.getName=function(){return p.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.LabelMapItem.prototype.setName=function(y){return p.Message.setField(this,1,y)},proto.mediapipe.LabelMapItem.prototype.clearName=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.LabelMapItem.prototype.hasName=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.LabelMapItem.prototype.getDisplayName=function(){return p.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.LabelMapItem.prototype.setDisplayName=function(y){return p.Message.setField(this,2,y)},proto.mediapipe.LabelMapItem.prototype.clearDisplayName=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.LabelMapItem.prototype.hasDisplayName=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.LabelMapItem.prototype.getChildNameList=function(){return p.Message.getRepeatedField(this,3)},proto.mediapipe.LabelMapItem.prototype.setChildNameList=function(y){return p.Message.setField(this,3,y||[])},proto.mediapipe.LabelMapItem.prototype.addChildName=function(y,m){return p.Message.addToRepeatedField(this,3,y,m)},proto.mediapipe.LabelMapItem.prototype.clearChildNameList=function(){return this.setChildNameList([])},g.object.extend(u,proto.mediapipe)})(label_map_pb),function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_options_pb;g.object.extend(proto,y);var m=segmenter_options_pb;g.object.extend(proto,m);var h=label_map_pb;g.object.extend(proto,h),g.exportSymbol("proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions",null,_),proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions=function(b){p.Message.initialize(this,b,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.displayName="proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.toObject=function(b){return proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject(b,this)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject=function(b,x){var O,T={segmenterOptions:(O=x.getSegmenterOptions())&&m.SegmenterOptions.toObject(b,O),labelItemsMap:(O=x.getLabelItemsMap())?O.toObject(b,proto.mediapipe.LabelMapItem.toObject):[]};return b&&(T.$jspbMessageInstance=x),T}),proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinary=function(b){var x=new p.BinaryReader(b),O=new proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions;return proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader(O,x)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader=function(b,x){for(;x.nextField()&&!x.isEndGroup();)switch(x.getFieldNumber()){case 1:var O=new m.SegmenterOptions;x.readMessage(O,m.SegmenterOptions.deserializeBinaryFromReader),b.setSegmenterOptions(O);break;case 2:O=b.getLabelItemsMap(),x.readMessage(O,function(T,E){p.Map.deserializeBinary(T,E,p.BinaryReader.prototype.readInt64,p.BinaryReader.prototype.readMessage,proto.mediapipe.LabelMapItem.deserializeBinaryFromReader,0,new proto.mediapipe.LabelMapItem)});break;default:x.skipField()}return b},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.serializeBinary=function(){var b=new p.BinaryWriter;return proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter(this,b),b.getResultBuffer()},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter=function(b,x){var O=void 0;(O=b.getSegmenterOptions())!=null&&x.writeMessage(1,O,m.SegmenterOptions.serializeBinaryToWriter),(O=b.getLabelItemsMap(!0))&&O.getLength()>0&&O.serializeBinary(2,x,p.BinaryWriter.prototype.writeInt64,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.LabelMapItem.serializeBinaryToWriter)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext=new p.ExtensionFieldInfo(458105876,{ext:0},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject,0),y.CalculatorOptions.extensionsBinary[458105876]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader,!1),y.CalculatorOptions.extensions[458105876]=proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.getSegmenterOptions=function(){return p.Message.getWrapperField(this,m.SegmenterOptions,1)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.setSegmenterOptions=function(b){return p.Message.setWrapperField(this,1,b)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.clearSegmenterOptions=function(){return this.setSegmenterOptions(void 0)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.hasSegmenterOptions=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.getLabelItemsMap=function(b){return p.Message.getMapField(this,2,b,proto.mediapipe.LabelMapItem)},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.prototype.clearLabelItemsMap=function(){return this.getLabelItemsMap().clear(),this},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext=new p.ExtensionFieldInfo(458105876,{ext:0},proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.toObject,0),y.CalculatorOptions.extensionsBinary[458105876]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.deserializeBinaryFromReader,!1),y.CalculatorOptions.extensions[458105876]=proto.mediapipe.tasks.TensorsToSegmentationCalculatorOptions.ext,g.object.extend(u,proto.mediapipe.tasks)}(tensors_to_segmentation_calculator_pb);var image_segmenter_graph_options_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_pb;g.object.extend(proto,y);var m=calculator_options_pb;g.object.extend(proto,m);var h=base_options_pb;g.object.extend(proto,h);var b=segmenter_options_pb;g.object.extend(proto,b),g.exportSymbol("proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions",null,_),proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions=function(x){p.Message.initialize(this,x,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.displayName="proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.toObject=function(x){return proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject(x,this)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject=function(x,O){var T,E={baseOptions:(T=O.getBaseOptions())&&h.BaseOptions.toObject(x,T),displayNamesLocale:p.Message.getFieldWithDefault(O,2,"en"),segmenterOptions:(T=O.getSegmenterOptions())&&b.SegmenterOptions.toObject(x,T)};return x&&(E.$jspbMessageInstance=O),E}),proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinary=function(x){var O=new p.BinaryReader(x),T=new proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions;return proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader(T,O)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader=function(x,O){for(;O.nextField()&&!O.isEndGroup();)switch(O.getFieldNumber()){case 1:var T=new h.BaseOptions;O.readMessage(T,h.BaseOptions.deserializeBinaryFromReader),x.setBaseOptions(T);break;case 2:T=O.readString(),x.setDisplayNamesLocale(T);break;case 3:T=new b.SegmenterOptions,O.readMessage(T,b.SegmenterOptions.deserializeBinaryFromReader),x.setSegmenterOptions(T);break;default:O.skipField()}return x},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.serializeBinary=function(){var x=new p.BinaryWriter;return proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter(this,x),x.getResultBuffer()},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter=function(x,O){var T=void 0;(T=x.getBaseOptions())!=null&&O.writeMessage(1,T,h.BaseOptions.serializeBinaryToWriter),(T=p.Message.getField(x,2))!=null&&O.writeString(2,T),(T=x.getSegmenterOptions())!=null&&O.writeMessage(3,T,b.SegmenterOptions.serializeBinaryToWriter)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext=new p.ExtensionFieldInfo(458105758,{ext:0},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[458105758]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[458105758]=proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.getBaseOptions=function(){return p.Message.getWrapperField(this,h.BaseOptions,1)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.setBaseOptions=function(x){return p.Message.setWrapperField(this,1,x)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.hasBaseOptions=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.getDisplayNamesLocale=function(){return p.Message.getFieldWithDefault(this,2,"en")},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.setDisplayNamesLocale=function(x){return p.Message.setField(this,2,x)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.clearDisplayNamesLocale=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.hasDisplayNamesLocale=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.getSegmenterOptions=function(){return p.Message.getWrapperField(this,b.SegmenterOptions,3)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.setSegmenterOptions=function(x){return p.Message.setWrapperField(this,3,x)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.clearSegmenterOptions=function(){return this.setSegmenterOptions(void 0)},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.prototype.hasSegmenterOptions=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext=new p.ExtensionFieldInfo(458105758,{ext:0},proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[458105758]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[458105758]=proto.mediapipe.tasks.vision.image_segmenter.proto.ImageSegmenterGraphOptions.ext,g.object.extend(u,proto.mediapipe.tasks.vision.image_segmenter.proto)})(image_segmenter_graph_options_pb);var image_segmenter_result={};Object.defineProperty(image_segmenter_result,"__esModule",{value:!0}),image_segmenter_result.ImageSegmenterResult=void 0;class ImageSegmenterResult{constructor(p,g,_){this.confidenceMasks=p,this.categoryMask=g,this.qualityScores=_}close(){var p,g;(p=this.confidenceMasks)===null||p===void 0||p.forEach(_=>{_.close()}),(g=this.categoryMask)===null||g===void 0||g.close()}}image_segmenter_result.ImageSegmenterResult=ImageSegmenterResult;var image_segmenter_options={};Object.defineProperty(image_segmenter_options,"__esModule",{value:!0}),function(u){var p=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(D,L,R,k){k===void 0&&(k=R);var A=Object.getOwnPropertyDescriptor(L,R);A&&!("get"in A?!L.__esModule:A.writable||A.configurable)||(A={enumerable:!0,get:function(){return L[R]}}),Object.defineProperty(D,k,A)}:function(D,L,R,k){k===void 0&&(k=R),D[k]=L[R]}),g=commonjsGlobal&&commonjsGlobal.__exportStar||function(D,L){for(var R in D)R==="default"||Object.prototype.hasOwnProperty.call(L,R)||p(L,D,R)};Object.defineProperty(u,"__esModule",{value:!0}),u.ImageSegmenter=void 0;const _=calculator_pb,y=calculator_options_pb,m=base_options_pb,h=tensors_to_segmentation_calculator_pb,b=image_segmenter_graph_options_pb,x=segmenter_options_pb,O=vision_task_runner,T=image_segmenter_result;g(image_segmenter_options,u),g(image_segmenter_result,u);const E="image_in",M="norm_rect",F="confidence_masks",B="category_mask",S="quality_scores",w="mediapipe.tasks.TensorsToSegmentationCalculator";class C extends O.VisionTaskRunner{static createFromOptions(L,R){return O.VisionTaskRunner.createVisionInstance(C,L,R)}static createFromModelBuffer(L,R){return O.VisionTaskRunner.createVisionInstance(C,L,{baseOptions:{modelAssetBuffer:R}})}static createFromModelPath(L,R){return O.VisionTaskRunner.createVisionInstance(C,L,{baseOptions:{modelAssetPath:R}})}constructor(L,R){super(new O.VisionGraphRunner(L,R),E,M,!1),this.labels=[],this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.options=new b.ImageSegmenterGraphOptions,this.segmenterOptions=new x.SegmenterOptions,this.options.setSegmenterOptions(this.segmenterOptions),this.options.setBaseOptions(new m.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(L){this.options.setBaseOptions(L)}setOptions(L){var R,k;return L.displayNamesLocale!==void 0?this.options.setDisplayNamesLocale(L.displayNamesLocale):"displayNamesLocale"in L&&this.options.clearDisplayNamesLocale(),"outputCategoryMask"in L&&(this.outputCategoryMask=(R=L.outputCategoryMask)!==null&&R!==void 0&&R),"outputConfidenceMasks"in L&&(this.outputConfidenceMasks=(k=L.outputConfidenceMasks)===null||k===void 0||k),super.applyOptions(L)}onGraphRefreshed(){this.populateLabels()}populateLabels(){var L,R,k;const A=this.getCalculatorGraphConfig().getNodeList().filter(I=>I.getName().includes(w));if(this.labels=[],A.length>1)throw new Error(`The graph has more than one ${w}.`);A.length===1&&((k=(R=(L=A[0].getOptions())===null||L===void 0?void 0:L.getExtension(h.TensorsToSegmentationCalculatorOptions.ext))===null||R===void 0?void 0:R.getLabelItemsMap())!==null&&k!==void 0?k:new Map).forEach((I,P)=>{this.labels[Number(P)]=I.getName()})}segment(L,R,k){const A=typeof R!="function"?R:{};return this.userCallback=typeof R=="function"?R:k,this.reset(),this.processImageData(L,A),this.processResults()}segmentForVideo(L,R,k,A){const I=typeof k!="function"?k:{};return this.userCallback=typeof k=="function"?k:A,this.reset(),this.processVideoData(L,I,R),this.processResults()}getLabels(){return this.labels}reset(){this.categoryMask=void 0,this.confidenceMasks=void 0,this.qualityScores=void 0}processResults(){try{const L=new T.ImageSegmenterResult(this.confidenceMasks,this.categoryMask,this.qualityScores);if(!this.userCallback)return L;this.userCallback(L)}finally{this.freeKeepaliveStreams()}}refreshGraph(){const L=new _.CalculatorGraphConfig;L.addInputStream(E),L.addInputStream(M);const R=new y.CalculatorOptions;R.setExtension(b.ImageSegmenterGraphOptions.ext,this.options);const k=new _.CalculatorGraphConfig.Node;k.setCalculator("mediapipe.tasks.vision.image_segmenter.ImageSegmenterGraph"),k.addInputStream("IMAGE:"+E),k.addInputStream("NORM_RECT:"+M),k.setOptions(R),L.addNode(k),this.addKeepaliveNode(L),this.outputConfidenceMasks&&(L.addOutputStream(F),k.addOutputStream("CONFIDENCE_MASKS:"+F),this.keepStreamAlive(F),this.graphRunner.attachImageVectorListener(F,(I,P)=>{this.confidenceMasks=I.map(G=>this.convertToMPMask(G,!this.userCallback)),this.setLatestOutputTimestamp(P)}),this.graphRunner.attachEmptyPacketListener(F,I=>{this.confidenceMasks=[],this.setLatestOutputTimestamp(I)})),this.outputCategoryMask&&(L.addOutputStream(B),k.addOutputStream("CATEGORY_MASK:"+B),this.keepStreamAlive(B),this.graphRunner.attachImageListener(B,(I,P)=>{this.categoryMask=this.convertToMPMask(I,!this.userCallback),this.setLatestOutputTimestamp(P)}),this.graphRunner.attachEmptyPacketListener(B,I=>{this.categoryMask=void 0,this.setLatestOutputTimestamp(I)})),L.addOutputStream(S),k.addOutputStream("QUALITY_SCORES:"+S),this.graphRunner.attachFloatVectorListener(S,(I,P)=>{this.qualityScores=I,this.setLatestOutputTimestamp(P)}),this.graphRunner.attachEmptyPacketListener(S,I=>{this.categoryMask=void 0,this.setLatestOutputTimestamp(I)});const A=L.serializeBinary();this.setGraph(new Uint8Array(A),!0)}}u.ImageSegmenter=C}(image_segmenter);var interactive_segmenter={},color_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")();g.exportSymbol("proto.mediapipe.Color",null,_),g.exportSymbol("proto.mediapipe.ColorMap",null,_),proto.mediapipe.Color=function(y){p.Message.initialize(this,y,0,-1,null,null)},g.inherits(proto.mediapipe.Color,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.Color.displayName="proto.mediapipe.Color"),proto.mediapipe.ColorMap=function(y){p.Message.initialize(this,y,0,-1,null,null)},g.inherits(proto.mediapipe.ColorMap,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.ColorMap.displayName="proto.mediapipe.ColorMap"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.Color.prototype.toObject=function(y){return proto.mediapipe.Color.toObject(y,this)},proto.mediapipe.Color.toObject=function(y,m){var h,b={r:(h=p.Message.getField(m,1))==null?void 0:h,g:(h=p.Message.getField(m,2))==null?void 0:h,b:(h=p.Message.getField(m,3))==null?void 0:h};return y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.Color.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.Color;return proto.mediapipe.Color.deserializeBinaryFromReader(h,m)},proto.mediapipe.Color.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)switch(m.getFieldNumber()){case 1:var h=m.readInt32();y.setR(h);break;case 2:h=m.readInt32(),y.setG(h);break;case 3:h=m.readInt32(),y.setB(h);break;default:m.skipField()}return y},proto.mediapipe.Color.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.Color.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.Color.serializeBinaryToWriter=function(y,m){var h=void 0;(h=p.Message.getField(y,1))!=null&&m.writeInt32(1,h),(h=p.Message.getField(y,2))!=null&&m.writeInt32(2,h),(h=p.Message.getField(y,3))!=null&&m.writeInt32(3,h)},proto.mediapipe.Color.prototype.getR=function(){return p.Message.getFieldWithDefault(this,1,0)},proto.mediapipe.Color.prototype.setR=function(y){return p.Message.setField(this,1,y)},proto.mediapipe.Color.prototype.clearR=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.Color.prototype.hasR=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.Color.prototype.getG=function(){return p.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.Color.prototype.setG=function(y){return p.Message.setField(this,2,y)},proto.mediapipe.Color.prototype.clearG=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.Color.prototype.hasG=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.Color.prototype.getB=function(){return p.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.Color.prototype.setB=function(y){return p.Message.setField(this,3,y)},proto.mediapipe.Color.prototype.clearB=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.Color.prototype.hasB=function(){return p.Message.getField(this,3)!=null},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.ColorMap.prototype.toObject=function(y){return proto.mediapipe.ColorMap.toObject(y,this)},proto.mediapipe.ColorMap.toObject=function(y,m){var h,b={labelToColorMap:(h=m.getLabelToColorMap())?h.toObject(y,proto.mediapipe.Color.toObject):[]};return y&&(b.$jspbMessageInstance=m),b}),proto.mediapipe.ColorMap.deserializeBinary=function(y){var m=new p.BinaryReader(y),h=new proto.mediapipe.ColorMap;return proto.mediapipe.ColorMap.deserializeBinaryFromReader(h,m)},proto.mediapipe.ColorMap.deserializeBinaryFromReader=function(y,m){for(;m.nextField()&&!m.isEndGroup();)if(m.getFieldNumber()===1){var h=y.getLabelToColorMap();m.readMessage(h,function(b,x){p.Map.deserializeBinary(b,x,p.BinaryReader.prototype.readString,p.BinaryReader.prototype.readMessage,proto.mediapipe.Color.deserializeBinaryFromReader,"",new proto.mediapipe.Color)})}else m.skipField();return y},proto.mediapipe.ColorMap.prototype.serializeBinary=function(){var y=new p.BinaryWriter;return proto.mediapipe.ColorMap.serializeBinaryToWriter(this,y),y.getResultBuffer()},proto.mediapipe.ColorMap.serializeBinaryToWriter=function(y,m){var h=void 0;(h=y.getLabelToColorMap(!0))&&h.getLength()>0&&h.serializeBinary(1,m,p.BinaryWriter.prototype.writeString,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.Color.serializeBinaryToWriter)},proto.mediapipe.ColorMap.prototype.getLabelToColorMap=function(y){return p.Message.getMapField(this,1,y,proto.mediapipe.Color)},proto.mediapipe.ColorMap.prototype.clearLabelToColorMap=function(){return this.getLabelToColorMap().clear(),this},g.object.extend(u,proto.mediapipe)})(color_pb);var render_data_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=color_pb;g.object.extend(proto,y),g.exportSymbol("proto.mediapipe.RenderAnnotation",null,_),g.exportSymbol("proto.mediapipe.RenderAnnotation.Arrow",null,_),g.exportSymbol("proto.mediapipe.RenderAnnotation.DataCase",null,_),g.exportSymbol("proto.mediapipe.RenderAnnotation.FilledOval",null,_),g.exportSymbol("proto.mediapipe.RenderAnnotation.FilledRectangle",null,_),g.exportSymbol("proto.mediapipe.RenderAnnotation.FilledRoundedRectangle",null,_),g.exportSymbol("proto.mediapipe.RenderAnnotation.GradientLine",null,_),g.exportSymbol("proto.mediapipe.RenderAnnotation.Line",null,_),g.exportSymbol("proto.mediapipe.RenderAnnotation.Line.LineType",null,_),g.exportSymbol("proto.mediapipe.RenderAnnotation.Oval",null,_),g.exportSymbol("proto.mediapipe.RenderAnnotation.Point",null,_),g.exportSymbol("proto.mediapipe.RenderAnnotation.Rectangle",null,_),g.exportSymbol("proto.mediapipe.RenderAnnotation.RoundedRectangle",null,_),g.exportSymbol("proto.mediapipe.RenderAnnotation.Scribble",null,_),g.exportSymbol("proto.mediapipe.RenderAnnotation.Text",null,_),g.exportSymbol("proto.mediapipe.RenderData",null,_),g.exportSymbol("proto.mediapipe.RenderViewport",null,_),proto.mediapipe.RenderData=function(m){p.Message.initialize(this,m,0,-1,proto.mediapipe.RenderData.repeatedFields_,null)},g.inherits(proto.mediapipe.RenderData,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.RenderData.displayName="proto.mediapipe.RenderData"),proto.mediapipe.RenderAnnotation=function(m){p.Message.initialize(this,m,0,-1,null,proto.mediapipe.RenderAnnotation.oneofGroups_)},g.inherits(proto.mediapipe.RenderAnnotation,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.displayName="proto.mediapipe.RenderAnnotation"),proto.mediapipe.RenderAnnotation.Rectangle=function(m){p.Message.initialize(this,m,0,-1,null,null)},g.inherits(proto.mediapipe.RenderAnnotation.Rectangle,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Rectangle.displayName="proto.mediapipe.RenderAnnotation.Rectangle"),proto.mediapipe.RenderAnnotation.FilledRectangle=function(m){p.Message.initialize(this,m,0,-1,null,null)},g.inherits(proto.mediapipe.RenderAnnotation.FilledRectangle,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.FilledRectangle.displayName="proto.mediapipe.RenderAnnotation.FilledRectangle"),proto.mediapipe.RenderAnnotation.RoundedRectangle=function(m){p.Message.initialize(this,m,0,-1,null,null)},g.inherits(proto.mediapipe.RenderAnnotation.RoundedRectangle,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.RoundedRectangle.displayName="proto.mediapipe.RenderAnnotation.RoundedRectangle"),proto.mediapipe.RenderAnnotation.FilledRoundedRectangle=function(m){p.Message.initialize(this,m,0,-1,null,null)},g.inherits(proto.mediapipe.RenderAnnotation.FilledRoundedRectangle,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.displayName="proto.mediapipe.RenderAnnotation.FilledRoundedRectangle"),proto.mediapipe.RenderAnnotation.Oval=function(m){p.Message.initialize(this,m,0,-1,null,null)},g.inherits(proto.mediapipe.RenderAnnotation.Oval,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Oval.displayName="proto.mediapipe.RenderAnnotation.Oval"),proto.mediapipe.RenderAnnotation.FilledOval=function(m){p.Message.initialize(this,m,0,-1,null,null)},g.inherits(proto.mediapipe.RenderAnnotation.FilledOval,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.FilledOval.displayName="proto.mediapipe.RenderAnnotation.FilledOval"),proto.mediapipe.RenderAnnotation.Point=function(m){p.Message.initialize(this,m,0,-1,null,null)},g.inherits(proto.mediapipe.RenderAnnotation.Point,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Point.displayName="proto.mediapipe.RenderAnnotation.Point"),proto.mediapipe.RenderAnnotation.Line=function(m){p.Message.initialize(this,m,0,-1,null,null)},g.inherits(proto.mediapipe.RenderAnnotation.Line,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Line.displayName="proto.mediapipe.RenderAnnotation.Line"),proto.mediapipe.RenderAnnotation.GradientLine=function(m){p.Message.initialize(this,m,0,-1,null,null)},g.inherits(proto.mediapipe.RenderAnnotation.GradientLine,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.GradientLine.displayName="proto.mediapipe.RenderAnnotation.GradientLine"),proto.mediapipe.RenderAnnotation.Scribble=function(m){p.Message.initialize(this,m,0,-1,proto.mediapipe.RenderAnnotation.Scribble.repeatedFields_,null)},g.inherits(proto.mediapipe.RenderAnnotation.Scribble,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Scribble.displayName="proto.mediapipe.RenderAnnotation.Scribble"),proto.mediapipe.RenderAnnotation.Arrow=function(m){p.Message.initialize(this,m,0,-1,null,null)},g.inherits(proto.mediapipe.RenderAnnotation.Arrow,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Arrow.displayName="proto.mediapipe.RenderAnnotation.Arrow"),proto.mediapipe.RenderAnnotation.Text=function(m){p.Message.initialize(this,m,0,-1,null,null)},g.inherits(proto.mediapipe.RenderAnnotation.Text,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.RenderAnnotation.Text.displayName="proto.mediapipe.RenderAnnotation.Text"),proto.mediapipe.RenderViewport=function(m){p.Message.initialize(this,m,0,-1,null,null)},g.inherits(proto.mediapipe.RenderViewport,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.RenderViewport.displayName="proto.mediapipe.RenderViewport"),proto.mediapipe.RenderData.repeatedFields_=[1],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderData.prototype.toObject=function(m){return proto.mediapipe.RenderData.toObject(m,this)},proto.mediapipe.RenderData.toObject=function(m,h){var b,x={renderAnnotationsList:p.Message.toObjectList(h.getRenderAnnotationsList(),proto.mediapipe.RenderAnnotation.toObject,m),sceneClass:(b=p.Message.getField(h,2))==null?void 0:b,sceneViewport:(b=h.getSceneViewport())&&proto.mediapipe.RenderViewport.toObject(m,b)};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.RenderData.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.RenderData;return proto.mediapipe.RenderData.deserializeBinaryFromReader(b,h)},proto.mediapipe.RenderData.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=new proto.mediapipe.RenderAnnotation;h.readMessage(b,proto.mediapipe.RenderAnnotation.deserializeBinaryFromReader),m.addRenderAnnotations(b);break;case 2:b=h.readString(),m.setSceneClass(b);break;case 3:b=new proto.mediapipe.RenderViewport,h.readMessage(b,proto.mediapipe.RenderViewport.deserializeBinaryFromReader),m.setSceneViewport(b);break;default:h.skipField()}return m},proto.mediapipe.RenderData.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.RenderData.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.RenderData.serializeBinaryToWriter=function(m,h){var b=void 0;(b=m.getRenderAnnotationsList()).length>0&&h.writeRepeatedMessage(1,b,proto.mediapipe.RenderAnnotation.serializeBinaryToWriter),(b=p.Message.getField(m,2))!=null&&h.writeString(2,b),(b=m.getSceneViewport())!=null&&h.writeMessage(3,b,proto.mediapipe.RenderViewport.serializeBinaryToWriter)},proto.mediapipe.RenderData.prototype.getRenderAnnotationsList=function(){return p.Message.getRepeatedWrapperField(this,proto.mediapipe.RenderAnnotation,1)},proto.mediapipe.RenderData.prototype.setRenderAnnotationsList=function(m){return p.Message.setRepeatedWrapperField(this,1,m)},proto.mediapipe.RenderData.prototype.addRenderAnnotations=function(m,h){return p.Message.addToRepeatedWrapperField(this,1,m,proto.mediapipe.RenderAnnotation,h)},proto.mediapipe.RenderData.prototype.clearRenderAnnotationsList=function(){return this.setRenderAnnotationsList([])},proto.mediapipe.RenderData.prototype.getSceneClass=function(){return p.Message.getFieldWithDefault(this,2,"")},proto.mediapipe.RenderData.prototype.setSceneClass=function(m){return p.Message.setField(this,2,m)},proto.mediapipe.RenderData.prototype.clearSceneClass=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.RenderData.prototype.hasSceneClass=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.RenderData.prototype.getSceneViewport=function(){return p.Message.getWrapperField(this,proto.mediapipe.RenderViewport,3)},proto.mediapipe.RenderData.prototype.setSceneViewport=function(m){return p.Message.setWrapperField(this,3,m)},proto.mediapipe.RenderData.prototype.clearSceneViewport=function(){return this.setSceneViewport(void 0)},proto.mediapipe.RenderData.prototype.hasSceneViewport=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.oneofGroups_=[[1,2,3,4,5,6,7,8,9,10,14,15]],proto.mediapipe.RenderAnnotation.DataCase={DATA_NOT_SET:0,RECTANGLE:1,FILLED_RECTANGLE:2,OVAL:3,FILLED_OVAL:4,POINT:5,LINE:6,ARROW:7,TEXT:8,ROUNDED_RECTANGLE:9,FILLED_ROUNDED_RECTANGLE:10,GRADIENT_LINE:14,SCRIBBLE:15},proto.mediapipe.RenderAnnotation.prototype.getDataCase=function(){return p.Message.computeOneofCase(this,proto.mediapipe.RenderAnnotation.oneofGroups_[0])},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.prototype.toObject=function(m){return proto.mediapipe.RenderAnnotation.toObject(m,this)},proto.mediapipe.RenderAnnotation.toObject=function(m,h){var b,x={rectangle:(b=h.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(m,b),filledRectangle:(b=h.getFilledRectangle())&&proto.mediapipe.RenderAnnotation.FilledRectangle.toObject(m,b),oval:(b=h.getOval())&&proto.mediapipe.RenderAnnotation.Oval.toObject(m,b),filledOval:(b=h.getFilledOval())&&proto.mediapipe.RenderAnnotation.FilledOval.toObject(m,b),point:(b=h.getPoint())&&proto.mediapipe.RenderAnnotation.Point.toObject(m,b),line:(b=h.getLine())&&proto.mediapipe.RenderAnnotation.Line.toObject(m,b),arrow:(b=h.getArrow())&&proto.mediapipe.RenderAnnotation.Arrow.toObject(m,b),text:(b=h.getText())&&proto.mediapipe.RenderAnnotation.Text.toObject(m,b),roundedRectangle:(b=h.getRoundedRectangle())&&proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject(m,b),filledRoundedRectangle:(b=h.getFilledRoundedRectangle())&&proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.toObject(m,b),gradientLine:(b=h.getGradientLine())&&proto.mediapipe.RenderAnnotation.GradientLine.toObject(m,b),scribble:(b=h.getScribble())&&proto.mediapipe.RenderAnnotation.Scribble.toObject(m,b),thickness:p.Message.getFloatingPointFieldWithDefault(h,11,1),color:(b=h.getColor())&&y.Color.toObject(m,b),sceneTag:(b=p.Message.getField(h,13))==null?void 0:b};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.RenderAnnotation.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.RenderAnnotation;return proto.mediapipe.RenderAnnotation.deserializeBinaryFromReader(b,h)},proto.mediapipe.RenderAnnotation.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=new proto.mediapipe.RenderAnnotation.Rectangle;h.readMessage(b,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),m.setRectangle(b);break;case 2:b=new proto.mediapipe.RenderAnnotation.FilledRectangle,h.readMessage(b,proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinaryFromReader),m.setFilledRectangle(b);break;case 3:b=new proto.mediapipe.RenderAnnotation.Oval,h.readMessage(b,proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader),m.setOval(b);break;case 4:b=new proto.mediapipe.RenderAnnotation.FilledOval,h.readMessage(b,proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinaryFromReader),m.setFilledOval(b);break;case 5:b=new proto.mediapipe.RenderAnnotation.Point,h.readMessage(b,proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader),m.setPoint(b);break;case 6:b=new proto.mediapipe.RenderAnnotation.Line,h.readMessage(b,proto.mediapipe.RenderAnnotation.Line.deserializeBinaryFromReader),m.setLine(b);break;case 7:b=new proto.mediapipe.RenderAnnotation.Arrow,h.readMessage(b,proto.mediapipe.RenderAnnotation.Arrow.deserializeBinaryFromReader),m.setArrow(b);break;case 8:b=new proto.mediapipe.RenderAnnotation.Text,h.readMessage(b,proto.mediapipe.RenderAnnotation.Text.deserializeBinaryFromReader),m.setText(b);break;case 9:b=new proto.mediapipe.RenderAnnotation.RoundedRectangle,h.readMessage(b,proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader),m.setRoundedRectangle(b);break;case 10:b=new proto.mediapipe.RenderAnnotation.FilledRoundedRectangle,h.readMessage(b,proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinaryFromReader),m.setFilledRoundedRectangle(b);break;case 14:b=new proto.mediapipe.RenderAnnotation.GradientLine,h.readMessage(b,proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinaryFromReader),m.setGradientLine(b);break;case 15:b=new proto.mediapipe.RenderAnnotation.Scribble,h.readMessage(b,proto.mediapipe.RenderAnnotation.Scribble.deserializeBinaryFromReader),m.setScribble(b);break;case 11:b=h.readDouble(),m.setThickness(b);break;case 12:b=new y.Color,h.readMessage(b,y.Color.deserializeBinaryFromReader),m.setColor(b);break;case 13:b=h.readString(),m.setSceneTag(b);break;default:h.skipField()}return m},proto.mediapipe.RenderAnnotation.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.RenderAnnotation.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.RenderAnnotation.serializeBinaryToWriter=function(m,h){var b=void 0;(b=m.getRectangle())!=null&&h.writeMessage(1,b,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter),(b=m.getFilledRectangle())!=null&&h.writeMessage(2,b,proto.mediapipe.RenderAnnotation.FilledRectangle.serializeBinaryToWriter),(b=m.getOval())!=null&&h.writeMessage(3,b,proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter),(b=m.getFilledOval())!=null&&h.writeMessage(4,b,proto.mediapipe.RenderAnnotation.FilledOval.serializeBinaryToWriter),(b=m.getPoint())!=null&&h.writeMessage(5,b,proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter),(b=m.getLine())!=null&&h.writeMessage(6,b,proto.mediapipe.RenderAnnotation.Line.serializeBinaryToWriter),(b=m.getArrow())!=null&&h.writeMessage(7,b,proto.mediapipe.RenderAnnotation.Arrow.serializeBinaryToWriter),(b=m.getText())!=null&&h.writeMessage(8,b,proto.mediapipe.RenderAnnotation.Text.serializeBinaryToWriter),(b=m.getRoundedRectangle())!=null&&h.writeMessage(9,b,proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter),(b=m.getFilledRoundedRectangle())!=null&&h.writeMessage(10,b,proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.serializeBinaryToWriter),(b=m.getGradientLine())!=null&&h.writeMessage(14,b,proto.mediapipe.RenderAnnotation.GradientLine.serializeBinaryToWriter),(b=m.getScribble())!=null&&h.writeMessage(15,b,proto.mediapipe.RenderAnnotation.Scribble.serializeBinaryToWriter),(b=p.Message.getField(m,11))!=null&&h.writeDouble(11,b),(b=m.getColor())!=null&&h.writeMessage(12,b,y.Color.serializeBinaryToWriter),(b=p.Message.getField(m,13))!=null&&h.writeString(13,b)},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Rectangle.prototype.toObject=function(m){return proto.mediapipe.RenderAnnotation.Rectangle.toObject(m,this)},proto.mediapipe.RenderAnnotation.Rectangle.toObject=function(m,h){var b,x={left:(b=p.Message.getOptionalFloatingPointField(h,1))==null?void 0:b,top:(b=p.Message.getOptionalFloatingPointField(h,2))==null?void 0:b,right:(b=p.Message.getOptionalFloatingPointField(h,3))==null?void 0:b,bottom:(b=p.Message.getOptionalFloatingPointField(h,4))==null?void 0:b,normalized:p.Message.getBooleanFieldWithDefault(h,5,!1),rotation:(b=p.Message.getOptionalFloatingPointField(h,6))==null?void 0:b,topLeftThickness:(b=p.Message.getOptionalFloatingPointField(h,7))==null?void 0:b};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.RenderAnnotation.Rectangle;return proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader(b,h)},proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=h.readDouble();m.setLeft(b);break;case 2:b=h.readDouble(),m.setTop(b);break;case 3:b=h.readDouble(),m.setRight(b);break;case 4:b=h.readDouble(),m.setBottom(b);break;case 5:b=h.readBool(),m.setNormalized(b);break;case 6:b=h.readDouble(),m.setRotation(b);break;case 7:b=h.readDouble(),m.setTopLeftThickness(b);break;default:h.skipField()}return m},proto.mediapipe.RenderAnnotation.Rectangle.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter=function(m,h){var b=void 0;(b=p.Message.getField(m,1))!=null&&h.writeDouble(1,b),(b=p.Message.getField(m,2))!=null&&h.writeDouble(2,b),(b=p.Message.getField(m,3))!=null&&h.writeDouble(3,b),(b=p.Message.getField(m,4))!=null&&h.writeDouble(4,b),(b=p.Message.getField(m,5))!=null&&h.writeBool(5,b),(b=p.Message.getField(m,6))!=null&&h.writeDouble(6,b),(b=p.Message.getField(m,7))!=null&&h.writeDouble(7,b)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getLeft=function(){return p.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setLeft=function(m){return p.Message.setField(this,1,m)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearLeft=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasLeft=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getTop=function(){return p.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setTop=function(m){return p.Message.setField(this,2,m)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearTop=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasTop=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getRight=function(){return p.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setRight=function(m){return p.Message.setField(this,3,m)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearRight=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasRight=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getBottom=function(){return p.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setBottom=function(m){return p.Message.setField(this,4,m)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearBottom=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasBottom=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getNormalized=function(){return p.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setNormalized=function(m){return p.Message.setField(this,5,m)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearNormalized=function(){return p.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasNormalized=function(){return p.Message.getField(this,5)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getRotation=function(){return p.Message.getFloatingPointFieldWithDefault(this,6,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setRotation=function(m){return p.Message.setField(this,6,m)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearRotation=function(){return p.Message.setField(this,6,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasRotation=function(){return p.Message.getField(this,6)!=null},proto.mediapipe.RenderAnnotation.Rectangle.prototype.getTopLeftThickness=function(){return p.Message.getFloatingPointFieldWithDefault(this,7,0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.setTopLeftThickness=function(m){return p.Message.setField(this,7,m)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.clearTopLeftThickness=function(){return p.Message.setField(this,7,void 0)},proto.mediapipe.RenderAnnotation.Rectangle.prototype.hasTopLeftThickness=function(){return p.Message.getField(this,7)!=null},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.toObject=function(m){return proto.mediapipe.RenderAnnotation.FilledRectangle.toObject(m,this)},proto.mediapipe.RenderAnnotation.FilledRectangle.toObject=function(m,h){var b,x={rectangle:(b=h.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(m,b),fillColor:(b=h.getFillColor())&&y.Color.toObject(m,b)};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.RenderAnnotation.FilledRectangle;return proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinaryFromReader(b,h)},proto.mediapipe.RenderAnnotation.FilledRectangle.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=new proto.mediapipe.RenderAnnotation.Rectangle;h.readMessage(b,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),m.setRectangle(b);break;case 2:b=new y.Color,h.readMessage(b,y.Color.deserializeBinaryFromReader),m.setFillColor(b);break;default:h.skipField()}return m},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.RenderAnnotation.FilledRectangle.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.RenderAnnotation.FilledRectangle.serializeBinaryToWriter=function(m,h){var b=void 0;(b=m.getRectangle())!=null&&h.writeMessage(1,b,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter),(b=m.getFillColor())!=null&&h.writeMessage(2,b,y.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.getRectangle=function(){return p.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.setRectangle=function(m){return p.Message.setWrapperField(this,1,m)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.hasRectangle=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.getFillColor=function(){return p.Message.getWrapperField(this,y.Color,2)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.setFillColor=function(m){return p.Message.setWrapperField(this,2,m)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.clearFillColor=function(){return this.setFillColor(void 0)},proto.mediapipe.RenderAnnotation.FilledRectangle.prototype.hasFillColor=function(){return p.Message.getField(this,2)!=null},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.toObject=function(m){return proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject(m,this)},proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject=function(m,h){var b,x={rectangle:(b=h.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(m,b),cornerRadius:p.Message.getFieldWithDefault(h,2,0),lineType:p.Message.getFieldWithDefault(h,3,4)};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.RenderAnnotation.RoundedRectangle;return proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader(b,h)},proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=new proto.mediapipe.RenderAnnotation.Rectangle;h.readMessage(b,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),m.setRectangle(b);break;case 2:b=h.readInt32(),m.setCornerRadius(b);break;case 3:b=h.readInt32(),m.setLineType(b);break;default:h.skipField()}return m},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter=function(m,h){var b=void 0;(b=m.getRectangle())!=null&&h.writeMessage(1,b,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter),(b=p.Message.getField(m,2))!=null&&h.writeInt32(2,b),(b=p.Message.getField(m,3))!=null&&h.writeInt32(3,b)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.getRectangle=function(){return p.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.setRectangle=function(m){return p.Message.setWrapperField(this,1,m)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.hasRectangle=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.getCornerRadius=function(){return p.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.setCornerRadius=function(m){return p.Message.setField(this,2,m)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.clearCornerRadius=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.hasCornerRadius=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.getLineType=function(){return p.Message.getFieldWithDefault(this,3,4)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.setLineType=function(m){return p.Message.setField(this,3,m)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.clearLineType=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.RoundedRectangle.prototype.hasLineType=function(){return p.Message.getField(this,3)!=null},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.toObject=function(m){return proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.toObject(m,this)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.toObject=function(m,h){var b,x={roundedRectangle:(b=h.getRoundedRectangle())&&proto.mediapipe.RenderAnnotation.RoundedRectangle.toObject(m,b),fillColor:(b=h.getFillColor())&&y.Color.toObject(m,b)};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.RenderAnnotation.FilledRoundedRectangle;return proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinaryFromReader(b,h)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=new proto.mediapipe.RenderAnnotation.RoundedRectangle;h.readMessage(b,proto.mediapipe.RenderAnnotation.RoundedRectangle.deserializeBinaryFromReader),m.setRoundedRectangle(b);break;case 2:b=new y.Color,h.readMessage(b,y.Color.deserializeBinaryFromReader),m.setFillColor(b);break;default:h.skipField()}return m},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.serializeBinaryToWriter=function(m,h){var b=void 0;(b=m.getRoundedRectangle())!=null&&h.writeMessage(1,b,proto.mediapipe.RenderAnnotation.RoundedRectangle.serializeBinaryToWriter),(b=m.getFillColor())!=null&&h.writeMessage(2,b,y.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.getRoundedRectangle=function(){return p.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.RoundedRectangle,1)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.setRoundedRectangle=function(m){return p.Message.setWrapperField(this,1,m)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.clearRoundedRectangle=function(){return this.setRoundedRectangle(void 0)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.hasRoundedRectangle=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.getFillColor=function(){return p.Message.getWrapperField(this,y.Color,2)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.setFillColor=function(m){return p.Message.setWrapperField(this,2,m)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.clearFillColor=function(){return this.setFillColor(void 0)},proto.mediapipe.RenderAnnotation.FilledRoundedRectangle.prototype.hasFillColor=function(){return p.Message.getField(this,2)!=null},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Oval.prototype.toObject=function(m){return proto.mediapipe.RenderAnnotation.Oval.toObject(m,this)},proto.mediapipe.RenderAnnotation.Oval.toObject=function(m,h){var b,x={rectangle:(b=h.getRectangle())&&proto.mediapipe.RenderAnnotation.Rectangle.toObject(m,b)};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.RenderAnnotation.Oval.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.RenderAnnotation.Oval;return proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader(b,h)},proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)if(h.getFieldNumber()===1){var b=new proto.mediapipe.RenderAnnotation.Rectangle;h.readMessage(b,proto.mediapipe.RenderAnnotation.Rectangle.deserializeBinaryFromReader),m.setRectangle(b)}else h.skipField();return m},proto.mediapipe.RenderAnnotation.Oval.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter=function(m,h){var b;(b=m.getRectangle())!=null&&h.writeMessage(1,b,proto.mediapipe.RenderAnnotation.Rectangle.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.Oval.prototype.getRectangle=function(){return p.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.Oval.prototype.setRectangle=function(m){return p.Message.setWrapperField(this,1,m)},proto.mediapipe.RenderAnnotation.Oval.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.Oval.prototype.hasRectangle=function(){return p.Message.getField(this,1)!=null},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.FilledOval.prototype.toObject=function(m){return proto.mediapipe.RenderAnnotation.FilledOval.toObject(m,this)},proto.mediapipe.RenderAnnotation.FilledOval.toObject=function(m,h){var b,x={oval:(b=h.getOval())&&proto.mediapipe.RenderAnnotation.Oval.toObject(m,b),fillColor:(b=h.getFillColor())&&y.Color.toObject(m,b)};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.RenderAnnotation.FilledOval;return proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinaryFromReader(b,h)},proto.mediapipe.RenderAnnotation.FilledOval.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=new proto.mediapipe.RenderAnnotation.Oval;h.readMessage(b,proto.mediapipe.RenderAnnotation.Oval.deserializeBinaryFromReader),m.setOval(b);break;case 2:b=new y.Color,h.readMessage(b,y.Color.deserializeBinaryFromReader),m.setFillColor(b);break;default:h.skipField()}return m},proto.mediapipe.RenderAnnotation.FilledOval.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.RenderAnnotation.FilledOval.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.RenderAnnotation.FilledOval.serializeBinaryToWriter=function(m,h){var b=void 0;(b=m.getOval())!=null&&h.writeMessage(1,b,proto.mediapipe.RenderAnnotation.Oval.serializeBinaryToWriter),(b=m.getFillColor())!=null&&h.writeMessage(2,b,y.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.getOval=function(){return p.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Oval,1)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.setOval=function(m){return p.Message.setWrapperField(this,1,m)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.clearOval=function(){return this.setOval(void 0)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.hasOval=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.FilledOval.prototype.getFillColor=function(){return p.Message.getWrapperField(this,y.Color,2)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.setFillColor=function(m){return p.Message.setWrapperField(this,2,m)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.clearFillColor=function(){return this.setFillColor(void 0)},proto.mediapipe.RenderAnnotation.FilledOval.prototype.hasFillColor=function(){return p.Message.getField(this,2)!=null},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Point.prototype.toObject=function(m){return proto.mediapipe.RenderAnnotation.Point.toObject(m,this)},proto.mediapipe.RenderAnnotation.Point.toObject=function(m,h){var b,x={x:(b=p.Message.getOptionalFloatingPointField(h,1))==null?void 0:b,y:(b=p.Message.getOptionalFloatingPointField(h,2))==null?void 0:b,normalized:p.Message.getBooleanFieldWithDefault(h,3,!1)};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.RenderAnnotation.Point.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.RenderAnnotation.Point;return proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader(b,h)},proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=h.readDouble();m.setX(b);break;case 2:b=h.readDouble(),m.setY(b);break;case 3:b=h.readBool(),m.setNormalized(b);break;default:h.skipField()}return m},proto.mediapipe.RenderAnnotation.Point.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter=function(m,h){var b=void 0;(b=p.Message.getField(m,1))!=null&&h.writeDouble(1,b),(b=p.Message.getField(m,2))!=null&&h.writeDouble(2,b),(b=p.Message.getField(m,3))!=null&&h.writeBool(3,b)},proto.mediapipe.RenderAnnotation.Point.prototype.getX=function(){return p.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Point.prototype.setX=function(m){return p.Message.setField(this,1,m)},proto.mediapipe.RenderAnnotation.Point.prototype.clearX=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Point.prototype.hasX=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.Point.prototype.getY=function(){return p.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Point.prototype.setY=function(m){return p.Message.setField(this,2,m)},proto.mediapipe.RenderAnnotation.Point.prototype.clearY=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Point.prototype.hasY=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.Point.prototype.getNormalized=function(){return p.Message.getBooleanFieldWithDefault(this,3,!1)},proto.mediapipe.RenderAnnotation.Point.prototype.setNormalized=function(m){return p.Message.setField(this,3,m)},proto.mediapipe.RenderAnnotation.Point.prototype.clearNormalized=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Point.prototype.hasNormalized=function(){return p.Message.getField(this,3)!=null},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Line.prototype.toObject=function(m){return proto.mediapipe.RenderAnnotation.Line.toObject(m,this)},proto.mediapipe.RenderAnnotation.Line.toObject=function(m,h){var b,x={xStart:(b=p.Message.getOptionalFloatingPointField(h,1))==null?void 0:b,yStart:(b=p.Message.getOptionalFloatingPointField(h,2))==null?void 0:b,xEnd:(b=p.Message.getOptionalFloatingPointField(h,3))==null?void 0:b,yEnd:(b=p.Message.getOptionalFloatingPointField(h,4))==null?void 0:b,normalized:p.Message.getBooleanFieldWithDefault(h,5,!1),lineType:p.Message.getFieldWithDefault(h,6,1)};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.RenderAnnotation.Line.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.RenderAnnotation.Line;return proto.mediapipe.RenderAnnotation.Line.deserializeBinaryFromReader(b,h)},proto.mediapipe.RenderAnnotation.Line.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=h.readDouble();m.setXStart(b);break;case 2:b=h.readDouble(),m.setYStart(b);break;case 3:b=h.readDouble(),m.setXEnd(b);break;case 4:b=h.readDouble(),m.setYEnd(b);break;case 5:b=h.readBool(),m.setNormalized(b);break;case 6:b=h.readEnum(),m.setLineType(b);break;default:h.skipField()}return m},proto.mediapipe.RenderAnnotation.Line.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.RenderAnnotation.Line.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.RenderAnnotation.Line.serializeBinaryToWriter=function(m,h){var b=void 0;(b=p.Message.getField(m,1))!=null&&h.writeDouble(1,b),(b=p.Message.getField(m,2))!=null&&h.writeDouble(2,b),(b=p.Message.getField(m,3))!=null&&h.writeDouble(3,b),(b=p.Message.getField(m,4))!=null&&h.writeDouble(4,b),(b=p.Message.getField(m,5))!=null&&h.writeBool(5,b),(b=p.Message.getField(m,6))!=null&&h.writeEnum(6,b)},proto.mediapipe.RenderAnnotation.Line.LineType={UNKNOWN:0,SOLID:1,DASHED:2},proto.mediapipe.RenderAnnotation.Line.prototype.getXStart=function(){return p.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setXStart=function(m){return p.Message.setField(this,1,m)},proto.mediapipe.RenderAnnotation.Line.prototype.clearXStart=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasXStart=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.Line.prototype.getYStart=function(){return p.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setYStart=function(m){return p.Message.setField(this,2,m)},proto.mediapipe.RenderAnnotation.Line.prototype.clearYStart=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasYStart=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.Line.prototype.getXEnd=function(){return p.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setXEnd=function(m){return p.Message.setField(this,3,m)},proto.mediapipe.RenderAnnotation.Line.prototype.clearXEnd=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasXEnd=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.Line.prototype.getYEnd=function(){return p.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.Line.prototype.setYEnd=function(m){return p.Message.setField(this,4,m)},proto.mediapipe.RenderAnnotation.Line.prototype.clearYEnd=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasYEnd=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.Line.prototype.getNormalized=function(){return p.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Line.prototype.setNormalized=function(m){return p.Message.setField(this,5,m)},proto.mediapipe.RenderAnnotation.Line.prototype.clearNormalized=function(){return p.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasNormalized=function(){return p.Message.getField(this,5)!=null},proto.mediapipe.RenderAnnotation.Line.prototype.getLineType=function(){return p.Message.getFieldWithDefault(this,6,1)},proto.mediapipe.RenderAnnotation.Line.prototype.setLineType=function(m){return p.Message.setField(this,6,m)},proto.mediapipe.RenderAnnotation.Line.prototype.clearLineType=function(){return p.Message.setField(this,6,void 0)},proto.mediapipe.RenderAnnotation.Line.prototype.hasLineType=function(){return p.Message.getField(this,6)!=null},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.GradientLine.prototype.toObject=function(m){return proto.mediapipe.RenderAnnotation.GradientLine.toObject(m,this)},proto.mediapipe.RenderAnnotation.GradientLine.toObject=function(m,h){var b,x={xStart:(b=p.Message.getOptionalFloatingPointField(h,1))==null?void 0:b,yStart:(b=p.Message.getOptionalFloatingPointField(h,2))==null?void 0:b,xEnd:(b=p.Message.getOptionalFloatingPointField(h,3))==null?void 0:b,yEnd:(b=p.Message.getOptionalFloatingPointField(h,4))==null?void 0:b,normalized:p.Message.getBooleanFieldWithDefault(h,5,!1),color1:(b=h.getColor1())&&y.Color.toObject(m,b),color2:(b=h.getColor2())&&y.Color.toObject(m,b)};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.RenderAnnotation.GradientLine;return proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinaryFromReader(b,h)},proto.mediapipe.RenderAnnotation.GradientLine.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=h.readDouble();m.setXStart(b);break;case 2:b=h.readDouble(),m.setYStart(b);break;case 3:b=h.readDouble(),m.setXEnd(b);break;case 4:b=h.readDouble(),m.setYEnd(b);break;case 5:b=h.readBool(),m.setNormalized(b);break;case 6:b=new y.Color,h.readMessage(b,y.Color.deserializeBinaryFromReader),m.setColor1(b);break;case 7:b=new y.Color,h.readMessage(b,y.Color.deserializeBinaryFromReader),m.setColor2(b);break;default:h.skipField()}return m},proto.mediapipe.RenderAnnotation.GradientLine.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.RenderAnnotation.GradientLine.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.RenderAnnotation.GradientLine.serializeBinaryToWriter=function(m,h){var b=void 0;(b=p.Message.getField(m,1))!=null&&h.writeDouble(1,b),(b=p.Message.getField(m,2))!=null&&h.writeDouble(2,b),(b=p.Message.getField(m,3))!=null&&h.writeDouble(3,b),(b=p.Message.getField(m,4))!=null&&h.writeDouble(4,b),(b=p.Message.getField(m,5))!=null&&h.writeBool(5,b),(b=m.getColor1())!=null&&h.writeMessage(6,b,y.Color.serializeBinaryToWriter),(b=m.getColor2())!=null&&h.writeMessage(7,b,y.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getXStart=function(){return p.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setXStart=function(m){return p.Message.setField(this,1,m)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearXStart=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasXStart=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getYStart=function(){return p.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setYStart=function(m){return p.Message.setField(this,2,m)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearYStart=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasYStart=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getXEnd=function(){return p.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setXEnd=function(m){return p.Message.setField(this,3,m)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearXEnd=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasXEnd=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getYEnd=function(){return p.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setYEnd=function(m){return p.Message.setField(this,4,m)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearYEnd=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasYEnd=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getNormalized=function(){return p.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setNormalized=function(m){return p.Message.setField(this,5,m)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearNormalized=function(){return p.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasNormalized=function(){return p.Message.getField(this,5)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getColor1=function(){return p.Message.getWrapperField(this,y.Color,6)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setColor1=function(m){return p.Message.setWrapperField(this,6,m)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearColor1=function(){return this.setColor1(void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasColor1=function(){return p.Message.getField(this,6)!=null},proto.mediapipe.RenderAnnotation.GradientLine.prototype.getColor2=function(){return p.Message.getWrapperField(this,y.Color,7)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.setColor2=function(m){return p.Message.setWrapperField(this,7,m)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.clearColor2=function(){return this.setColor2(void 0)},proto.mediapipe.RenderAnnotation.GradientLine.prototype.hasColor2=function(){return p.Message.getField(this,7)!=null},proto.mediapipe.RenderAnnotation.Scribble.repeatedFields_=[1],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Scribble.prototype.toObject=function(m){return proto.mediapipe.RenderAnnotation.Scribble.toObject(m,this)},proto.mediapipe.RenderAnnotation.Scribble.toObject=function(m,h){var b={pointList:p.Message.toObjectList(h.getPointList(),proto.mediapipe.RenderAnnotation.Point.toObject,m)};return m&&(b.$jspbMessageInstance=h),b}),proto.mediapipe.RenderAnnotation.Scribble.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.RenderAnnotation.Scribble;return proto.mediapipe.RenderAnnotation.Scribble.deserializeBinaryFromReader(b,h)},proto.mediapipe.RenderAnnotation.Scribble.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)if(h.getFieldNumber()===1){var b=new proto.mediapipe.RenderAnnotation.Point;h.readMessage(b,proto.mediapipe.RenderAnnotation.Point.deserializeBinaryFromReader),m.addPoint(b)}else h.skipField();return m},proto.mediapipe.RenderAnnotation.Scribble.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.RenderAnnotation.Scribble.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.RenderAnnotation.Scribble.serializeBinaryToWriter=function(m,h){var b;(b=m.getPointList()).length>0&&h.writeRepeatedMessage(1,b,proto.mediapipe.RenderAnnotation.Point.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.Scribble.prototype.getPointList=function(){return p.Message.getRepeatedWrapperField(this,proto.mediapipe.RenderAnnotation.Point,1)},proto.mediapipe.RenderAnnotation.Scribble.prototype.setPointList=function(m){return p.Message.setRepeatedWrapperField(this,1,m)},proto.mediapipe.RenderAnnotation.Scribble.prototype.addPoint=function(m,h){return p.Message.addToRepeatedWrapperField(this,1,m,proto.mediapipe.RenderAnnotation.Point,h)},proto.mediapipe.RenderAnnotation.Scribble.prototype.clearPointList=function(){return this.setPointList([])},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Arrow.prototype.toObject=function(m){return proto.mediapipe.RenderAnnotation.Arrow.toObject(m,this)},proto.mediapipe.RenderAnnotation.Arrow.toObject=function(m,h){var b,x={xStart:(b=p.Message.getOptionalFloatingPointField(h,1))==null?void 0:b,yStart:(b=p.Message.getOptionalFloatingPointField(h,2))==null?void 0:b,xEnd:(b=p.Message.getOptionalFloatingPointField(h,3))==null?void 0:b,yEnd:(b=p.Message.getOptionalFloatingPointField(h,4))==null?void 0:b,normalized:p.Message.getBooleanFieldWithDefault(h,5,!1)};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.RenderAnnotation.Arrow.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.RenderAnnotation.Arrow;return proto.mediapipe.RenderAnnotation.Arrow.deserializeBinaryFromReader(b,h)},proto.mediapipe.RenderAnnotation.Arrow.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=h.readDouble();m.setXStart(b);break;case 2:b=h.readDouble(),m.setYStart(b);break;case 3:b=h.readDouble(),m.setXEnd(b);break;case 4:b=h.readDouble(),m.setYEnd(b);break;case 5:b=h.readBool(),m.setNormalized(b);break;default:h.skipField()}return m},proto.mediapipe.RenderAnnotation.Arrow.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.RenderAnnotation.Arrow.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.RenderAnnotation.Arrow.serializeBinaryToWriter=function(m,h){var b=void 0;(b=p.Message.getField(m,1))!=null&&h.writeDouble(1,b),(b=p.Message.getField(m,2))!=null&&h.writeDouble(2,b),(b=p.Message.getField(m,3))!=null&&h.writeDouble(3,b),(b=p.Message.getField(m,4))!=null&&h.writeDouble(4,b),(b=p.Message.getField(m,5))!=null&&h.writeBool(5,b)},proto.mediapipe.RenderAnnotation.Arrow.prototype.getXStart=function(){return p.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setXStart=function(m){return p.Message.setField(this,1,m)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearXStart=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasXStart=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.Arrow.prototype.getYStart=function(){return p.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setYStart=function(m){return p.Message.setField(this,2,m)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearYStart=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasYStart=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.Arrow.prototype.getXEnd=function(){return p.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setXEnd=function(m){return p.Message.setField(this,3,m)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearXEnd=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasXEnd=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.Arrow.prototype.getYEnd=function(){return p.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setYEnd=function(m){return p.Message.setField(this,4,m)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearYEnd=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasYEnd=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.Arrow.prototype.getNormalized=function(){return p.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Arrow.prototype.setNormalized=function(m){return p.Message.setField(this,5,m)},proto.mediapipe.RenderAnnotation.Arrow.prototype.clearNormalized=function(){return p.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Arrow.prototype.hasNormalized=function(){return p.Message.getField(this,5)!=null},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderAnnotation.Text.prototype.toObject=function(m){return proto.mediapipe.RenderAnnotation.Text.toObject(m,this)},proto.mediapipe.RenderAnnotation.Text.toObject=function(m,h){var b,x={displayText:(b=p.Message.getField(h,1))==null?void 0:b,left:(b=p.Message.getOptionalFloatingPointField(h,2))==null?void 0:b,baseline:(b=p.Message.getOptionalFloatingPointField(h,3))==null?void 0:b,fontHeight:p.Message.getFloatingPointFieldWithDefault(h,4,8),normalized:p.Message.getBooleanFieldWithDefault(h,5,!1),fontFace:p.Message.getFieldWithDefault(h,6,0),centerHorizontally:p.Message.getBooleanFieldWithDefault(h,7,!1),centerVertically:p.Message.getBooleanFieldWithDefault(h,8,!1),outlineThickness:p.Message.getFloatingPointFieldWithDefault(h,11,0),outlineColor:(b=h.getOutlineColor())&&y.Color.toObject(m,b)};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.RenderAnnotation.Text.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.RenderAnnotation.Text;return proto.mediapipe.RenderAnnotation.Text.deserializeBinaryFromReader(b,h)},proto.mediapipe.RenderAnnotation.Text.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=h.readString();m.setDisplayText(b);break;case 2:b=h.readDouble(),m.setLeft(b);break;case 3:b=h.readDouble(),m.setBaseline(b);break;case 4:b=h.readDouble(),m.setFontHeight(b);break;case 5:b=h.readBool(),m.setNormalized(b);break;case 6:b=h.readInt32(),m.setFontFace(b);break;case 7:b=h.readBool(),m.setCenterHorizontally(b);break;case 8:b=h.readBool(),m.setCenterVertically(b);break;case 11:b=h.readDouble(),m.setOutlineThickness(b);break;case 12:b=new y.Color,h.readMessage(b,y.Color.deserializeBinaryFromReader),m.setOutlineColor(b);break;default:h.skipField()}return m},proto.mediapipe.RenderAnnotation.Text.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.RenderAnnotation.Text.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.RenderAnnotation.Text.serializeBinaryToWriter=function(m,h){var b=void 0;(b=p.Message.getField(m,1))!=null&&h.writeString(1,b),(b=p.Message.getField(m,2))!=null&&h.writeDouble(2,b),(b=p.Message.getField(m,3))!=null&&h.writeDouble(3,b),(b=p.Message.getField(m,4))!=null&&h.writeDouble(4,b),(b=p.Message.getField(m,5))!=null&&h.writeBool(5,b),(b=p.Message.getField(m,6))!=null&&h.writeInt32(6,b),(b=p.Message.getField(m,7))!=null&&h.writeBool(7,b),(b=p.Message.getField(m,8))!=null&&h.writeBool(8,b),(b=p.Message.getField(m,11))!=null&&h.writeDouble(11,b),(b=m.getOutlineColor())!=null&&h.writeMessage(12,b,y.Color.serializeBinaryToWriter)},proto.mediapipe.RenderAnnotation.Text.prototype.getDisplayText=function(){return p.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.RenderAnnotation.Text.prototype.setDisplayText=function(m){return p.Message.setField(this,1,m)},proto.mediapipe.RenderAnnotation.Text.prototype.clearDisplayText=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasDisplayText=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getLeft=function(){return p.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setLeft=function(m){return p.Message.setField(this,2,m)},proto.mediapipe.RenderAnnotation.Text.prototype.clearLeft=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasLeft=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getBaseline=function(){return p.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setBaseline=function(m){return p.Message.setField(this,3,m)},proto.mediapipe.RenderAnnotation.Text.prototype.clearBaseline=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasBaseline=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getFontHeight=function(){return p.Message.getFloatingPointFieldWithDefault(this,4,8)},proto.mediapipe.RenderAnnotation.Text.prototype.setFontHeight=function(m){return p.Message.setField(this,4,m)},proto.mediapipe.RenderAnnotation.Text.prototype.clearFontHeight=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasFontHeight=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getNormalized=function(){return p.Message.getBooleanFieldWithDefault(this,5,!1)},proto.mediapipe.RenderAnnotation.Text.prototype.setNormalized=function(m){return p.Message.setField(this,5,m)},proto.mediapipe.RenderAnnotation.Text.prototype.clearNormalized=function(){return p.Message.setField(this,5,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasNormalized=function(){return p.Message.getField(this,5)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getFontFace=function(){return p.Message.getFieldWithDefault(this,6,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setFontFace=function(m){return p.Message.setField(this,6,m)},proto.mediapipe.RenderAnnotation.Text.prototype.clearFontFace=function(){return p.Message.setField(this,6,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasFontFace=function(){return p.Message.getField(this,6)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getCenterHorizontally=function(){return p.Message.getBooleanFieldWithDefault(this,7,!1)},proto.mediapipe.RenderAnnotation.Text.prototype.setCenterHorizontally=function(m){return p.Message.setField(this,7,m)},proto.mediapipe.RenderAnnotation.Text.prototype.clearCenterHorizontally=function(){return p.Message.setField(this,7,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasCenterHorizontally=function(){return p.Message.getField(this,7)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getCenterVertically=function(){return p.Message.getBooleanFieldWithDefault(this,8,!1)},proto.mediapipe.RenderAnnotation.Text.prototype.setCenterVertically=function(m){return p.Message.setField(this,8,m)},proto.mediapipe.RenderAnnotation.Text.prototype.clearCenterVertically=function(){return p.Message.setField(this,8,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasCenterVertically=function(){return p.Message.getField(this,8)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getOutlineThickness=function(){return p.Message.getFloatingPointFieldWithDefault(this,11,0)},proto.mediapipe.RenderAnnotation.Text.prototype.setOutlineThickness=function(m){return p.Message.setField(this,11,m)},proto.mediapipe.RenderAnnotation.Text.prototype.clearOutlineThickness=function(){return p.Message.setField(this,11,void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasOutlineThickness=function(){return p.Message.getField(this,11)!=null},proto.mediapipe.RenderAnnotation.Text.prototype.getOutlineColor=function(){return p.Message.getWrapperField(this,y.Color,12)},proto.mediapipe.RenderAnnotation.Text.prototype.setOutlineColor=function(m){return p.Message.setWrapperField(this,12,m)},proto.mediapipe.RenderAnnotation.Text.prototype.clearOutlineColor=function(){return this.setOutlineColor(void 0)},proto.mediapipe.RenderAnnotation.Text.prototype.hasOutlineColor=function(){return p.Message.getField(this,12)!=null},proto.mediapipe.RenderAnnotation.prototype.getRectangle=function(){return p.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Rectangle,1)},proto.mediapipe.RenderAnnotation.prototype.setRectangle=function(m){return p.Message.setOneofWrapperField(this,1,proto.mediapipe.RenderAnnotation.oneofGroups_[0],m)},proto.mediapipe.RenderAnnotation.prototype.clearRectangle=function(){return this.setRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasRectangle=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.RenderAnnotation.prototype.getFilledRectangle=function(){return p.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.FilledRectangle,2)},proto.mediapipe.RenderAnnotation.prototype.setFilledRectangle=function(m){return p.Message.setOneofWrapperField(this,2,proto.mediapipe.RenderAnnotation.oneofGroups_[0],m)},proto.mediapipe.RenderAnnotation.prototype.clearFilledRectangle=function(){return this.setFilledRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasFilledRectangle=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.RenderAnnotation.prototype.getOval=function(){return p.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Oval,3)},proto.mediapipe.RenderAnnotation.prototype.setOval=function(m){return p.Message.setOneofWrapperField(this,3,proto.mediapipe.RenderAnnotation.oneofGroups_[0],m)},proto.mediapipe.RenderAnnotation.prototype.clearOval=function(){return this.setOval(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasOval=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.RenderAnnotation.prototype.getFilledOval=function(){return p.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.FilledOval,4)},proto.mediapipe.RenderAnnotation.prototype.setFilledOval=function(m){return p.Message.setOneofWrapperField(this,4,proto.mediapipe.RenderAnnotation.oneofGroups_[0],m)},proto.mediapipe.RenderAnnotation.prototype.clearFilledOval=function(){return this.setFilledOval(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasFilledOval=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.RenderAnnotation.prototype.getPoint=function(){return p.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Point,5)},proto.mediapipe.RenderAnnotation.prototype.setPoint=function(m){return p.Message.setOneofWrapperField(this,5,proto.mediapipe.RenderAnnotation.oneofGroups_[0],m)},proto.mediapipe.RenderAnnotation.prototype.clearPoint=function(){return this.setPoint(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasPoint=function(){return p.Message.getField(this,5)!=null},proto.mediapipe.RenderAnnotation.prototype.getLine=function(){return p.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Line,6)},proto.mediapipe.RenderAnnotation.prototype.setLine=function(m){return p.Message.setOneofWrapperField(this,6,proto.mediapipe.RenderAnnotation.oneofGroups_[0],m)},proto.mediapipe.RenderAnnotation.prototype.clearLine=function(){return this.setLine(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasLine=function(){return p.Message.getField(this,6)!=null},proto.mediapipe.RenderAnnotation.prototype.getArrow=function(){return p.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Arrow,7)},proto.mediapipe.RenderAnnotation.prototype.setArrow=function(m){return p.Message.setOneofWrapperField(this,7,proto.mediapipe.RenderAnnotation.oneofGroups_[0],m)},proto.mediapipe.RenderAnnotation.prototype.clearArrow=function(){return this.setArrow(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasArrow=function(){return p.Message.getField(this,7)!=null},proto.mediapipe.RenderAnnotation.prototype.getText=function(){return p.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Text,8)},proto.mediapipe.RenderAnnotation.prototype.setText=function(m){return p.Message.setOneofWrapperField(this,8,proto.mediapipe.RenderAnnotation.oneofGroups_[0],m)},proto.mediapipe.RenderAnnotation.prototype.clearText=function(){return this.setText(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasText=function(){return p.Message.getField(this,8)!=null},proto.mediapipe.RenderAnnotation.prototype.getRoundedRectangle=function(){return p.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.RoundedRectangle,9)},proto.mediapipe.RenderAnnotation.prototype.setRoundedRectangle=function(m){return p.Message.setOneofWrapperField(this,9,proto.mediapipe.RenderAnnotation.oneofGroups_[0],m)},proto.mediapipe.RenderAnnotation.prototype.clearRoundedRectangle=function(){return this.setRoundedRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasRoundedRectangle=function(){return p.Message.getField(this,9)!=null},proto.mediapipe.RenderAnnotation.prototype.getFilledRoundedRectangle=function(){return p.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.FilledRoundedRectangle,10)},proto.mediapipe.RenderAnnotation.prototype.setFilledRoundedRectangle=function(m){return p.Message.setOneofWrapperField(this,10,proto.mediapipe.RenderAnnotation.oneofGroups_[0],m)},proto.mediapipe.RenderAnnotation.prototype.clearFilledRoundedRectangle=function(){return this.setFilledRoundedRectangle(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasFilledRoundedRectangle=function(){return p.Message.getField(this,10)!=null},proto.mediapipe.RenderAnnotation.prototype.getGradientLine=function(){return p.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.GradientLine,14)},proto.mediapipe.RenderAnnotation.prototype.setGradientLine=function(m){return p.Message.setOneofWrapperField(this,14,proto.mediapipe.RenderAnnotation.oneofGroups_[0],m)},proto.mediapipe.RenderAnnotation.prototype.clearGradientLine=function(){return this.setGradientLine(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasGradientLine=function(){return p.Message.getField(this,14)!=null},proto.mediapipe.RenderAnnotation.prototype.getScribble=function(){return p.Message.getWrapperField(this,proto.mediapipe.RenderAnnotation.Scribble,15)},proto.mediapipe.RenderAnnotation.prototype.setScribble=function(m){return p.Message.setOneofWrapperField(this,15,proto.mediapipe.RenderAnnotation.oneofGroups_[0],m)},proto.mediapipe.RenderAnnotation.prototype.clearScribble=function(){return this.setScribble(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasScribble=function(){return p.Message.getField(this,15)!=null},proto.mediapipe.RenderAnnotation.prototype.getThickness=function(){return p.Message.getFloatingPointFieldWithDefault(this,11,1)},proto.mediapipe.RenderAnnotation.prototype.setThickness=function(m){return p.Message.setField(this,11,m)},proto.mediapipe.RenderAnnotation.prototype.clearThickness=function(){return p.Message.setField(this,11,void 0)},proto.mediapipe.RenderAnnotation.prototype.hasThickness=function(){return p.Message.getField(this,11)!=null},proto.mediapipe.RenderAnnotation.prototype.getColor=function(){return p.Message.getWrapperField(this,y.Color,12)},proto.mediapipe.RenderAnnotation.prototype.setColor=function(m){return p.Message.setWrapperField(this,12,m)},proto.mediapipe.RenderAnnotation.prototype.clearColor=function(){return this.setColor(void 0)},proto.mediapipe.RenderAnnotation.prototype.hasColor=function(){return p.Message.getField(this,12)!=null},proto.mediapipe.RenderAnnotation.prototype.getSceneTag=function(){return p.Message.getFieldWithDefault(this,13,"")},proto.mediapipe.RenderAnnotation.prototype.setSceneTag=function(m){return p.Message.setField(this,13,m)},proto.mediapipe.RenderAnnotation.prototype.clearSceneTag=function(){return p.Message.setField(this,13,void 0)},proto.mediapipe.RenderAnnotation.prototype.hasSceneTag=function(){return p.Message.getField(this,13)!=null},p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.RenderViewport.prototype.toObject=function(m){return proto.mediapipe.RenderViewport.toObject(m,this)},proto.mediapipe.RenderViewport.toObject=function(m,h){var b,x={id:(b=p.Message.getField(h,1))==null?void 0:b,widthPx:(b=p.Message.getField(h,2))==null?void 0:b,heightPx:(b=p.Message.getField(h,3))==null?void 0:b,composeOnVideo:(b=p.Message.getBooleanField(h,4))==null?void 0:b};return m&&(x.$jspbMessageInstance=h),x}),proto.mediapipe.RenderViewport.deserializeBinary=function(m){var h=new p.BinaryReader(m),b=new proto.mediapipe.RenderViewport;return proto.mediapipe.RenderViewport.deserializeBinaryFromReader(b,h)},proto.mediapipe.RenderViewport.deserializeBinaryFromReader=function(m,h){for(;h.nextField()&&!h.isEndGroup();)switch(h.getFieldNumber()){case 1:var b=h.readString();m.setId(b);break;case 2:b=h.readInt32(),m.setWidthPx(b);break;case 3:b=h.readInt32(),m.setHeightPx(b);break;case 4:b=h.readBool(),m.setComposeOnVideo(b);break;default:h.skipField()}return m},proto.mediapipe.RenderViewport.prototype.serializeBinary=function(){var m=new p.BinaryWriter;return proto.mediapipe.RenderViewport.serializeBinaryToWriter(this,m),m.getResultBuffer()},proto.mediapipe.RenderViewport.serializeBinaryToWriter=function(m,h){var b=void 0;(b=p.Message.getField(m,1))!=null&&h.writeString(1,b),(b=p.Message.getField(m,2))!=null&&h.writeInt32(2,b),(b=p.Message.getField(m,3))!=null&&h.writeInt32(3,b),(b=p.Message.getField(m,4))!=null&&h.writeBool(4,b)},proto.mediapipe.RenderViewport.prototype.getId=function(){return p.Message.getFieldWithDefault(this,1,"")},proto.mediapipe.RenderViewport.prototype.setId=function(m){return p.Message.setField(this,1,m)},proto.mediapipe.RenderViewport.prototype.clearId=function(){return p.Message.setField(this,1,void 0)},proto.mediapipe.RenderViewport.prototype.hasId=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.RenderViewport.prototype.getWidthPx=function(){return p.Message.getFieldWithDefault(this,2,0)},proto.mediapipe.RenderViewport.prototype.setWidthPx=function(m){return p.Message.setField(this,2,m)},proto.mediapipe.RenderViewport.prototype.clearWidthPx=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.RenderViewport.prototype.hasWidthPx=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.RenderViewport.prototype.getHeightPx=function(){return p.Message.getFieldWithDefault(this,3,0)},proto.mediapipe.RenderViewport.prototype.setHeightPx=function(m){return p.Message.setField(this,3,m)},proto.mediapipe.RenderViewport.prototype.clearHeightPx=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.RenderViewport.prototype.hasHeightPx=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.RenderViewport.prototype.getComposeOnVideo=function(){return p.Message.getBooleanFieldWithDefault(this,4,!1)},proto.mediapipe.RenderViewport.prototype.setComposeOnVideo=function(m){return p.Message.setField(this,4,m)},proto.mediapipe.RenderViewport.prototype.clearComposeOnVideo=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.RenderViewport.prototype.hasComposeOnVideo=function(){return p.Message.getField(this,4)!=null},g.object.extend(u,proto.mediapipe)})(render_data_pb);var interactive_segmenter_result={};Object.defineProperty(interactive_segmenter_result,"__esModule",{value:!0}),interactive_segmenter_result.InteractiveSegmenterResult=void 0;class InteractiveSegmenterResult{constructor(p,g,_){this.confidenceMasks=p,this.categoryMask=g,this.qualityScores=_}close(){var p,g;(p=this.confidenceMasks)===null||p===void 0||p.forEach(_=>{_.close()}),(g=this.categoryMask)===null||g===void 0||g.close()}}interactive_segmenter_result.InteractiveSegmenterResult=InteractiveSegmenterResult;var interactive_segmenter_options={};Object.defineProperty(interactive_segmenter_options,"__esModule",{value:!0}),function(u){var p=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(L,R,k,A){A===void 0&&(A=k);var I=Object.getOwnPropertyDescriptor(R,k);I&&!("get"in I?!R.__esModule:I.writable||I.configurable)||(I={enumerable:!0,get:function(){return R[k]}}),Object.defineProperty(L,A,I)}:function(L,R,k,A){A===void 0&&(A=k),L[A]=R[k]}),g=commonjsGlobal&&commonjsGlobal.__exportStar||function(L,R){for(var k in L)k==="default"||Object.prototype.hasOwnProperty.call(R,k)||p(R,L,k)};Object.defineProperty(u,"__esModule",{value:!0}),u.InteractiveSegmenter=void 0;const _=calculator_pb,y=calculator_options_pb,m=base_options_pb,h=image_segmenter_graph_options_pb,b=segmenter_options_pb,x=vision_task_runner,O=color_pb,T=render_data_pb,E=interactive_segmenter_result;g(interactive_segmenter_options,u),g(interactive_segmenter_result,u);const M="image_in",F="norm_rect_in",B="roi_in",S="confidence_masks",w="category_mask",C="quality_scores";class D extends x.VisionTaskRunner{static createFromOptions(R,k){return x.VisionTaskRunner.createVisionInstance(D,R,k)}static createFromModelBuffer(R,k){return x.VisionTaskRunner.createVisionInstance(D,R,{baseOptions:{modelAssetBuffer:k}})}static createFromModelPath(R,k){return x.VisionTaskRunner.createVisionInstance(D,R,{baseOptions:{modelAssetPath:k}})}constructor(R,k){super(new x.VisionGraphRunner(R,k),M,F,!1),this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.options=new h.ImageSegmenterGraphOptions,this.segmenterOptions=new b.SegmenterOptions,this.options.setSegmenterOptions(this.segmenterOptions),this.options.setBaseOptions(new m.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(R){this.options.setBaseOptions(R)}setOptions(R){var k,A;return"outputCategoryMask"in R&&(this.outputCategoryMask=(k=R.outputCategoryMask)!==null&&k!==void 0&&k),"outputConfidenceMasks"in R&&(this.outputConfidenceMasks=(A=R.outputConfidenceMasks)===null||A===void 0||A),super.applyOptions(R)}segment(R,k,A,I){const P=typeof A!="function"?A:{};return this.userCallback=typeof A=="function"?A:I,this.reset(),this.processRenderData(k,this.getSynctheticTimestamp()),this.processImageData(R,P),this.processResults()}reset(){this.confidenceMasks=void 0,this.categoryMask=void 0,this.qualityScores=void 0}processResults(){try{const R=new E.InteractiveSegmenterResult(this.confidenceMasks,this.categoryMask,this.qualityScores);if(!this.userCallback)return R;this.userCallback(R)}finally{this.freeKeepaliveStreams()}}refreshGraph(){const R=new _.CalculatorGraphConfig;R.addInputStream(M),R.addInputStream(B),R.addInputStream(F);const k=new y.CalculatorOptions;k.setExtension(h.ImageSegmenterGraphOptions.ext,this.options);const A=new _.CalculatorGraphConfig.Node;A.setCalculator("mediapipe.tasks.vision.interactive_segmenter.InteractiveSegmenterGraph"),A.addInputStream("IMAGE:"+M),A.addInputStream("ROI:"+B),A.addInputStream("NORM_RECT:"+F),A.setOptions(k),R.addNode(A),this.addKeepaliveNode(R),this.outputConfidenceMasks&&(R.addOutputStream(S),A.addOutputStream("CONFIDENCE_MASKS:"+S),this.keepStreamAlive(S),this.graphRunner.attachImageVectorListener(S,(P,G)=>{this.confidenceMasks=P.map(z=>this.convertToMPMask(z,!this.userCallback)),this.setLatestOutputTimestamp(G)}),this.graphRunner.attachEmptyPacketListener(S,P=>{this.confidenceMasks=[],this.setLatestOutputTimestamp(P)})),this.outputCategoryMask&&(R.addOutputStream(w),A.addOutputStream("CATEGORY_MASK:"+w),this.keepStreamAlive(w),this.graphRunner.attachImageListener(w,(P,G)=>{this.categoryMask=this.convertToMPMask(P,!this.userCallback),this.setLatestOutputTimestamp(G)}),this.graphRunner.attachEmptyPacketListener(w,P=>{this.categoryMask=void 0,this.setLatestOutputTimestamp(P)})),R.addOutputStream(C),A.addOutputStream("QUALITY_SCORES:"+C),this.graphRunner.attachFloatVectorListener(C,(P,G)=>{this.qualityScores=P,this.setLatestOutputTimestamp(G)}),this.graphRunner.attachEmptyPacketListener(C,P=>{this.categoryMask=void 0,this.setLatestOutputTimestamp(P)});const I=R.serializeBinary();this.setGraph(new Uint8Array(I),!0)}processRenderData(R,k){const A=new T.RenderData,I=new T.RenderAnnotation,P=new O.Color;if(P.setR(255),I.setColor(P),R.keypoint&&R.scribble)throw new Error("Cannot provide both keypoint and scribble.");if(R.keypoint){const G=new T.RenderAnnotation.Point;G.setNormalized(!0),G.setX(R.keypoint.x),G.setY(R.keypoint.y),I.setPoint(G)}else{if(!R.scribble)throw new Error("Must provide either a keypoint or a scribble.");{const G=new T.RenderAnnotation.Scribble;for(const z of R.scribble){const j=new T.RenderAnnotation.Point;j.setNormalized(!0),j.setX(z.x),j.setY(z.y),G.addPoint(j)}I.setScribble(G)}}A.addRenderAnnotations(I),this.graphRunner.addProtoToStream(A.serializeBinary(),"mediapipe.RenderData",B,k)}}u.InteractiveSegmenter=D}(interactive_segmenter);var object_detector={},object_detector_options_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_pb;g.object.extend(proto,y);var m=calculator_options_pb;g.object.extend(proto,m);var h=base_options_pb;g.object.extend(proto,h),g.exportSymbol("proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions",null,_),proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions=function(b){p.Message.initialize(this,b,0,-1,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.repeatedFields_,null)},g.inherits(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.displayName="proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions"),proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.repeatedFields_=[5,6],p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.toObject=function(b){return proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject(b,this)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject=function(b,x){var O,T={baseOptions:(O=x.getBaseOptions())&&h.BaseOptions.toObject(b,O),displayNamesLocale:p.Message.getFieldWithDefault(x,2,"en"),maxResults:p.Message.getFieldWithDefault(x,3,-1),scoreThreshold:(O=p.Message.getOptionalFloatingPointField(x,4))==null?void 0:O,categoryAllowlistList:(O=p.Message.getRepeatedField(x,5))==null?void 0:O,categoryDenylistList:(O=p.Message.getRepeatedField(x,6))==null?void 0:O};return b&&(T.$jspbMessageInstance=x),T}),proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinary=function(b){var x=new p.BinaryReader(b),O=new proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions;return proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader(O,x)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader=function(b,x){for(;x.nextField()&&!x.isEndGroup();)switch(x.getFieldNumber()){case 1:var O=new h.BaseOptions;x.readMessage(O,h.BaseOptions.deserializeBinaryFromReader),b.setBaseOptions(O);break;case 2:O=x.readString(),b.setDisplayNamesLocale(O);break;case 3:O=x.readInt32(),b.setMaxResults(O);break;case 4:O=x.readFloat(),b.setScoreThreshold(O);break;case 5:O=x.readString(),b.addCategoryAllowlist(O);break;case 6:O=x.readString(),b.addCategoryDenylist(O);break;default:x.skipField()}return b},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.serializeBinary=function(){var b=new p.BinaryWriter;return proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter(this,b),b.getResultBuffer()},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter=function(b,x){var O=void 0;(O=b.getBaseOptions())!=null&&x.writeMessage(1,O,h.BaseOptions.serializeBinaryToWriter),(O=p.Message.getField(b,2))!=null&&x.writeString(2,O),(O=p.Message.getField(b,3))!=null&&x.writeInt32(3,O),(O=p.Message.getField(b,4))!=null&&x.writeFloat(4,O),(O=b.getCategoryAllowlistList()).length>0&&x.writeRepeatedString(5,O),(O=b.getCategoryDenylistList()).length>0&&x.writeRepeatedString(6,O)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext=new p.ExtensionFieldInfo(443442058,{ext:0},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject,0),m.CalculatorOptions.extensionsBinary[443442058]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[443442058]=proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getBaseOptions=function(){return p.Message.getWrapperField(this,h.BaseOptions,1)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setBaseOptions=function(b){return p.Message.setWrapperField(this,1,b)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasBaseOptions=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getDisplayNamesLocale=function(){return p.Message.getFieldWithDefault(this,2,"en")},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setDisplayNamesLocale=function(b){return p.Message.setField(this,2,b)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearDisplayNamesLocale=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasDisplayNamesLocale=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getMaxResults=function(){return p.Message.getFieldWithDefault(this,3,-1)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setMaxResults=function(b){return p.Message.setField(this,3,b)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearMaxResults=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasMaxResults=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getScoreThreshold=function(){return p.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setScoreThreshold=function(b){return p.Message.setField(this,4,b)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearScoreThreshold=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.hasScoreThreshold=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getCategoryAllowlistList=function(){return p.Message.getRepeatedField(this,5)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setCategoryAllowlistList=function(b){return p.Message.setField(this,5,b||[])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.addCategoryAllowlist=function(b,x){return p.Message.addToRepeatedField(this,5,b,x)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearCategoryAllowlistList=function(){return this.setCategoryAllowlistList([])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.getCategoryDenylistList=function(){return p.Message.getRepeatedField(this,6)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.setCategoryDenylistList=function(b){return p.Message.setField(this,6,b||[])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.addCategoryDenylist=function(b,x){return p.Message.addToRepeatedField(this,6,b,x)},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.prototype.clearCategoryDenylistList=function(){return this.setCategoryDenylistList([])},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext=new p.ExtensionFieldInfo(443442058,{ext:0},proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.toObject,0),m.CalculatorOptions.extensionsBinary[443442058]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[443442058]=proto.mediapipe.tasks.vision.object_detector.proto.ObjectDetectorOptions.ext,g.object.extend(u,proto.mediapipe.tasks.vision.object_detector.proto)})(object_detector_options_pb);var object_detector_options={};Object.defineProperty(object_detector_options,"__esModule",{value:!0});var object_detector_result={};Object.defineProperty(object_detector_result,"__esModule",{value:!0}),function(u){var p=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(B,S,w,C){C===void 0&&(C=w);var D=Object.getOwnPropertyDescriptor(S,w);D&&!("get"in D?!S.__esModule:D.writable||D.configurable)||(D={enumerable:!0,get:function(){return S[w]}}),Object.defineProperty(B,C,D)}:function(B,S,w,C){C===void 0&&(C=w),B[C]=S[w]}),g=commonjsGlobal&&commonjsGlobal.__exportStar||function(B,S){for(var w in B)w==="default"||Object.prototype.hasOwnProperty.call(S,w)||p(S,B,w)};Object.defineProperty(u,"__esModule",{value:!0}),u.ObjectDetector=void 0;const _=calculator_pb,y=calculator_options_pb,m=detection_pb,h=base_options_pb,b=object_detector_options_pb,x=detection_result,O=vision_task_runner,T="input_frame_gpu",E="norm_rect",M="detections";g(object_detector_options,u),g(object_detector_result,u);class F extends O.VisionTaskRunner{static createFromOptions(S,w){return O.VisionTaskRunner.createVisionInstance(F,S,w)}static createFromModelBuffer(S,w){return O.VisionTaskRunner.createVisionInstance(F,S,{baseOptions:{modelAssetBuffer:w}})}static async createFromModelPath(S,w){return O.VisionTaskRunner.createVisionInstance(F,S,{baseOptions:{modelAssetPath:w}})}constructor(S,w){super(new O.VisionGraphRunner(S,w),T,E,!1),this.result={detections:[]},this.options=new b.ObjectDetectorOptions,this.options.setBaseOptions(new h.BaseOptions)}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(S){this.options.setBaseOptions(S)}setOptions(S){return S.displayNamesLocale!==void 0?this.options.setDisplayNamesLocale(S.displayNamesLocale):"displayNamesLocale"in S&&this.options.clearDisplayNamesLocale(),S.maxResults!==void 0?this.options.setMaxResults(S.maxResults):"maxResults"in S&&this.options.clearMaxResults(),S.scoreThreshold!==void 0?this.options.setScoreThreshold(S.scoreThreshold):"scoreThreshold"in S&&this.options.clearScoreThreshold(),S.categoryAllowlist!==void 0?this.options.setCategoryAllowlistList(S.categoryAllowlist):"categoryAllowlist"in S&&this.options.clearCategoryAllowlistList(),S.categoryDenylist!==void 0?this.options.setCategoryDenylistList(S.categoryDenylist):"categoryDenylist"in S&&this.options.clearCategoryDenylistList(),this.applyOptions(S)}detect(S,w){return this.result={detections:[]},this.processImageData(S,w),this.result}detectForVideo(S,w,C){return this.result={detections:[]},this.processVideoData(S,C,w),this.result}addJsObjectDetections(S){for(const w of S){const C=m.Detection.deserializeBinary(w);this.result.detections.push((0,x.convertFromDetectionProto)(C))}}refreshGraph(){const S=new _.CalculatorGraphConfig;S.addInputStream(T),S.addInputStream(E),S.addOutputStream(M);const w=new y.CalculatorOptions;w.setExtension(b.ObjectDetectorOptions.ext,this.options);const C=new _.CalculatorGraphConfig.Node;C.setCalculator("mediapipe.tasks.vision.ObjectDetectorGraph"),C.addInputStream("IMAGE:"+T),C.addInputStream("NORM_RECT:"+E),C.addOutputStream("DETECTIONS:"+M),C.setOptions(w),S.addNode(C),this.graphRunner.attachProtoVectorListener(M,(L,R)=>{this.addJsObjectDetections(L),this.setLatestOutputTimestamp(R)}),this.graphRunner.attachEmptyPacketListener(M,L=>{this.setLatestOutputTimestamp(L)});const D=S.serializeBinary();this.setGraph(new Uint8Array(D),!0)}}u.ObjectDetector=F}(object_detector);var pose_landmarker={},pose_detector_graph_options_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_pb;g.object.extend(proto,y);var m=calculator_options_pb;g.object.extend(proto,m);var h=base_options_pb;g.object.extend(proto,h),g.exportSymbol("proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions",null,_),proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions=function(b){p.Message.initialize(this,b,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.toObject=function(b){return proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.toObject(b,this)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.toObject=function(b,x){var O,T={baseOptions:(O=x.getBaseOptions())&&h.BaseOptions.toObject(b,O),minDetectionConfidence:p.Message.getFloatingPointFieldWithDefault(x,2,.5),minSuppressionThreshold:p.Message.getFloatingPointFieldWithDefault(x,3,.5),numPoses:(O=p.Message.getField(x,4))==null?void 0:O};return b&&(T.$jspbMessageInstance=x),T}),proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinary=function(b){var x=new p.BinaryReader(b),O=new proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions;return proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinaryFromReader(O,x)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinaryFromReader=function(b,x){for(;x.nextField()&&!x.isEndGroup();)switch(x.getFieldNumber()){case 1:var O=new h.BaseOptions;x.readMessage(O,h.BaseOptions.deserializeBinaryFromReader),b.setBaseOptions(O);break;case 2:O=x.readFloat(),b.setMinDetectionConfidence(O);break;case 3:O=x.readFloat(),b.setMinSuppressionThreshold(O);break;case 4:O=x.readInt32(),b.setNumPoses(O);break;default:x.skipField()}return b},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.serializeBinary=function(){var b=new p.BinaryWriter;return proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.serializeBinaryToWriter(this,b),b.getResultBuffer()},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.serializeBinaryToWriter=function(b,x){var O=void 0;(O=b.getBaseOptions())!=null&&x.writeMessage(1,O,h.BaseOptions.serializeBinaryToWriter),(O=p.Message.getField(b,2))!=null&&x.writeFloat(2,O),(O=p.Message.getField(b,3))!=null&&x.writeFloat(3,O),(O=p.Message.getField(b,4))!=null&&x.writeInt32(4,O)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext=new p.ExtensionFieldInfo(514774813,{ext:0},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[514774813]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[514774813]=proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.getBaseOptions=function(){return p.Message.getWrapperField(this,h.BaseOptions,1)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.setBaseOptions=function(b){return p.Message.setWrapperField(this,1,b)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.hasBaseOptions=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return p.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.setMinDetectionConfidence=function(b){return p.Message.setField(this,2,b)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.getMinSuppressionThreshold=function(){return p.Message.getFloatingPointFieldWithDefault(this,3,.5)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.setMinSuppressionThreshold=function(b){return p.Message.setField(this,3,b)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.clearMinSuppressionThreshold=function(){return p.Message.setField(this,3,void 0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.hasMinSuppressionThreshold=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.getNumPoses=function(){return p.Message.getFieldWithDefault(this,4,0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.setNumPoses=function(b){return p.Message.setField(this,4,b)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.clearNumPoses=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.prototype.hasNumPoses=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext=new p.ExtensionFieldInfo(514774813,{ext:0},proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[514774813]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[514774813]=proto.mediapipe.tasks.vision.pose_detector.proto.PoseDetectorGraphOptions.ext,g.object.extend(u,proto.mediapipe.tasks.vision.pose_detector.proto)})(pose_detector_graph_options_pb);var pose_landmarker_graph_options_pb={},pose_landmarks_detector_graph_options_pb={};(function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_pb;g.object.extend(proto,y);var m=calculator_options_pb;g.object.extend(proto,m);var h=base_options_pb;g.object.extend(proto,h),g.exportSymbol("proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions",null,_),proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions=function(b){p.Message.initialize(this,b,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.displayName="proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.toObject=function(b){return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.toObject(b,this)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.toObject=function(b,x){var O,T={baseOptions:(O=x.getBaseOptions())&&h.BaseOptions.toObject(b,O),minDetectionConfidence:p.Message.getFloatingPointFieldWithDefault(x,2,.5)};return b&&(T.$jspbMessageInstance=x),T}),proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinary=function(b){var x=new p.BinaryReader(b),O=new proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions;return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader(O,x)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader=function(b,x){for(;x.nextField()&&!x.isEndGroup();)switch(x.getFieldNumber()){case 1:var O=new h.BaseOptions;x.readMessage(O,h.BaseOptions.deserializeBinaryFromReader),b.setBaseOptions(O);break;case 2:O=x.readFloat(),b.setMinDetectionConfidence(O);break;default:x.skipField()}return b},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.serializeBinary=function(){var b=new p.BinaryWriter;return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter(this,b),b.getResultBuffer()},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter=function(b,x){var O=void 0;(O=b.getBaseOptions())!=null&&x.writeMessage(1,O,h.BaseOptions.serializeBinaryToWriter),(O=p.Message.getField(b,2))!=null&&x.writeFloat(2,O)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext=new p.ExtensionFieldInfo(518928384,{ext:0},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[518928384]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[518928384]=proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.getBaseOptions=function(){return p.Message.getWrapperField(this,h.BaseOptions,1)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.setBaseOptions=function(b){return p.Message.setWrapperField(this,1,b)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.hasBaseOptions=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.getMinDetectionConfidence=function(){return p.Message.getFloatingPointFieldWithDefault(this,2,.5)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.setMinDetectionConfidence=function(b){return p.Message.setField(this,2,b)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.clearMinDetectionConfidence=function(){return p.Message.setField(this,2,void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.prototype.hasMinDetectionConfidence=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext=new p.ExtensionFieldInfo(518928384,{ext:0},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[518928384]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[518928384]=proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarksDetectorGraphOptions.ext,g.object.extend(u,proto.mediapipe.tasks.vision.pose_landmarker.proto)})(pose_landmarks_detector_graph_options_pb),function(u){var p=googleProtobuf,g=p,_=typeof globalThis<"u"&&globalThis||typeof window<"u"&&window||_!==void 0&&_||typeof self<"u"&&self||function(){return this}.call(null)||Function("return this")(),y=calculator_pb;g.object.extend(proto,y);var m=calculator_options_pb;g.object.extend(proto,m);var h=base_options_pb;g.object.extend(proto,h);var b=pose_detector_graph_options_pb;g.object.extend(proto,b);var x=pose_landmarks_detector_graph_options_pb;g.object.extend(proto,x),g.exportSymbol("proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions",null,_),proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions=function(O){p.Message.initialize(this,O,0,-1,null,null)},g.inherits(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions,p.Message),g.DEBUG&&!COMPILED&&(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.displayName="proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions"),p.Message.GENERATE_TO_OBJECT&&(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.toObject=function(O){return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.toObject(O,this)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.toObject=function(O,T){var E,M={baseOptions:(E=T.getBaseOptions())&&h.BaseOptions.toObject(O,E),poseDetectorGraphOptions:(E=T.getPoseDetectorGraphOptions())&&b.PoseDetectorGraphOptions.toObject(O,E),poseLandmarksDetectorGraphOptions:(E=T.getPoseLandmarksDetectorGraphOptions())&&x.PoseLandmarksDetectorGraphOptions.toObject(O,E),minTrackingConfidence:p.Message.getFloatingPointFieldWithDefault(T,4,.5)};return O&&(M.$jspbMessageInstance=T),M}),proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinary=function(O){var T=new p.BinaryReader(O),E=new proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions;return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinaryFromReader(E,T)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinaryFromReader=function(O,T){for(;T.nextField()&&!T.isEndGroup();)switch(T.getFieldNumber()){case 1:var E=new h.BaseOptions;T.readMessage(E,h.BaseOptions.deserializeBinaryFromReader),O.setBaseOptions(E);break;case 2:E=new b.PoseDetectorGraphOptions,T.readMessage(E,b.PoseDetectorGraphOptions.deserializeBinaryFromReader),O.setPoseDetectorGraphOptions(E);break;case 3:E=new x.PoseLandmarksDetectorGraphOptions,T.readMessage(E,x.PoseLandmarksDetectorGraphOptions.deserializeBinaryFromReader),O.setPoseLandmarksDetectorGraphOptions(E);break;case 4:E=T.readFloat(),O.setMinTrackingConfidence(E);break;default:T.skipField()}return O},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.serializeBinary=function(){var O=new p.BinaryWriter;return proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.serializeBinaryToWriter(this,O),O.getResultBuffer()},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.serializeBinaryToWriter=function(O,T){var E=void 0;(E=O.getBaseOptions())!=null&&T.writeMessage(1,E,h.BaseOptions.serializeBinaryToWriter),(E=O.getPoseDetectorGraphOptions())!=null&&T.writeMessage(2,E,b.PoseDetectorGraphOptions.serializeBinaryToWriter),(E=O.getPoseLandmarksDetectorGraphOptions())!=null&&T.writeMessage(3,E,x.PoseLandmarksDetectorGraphOptions.serializeBinaryToWriter),(E=p.Message.getField(O,4))!=null&&T.writeFloat(4,E)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext=new p.ExtensionFieldInfo(516587230,{ext:0},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[516587230]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[516587230]=proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.getBaseOptions=function(){return p.Message.getWrapperField(this,h.BaseOptions,1)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.setBaseOptions=function(O){return p.Message.setWrapperField(this,1,O)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.clearBaseOptions=function(){return this.setBaseOptions(void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.hasBaseOptions=function(){return p.Message.getField(this,1)!=null},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.getPoseDetectorGraphOptions=function(){return p.Message.getWrapperField(this,b.PoseDetectorGraphOptions,2)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.setPoseDetectorGraphOptions=function(O){return p.Message.setWrapperField(this,2,O)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.clearPoseDetectorGraphOptions=function(){return this.setPoseDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.hasPoseDetectorGraphOptions=function(){return p.Message.getField(this,2)!=null},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.getPoseLandmarksDetectorGraphOptions=function(){return p.Message.getWrapperField(this,x.PoseLandmarksDetectorGraphOptions,3)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.setPoseLandmarksDetectorGraphOptions=function(O){return p.Message.setWrapperField(this,3,O)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.clearPoseLandmarksDetectorGraphOptions=function(){return this.setPoseLandmarksDetectorGraphOptions(void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.hasPoseLandmarksDetectorGraphOptions=function(){return p.Message.getField(this,3)!=null},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.getMinTrackingConfidence=function(){return p.Message.getFloatingPointFieldWithDefault(this,4,.5)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.setMinTrackingConfidence=function(O){return p.Message.setField(this,4,O)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.clearMinTrackingConfidence=function(){return p.Message.setField(this,4,void 0)},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.prototype.hasMinTrackingConfidence=function(){return p.Message.getField(this,4)!=null},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext=new p.ExtensionFieldInfo(516587230,{ext:0},proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.toObject,0),m.CalculatorOptions.extensionsBinary[516587230]=new p.ExtensionFieldBinaryInfo(proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext,p.BinaryReader.prototype.readMessage,p.BinaryWriter.prototype.writeMessage,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.serializeBinaryToWriter,proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.deserializeBinaryFromReader,!1),m.CalculatorOptions.extensions[516587230]=proto.mediapipe.tasks.vision.pose_landmarker.proto.PoseLandmarkerGraphOptions.ext,g.object.extend(u,proto.mediapipe.tasks.vision.pose_landmarker.proto)}(pose_landmarker_graph_options_pb);var pose_landmarker_result={};Object.defineProperty(pose_landmarker_result,"__esModule",{value:!0}),pose_landmarker_result.PoseLandmarkerResult=void 0;class PoseLandmarkerResult{constructor(p,g,_){this.landmarks=p,this.worldLandmarks=g,this.segmentationMasks=_}close(){var p;(p=this.segmentationMasks)===null||p===void 0||p.forEach(g=>{g.close()})}}pose_landmarker_result.PoseLandmarkerResult=PoseLandmarkerResult;var pose_landmarker_options={};Object.defineProperty(pose_landmarker_options,"__esModule",{value:!0}),function(u){var p=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(R,k,A,I){I===void 0&&(I=A);var P=Object.getOwnPropertyDescriptor(k,A);P&&!("get"in P?!k.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return k[A]}}),Object.defineProperty(R,I,P)}:function(R,k,A,I){I===void 0&&(I=A),R[I]=k[A]}),g=commonjsGlobal&&commonjsGlobal.__exportStar||function(R,k){for(var A in R)A==="default"||Object.prototype.hasOwnProperty.call(k,A)||p(k,R,A)};Object.defineProperty(u,"__esModule",{value:!0}),u.PoseLandmarker=void 0;const _=calculator_pb,y=calculator_options_pb,m=landmark_pb,h=base_options_pb,b=pose_detector_graph_options_pb,x=pose_landmarker_graph_options_pb,O=pose_landmarks_detector_graph_options_pb,T=landmark_result,E=vision_task_runner,M=pose_landmarker_result;g(pose_landmarker_options,u),g(pose_landmarker_result,u);const F="image_in",B="norm_rect",S="normalized_landmarks",w="world_landmarks",C="segmentation_masks",D=.5;class L extends E.VisionTaskRunner{static createFromOptions(k,A){return E.VisionTaskRunner.createVisionInstance(L,k,A)}static createFromModelBuffer(k,A){return E.VisionTaskRunner.createVisionInstance(L,k,{baseOptions:{modelAssetBuffer:A}})}static createFromModelPath(k,A){return E.VisionTaskRunner.createVisionInstance(L,k,{baseOptions:{modelAssetPath:A}})}constructor(k,A){super(new E.VisionGraphRunner(k,A),F,B,!1),this.landmarks=[],this.worldLandmarks=[],this.outputSegmentationMasks=!1,this.options=new x.PoseLandmarkerGraphOptions,this.options.setBaseOptions(new h.BaseOptions),this.poseLandmarksDetectorGraphOptions=new O.PoseLandmarksDetectorGraphOptions,this.options.setPoseLandmarksDetectorGraphOptions(this.poseLandmarksDetectorGraphOptions),this.poseDetectorGraphOptions=new b.PoseDetectorGraphOptions,this.options.setPoseDetectorGraphOptions(this.poseDetectorGraphOptions),this.initDefaults()}get baseOptions(){return this.options.getBaseOptions()}set baseOptions(k){this.options.setBaseOptions(k)}setOptions(k){var A,I,P,G,z;return"numPoses"in k&&this.poseDetectorGraphOptions.setNumPoses((A=k.numPoses)!==null&&A!==void 0?A:1),"minPoseDetectionConfidence"in k&&this.poseDetectorGraphOptions.setMinDetectionConfidence((I=k.minPoseDetectionConfidence)!==null&&I!==void 0?I:D),"minTrackingConfidence"in k&&this.options.setMinTrackingConfidence((P=k.minTrackingConfidence)!==null&&P!==void 0?P:D),"minPosePresenceConfidence"in k&&this.poseLandmarksDetectorGraphOptions.setMinDetectionConfidence((G=k.minPosePresenceConfidence)!==null&&G!==void 0?G:D),"outputSegmentationMasks"in k&&(this.outputSegmentationMasks=(z=k.outputSegmentationMasks)!==null&&z!==void 0&&z),this.applyOptions(k)}detect(k,A,I){const P=typeof A!="function"?A:{};return this.userCallback=typeof A=="function"?A:I,this.resetResults(),this.processImageData(k,P),this.processResults()}detectForVideo(k,A,I,P){const G=typeof I!="function"?I:{};return this.userCallback=typeof I=="function"?I:P,this.resetResults(),this.processVideoData(k,G,A),this.processResults()}resetResults(){this.landmarks=[],this.worldLandmarks=[],this.segmentationMasks=void 0}processResults(){try{const k=new M.PoseLandmarkerResult(this.landmarks,this.worldLandmarks,this.segmentationMasks);if(!this.userCallback)return k;this.userCallback(k)}finally{this.freeKeepaliveStreams()}}initDefaults(){this.poseDetectorGraphOptions.setNumPoses(1),this.poseDetectorGraphOptions.setMinDetectionConfidence(D),this.poseLandmarksDetectorGraphOptions.setMinDetectionConfidence(D),this.options.setMinTrackingConfidence(D)}addJsLandmarks(k){this.landmarks=[];for(const A of k){const I=m.NormalizedLandmarkList.deserializeBinary(A);this.landmarks.push((0,T.convertToLandmarks)(I))}}adddJsWorldLandmarks(k){this.worldLandmarks=[];for(const A of k){const I=m.LandmarkList.deserializeBinary(A);this.worldLandmarks.push((0,T.convertToWorldLandmarks)(I))}}refreshGraph(){const k=new _.CalculatorGraphConfig;k.addInputStream(F),k.addInputStream(B),k.addOutputStream(S),k.addOutputStream(w),k.addOutputStream(C);const A=new y.CalculatorOptions;A.setExtension(x.PoseLandmarkerGraphOptions.ext,this.options);const I=new _.CalculatorGraphConfig.Node;I.setCalculator("mediapipe.tasks.vision.pose_landmarker.PoseLandmarkerGraph"),I.addInputStream("IMAGE:"+F),I.addInputStream("NORM_RECT:"+B),I.addOutputStream("NORM_LANDMARKS:"+S),I.addOutputStream("WORLD_LANDMARKS:"+w),I.setOptions(A),k.addNode(I),this.addKeepaliveNode(k),this.graphRunner.attachProtoVectorListener(S,(G,z)=>{this.addJsLandmarks(G),this.setLatestOutputTimestamp(z)}),this.graphRunner.attachEmptyPacketListener(S,G=>{this.landmarks=[],this.setLatestOutputTimestamp(G)}),this.graphRunner.attachProtoVectorListener(w,(G,z)=>{this.adddJsWorldLandmarks(G),this.setLatestOutputTimestamp(z)}),this.graphRunner.attachEmptyPacketListener(w,G=>{this.worldLandmarks=[],this.setLatestOutputTimestamp(G)}),this.outputSegmentationMasks&&(I.addOutputStream("SEGMENTATION_MASK:"+C),this.keepStreamAlive(C),this.graphRunner.attachImageVectorListener(C,(G,z)=>{this.segmentationMasks=G.map(j=>this.convertToMPMask(j,!this.userCallback)),this.setLatestOutputTimestamp(z)}),this.graphRunner.attachEmptyPacketListener(C,G=>{this.segmentationMasks=[],this.setLatestOutputTimestamp(G)}));const P=k.serializeBinary();this.setGraph(new Uint8Array(P),!0)}}u.PoseLandmarker=L,L.POSE_CONNECTIONS=[{start:0,end:1},{start:1,end:2},{start:2,end:3},{start:3,end:7},{start:0,end:4},{start:4,end:5},{start:5,end:6},{start:6,end:8},{start:9,end:10},{start:11,end:12},{start:11,end:13},{start:13,end:15},{start:15,end:17},{start:15,end:19},{start:15,end:21},{start:17,end:19},{start:12,end:14},{start:14,end:16},{start:16,end:18},{start:16,end:20},{start:16,end:22},{start:18,end:20},{start:11,end:23},{start:12,end:24},{start:23,end:24},{start:23,end:25},{start:24,end:26},{start:25,end:27},{start:26,end:28},{start:27,end:29},{start:28,end:30},{start:29,end:31},{start:30,end:32},{start:27,end:31},{start:28,end:32}]}(pose_landmarker),Object.defineProperty(vision,"__esModule",{value:!0});vision.PoseLandmarker=vision.ObjectDetector=vision.InteractiveSegmenter=vision.ImageSegmenter=vision.ImageEmbedder=vision.ImageClassifier=vision.HandLandmarker=vision.GestureRecognizer=vision.FaceStylizer=FaceLandmarker_1=vision.FaceLandmarker=vision.FaceDetector=vision.MPMask=vision.MPImage=FilesetResolver_1=vision.FilesetResolver=vision.DrawingUtils=void 0;const fileset_resolver_1=fileset_resolver,drawing_utils_1=drawing_utils,image_1=image,mask_1=mask,face_detector_1=face_detector,face_landmarker_1=face_landmarker,face_stylizer_1=face_stylizer,gesture_recognizer_1=gesture_recognizer,hand_landmarker_1=hand_landmarker,image_classifier_1=image_classifier,image_embedder_1=image_embedder,image_segmenter_1=image_segmenter,interactive_segmenter_1=interactive_segmenter,object_detector_1=object_detector,pose_landmarker_1=pose_landmarker,DrawingUtils=drawing_utils_1.DrawingUtils;vision.DrawingUtils=DrawingUtils;const FilesetResolver=fileset_resolver_1.FilesetResolver;var FilesetResolver_1=vision.FilesetResolver=FilesetResolver;const MPImage=image_1.MPImage;vision.MPImage=MPImage;const MPMask=mask_1.MPMask;vision.MPMask=MPMask;const FaceDetector=face_detector_1.FaceDetector;vision.FaceDetector=FaceDetector;const FaceLandmarker$1=face_landmarker_1.FaceLandmarker;var FaceLandmarker_1=vision.FaceLandmarker=FaceLandmarker$1;const FaceStylizer=face_stylizer_1.FaceStylizer;vision.FaceStylizer=FaceStylizer;const GestureRecognizer=gesture_recognizer_1.GestureRecognizer;vision.GestureRecognizer=GestureRecognizer;const HandLandmarker=hand_landmarker_1.HandLandmarker;vision.HandLandmarker=HandLandmarker;const ImageClassifier=image_classifier_1.ImageClassifier;vision.ImageClassifier=ImageClassifier;const ImageEmbedder=image_embedder_1.ImageEmbedder;vision.ImageEmbedder=ImageEmbedder;const ImageSegmenter=image_segmenter_1.ImageSegmenter;vision.ImageSegmenter=ImageSegmenter;const InteractiveSegmenter=interactive_segmenter_1.InteractiveSegmenter;vision.InteractiveSegmenter=InteractiveSegmenter;const ObjectDetector=object_detector_1.ObjectDetector;vision.ObjectDetector=ObjectDetector;const PoseLandmarker=pose_landmarker_1.PoseLandmarker;vision.PoseLandmarker=PoseLandmarker;const FaceLandmarkerContext=reactExports.createContext({}),FaceLandmarkerDefaults={basePath:"https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@0.10.2-rc2/wasm",options:{baseOptions:{modelAssetPath:"https://storage.googleapis.com/mediapipe-models/face_landmarker/face_landmarker/float16/1/face_landmarker.task",delegate:"GPU"},runningMode:"VIDEO",outputFaceBlendshapes:!0,outputFacialTransformationMatrixes:!0}};function FaceLandmarker({basePath:u=FaceLandmarkerDefaults.basePath,options:p=FaceLandmarkerDefaults.options,children:g}){const _=JSON.stringify(p),y=suspend(async()=>await FilesetResolver_1.forVisionTasks(u).then(m=>FaceLandmarker_1.createFromOptions(m,p)),[u,_]);return reactExports.useEffect(()=>()=>{y==null||y.close(),clear([u,_])},[y,u,_]),reactExports.createElement(FaceLandmarkerContext.Provider,{value:y},g)}function useFaceLandmarker(){return reactExports.useContext(FaceLandmarkerContext)}function mean(u,p){return u.clone().add(p).multiplyScalar(.5)}function localToLocal(u,p,g){const _=u.localToWorld(p);return g.worldToLocal(_)}const FaceControlsContext=reactExports.createContext({}),FaceControls=reactExports.forwardRef(({camera:u,autostart:p=!0,webcam:g=!0,webcamVideoTextureSrc:_,manualUpdate:y=!1,manualDetect:m=!1,onVideoFrame:h,smoothTime:b=.25,offset:x=!0,offsetScalar:O=80,eyes:T=!1,eyesAsOrigin:E=!0,depth:M=.15,debug:F=!1,facemesh:B,makeDefault:S},w)=>{var C,D;const L=useThree(ee=>ee.scene),R=useThree(ee=>ee.camera),k=useThree(ee=>ee.set),A=useThree(ee=>ee.get),I=u||R,P=reactExports.useRef(null),G=reactExports.useRef(null),[z]=reactExports.useState(()=>new Object3D),[j]=reactExports.useState(()=>new Vector3),[N]=reactExports.useState(()=>new Vector3),[W]=reactExports.useState(()=>new Vector3),[U]=reactExports.useState(()=>new Vector3),H=reactExports.useCallback(()=>{z.parent=I.parent;const ee=G.current;if(ee){const{outerRef:ie,eyeRightRef:te,eyeLeftRef:ne}=ee;if(te.current&&ne.current){const{irisDirRef:ae}=te.current,{irisDirRef:oe}=ne.current;ae.current&&oe.current&&ie.current&&(j.copy(localToLocal(ae.current,new Vector3(0,0,0),ie.current)),N.copy(localToLocal(oe.current,new Vector3(0,0,0),ie.current)),z.position.copy(localToLocal(ie.current,mean(j,N),I.parent||L)),W.copy(localToLocal(ae.current,new Vector3(0,0,1),ie.current)),U.copy(localToLocal(oe.current,new Vector3(0,0,1),ie.current)),z.lookAt(ie.current.localToWorld(mean(W,U))))}else ie.current&&(z.position.copy(localToLocal(ie.current,new Vector3(0,0,0),I.parent||L)),z.lookAt(ie.current.localToWorld(new Vector3(0,0,1))))}return z},[I,N,U,j,W,L,z]),[$]=reactExports.useState(()=>new Object3D),V=reactExports.useCallback(function(ee,ie){if(I){var te;(te=ie)!==null&&te!==void 0||(ie=H()),b>0?(easing.damp3($.position,ie.position,b,ee,void 0,void 0,1e-9),easing.dampE($.rotation,ie.rotation,b,ee,void 0,void 0,1e-9)):($.position.copy(ie.position),$.rotation.copy(ie.rotation)),I.position.copy($.position),I.rotation.copy($.rotation)}},[I,H,b,$.position,$.rotation]),[J,Y]=reactExports.useState(),q=useFaceLandmarker(),K=reactExports.useCallback((ee,ie)=>{const te=q==null?void 0:q.detectForVideo(ee,ie);Y(te)},[q]);useFrame((ee,ie)=>{y||V(ie)});const Q=reactExports.useMemo(()=>Object.assign(Object.create(EventDispatcher$1.prototype),{detect:K,computeTarget:H,update:V,facemeshApiRef:G,webcamApiRef:P,play:()=>{var ee,ie;(ee=P.current)==null||(ie=ee.videoTextureApiRef.current)==null||ie.texture.source.data.play()},pause:()=>{var ee,ie;(ee=P.current)==null||(ie=ee.videoTextureApiRef.current)==null||ie.texture.source.data.pause()}}),[K,H,V]);reactExports.useImperativeHandle(w,()=>Q,[Q]),reactExports.useEffect(()=>{const ee=ie=>{m||K(ie.texture.source.data,ie.time),h&&h(ie)};return Q.addEventListener("videoFrame",ee),()=>{Q.removeEventListener("videoFrame",ee)}},[Q,K,q,m,h]),reactExports.useEffect(()=>{if(S){const ee=A().controls;return k({controls:Q}),()=>k({controls:ee})}},[S,Q,A,k]);const X=J==null?void 0:J.faceLandmarks[0],re=J==null||(C=J.facialTransformationMatrixes)==null?void 0:C[0],Z=J==null||(D=J.faceBlendshapes)==null?void 0:D[0];return reactExports.createElement(FaceControlsContext.Provider,{value:Q},g&&reactExports.createElement(reactExports.Suspense,{fallback:null},reactExports.createElement(Webcam,{ref:P,autostart:p,videoTextureSrc:_})),reactExports.createElement(Facemesh,_extends({ref:G},B,{points:X,depth:M,facialTransformationMatrix:re,faceBlendshapes:Z,eyes:T,eyesAsOrigin:E,offset:x,offsetScalar:O,debug:F,"rotation-z":Math.PI,visible:F}),reactExports.createElement("meshBasicMaterial",{side:DoubleSide})))}),useFaceControls=()=>reactExports.useContext(FaceControlsContext),Webcam=reactExports.forwardRef(({videoTextureSrc:u,autostart:p=!0},g)=>{const _=reactExports.useRef(null),y=useFaceControls(),m=suspend(async()=>u?Promise.resolve(null):await navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user"}}),[u]);reactExports.useEffect(()=>(y.dispatchEvent({type:"stream",stream:m}),()=>{m==null||m.getTracks().forEach(b=>b.stop()),clear([u])}),[m,y,u]);const h=reactExports.useMemo(()=>({videoTextureApiRef:_}),[]);return reactExports.useImperativeHandle(g,()=>h,[h]),reactExports.createElement(reactExports.Suspense,{fallback:null},reactExports.createElement(VideoTexture,{ref:_,src:u||m,start:p}))}),VideoTexture=reactExports.forwardRef(({src:u,start:p},g)=>{const _=useVideoTexture(u,{start:p}),y=_.source.data,m=useFaceControls(),h=reactExports.useCallback(x=>{m.dispatchEvent({type:"videoFrame",texture:_,time:x})},[_,m]);useVideoFrame(y,h);const b=reactExports.useMemo(()=>({texture:_}),[_]);return reactExports.useImperativeHandle(g,()=>b,[b]),reactExports.createElement(reactExports.Fragment,null)}),useVideoFrame=(u,p)=>{reactExports.useEffect(()=>{if(!u||!u.requestVideoFrameCallback)return;let g;function _(...y){p(...y),g=u.requestVideoFrameCallback(_)}return u.requestVideoFrameCallback(_),()=>u.cancelVideoFrameCallback(g)},[u,p])};function RenderHud({defaultScene:u,defaultCamera:p,renderPriority:g=1}){const{gl:_,scene:y,camera:m}=useThree();let h;return useFrame(()=>{h=_.autoClear,g===1&&(_.autoClear=!0,_.render(u,p)),_.autoClear=!1,_.clearDepth(),_.render(y,m),_.autoClear=h},g),reactExports.createElement("group",{onPointerOver:()=>null})}function Hud({children:u,renderPriority:p=1}){const{scene:g,camera:_}=useThree(),[y]=reactExports.useState(()=>new Scene);return reactExports.createElement(reactExports.Fragment,null,createPortal(reactExports.createElement(reactExports.Fragment,null,u,reactExports.createElement(RenderHud,{defaultScene:g,defaultCamera:_,renderPriority:p})),y,{events:{priority:p+1}}))}const Context=reactExports.createContext({}),useGizmoContext=()=>reactExports.useContext(Context),turnRate=2*Math.PI,dummy=new Object3D,matrix=new Matrix4,[q1,q2]=[new Quaternion,new Quaternion],target=new Vector3,targetPosition=new Vector3,isOrbitControls=u=>"minPolarAngle"in u,GizmoHelper=({alignment:u="bottom-right",margin:p=[80,80],renderPriority:g=1,onUpdate:_,onTarget:y,children:m})=>{const h=useThree(A=>A.size),b=useThree(A=>A.camera),x=useThree(A=>A.controls),O=useThree(A=>A.invalidate),T=reactExports.useRef(),E=reactExports.useRef(null),M=reactExports.useRef(!1),F=reactExports.useRef(0),B=reactExports.useRef(new Vector3(0,0,0)),S=reactExports.useRef(new Vector3(0,0,0));reactExports.useEffect(()=>{S.current.copy(b.up)},[b]);const w=reactExports.useCallback(A=>{M.current=!0,(x||y)&&(B.current=(x==null?void 0:x.target)||(y==null?void 0:y())),F.current=b.position.distanceTo(target),q1.copy(b.quaternion),targetPosition.copy(A).multiplyScalar(F.current).add(target),dummy.lookAt(targetPosition),dummy.up.copy(b.up),q2.copy(dummy.quaternion),O()},[x,b,y,O]);useFrame((A,I)=>{if(E.current&&T.current){var P;if(M.current)if(q1.angleTo(q2)<.01)M.current=!1,isOrbitControls(x)&&b.up.copy(S.current);else{const G=I*turnRate;q1.rotateTowards(q2,G),b.position.set(0,0,1).applyQuaternion(q1).multiplyScalar(F.current).add(B.current),b.up.set(0,1,0).applyQuaternion(q1).normalize(),b.quaternion.copy(q1),_?_():x&&x.update(),O()}matrix.copy(b.matrix).invert(),(P=T.current)==null||P.quaternion.setFromRotationMatrix(matrix)}});const C=reactExports.useMemo(()=>({tweenCamera:w}),[w]),[D,L]=p,R=u.endsWith("-center")?0:u.endsWith("-left")?-h.width/2+D:h.width/2-D,k=u.startsWith("center-")?0:u.startsWith("top-")?h.height/2-L:-h.height/2+L;return reactExports.createElement(Hud,{renderPriority:g},reactExports.createElement(Context.Provider,{value:C},reactExports.createElement(OrthographicCamera,{makeDefault:!0,ref:E,position:[0,0,200]}),reactExports.createElement("group",{ref:T,position:[R,k,0]},m)))},colors={bg:"#f0f0f0",hover:"#999",text:"black",stroke:"black"},defaultFaces=["Right","Left","Top","Bottom","Front","Back"],makePositionVector=u=>new Vector3(...u).multiplyScalar(.38),corners=[[1,1,1],[1,1,-1],[1,-1,1],[1,-1,-1],[-1,1,1],[-1,1,-1],[-1,-1,1],[-1,-1,-1]].map(makePositionVector),cornerDimensions=[.25,.25,.25],edges=[[1,1,0],[1,0,1],[1,0,-1],[1,-1,0],[0,1,1],[0,1,-1],[0,-1,1],[0,-1,-1],[-1,1,0],[-1,0,1],[-1,0,-1],[-1,-1,0]].map(makePositionVector),edgeDimensions=edges.map(u=>u.toArray().map(p=>p==0?.5:.25)),FaceMaterial=({hover:u,index:p,font:g="20px Inter var, Arial, sans-serif",faces:_=defaultFaces,color:y=colors.bg,hoverColor:m=colors.hover,textColor:h=colors.text,strokeColor:b=colors.stroke,opacity:x=1})=>{const O=useThree(E=>E.gl),T=reactExports.useMemo(()=>{const E=document.createElement("canvas");E.width=128,E.height=128;const M=E.getContext("2d");return M.fillStyle=y,M.fillRect(0,0,E.width,E.height),M.strokeStyle=b,M.strokeRect(0,0,E.width,E.height),M.font=g,M.textAlign="center",M.fillStyle=h,M.fillText(_[p].toUpperCase(),64,76),new CanvasTexture(E)},[p,_,g,y,h,b]);return reactExports.createElement("meshLambertMaterial",{map:T,"map-anisotropy":O.capabilities.getMaxAnisotropy()||1,attach:`material-${p}`,color:u?m:"white",transparent:!0,opacity:x})},FaceCube=u=>{const{tweenCamera:p}=useGizmoContext(),[g,_]=reactExports.useState(null),y=b=>{b.stopPropagation(),_(null)},m=b=>{b.stopPropagation(),p(b.face.normal)},h=b=>{b.stopPropagation(),_(Math.floor(b.faceIndex/2))};return reactExports.createElement("mesh",{onPointerOut:y,onPointerMove:h,onClick:u.onClick||m},[...Array(6)].map((b,x)=>reactExports.createElement(FaceMaterial,_extends({key:x,index:x,hover:g===x},u))),reactExports.createElement("boxGeometry",null))},EdgeCube=({onClick:u,dimensions:p,position:g,hoverColor:_=colors.hover})=>{const{tweenCamera:y}=useGizmoContext(),[m,h]=reactExports.useState(!1),b=T=>{T.stopPropagation(),h(!1)},x=T=>{T.stopPropagation(),h(!0)},O=T=>{T.stopPropagation(),y(g)};return reactExports.createElement("mesh",{scale:1.01,position:g,onPointerOver:x,onPointerOut:b,onClick:u||O},reactExports.createElement("meshBasicMaterial",{color:m?_:"white",transparent:!0,opacity:.6,visible:m}),reactExports.createElement("boxGeometry",{args:p}))},GizmoViewcube=u=>reactExports.createElement("group",{scale:[60,60,60]},reactExports.createElement(FaceCube,u),edges.map((p,g)=>reactExports.createElement(EdgeCube,_extends({key:g,position:p,dimensions:edgeDimensions[g]},u))),corners.map((p,g)=>reactExports.createElement(EdgeCube,_extends({key:g,position:p,dimensions:cornerDimensions},u))),reactExports.createElement("ambientLight",{intensity:.5}),reactExports.createElement("pointLight",{position:[10,10,10],intensity:.5}));function Axis({scale:u=[.8,.05,.05],color:p,rotation:g}){return reactExports.createElement("group",{rotation:g},reactExports.createElement("mesh",{position:[.4,0,0]},reactExports.createElement("boxGeometry",{args:u}),reactExports.createElement("meshBasicMaterial",{color:p,toneMapped:!1})))}function AxisHead({onClick:u,font:p,disabled:g,arcStyle:_,label:y,labelColor:m,axisHeadScale:h=1,...b}){const x=useThree(S=>S.gl),O=reactExports.useMemo(()=>{const S=document.createElement("canvas");S.width=64,S.height=64;const w=S.getContext("2d");return w.beginPath(),w.arc(32,32,16,0,2*Math.PI),w.closePath(),w.fillStyle=_,w.fill(),y&&(w.font=p,w.textAlign="center",w.fillStyle=m,w.fillText(y,32,41)),new CanvasTexture(S)},[_,y,m,p]),[T,E]=reactExports.useState(!1),M=(y?1:.75)*(T?1.2:1)*h,F=S=>{S.stopPropagation(),E(!0)},B=S=>{S.stopPropagation(),E(!1)};return reactExports.createElement("sprite",_extends({scale:M,onPointerOver:g?void 0:F,onPointerOut:g?void 0:u||B},b),reactExports.createElement("spriteMaterial",{map:O,"map-anisotropy":x.capabilities.getMaxAnisotropy()||1,alphaTest:.3,opacity:y?1:.75,toneMapped:!1}))}const GizmoViewport=({hideNegativeAxes:u,hideAxisHeads:p,disabled:g,font:_="18px Inter var, Arial, sans-serif",axisColors:y=["#ff2060","#20df80","#2080ff"],axisHeadScale:m=1,axisScale:h,labels:b=["X","Y","Z"],labelColor:x="#000",onClick:O,...T})=>{const[E,M,F]=y,{tweenCamera:B}=useGizmoContext(),S={font:_,disabled:g,labelColor:x,onClick:O,axisHeadScale:m,onPointerDown:g?void 0:w=>{B(w.object.position),w.stopPropagation()}};return reactExports.createElement("group",_extends({scale:40},T),reactExports.createElement(Axis,{color:E,rotation:[0,0,0],scale:h}),reactExports.createElement(Axis,{color:M,rotation:[0,0,Math.PI/2],scale:h}),reactExports.createElement(Axis,{color:F,rotation:[0,-Math.PI/2,0],scale:h}),!p&&reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(AxisHead,_extends({arcStyle:E,position:[1,0,0],label:b[0]},S)),reactExports.createElement(AxisHead,_extends({arcStyle:M,position:[0,1,0],label:b[1]},S)),reactExports.createElement(AxisHead,_extends({arcStyle:F,position:[0,0,1],label:b[2]},S)),!u&&reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(AxisHead,_extends({arcStyle:E,position:[-1,0,0]},S)),reactExports.createElement(AxisHead,_extends({arcStyle:M,position:[0,-1,0]},S)),reactExports.createElement(AxisHead,_extends({arcStyle:F,position:[0,0,-1]},S)))),reactExports.createElement("ambientLight",{intensity:.5}),reactExports.createElement("pointLight",{position:[10,10,10],intensity:.5}))},GridMaterial=shaderMaterial({cellSize:.5,sectionSize:1,fadeDistance:100,fadeStrength:1,cellThickness:.5,sectionThickness:1,cellColor:new Color,sectionColor:new Color,infiniteGrid:!1,followCamera:!1},`
    varying vec3 worldPosition;
    uniform float fadeDistance;
    uniform bool infiniteGrid;
    uniform bool followCamera;

    void main() {
      worldPosition = position.xzy;
      if (infiniteGrid) worldPosition *= 1.0 + fadeDistance;
      if (followCamera) worldPosition.xz +=cameraPosition.xz;

      gl_Position = projectionMatrix * modelViewMatrix * vec4(worldPosition, 1.0);
    }
  `,`
    varying vec3 worldPosition;
    uniform float cellSize;
    uniform float sectionSize;
    uniform vec3 cellColor;
    uniform vec3 sectionColor;
    uniform float fadeDistance;
    uniform float fadeStrength;
    uniform float cellThickness;
    uniform float sectionThickness;

    float getGrid(float size, float thickness) {
      vec2 r = worldPosition.xz / size;
      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);
      float line = min(grid.x, grid.y) + 1. - thickness;
      return 1.0 - min(line, 1.);
    }

    void main() {
      float g1 = getGrid(cellSize, cellThickness);
      float g2 = getGrid(sectionSize, sectionThickness);

      float d = 1.0 - min(distance(cameraPosition.xz, worldPosition.xz) / fadeDistance, 1.);
      vec3 color = mix(cellColor, sectionColor, min(1.,sectionThickness * g2));

      gl_FragColor = vec4(color, (g1 + g2) * pow(d,fadeStrength));
      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);
      if (gl_FragColor.a <= 0.0) discard;

      #include <tonemapping_fragment>
      #include <encodings_fragment>
    }
  `),Grid=reactExports.forwardRef(({args:u,cellColor:p="#000000",sectionColor:g="#2080ff",cellSize:_=.5,sectionSize:y=1,followCamera:m=!1,infiniteGrid:h=!1,fadeDistance:b=100,fadeStrength:x=1,cellThickness:O=.5,sectionThickness:T=1,side:E=BackSide,...M},F)=>{extend({GridMaterial});const B={cellSize:_,sectionSize:y,cellColor:p,sectionColor:g,cellThickness:O,sectionThickness:T},S={fadeDistance:b,fadeStrength:x,infiniteGrid:h,followCamera:m};return reactExports.createElement("mesh",_extends({ref:F,frustumCulled:!1},M),reactExports.createElement("gridMaterial",_extends({transparent:!0,"extensions-derivatives":!0,side:E},B,S)),reactExports.createElement("planeGeometry",{args:u}))});function useCubeTexture(u,{path:p}){const[g]=useLoader(CubeTextureLoader,[u],_=>_.setPath(p));return g}useCubeTexture.preload=(u,{path:p})=>useLoader.preload(CubeTextureLoader,[u],g=>g.setPath(p));const cdn="https://cdn.jsdelivr.net/gh/pmndrs/drei-assets@master";function useKTX2(u,p=`${cdn}/basis/`){const g=useThree(y=>y.gl),_=useLoader(KTX2Loader,IsObject(u)?Object.values(u):u,y=>{y.detectSupport(g),y.setTranscoderPath(p)});if(reactExports.useEffect(()=>{(Array.isArray(_)?_:[_]).forEach(g.initTexture)},[g,_]),IsObject(u)){const y=Object.keys(u),m={};return y.forEach(h=>Object.assign(m,{[h]:_[y.indexOf(h)]})),m}else return _}useKTX2.preload=(u,p=`${cdn}/basis/`)=>useLoader.preload(KTX2Loader,u,g=>{g.setTranscoderPath(p)});useKTX2.clear=u=>useLoader.clear(KTX2Loader,u);var stats_minExports={},stats_min={get exports(){return stats_minExports},set exports(u){stats_minExports=u}};(function(u,p){(function(g,_){u.exports=_()})(commonjsGlobal$1,function(){var g=function(){function _(F){return h.appendChild(F.dom),F}function y(F){for(var B=0;B<h.children.length;B++)h.children[B].style.display=B===F?"block":"none";m=F}var m=0,h=document.createElement("div");h.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",h.addEventListener("click",function(F){F.preventDefault(),y(++m%h.children.length)},!1);var b=(performance||Date).now(),x=b,O=0,T=_(new g.Panel("FPS","#0ff","#002")),E=_(new g.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var M=_(new g.Panel("MB","#f08","#201"));return y(0),{REVISION:16,dom:h,addPanel:_,showPanel:y,begin:function(){b=(performance||Date).now()},end:function(){O++;var F=(performance||Date).now();if(E.update(F-b,200),F>x+1e3&&(T.update(1e3*O/(F-x),100),x=F,O=0,M)){var B=performance.memory;M.update(B.usedJSHeapSize/1048576,B.jsHeapSizeLimit/1048576)}return F},update:function(){b=this.end()},domElement:h,setMode:y}};return g.Panel=function(_,y,m){var h=1/0,b=0,x=Math.round,O=x(window.devicePixelRatio||1),T=80*O,E=48*O,M=3*O,F=2*O,B=3*O,S=15*O,w=74*O,C=30*O,D=document.createElement("canvas");D.width=T,D.height=E,D.style.cssText="width:80px;height:48px";var L=D.getContext("2d");return L.font="bold "+9*O+"px Helvetica,Arial,sans-serif",L.textBaseline="top",L.fillStyle=m,L.fillRect(0,0,T,E),L.fillStyle=y,L.fillText(_,M,F),L.fillRect(B,S,w,C),L.fillStyle=m,L.globalAlpha=.9,L.fillRect(B,S,w,C),{dom:D,update:function(R,k){h=Math.min(h,R),b=Math.max(b,R),L.fillStyle=m,L.globalAlpha=1,L.fillRect(0,0,T,S),L.fillStyle=y,L.fillText(x(R)+" "+_+" ("+x(h)+"-"+x(b)+")",M,F),L.drawImage(D,B+O,S,w-O,C,B,S,w-O,C),L.fillRect(B+w-O,S,O,C),L.fillStyle=m,L.globalAlpha=.9,L.fillRect(B+w-O,S,O,x((1-R/k)*C))}}},g})})(stats_min);const StatsImpl=stats_minExports;function call(u,p){typeof u=="function"?u(p):u!=null&&(u.current=p)}function useEffectfulState(u,p=[],g){const[_,y]=reactExports.useState();return reactExports.useLayoutEffect(()=>{const m=u();return y(m),call(g,m),()=>call(g,null)},p),_}function Stats({showPanel:u=0,className:p,parent:g}){const _=useEffectfulState(()=>new StatsImpl,[]);return reactExports.useEffect(()=>{if(_){const y=g&&g.current||document.body;_.showPanel(u),y==null||y.appendChild(_.dom),p&&_.dom.classList.add(...p.split(" ").filter(b=>b));const m=addEffect(()=>_.begin()),h=addAfterEffect(()=>_.end());return()=>{y==null||y.removeChild(_.dom),m(),h()}}},[g,_,p,u]),null}function useDepthBuffer({size:u=256,frames:p=1/0}={}){const g=useThree(T=>T.viewport.dpr),{width:_,height:y}=useThree(T=>T.size),m=u||_*g,h=u||y*g,b=reactExports.useMemo(()=>{const T=new DepthTexture(m,h);return T.format=DepthFormat,T.type=UnsignedShortType,{depthTexture:T}},[m,h]);let x=0;const O=useFBO(m,h,b);return useFrame(T=>{(p===1/0||x<p)&&(T.gl.setRenderTarget(O),T.gl.render(T.scene,T.camera),T.gl.setRenderTarget(null),x++)}),O.depthTexture}function useAspect(u,p,g=1){const _=useThree(h=>h.viewport),y=p*(_.aspect>u/p?_.width/u:_.height/p);return[u*(_.aspect>u/p?_.width/u:_.height/p)*g,y*g,1]}function useCamera(u,p){const g=useThree(y=>y.pointer),[_]=reactExports.useState(()=>{const y=new Raycaster;return p&&applyProps(y,p,{}),function(m,h){y.setFromCamera(g,u instanceof Camera?u:u.current);const b=this.constructor.prototype.raycast.bind(this);b&&b(y,h)}});return _}function e(u,p,g,_){return new(g||(g=Promise))(function(y,m){function h(O){try{x(_.next(O))}catch(T){m(T)}}function b(O){try{x(_.throw(O))}catch(T){m(T)}}function x(O){var T;O.done?y(O.value):(T=O.value,T instanceof g?T:new g(function(E){E(T)})).then(h,b)}x((_=_.apply(u,p||[])).next())})}const t=["geforce 320m","geforce 8600","geforce 8600m gt","geforce 8800 gs","geforce 8800 gt","geforce 9400","geforce 9400m g","geforce 9400m","geforce 9600m gt","geforce 9600m","geforce fx go5200","geforce gt 120","geforce gt 130","geforce gt 330m","geforce gtx 285","google swiftshader","intel g41","intel g45","intel gma 4500mhd","intel gma x3100","intel hd 3000","intel q45","legacy","mali-2","mali-3","mali-4","quadro fx 1500","quadro fx 4","quadro fx 5","radeon hd 2400","radeon hd 2600","radeon hd 4670","radeon hd 4850","radeon hd 4870","radeon hd 5670","radeon hd 5750","radeon hd 6290","radeon hd 6300","radeon hd 6310","radeon hd 6320","radeon hd 6490m","radeon hd 6630m","radeon hd 6750m","radeon hd 6770m","radeon hd 6970m","sgx 543","sgx543"];function n(u){return u=u.toLowerCase().replace(/.*angle ?\((.+)\)(?: on vulkan [0-9.]+)?$/i,"$1").replace(/\s(\d{1,2}gb|direct3d.+$)|\(r\)| \([^)]+\)$/g,"").replace(/(?:vulkan|opengl) \d+\.\d+(?:\.\d+)?(?: \((.*)\))?/,"$1")}const r=typeof window>"u",o=(()=>{if(r)return;const{userAgent:u,platform:p,maxTouchPoints:g}=window.navigator,_=/(iphone|ipod|ipad)/i.test(u),y=p==="iPad"||p==="MacIntel"&&g>0&&!window.MSStream;return{isIpad:y,isMobile:/android/i.test(u)||_||y,isSafari12:/Version\/12.+Safari/.test(u)}})();function a(u,p,g){if(!g)return[p];const _=function(O){const T=`
    precision highp float;
    attribute vec3 aPosition;
    varying float vvv;
    void main() {
      vvv = 0.31622776601683794;
      gl_Position = vec4(aPosition, 1.0);
    }
  `,E=`
    precision highp float;
    varying float vvv;
    void main() {
      vec4 enc = vec4(1.0, 255.0, 65025.0, 16581375.0) * vvv;
      enc = fract(enc);
      enc -= enc.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);
      gl_FragColor = enc;
    }
  `,M=O.createShader(35633),F=O.createShader(35632),B=O.createProgram();if(!(F&&M&&B))return;O.shaderSource(M,T),O.shaderSource(F,E),O.compileShader(M),O.compileShader(F),O.attachShader(B,M),O.attachShader(B,F),O.linkProgram(B),O.detachShader(B,M),O.detachShader(B,F),O.deleteShader(M),O.deleteShader(F),O.useProgram(B);const S=O.createBuffer();O.bindBuffer(34962,S),O.bufferData(34962,new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),35044);const w=O.getAttribLocation(B,"aPosition");O.vertexAttribPointer(w,3,5126,!1,0,0),O.enableVertexAttribArray(w),O.clearColor(1,1,1,1),O.clear(16384),O.viewport(0,0,1,1),O.drawArrays(4,0,3);const C=new Uint8Array(4);return O.readPixels(0,0,1,1,6408,5121,C),O.deleteProgram(B),O.deleteBuffer(S),C.join("")}(u),y="801621810",m="8016218135",h="80162181161",b=o!=null&&o.isIpad?[["a7",h,12],["a8",m,15],["a8x",m,15],["a9",m,15],["a9x",m,15],["a10",m,15],["a10x",m,15],["a12",y,15],["a12x",y,15],["a12z",y,15],["a14",y,15],["m1",y,15]]:[["a7",h,12],["a8",m,12],["a9",m,15],["a10",m,15],["a11",y,15],["a12",y,15],["a13",y,15],["a14",y,15]];let x;return _==="80162181255"?x=b.filter(([,,O])=>O>=14):(x=b.filter(([,O])=>O===_),x.length||(x=b)),x.map(([O])=>`apple ${O} gpu`)}let i$1=class extends Error{constructor(p){super(p),Object.setPrototypeOf(this,new.target.prototype)}};const c=[],d=[];function l(u,p){if(u===p)return 0;const g=u;u.length>p.length&&(u=p,p=g);let _=u.length,y=p.length;for(;_>0&&u.charCodeAt(~-_)===p.charCodeAt(~-y);)_--,y--;let m,h=0;for(;h<_&&u.charCodeAt(h)===p.charCodeAt(h);)h++;if(_-=h,y-=h,_===0)return y;let b,x,O=0,T=0,E=0;for(;T<_;)d[T]=u.charCodeAt(h+T),c[T]=++T;for(;E<y;)for(m=p.charCodeAt(h+E),b=E++,O=E,T=0;T<_;T++)x=m===d[T]?b:b+1,b=c[T],O=c[T]=b>O?x>O?O+1:x:x>b?b+1:x;return O}function s(u){return u!=null}const f=({mobileTiers:u=[0,15,30,60],desktopTiers:p=[0,15,30,60],override:g={},glContext:_,failIfMajorPerformanceCaveat:y=!1,benchmarksURL:m="https://unpkg.com/detect-gpu@5.0.37/dist/benchmarks"}={})=>e(void 0,void 0,void 0,function*(){const h={};if(r)return{tier:0,type:"SSR"};const{isIpad:b=!!(o!=null&&o.isIpad),isMobile:x=!!(o!=null&&o.isMobile),screenSize:O=window.screen,loadBenchmarks:T=k=>e(void 0,void 0,void 0,function*(){const A=yield fetch(`${m}/${k}`).then(I=>I.json());if(parseInt(A.shift().split(".")[0],10)<4)throw new i$1("Detect GPU benchmark data is out of date. Please update to version 4x");return A})}=g;let{renderer:E}=g;const M=(k,A,I,P,G)=>({device:G,fps:P,gpu:I,isMobile:x,tier:k,type:A});let F,B="";if(E)E=n(E),F=[E];else{const k=_||function(I,P=!1){const G={alpha:!1,antialias:!1,depth:!1,failIfMajorPerformanceCaveat:P,powerPreference:"high-performance",stencil:!1};I&&delete G.powerPreference;const z=window.document.createElement("canvas"),j=z.getContext("webgl",G)||z.getContext("experimental-webgl",G);return j??void 0}(o==null?void 0:o.isSafari12,y);if(!k)return M(0,"WEBGL_UNSUPPORTED");const A=k.getExtension("WEBGL_debug_renderer_info");if(A&&(E=k.getParameter(A.UNMASKED_RENDERER_WEBGL)),!E)return M(1,"FALLBACK");B=E,E=n(E),F=function(I,P,G){return P==="apple gpu"?a(I,P,G):[P]}(k,E,x)}const S=(yield Promise.all(F.map(function(k){var A;return e(this,void 0,void 0,function*(){const I=(X=>{const re=x?["adreno","apple","mali-t","mali","nvidia","powervr","samsung"]:["intel","apple","amd","radeon","nvidia","geforce"];for(const Z of re)if(X.includes(Z))return Z})(k);if(!I)return;const P=`${x?"m":"d"}-${I}${b?"-ipad":""}.json`,G=h[P]=(A=h[P])!==null&&A!==void 0?A:T(P);let z;try{z=yield G}catch(X){if(X instanceof i$1)throw X;return}const j=function(X){var re;const Z=(X=X.replace(/\([^)]+\)/,"")).match(/\d+/)||X.match(/(\W|^)([A-Za-z]{1,3})(\W|$)/g);return(re=Z==null?void 0:Z.join("").replace(/\W|amd/g,""))!==null&&re!==void 0?re:""}(k);let N=z.filter(([,X])=>X===j);N.length||(N=z.filter(([X])=>X.includes(k)));const W=N.length;if(W===0)return;const U=k.split(/[.,()\[\]/\s]/g).sort().filter((X,re,Z)=>re===0||X!==Z[re-1]).join(" ");let H,[$,,,,V]=W>1?N.map(X=>[X,l(U,X[2])]).sort(([,X],[,re])=>X-re)[0][0]:N[0],J=Number.MAX_VALUE;const{devicePixelRatio:Y}=window,q=O.width*Y*O.height*Y;for(const X of V){const[re,Z]=X,ee=re*Z,ie=Math.abs(q-ee);ie<J&&(J=ie,H=X)}if(!H)return;const[,,K,Q]=H;return[J,K,$,Q]})}))).filter(s).sort(([k=Number.MAX_VALUE,A],[I=Number.MAX_VALUE,P])=>k===I?A-P:k-I);if(!S.length){const k=t.find(A=>E.includes(A));return k?M(0,"BLOCKLISTED",k):M(1,"FALLBACK",`${E} (${B})`)}const[,w,C,D]=S[0];if(w===-1)return M(0,"BLOCKLISTED",C,w,D);const L=x?u:p;let R=0;for(let k=0;k<L.length;k++)w>=L[k]&&(R=k);return M(R,"BENCHMARK",C,w,D)}),useDetectGPU=u=>suspend(()=>f(u),["useDetectGPU"]);function useHelper(u,p,...g){const _=reactExports.useRef(),y=useThree(m=>m.scene);return reactExports.useLayoutEffect(()=>{let m;if(u&&u!=null&&u.current&&p&&(_.current=m=new p(u.current,...g)),m)return y.add(m),()=>{_.current=void 0,y.remove(m),m.dispose==null||m.dispose()}},[y,p,u,...g]),useFrame(()=>{var m;return void((m=_.current)==null||m.update==null?void 0:m.update())}),_}const CENTER=0,AVERAGE=1,SAH=2,CONTAINED=2,TRIANGLE_INTERSECT_COST=1.25,TRAVERSAL_COST=1,BYTES_PER_NODE=6*4+4+4,IS_LEAFNODE_FLAG=65535,FLOAT32_EPSILON=Math.pow(2,-24),SKIP_GENERATION=Symbol("SKIP_GENERATION");function getVertexCount(u){return u.index?u.index.count:u.attributes.position.count}function getTriCount(u){return getVertexCount(u)/3}function getIndexArray(u,p=ArrayBuffer){return u>65535?new Uint32Array(new p(4*u)):new Uint16Array(new p(2*u))}function ensureIndex(u,p){if(!u.index){const g=u.attributes.position.count,_=p.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer,y=getIndexArray(g,_);u.setIndex(new BufferAttribute(y,1));for(let m=0;m<g;m++)y[m]=m}}function getFullGeometryRange(u){const p=getTriCount(u),g=u.drawRange,_=g.start/3,y=(g.start+g.count)/3,m=Math.max(0,_),h=Math.min(p,y)-m;return[{offset:Math.floor(m),count:Math.floor(h)}]}function getRootIndexRanges(u){if(!u.groups||!u.groups.length)return getFullGeometryRange(u);const p=[],g=new Set,_=u.drawRange,y=_.start/3,m=(_.start+_.count)/3;for(const b of u.groups){const x=b.start/3,O=(b.start+b.count)/3;g.add(Math.max(y,x)),g.add(Math.min(m,O))}const h=Array.from(g.values()).sort((b,x)=>b-x);for(let b=0;b<h.length-1;b++){const x=h[b],O=h[b+1];p.push({offset:Math.floor(x),count:Math.floor(O-x)})}return p}function hasGroupGaps(u){if(u.groups.length===0)return!1;const p=getTriCount(u),g=getRootIndexRanges(u).sort((m,h)=>m.offset-h.offset),_=g[g.length-1];_.count=Math.min(p-_.offset,_.count);let y=0;return g.forEach(({count:m})=>y+=m),p!==y}function arrayToBox(u,p,g){return g.min.x=p[u],g.min.y=p[u+1],g.min.z=p[u+2],g.max.x=p[u+3],g.max.y=p[u+4],g.max.z=p[u+5],g}function makeEmptyBounds(u){u[0]=u[1]=u[2]=1/0,u[3]=u[4]=u[5]=-1/0}function getLongestEdgeIndex(u){let p=-1,g=-1/0;for(let _=0;_<3;_++){const y=u[_+3]-u[_];y>g&&(g=y,p=_)}return p}function copyBounds(u,p){p.set(u)}function unionBounds(u,p,g){let _,y;for(let m=0;m<3;m++){const h=m+3;_=u[m],y=p[m],g[m]=_<y?_:y,_=u[h],y=p[h],g[h]=_>y?_:y}}function expandByTriangleBounds(u,p,g){for(let _=0;_<3;_++){const y=p[u+2*_],m=p[u+2*_+1],h=y-m,b=y+m;h<g[_]&&(g[_]=h),b>g[_+3]&&(g[_+3]=b)}}function computeSurfaceArea(u){const p=u[3]-u[0],g=u[4]-u[1],_=u[5]-u[2];return 2*(p*g+g*_+_*p)}function getBounds(u,p,g,_,y=null){let m=1/0,h=1/0,b=1/0,x=-1/0,O=-1/0,T=-1/0,E=1/0,M=1/0,F=1/0,B=-1/0,S=-1/0,w=-1/0;const C=y!==null;for(let D=p*6,L=(p+g)*6;D<L;D+=6){const R=u[D+0],k=u[D+1],A=R-k,I=R+k;A<m&&(m=A),I>x&&(x=I),C&&R<E&&(E=R),C&&R>B&&(B=R);const P=u[D+2],G=u[D+3],z=P-G,j=P+G;z<h&&(h=z),j>O&&(O=j),C&&P<M&&(M=P),C&&P>S&&(S=P);const N=u[D+4],W=u[D+5],U=N-W,H=N+W;U<b&&(b=U),H>T&&(T=H),C&&N<F&&(F=N),C&&N>w&&(w=N)}_[0]=m,_[1]=h,_[2]=b,_[3]=x,_[4]=O,_[5]=T,C&&(y[0]=E,y[1]=M,y[2]=F,y[3]=B,y[4]=S,y[5]=w)}function getCentroidBounds(u,p,g,_){let y=1/0,m=1/0,h=1/0,b=-1/0,x=-1/0,O=-1/0;for(let T=p*6,E=(p+g)*6;T<E;T+=6){const M=u[T+0];M<y&&(y=M),M>b&&(b=M);const F=u[T+2];F<m&&(m=F),F>x&&(x=F);const B=u[T+4];B<h&&(h=B),B>O&&(O=B)}_[0]=y,_[1]=m,_[2]=h,_[3]=b,_[4]=x,_[5]=O}function computeTriangleBounds(u,p){makeEmptyBounds(p);const g=u.attributes.position,_=u.index?u.index.array:null,y=getTriCount(u),m=new Float32Array(y*6),h=g.normalized,b=g.array,x=g.offset||0;let O=3;g.isInterleavedBufferAttribute&&(O=g.data.stride);const T=["getX","getY","getZ"];for(let E=0;E<y;E++){const M=E*3,F=E*6;let B=M+0,S=M+1,w=M+2;_&&(B=_[B],S=_[S],w=_[w]),h||(B=B*O+x,S=S*O+x,w=w*O+x);for(let C=0;C<3;C++){let D,L,R;h?(D=g[T[C]](B),L=g[T[C]](S),R=g[T[C]](w)):(D=b[B+C],L=b[S+C],R=b[w+C]);let k=D;L<k&&(k=L),R<k&&(k=R);let A=D;L>A&&(A=L),R>A&&(A=R);const I=(A-k)/2,P=C*2;m[F+P+0]=k+I,m[F+P+1]=I+(Math.abs(k)+I)*FLOAT32_EPSILON,k<p[C]&&(p[C]=k),A>p[C+3]&&(p[C+3]=A)}}return m}const BIN_COUNT=32,binsSort=(u,p)=>u.candidate-p.candidate,sahBins=new Array(BIN_COUNT).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0})),leftBounds=new Float32Array(6);function getOptimalSplit(u,p,g,_,y,m){let h=-1,b=0;if(m===CENTER)h=getLongestEdgeIndex(p),h!==-1&&(b=(p[h]+p[h+3])/2);else if(m===AVERAGE)h=getLongestEdgeIndex(u),h!==-1&&(b=getAverage(g,_,y,h));else if(m===SAH){const x=computeSurfaceArea(u);let O=TRIANGLE_INTERSECT_COST*y;const T=_*6,E=(_+y)*6;for(let M=0;M<3;M++){const F=p[M],w=(p[M+3]-F)/BIN_COUNT;if(y<BIN_COUNT/4){const C=[...sahBins];C.length=y;let D=0;for(let R=T;R<E;R+=6,D++){const k=C[D];k.candidate=g[R+2*M],k.count=0;const{bounds:A,leftCacheBounds:I,rightCacheBounds:P}=k;for(let G=0;G<3;G++)P[G]=1/0,P[G+3]=-1/0,I[G]=1/0,I[G+3]=-1/0,A[G]=1/0,A[G+3]=-1/0;expandByTriangleBounds(R,g,A)}C.sort(binsSort);let L=y;for(let R=0;R<L;R++){const k=C[R];for(;R+1<L&&C[R+1].candidate===k.candidate;)C.splice(R+1,1),L--}for(let R=T;R<E;R+=6){const k=g[R+2*M];for(let A=0;A<L;A++){const I=C[A];k>=I.candidate?expandByTriangleBounds(R,g,I.rightCacheBounds):(expandByTriangleBounds(R,g,I.leftCacheBounds),I.count++)}}for(let R=0;R<L;R++){const k=C[R],A=k.count,I=y-k.count,P=k.leftCacheBounds,G=k.rightCacheBounds;let z=0;A!==0&&(z=computeSurfaceArea(P)/x);let j=0;I!==0&&(j=computeSurfaceArea(G)/x);const N=TRAVERSAL_COST+TRIANGLE_INTERSECT_COST*(z*A+j*I);N<O&&(h=M,O=N,b=k.candidate)}}else{for(let L=0;L<BIN_COUNT;L++){const R=sahBins[L];R.count=0,R.candidate=F+w+L*w;const k=R.bounds;for(let A=0;A<3;A++)k[A]=1/0,k[A+3]=-1/0}for(let L=T;L<E;L+=6){let A=~~((g[L+2*M]-F)/w);A>=BIN_COUNT&&(A=BIN_COUNT-1);const I=sahBins[A];I.count++,expandByTriangleBounds(L,g,I.bounds)}const C=sahBins[BIN_COUNT-1];copyBounds(C.bounds,C.rightCacheBounds);for(let L=BIN_COUNT-2;L>=0;L--){const R=sahBins[L],k=sahBins[L+1];unionBounds(R.bounds,k.rightCacheBounds,R.rightCacheBounds)}let D=0;for(let L=0;L<BIN_COUNT-1;L++){const R=sahBins[L],k=R.count,A=R.bounds,P=sahBins[L+1].rightCacheBounds;k!==0&&(D===0?copyBounds(A,leftBounds):unionBounds(A,leftBounds,leftBounds)),D+=k;let G=0,z=0;D!==0&&(G=computeSurfaceArea(leftBounds)/x);const j=y-D;j!==0&&(z=computeSurfaceArea(P)/x);const N=TRAVERSAL_COST+TRIANGLE_INTERSECT_COST*(G*D+z*j);N<O&&(h=M,O=N,b=R.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${m} used.`);return{axis:h,pos:b}}function getAverage(u,p,g,_){let y=0;for(let m=p,h=p+g;m<h;m++)y+=u[m*6+_*2];return y/g}class MeshBVHNode{constructor(){}}function partition(u,p,g,_,y,m){let h=_,b=_+y-1;const x=m.pos,O=m.axis*2;for(;;){for(;h<=b&&g[h*6+O]<x;)h++;for(;h<=b&&g[b*6+O]>=x;)b--;if(h<b){for(let T=0;T<3;T++){let E=p[h*3+T];p[h*3+T]=p[b*3+T],p[b*3+T]=E}for(let T=0;T<6;T++){let E=g[h*6+T];g[h*6+T]=g[b*6+T],g[b*6+T]=E}h++,b--}else return h}}function partition_indirect(u,p,g,_,y,m){let h=_,b=_+y-1;const x=m.pos,O=m.axis*2;for(;;){for(;h<=b&&g[h*6+O]<x;)h++;for(;h<=b&&g[b*6+O]>=x;)b--;if(h<b){let T=u[h];u[h]=u[b],u[b]=T;for(let E=0;E<6;E++){let M=g[h*6+E];g[h*6+E]=g[b*6+E],g[b*6+E]=M}h++,b--}else return h}}function generateIndirectBuffer(u,p){const g=(u.index?u.index.count:u.attributes.position.count)/3,_=g>2**16,y=_?4:2,m=p?new SharedArrayBuffer(g*y):new ArrayBuffer(g*y),h=_?new Uint32Array(m):new Uint16Array(m);for(let b=0,x=h.length;b<x;b++)h[b]=b;return h}function buildTree(u,p){const g=u.geometry,_=g.index?g.index.array:null,y=p.maxDepth,m=p.verbose,h=p.maxLeafTris,b=p.strategy,x=p.onProgress,O=getTriCount(g),T=u._indirectBuffer;let E=!1;const M=new Float32Array(6),F=new Float32Array(6),B=computeTriangleBounds(g,M),S=p.indirect?partition_indirect:partition,w=[],C=p.indirect?getFullGeometryRange(g):getRootIndexRanges(g);if(C.length===1){const R=C[0],k=new MeshBVHNode;k.boundingData=M,getCentroidBounds(B,R.offset,R.count,F),L(k,R.offset,R.count,F),w.push(k)}else for(let R of C){const k=new MeshBVHNode;k.boundingData=new Float32Array(6),getBounds(B,R.offset,R.count,k.boundingData,F),L(k,R.offset,R.count,F),w.push(k)}return w;function D(R){x&&x(R/O)}function L(R,k,A,I=null,P=0){if(!E&&P>=y&&(E=!0,m&&(console.warn(`MeshBVH: Max depth of ${y} reached when generating BVH. Consider increasing maxDepth.`),console.warn(g))),A<=h||P>=y)return D(k+A),R.offset=k,R.count=A,R;const G=getOptimalSplit(R.boundingData,I,B,k,A,b);if(G.axis===-1)return D(k+A),R.offset=k,R.count=A,R;const z=S(T,_,B,k,A,G);if(z===k||z===k+A)D(k+A),R.offset=k,R.count=A;else{R.splitAxis=G.axis;const j=new MeshBVHNode,N=k,W=z-k;R.left=j,j.boundingData=new Float32Array(6),getBounds(B,N,W,j.boundingData,F),L(j,N,W,F,P+1);const U=new MeshBVHNode,H=z,$=A-W;R.right=U,U.boundingData=new Float32Array(6),getBounds(B,H,$,U.boundingData,F),L(U,H,$,F,P+1)}return R}}function buildPackedTree(u,p){const g=u.geometry;p.indirect&&(u._indirectBuffer=generateIndirectBuffer(g,p.useSharedArrayBuffer),hasGroupGaps(g)&&!p.verbose&&console.warn('MeshBVH: Provided geometry contains groups that do not fully span the vertex contents while using the "indirect" option. BVH may incorrectly report intersections on unrendered portions of the geometry.')),u._indirectBuffer||ensureIndex(g,p);const _=buildTree(u,p);let y,m,h;const b=[],x=p.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;for(let E=0;E<_.length;E++){const M=_[E];let F=O(M);const B=new x(BYTES_PER_NODE*F);y=new Float32Array(B),m=new Uint32Array(B),h=new Uint16Array(B),T(0,M),b.push(B)}u._roots=b;return;function O(E){return E.count?1:1+O(E.left)+O(E.right)}function T(E,M){const F=E/4,B=E/2,S=!!M.count,w=M.boundingData;for(let C=0;C<6;C++)y[F+C]=w[C];if(S){const C=M.offset,D=M.count;return m[F+6]=C,h[B+14]=D,h[B+15]=IS_LEAFNODE_FLAG,E+BYTES_PER_NODE}else{const C=M.left,D=M.right,L=M.splitAxis;let R;if(R=T(E+BYTES_PER_NODE,C),R/4>Math.pow(2,32))throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return m[F+6]=R/4,R=T(R,D),m[F+7]=L,R}}}class SeparatingAxisBounds{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(p,g){let _=1/0,y=-1/0;for(let m=0,h=p.length;m<h;m++){const x=p[m][g];_=x<_?x:_,y=x>y?x:y}this.min=_,this.max=y}setFromPoints(p,g){let _=1/0,y=-1/0;for(let m=0,h=g.length;m<h;m++){const b=g[m],x=p.dot(b);_=x<_?x:_,y=x>y?x:y}this.min=_,this.max=y}isSeparated(p){return this.min>p.max||p.min>this.max}}SeparatingAxisBounds.prototype.setFromBox=function(){const u=new Vector3;return function(g,_){const y=_.min,m=_.max;let h=1/0,b=-1/0;for(let x=0;x<=1;x++)for(let O=0;O<=1;O++)for(let T=0;T<=1;T++){u.x=y.x*x+m.x*(1-x),u.y=y.y*O+m.y*(1-O),u.z=y.z*T+m.z*(1-T);const E=g.dot(u);h=Math.min(E,h),b=Math.max(E,b)}this.min=h,this.max=b}}();const closestPointLineToLine=function(){const u=new Vector3,p=new Vector3,g=new Vector3;return function(y,m,h){const b=y.start,x=u,O=m.start,T=p;g.subVectors(b,O),u.subVectors(y.end,y.start),p.subVectors(m.end,m.start);const E=g.dot(T),M=T.dot(x),F=T.dot(T),B=g.dot(x),w=x.dot(x)*F-M*M;let C,D;w!==0?C=(E*M-B*F)/w:C=0,D=(E+C*M)/F,h.x=C,h.y=D}}(),closestPointsSegmentToSegment=function(){const u=new Vector2,p=new Vector3,g=new Vector3;return function(y,m,h,b){closestPointLineToLine(y,m,u);let x=u.x,O=u.y;if(x>=0&&x<=1&&O>=0&&O<=1){y.at(x,h),m.at(O,b);return}else if(x>=0&&x<=1){O<0?m.at(0,b):m.at(1,b),y.closestPointToPoint(b,!0,h);return}else if(O>=0&&O<=1){x<0?y.at(0,h):y.at(1,h),m.closestPointToPoint(h,!0,b);return}else{let T;x<0?T=y.start:T=y.end;let E;O<0?E=m.start:E=m.end;const M=p,F=g;if(y.closestPointToPoint(E,!0,p),m.closestPointToPoint(T,!0,g),M.distanceToSquared(E)<=F.distanceToSquared(T)){h.copy(M),b.copy(E);return}else{h.copy(T),b.copy(F);return}}}}(),sphereIntersectTriangle=function(){const u=new Vector3,p=new Vector3,g=new Plane,_=new Line3;return function(m,h){const{radius:b,center:x}=m,{a:O,b:T,c:E}=h;if(_.start=O,_.end=T,_.closestPointToPoint(x,!0,u).distanceTo(x)<=b||(_.start=O,_.end=E,_.closestPointToPoint(x,!0,u).distanceTo(x)<=b)||(_.start=T,_.end=E,_.closestPointToPoint(x,!0,u).distanceTo(x)<=b))return!0;const S=h.getPlane(g);if(Math.abs(S.distanceToPoint(x))<=b){const C=S.projectPoint(x,p);if(h.containsPoint(C))return!0}return!1}}(),ZERO_EPSILON=1e-15;function isNearZero(u){return Math.abs(u)<ZERO_EPSILON}class ExtendedTriangle extends Triangle{constructor(...p){super(...p),this.isExtendedTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new Vector3),this.satBounds=new Array(4).fill().map(()=>new SeparatingAxisBounds),this.points=[this.a,this.b,this.c],this.sphere=new Sphere,this.plane=new Plane,this.needsUpdate=!0}intersectsSphere(p){return sphereIntersectTriangle(p,this)}update(){const p=this.a,g=this.b,_=this.c,y=this.points,m=this.satAxes,h=this.satBounds,b=m[0],x=h[0];this.getNormal(b),x.setFromPoints(b,y);const O=m[1],T=h[1];O.subVectors(p,g),T.setFromPoints(O,y);const E=m[2],M=h[2];E.subVectors(g,_),M.setFromPoints(E,y);const F=m[3],B=h[3];F.subVectors(_,p),B.setFromPoints(F,y),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(b,p),this.needsUpdate=!1}}ExtendedTriangle.prototype.closestPointToSegment=function(){const u=new Vector3,p=new Vector3,g=new Line3;return function(y,m=null,h=null){const{start:b,end:x}=y,O=this.points;let T,E=1/0;for(let M=0;M<3;M++){const F=(M+1)%3;g.start.copy(O[M]),g.end.copy(O[F]),closestPointsSegmentToSegment(g,y,u,p),T=u.distanceToSquared(p),T<E&&(E=T,m&&m.copy(u),h&&h.copy(p))}return this.closestPointToPoint(b,u),T=b.distanceToSquared(u),T<E&&(E=T,m&&m.copy(u),h&&h.copy(b)),this.closestPointToPoint(x,u),T=x.distanceToSquared(u),T<E&&(E=T,m&&m.copy(u),h&&h.copy(x)),Math.sqrt(E)}}();ExtendedTriangle.prototype.intersectsTriangle=function(){const u=new ExtendedTriangle,p=new Array(3),g=new Array(3),_=new SeparatingAxisBounds,y=new SeparatingAxisBounds,m=new Vector3,h=new Vector3,b=new Vector3,x=new Vector3,O=new Vector3,T=new Line3,E=new Line3,M=new Line3,F=new Vector3;function B(S,w,C){const D=S.points;let L=0,R=-1;for(let k=0;k<3;k++){const{start:A,end:I}=T;A.copy(D[k]),I.copy(D[(k+1)%3]),T.delta(h);const P=isNearZero(w.distanceToPoint(A));if(isNearZero(w.normal.dot(h))&&P){C.copy(T),L=2;break}const G=w.intersectLine(T,F);if(!G&&P&&F.copy(A),(G||P)&&!isNearZero(F.distanceTo(I))){if(L<=1)(L===1?C.start:C.end).copy(F),P&&(R=L);else if(L>=2){(R===1?C.start:C.end).copy(F),L=2;break}if(L++,L===2&&R===-1)break}}return L}return function(w,C=null,D=!1){this.needsUpdate&&this.update(),w.isExtendedTriangle?w.needsUpdate&&w.update():(u.copy(w),u.update(),w=u);const L=this.plane,R=w.plane;if(Math.abs(L.normal.dot(R.normal))>1-1e-10){const k=this.satBounds,A=this.satAxes;g[0]=w.a,g[1]=w.b,g[2]=w.c;for(let G=0;G<4;G++){const z=k[G],j=A[G];if(_.setFromPoints(j,g),z.isSeparated(_))return!1}const I=w.satBounds,P=w.satAxes;p[0]=this.a,p[1]=this.b,p[2]=this.c;for(let G=0;G<4;G++){const z=I[G],j=P[G];if(_.setFromPoints(j,p),z.isSeparated(_))return!1}for(let G=0;G<4;G++){const z=A[G];for(let j=0;j<4;j++){const N=P[j];if(m.crossVectors(z,N),_.setFromPoints(m,p),y.setFromPoints(m,g),_.isSeparated(y))return!1}}return C&&(D||console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),C.start.set(0,0,0),C.end.set(0,0,0)),!0}else{const k=B(this,R,E);if(k===1&&w.containsPoint(E.end))return C&&(C.start.copy(E.end),C.end.copy(E.end)),!0;if(k!==2)return!1;const A=B(w,L,M);if(A===1&&this.containsPoint(M.end))return C&&(C.start.copy(M.end),C.end.copy(M.end)),!0;if(A!==2)return!1;if(E.delta(b),M.delta(x),b.dot(x)<0){let W=M.start;M.start=M.end,M.end=W}const I=E.start.dot(b),P=E.end.dot(b),G=M.start.dot(b),z=M.end.dot(b),j=P<G,N=I<z;return I!==z&&G!==P&&j===N?!1:(C&&(O.subVectors(E.start,M.start),O.dot(b)>0?C.start.copy(E.start):C.start.copy(M.start),O.subVectors(E.end,M.end),O.dot(b)<0?C.end.copy(E.end):C.end.copy(M.end)),!0)}}}();ExtendedTriangle.prototype.distanceToPoint=function(){const u=new Vector3;return function(g){return this.closestPointToPoint(g,u),g.distanceTo(u)}}();ExtendedTriangle.prototype.distanceToTriangle=function(){const u=new Vector3,p=new Vector3,g=["a","b","c"],_=new Line3,y=new Line3;return function(h,b=null,x=null){const O=b||x?_:null;if(this.intersectsTriangle(h,O))return(b||x)&&(b&&O.getCenter(b),x&&O.getCenter(x)),0;let T=1/0;for(let E=0;E<3;E++){let M;const F=g[E],B=h[F];this.closestPointToPoint(B,u),M=B.distanceToSquared(u),M<T&&(T=M,b&&b.copy(u),x&&x.copy(B));const S=this[F];h.closestPointToPoint(S,u),M=S.distanceToSquared(u),M<T&&(T=M,b&&b.copy(S),x&&x.copy(u))}for(let E=0;E<3;E++){const M=g[E],F=g[(E+1)%3];_.set(this[M],this[F]);for(let B=0;B<3;B++){const S=g[B],w=g[(B+1)%3];y.set(h[S],h[w]),closestPointsSegmentToSegment(_,y,u,p);const C=u.distanceToSquared(p);C<T&&(T=C,b&&b.copy(u),x&&x.copy(p))}}return Math.sqrt(T)}}();class OrientedBox{constructor(p,g,_){this.isOrientedBox=!0,this.min=new Vector3,this.max=new Vector3,this.matrix=new Matrix4,this.invMatrix=new Matrix4,this.points=new Array(8).fill().map(()=>new Vector3),this.satAxes=new Array(3).fill().map(()=>new Vector3),this.satBounds=new Array(3).fill().map(()=>new SeparatingAxisBounds),this.alignedSatBounds=new Array(3).fill().map(()=>new SeparatingAxisBounds),this.needsUpdate=!1,p&&this.min.copy(p),g&&this.max.copy(g),_&&this.matrix.copy(_)}set(p,g,_){this.min.copy(p),this.max.copy(g),this.matrix.copy(_),this.needsUpdate=!0}copy(p){this.min.copy(p.min),this.max.copy(p.max),this.matrix.copy(p.matrix),this.needsUpdate=!0}}OrientedBox.prototype.update=function(){return function(){const p=this.matrix,g=this.min,_=this.max,y=this.points;for(let O=0;O<=1;O++)for(let T=0;T<=1;T++)for(let E=0;E<=1;E++){const M=1*O|2*T|4*E,F=y[M];F.x=O?_.x:g.x,F.y=T?_.y:g.y,F.z=E?_.z:g.z,F.applyMatrix4(p)}const m=this.satBounds,h=this.satAxes,b=y[0];for(let O=0;O<3;O++){const T=h[O],E=m[O],M=1<<O,F=y[M];T.subVectors(b,F),E.setFromPoints(T,y)}const x=this.alignedSatBounds;x[0].setFromPointsField(y,"x"),x[1].setFromPointsField(y,"y"),x[2].setFromPointsField(y,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1}}();OrientedBox.prototype.intersectsBox=function(){const u=new SeparatingAxisBounds;return function(g){this.needsUpdate&&this.update();const _=g.min,y=g.max,m=this.satBounds,h=this.satAxes,b=this.alignedSatBounds;if(u.min=_.x,u.max=y.x,b[0].isSeparated(u)||(u.min=_.y,u.max=y.y,b[1].isSeparated(u))||(u.min=_.z,u.max=y.z,b[2].isSeparated(u)))return!1;for(let x=0;x<3;x++){const O=h[x],T=m[x];if(u.setFromBox(O,g),T.isSeparated(u))return!1}return!0}}();OrientedBox.prototype.intersectsTriangle=function(){const u=new ExtendedTriangle,p=new Array(3),g=new SeparatingAxisBounds,_=new SeparatingAxisBounds,y=new Vector3;return function(h){this.needsUpdate&&this.update(),h.isExtendedTriangle?h.needsUpdate&&h.update():(u.copy(h),u.update(),h=u);const b=this.satBounds,x=this.satAxes;p[0]=h.a,p[1]=h.b,p[2]=h.c;for(let M=0;M<3;M++){const F=b[M],B=x[M];if(g.setFromPoints(B,p),F.isSeparated(g))return!1}const O=h.satBounds,T=h.satAxes,E=this.points;for(let M=0;M<3;M++){const F=O[M],B=T[M];if(g.setFromPoints(B,E),F.isSeparated(g))return!1}for(let M=0;M<3;M++){const F=x[M];for(let B=0;B<4;B++){const S=T[B];if(y.crossVectors(F,S),g.setFromPoints(y,p),_.setFromPoints(y,E),g.isSeparated(_))return!1}}return!0}}();OrientedBox.prototype.closestPointToPoint=function(){return function(p,g){return this.needsUpdate&&this.update(),g.copy(p).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),g}}();OrientedBox.prototype.distanceToPoint=function(){const u=new Vector3;return function(g){return this.closestPointToPoint(g,u),g.distanceTo(u)}}();OrientedBox.prototype.distanceToBox=function(){const u=["x","y","z"],p=new Array(12).fill().map(()=>new Line3),g=new Array(12).fill().map(()=>new Line3),_=new Vector3,y=new Vector3;return function(h,b=0,x=null,O=null){if(this.needsUpdate&&this.update(),this.intersectsBox(h))return(x||O)&&(h.getCenter(y),this.closestPointToPoint(y,_),h.closestPointToPoint(_,y),x&&x.copy(_),O&&O.copy(y)),0;const T=b*b,E=h.min,M=h.max,F=this.points;let B=1/0;for(let w=0;w<8;w++){const C=F[w];y.copy(C).clamp(E,M);const D=C.distanceToSquared(y);if(D<B&&(B=D,x&&x.copy(C),O&&O.copy(y),D<T))return Math.sqrt(D)}let S=0;for(let w=0;w<3;w++)for(let C=0;C<=1;C++)for(let D=0;D<=1;D++){const L=(w+1)%3,R=(w+2)%3,k=C<<L|D<<R,A=1<<w|C<<L|D<<R,I=F[k],P=F[A];p[S].set(I,P);const z=u[w],j=u[L],N=u[R],W=g[S],U=W.start,H=W.end;U[z]=E[z],U[j]=C?E[j]:M[j],U[N]=D?E[N]:M[j],H[z]=M[z],H[j]=C?E[j]:M[j],H[N]=D?E[N]:M[j],S++}for(let w=0;w<=1;w++)for(let C=0;C<=1;C++)for(let D=0;D<=1;D++){y.x=w?M.x:E.x,y.y=C?M.y:E.y,y.z=D?M.z:E.z,this.closestPointToPoint(y,_);const L=y.distanceToSquared(_);if(L<B&&(B=L,x&&x.copy(_),O&&O.copy(y),L<T))return Math.sqrt(L)}for(let w=0;w<12;w++){const C=p[w];for(let D=0;D<12;D++){const L=g[D];closestPointsSegmentToSegment(C,L,_,y);const R=_.distanceToSquared(y);if(R<B&&(B=R,x&&x.copy(_),O&&O.copy(y),R<T))return Math.sqrt(R)}}return Math.sqrt(B)}}();class PrimitivePool{constructor(p){this._getNewPrimitive=p,this._primitives=[]}getPrimitive(){const p=this._primitives;return p.length===0?this._getNewPrimitive():p.pop()}releasePrimitive(p){this._primitives.push(p)}}class ExtendedTrianglePoolBase extends PrimitivePool{constructor(){super(()=>new ExtendedTriangle)}}const ExtendedTrianglePool=new ExtendedTrianglePoolBase;function IS_LEAF(u,p){return p[u+15]===65535}function OFFSET(u,p){return p[u+6]}function COUNT(u,p){return p[u+14]}function LEFT_NODE(u){return u+8}function RIGHT_NODE(u,p){return p[u+6]}function SPLIT_AXIS(u,p){return p[u+7]}function BOUNDING_DATA_INDEX(u){return u}class _BufferStack{constructor(){this.float32Array=null,this.uint16Array=null,this.uint32Array=null;const p=[];let g=null;this.setBuffer=_=>{g&&p.push(g),g=_,this.float32Array=new Float32Array(_),this.uint16Array=new Uint16Array(_),this.uint32Array=new Uint32Array(_)},this.clearBuffer=()=>{g=null,this.float32Array=null,this.uint16Array=null,this.uint32Array=null,p.length!==0&&this.setBuffer(p.pop())}}}const BufferStack=new _BufferStack;let _box1,_box2;const boxStack=[],boxPool=new PrimitivePool(()=>new Box3);function shapecast(u,p,g,_,y,m){_box1=boxPool.getPrimitive(),_box2=boxPool.getPrimitive(),boxStack.push(_box1,_box2),BufferStack.setBuffer(u._roots[p]);const h=shapecastTraverse(0,u.geometry,g,_,y,m);BufferStack.clearBuffer(),boxPool.releasePrimitive(_box1),boxPool.releasePrimitive(_box2),boxStack.pop(),boxStack.pop();const b=boxStack.length;return b>0&&(_box2=boxStack[b-1],_box1=boxStack[b-2]),h}function shapecastTraverse(u,p,g,_,y=null,m=0,h=0){const{float32Array:b,uint16Array:x,uint32Array:O}=BufferStack;let T=u*2;if(IS_LEAF(T,x)){const M=OFFSET(u,O),F=COUNT(T,x);return arrayToBox(u,b,_box1),_(M,F,!1,h,m+u,_box1)}else{let z=function(N){const{uint16Array:W,uint32Array:U}=BufferStack;let H=N*2;for(;!IS_LEAF(H,W);)N=LEFT_NODE(N),H=N*2;return OFFSET(N,U)},j=function(N){const{uint16Array:W,uint32Array:U}=BufferStack;let H=N*2;for(;!IS_LEAF(H,W);)N=RIGHT_NODE(N,U),H=N*2;return OFFSET(N,U)+COUNT(H,W)};const M=LEFT_NODE(u),F=RIGHT_NODE(u,O);let B=M,S=F,w,C,D,L;if(y&&(D=_box1,L=_box2,arrayToBox(B,b,D),arrayToBox(S,b,L),w=y(D),C=y(L),C<w)){B=F,S=M;const N=w;w=C,C=N,D=L}D||(D=_box1,arrayToBox(B,b,D));const R=IS_LEAF(B*2,x),k=g(D,R,w,h+1,m+B);let A;if(k===CONTAINED){const N=z(B),U=j(B)-N;A=_(N,U,!0,h+1,m+B,D)}else A=k&&shapecastTraverse(B,p,g,_,y,m,h+1);if(A)return!0;L=_box2,arrayToBox(S,b,L);const I=IS_LEAF(S*2,x),P=g(L,I,C,h+1,m+S);let G;if(P===CONTAINED){const N=z(S),U=j(S)-N;G=_(N,U,!0,h+1,m+S,L)}else G=P&&shapecastTraverse(S,p,g,_,y,m,h+1);return!!G}}const temp=new Vector3,temp1$2=new Vector3;function closestPointToPoint(u,p,g={},_=0,y=1/0){const m=_*_,h=y*y;let b=1/0,x=null;if(u.shapecast({boundsTraverseOrder:T=>(temp.copy(p).clamp(T.min,T.max),temp.distanceToSquared(p)),intersectsBounds:(T,E,M)=>M<b&&M<h,intersectsTriangle:(T,E)=>{T.closestPointToPoint(p,temp);const M=p.distanceToSquared(temp);return M<b&&(temp1$2.copy(temp),b=M,x=E),M<m}}),b===1/0)return null;const O=Math.sqrt(b);return g.point?g.point.copy(temp1$2):g.point=temp1$2.clone(),g.distance=O,g.faceIndex=x,g}const _vA$1=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2,_normalA=new Vector3,_normalB=new Vector3,_normalC=new Vector3,_intersectionPoint=new Vector3;function checkIntersection(u,p,g,_,y,m){let h;return m===BackSide?h=u.intersectTriangle(_,g,p,!0,y):h=u.intersectTriangle(p,g,_,m!==DoubleSide,y),h===null?null:{distance:u.origin.distanceTo(y),point:y.clone()}}function checkBufferGeometryIntersection(u,p,g,_,y,m,h,b,x){_vA$1.fromBufferAttribute(p,m),_vB.fromBufferAttribute(p,h),_vC.fromBufferAttribute(p,b);const O=checkIntersection(u,_vA$1,_vB,_vC,_intersectionPoint,x);if(O){_&&(_uvA.fromBufferAttribute(_,m),_uvB.fromBufferAttribute(_,h),_uvC.fromBufferAttribute(_,b),O.uv=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB,_vC,_uvA,_uvB,_uvC,new Vector2)),y&&(_uvA.fromBufferAttribute(y,m),_uvB.fromBufferAttribute(y,h),_uvC.fromBufferAttribute(y,b),O.uv1=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB,_vC,_uvA,_uvB,_uvC,new Vector2)),g&&(_normalA.fromBufferAttribute(g,m),_normalB.fromBufferAttribute(g,h),_normalC.fromBufferAttribute(g,b),O.normal=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB,_vC,_normalA,_normalB,_normalC,new Vector3),O.normal.dot(u.direction)>0&&O.normal.multiplyScalar(-1));const T={a:m,b:h,c:b,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB,_vC,T.normal),O.face=T,O.faceIndex=m}return O}function intersectTri(u,p,g,_,y){const m=_*3;let h=m+0,b=m+1,x=m+2;const O=u.index;u.index&&(h=O.getX(h),b=O.getX(b),x=O.getX(x));const{position:T,normal:E,uv:M,uv1:F}=u.attributes,B=checkBufferGeometryIntersection(g,T,E,M,F,h,b,x,p);return B?(B.faceIndex=_,y&&y.push(B),B):null}function setTriangle(u,p,g,_){const y=u.a,m=u.b,h=u.c;let b=p,x=p+1,O=p+2;g&&(b=g.getX(b),x=g.getX(x),O=g.getX(O)),y.x=_.getX(b),y.y=_.getY(b),y.z=_.getZ(b),m.x=_.getX(x),m.y=_.getY(x),m.z=_.getZ(x),h.x=_.getX(O),h.y=_.getY(O),h.z=_.getZ(O)}function intersectTris(u,p,g,_,y,m){const{geometry:h,_indirectBuffer:b}=u;for(let x=_,O=_+y;x<O;x++)intersectTri(h,p,g,x,m)}function intersectClosestTri(u,p,g,_,y){const{geometry:m,_indirectBuffer:h}=u;let b=1/0,x=null;for(let O=_,T=_+y;O<T;O++){let E;E=intersectTri(m,p,g,O),E&&E.distance<b&&(x=E,b=E.distance)}return x}function iterateOverTriangles(u,p,g,_,y,m,h){const{geometry:b}=g,{index:x}=b,O=b.attributes.position;for(let T=u,E=p+u;T<E;T++){let M;if(M=T,setTriangle(h,M*3,x,O),h.needsUpdate=!0,_(h,M,y,m))return!0}return!1}function refit(u,p=null){p&&Array.isArray(p)&&(p=new Set(p));const g=u.geometry,_=g.index?g.index.array:null,y=g.attributes.position;let m,h,b,x,O=0;const T=u._roots;for(let M=0,F=T.length;M<F;M++)m=T[M],h=new Uint32Array(m),b=new Uint16Array(m),x=new Float32Array(m),E(0,O),O+=m.byteLength;function E(M,F,B=!1){const S=M*2;if(b[S+15]===IS_LEAFNODE_FLAG){const C=h[M+6],D=b[S+14];let L=1/0,R=1/0,k=1/0,A=-1/0,I=-1/0,P=-1/0;for(let G=3*C,z=3*(C+D);G<z;G++){let j=_[G];const N=y.getX(j),W=y.getY(j),U=y.getZ(j);N<L&&(L=N),N>A&&(A=N),W<R&&(R=W),W>I&&(I=W),U<k&&(k=U),U>P&&(P=U)}return x[M+0]!==L||x[M+1]!==R||x[M+2]!==k||x[M+3]!==A||x[M+4]!==I||x[M+5]!==P?(x[M+0]=L,x[M+1]=R,x[M+2]=k,x[M+3]=A,x[M+4]=I,x[M+5]=P,!0):!1}else{const C=M+8,D=h[M+6],L=C+F,R=D+F;let k=B,A=!1,I=!1;p?k||(A=p.has(L),I=p.has(R),k=!A&&!I):(A=!0,I=!0);const P=k||A,G=k||I;let z=!1;P&&(z=E(C,F,k));let j=!1;G&&(j=E(D,F,k));const N=z||j;if(N)for(let W=0;W<3;W++){const U=C+W,H=D+W,$=x[U],V=x[U+3],J=x[H],Y=x[H+3];x[M+W]=$<J?$:J,x[M+W+3]=V>Y?V:Y}return N}}}const _boundingBox=new Box3;function intersectRay(u,p,g,_){return arrayToBox(u,p,_boundingBox),g.intersectBox(_boundingBox,_)}function intersectTris_indirect(u,p,g,_,y,m){const{geometry:h,_indirectBuffer:b}=u;for(let x=_,O=_+y;x<O;x++){let T=b?b[x]:x;intersectTri(h,p,g,T,m)}}function intersectClosestTri_indirect(u,p,g,_,y){const{geometry:m,_indirectBuffer:h}=u;let b=1/0,x=null;for(let O=_,T=_+y;O<T;O++){let E;E=intersectTri(m,p,g,h?h[O]:O),E&&E.distance<b&&(x=E,b=E.distance)}return x}function iterateOverTriangles_indirect(u,p,g,_,y,m,h){const{geometry:b}=g,{index:x}=b,O=b.attributes.position;for(let T=u,E=p+u;T<E;T++){let M;if(M=g.resolveTriangleIndex(T),setTriangle(h,M*3,x,O),h.needsUpdate=!0,_(h,M,y,m))return!0}return!1}const _boxIntersection$3=new Vector3;function raycast(u,p,g,_,y){BufferStack.setBuffer(u._roots[p]),_raycast$1(0,u,g,_,y),BufferStack.clearBuffer()}function _raycast$1(u,p,g,_,y){const{float32Array:m,uint16Array:h,uint32Array:b}=BufferStack,x=u*2;if(IS_LEAF(x,h)){const T=OFFSET(u,b),E=COUNT(x,h);intersectTris(p,g,_,T,E,y)}else{const T=LEFT_NODE(u);intersectRay(T,m,_,_boxIntersection$3)&&_raycast$1(T,p,g,_,y);const E=RIGHT_NODE(u,b);intersectRay(E,m,_,_boxIntersection$3)&&_raycast$1(E,p,g,_,y)}}const _boxIntersection$2=new Vector3,_xyzFields$1=["x","y","z"];function raycastFirst(u,p,g,_){BufferStack.setBuffer(u._roots[p]);const y=_raycastFirst$1(0,u,g,_);return BufferStack.clearBuffer(),y}function _raycastFirst$1(u,p,g,_){const{float32Array:y,uint16Array:m,uint32Array:h}=BufferStack;let b=u*2;if(IS_LEAF(b,m)){const O=OFFSET(u,h),T=COUNT(b,m);return intersectClosestTri(p,g,_,O,T)}else{const O=SPLIT_AXIS(u,h),T=_xyzFields$1[O],M=_.direction[T]>=0;let F,B;M?(F=LEFT_NODE(u),B=RIGHT_NODE(u,h)):(F=RIGHT_NODE(u,h),B=LEFT_NODE(u));const w=intersectRay(F,y,_,_boxIntersection$2)?_raycastFirst$1(F,p,g,_):null;if(w){const L=w.point[T];if(M?L<=y[B+O]:L>=y[B+O+3])return w}const D=intersectRay(B,y,_,_boxIntersection$2)?_raycastFirst$1(B,p,g,_):null;return w&&D?w.distance<=D.distance?w:D:w||D||null}}const boundingBox$2=new Box3,triangle$1=new ExtendedTriangle,triangle2$1=new ExtendedTriangle,invertedMat$1=new Matrix4,obb$4=new OrientedBox,obb2$3=new OrientedBox;function intersectsGeometry(u,p,g,_){BufferStack.setBuffer(u._roots[p]);const y=_intersectsGeometry$1(0,u,g,_);return BufferStack.clearBuffer(),y}function _intersectsGeometry$1(u,p,g,_,y=null){const{float32Array:m,uint16Array:h,uint32Array:b}=BufferStack;let x=u*2;if(y===null&&(g.boundingBox||g.computeBoundingBox(),obb$4.set(g.boundingBox.min,g.boundingBox.max,_),y=obb$4),IS_LEAF(x,h)){const T=p.geometry,E=T.index,M=T.attributes.position,F=g.index,B=g.attributes.position,S=OFFSET(u,b),w=COUNT(x,h);if(invertedMat$1.copy(_).invert(),g.boundsTree)return arrayToBox(u,m,obb2$3),obb2$3.matrix.copy(invertedMat$1),obb2$3.needsUpdate=!0,g.boundsTree.shapecast({intersectsBounds:D=>obb2$3.intersectsBox(D),intersectsTriangle:D=>{D.a.applyMatrix4(_),D.b.applyMatrix4(_),D.c.applyMatrix4(_),D.needsUpdate=!0;for(let L=S*3,R=(w+S)*3;L<R;L+=3)if(setTriangle(triangle2$1,L,E,M),triangle2$1.needsUpdate=!0,D.intersectsTriangle(triangle2$1))return!0;return!1}});for(let C=S*3,D=(w+S)*3;C<D;C+=3){setTriangle(triangle$1,C,E,M),triangle$1.a.applyMatrix4(invertedMat$1),triangle$1.b.applyMatrix4(invertedMat$1),triangle$1.c.applyMatrix4(invertedMat$1),triangle$1.needsUpdate=!0;for(let L=0,R=F.count;L<R;L+=3)if(setTriangle(triangle2$1,L,F,B),triangle2$1.needsUpdate=!0,triangle$1.intersectsTriangle(triangle2$1))return!0}}else{const T=u+8,E=b[u+6];return arrayToBox(T,m,boundingBox$2),!!(y.intersectsBox(boundingBox$2)&&_intersectsGeometry$1(T,p,g,_,y)||(arrayToBox(E,m,boundingBox$2),y.intersectsBox(boundingBox$2)&&_intersectsGeometry$1(E,p,g,_,y)))}}const tempMatrix$4=new Matrix4,obb$3=new OrientedBox,obb2$2=new OrientedBox,temp1$1=new Vector3,temp2$1=new Vector3,temp3$1=new Vector3,temp4$1=new Vector3;function closestPointToGeometry(u,p,g,_={},y={},m=0,h=1/0){p.boundingBox||p.computeBoundingBox(),obb$3.set(p.boundingBox.min,p.boundingBox.max,g),obb$3.needsUpdate=!0;const b=u.geometry,x=b.attributes.position,O=b.index,T=p.attributes.position,E=p.index,M=ExtendedTrianglePool.getPrimitive(),F=ExtendedTrianglePool.getPrimitive();let B=temp1$1,S=temp2$1,w=null,C=null;y&&(w=temp3$1,C=temp4$1);let D=1/0,L=null,R=null;return tempMatrix$4.copy(g).invert(),obb2$2.matrix.copy(tempMatrix$4),u.shapecast({boundsTraverseOrder:k=>obb$3.distanceToBox(k),intersectsBounds:(k,A,I)=>I<D&&I<h?(A&&(obb2$2.min.copy(k.min),obb2$2.max.copy(k.max),obb2$2.needsUpdate=!0),!0):!1,intersectsRange:(k,A)=>{if(p.boundsTree)return p.boundsTree.shapecast({boundsTraverseOrder:P=>obb2$2.distanceToBox(P),intersectsBounds:(P,G,z)=>z<D&&z<h,intersectsRange:(P,G)=>{for(let z=P,j=P+G;z<j;z++){setTriangle(F,3*z,E,T),F.a.applyMatrix4(g),F.b.applyMatrix4(g),F.c.applyMatrix4(g),F.needsUpdate=!0;for(let N=k,W=k+A;N<W;N++){setTriangle(M,3*N,O,x),M.needsUpdate=!0;const U=M.distanceToTriangle(F,B,w);if(U<D&&(S.copy(B),C&&C.copy(w),D=U,L=N,R=z),U<m)return!0}}}});{const I=getTriCount(p);for(let P=0,G=I;P<G;P++){setTriangle(F,3*P,E,T),F.a.applyMatrix4(g),F.b.applyMatrix4(g),F.c.applyMatrix4(g),F.needsUpdate=!0;for(let z=k,j=k+A;z<j;z++){setTriangle(M,3*z,O,x),M.needsUpdate=!0;const N=M.distanceToTriangle(F,B,w);if(N<D&&(S.copy(B),C&&C.copy(w),D=N,L=z,R=P),N<m)return!0}}}}}),ExtendedTrianglePool.releasePrimitive(M),ExtendedTrianglePool.releasePrimitive(F),D===1/0?null:(_.point?_.point.copy(S):_.point=S.clone(),_.distance=D,_.faceIndex=L,y&&(y.point?y.point.copy(C):y.point=C.clone(),y.point.applyMatrix4(tempMatrix$4),S.applyMatrix4(tempMatrix$4),y.distance=S.sub(y.point).length(),y.faceIndex=R),_)}const tempMatrix$3=new Matrix4,aabb$1=new Box3,aabb2$1=new Box3;function bvhcast(u,p,g,_){let{intersectsRanges:y,intersectsTriangles:m}=_;const h=u.geometry.index,b=u.geometry.attributes.position,x=p.geometry.index,O=p.geometry.attributes.position;tempMatrix$3.copy(g).invert();const T=ExtendedTrianglePool.getPrimitive(),E=ExtendedTrianglePool.getPrimitive();if(m){const F=(B,S,w,C,D,L,R,k)=>{for(let A=w,I=w+C;A<I;A++){setTriangle(E,A*3,x,O),E.a.applyMatrix4(g),E.b.applyMatrix4(g),E.c.applyMatrix4(g),E.needsUpdate=!0;for(let P=B,G=B+S;P<G;P++)if(setTriangle(T,P*3,h,b),T.needsUpdate=!0,m(T,E,P,A,D,L,R,k))return!0}return!1};if(y){const B=y;y=function(S,w,C,D,L,R,k,A){return B(S,w,C,D,L,R,k,A)?!0:F(S,w,C,D,L,R,k,A)}}else y=F}p.getBoundingBox(aabb2$1),aabb2$1.applyMatrix4(g);const M=u.shapecast({intersectsBounds:F=>aabb2$1.intersectsBox(F),intersectsRange:(F,B,S,w,C,D)=>(aabb$1.copy(D),aabb$1.applyMatrix4(tempMatrix$3),p.shapecast({intersectsBounds:L=>aabb$1.intersectsBox(L),intersectsRange:(L,R,k,A,I)=>y(F,B,L,R,w,C,A,I)}))});return ExtendedTrianglePool.releasePrimitive(T),ExtendedTrianglePool.releasePrimitive(E),M}function refit_indirect(u,p=null){p&&Array.isArray(p)&&(p=new Set(p));const g=u.geometry,_=g.index?g.index.array:null,y=g.attributes.position;let m,h,b,x,O=0;const T=u._roots;for(let M=0,F=T.length;M<F;M++)m=T[M],h=new Uint32Array(m),b=new Uint16Array(m),x=new Float32Array(m),E(0,O),O+=m.byteLength;function E(M,F,B=!1){const S=M*2;if(b[S+15]===IS_LEAFNODE_FLAG){const C=h[M+6],D=b[S+14];let L=1/0,R=1/0,k=1/0,A=-1/0,I=-1/0,P=-1/0;for(let G=C,z=C+D;G<z;G++){const j=3*u.resolveTriangleIndex(G);for(let N=0;N<3;N++){let W=j+N;W=_?_[W]:W;const U=y.getX(W),H=y.getY(W),$=y.getZ(W);U<L&&(L=U),U>A&&(A=U),H<R&&(R=H),H>I&&(I=H),$<k&&(k=$),$>P&&(P=$)}}return x[M+0]!==L||x[M+1]!==R||x[M+2]!==k||x[M+3]!==A||x[M+4]!==I||x[M+5]!==P?(x[M+0]=L,x[M+1]=R,x[M+2]=k,x[M+3]=A,x[M+4]=I,x[M+5]=P,!0):!1}else{const C=M+8,D=h[M+6],L=C+F,R=D+F;let k=B,A=!1,I=!1;p?k||(A=p.has(L),I=p.has(R),k=!A&&!I):(A=!0,I=!0);const P=k||A,G=k||I;let z=!1;P&&(z=E(C,F,k));let j=!1;G&&(j=E(D,F,k));const N=z||j;if(N)for(let W=0;W<3;W++){const U=C+W,H=D+W,$=x[U],V=x[U+3],J=x[H],Y=x[H+3];x[M+W]=$<J?$:J,x[M+W+3]=V>Y?V:Y}return N}}}const _boxIntersection$1=new Vector3;function raycast_indirect(u,p,g,_,y){BufferStack.setBuffer(u._roots[p]),_raycast(0,u,g,_,y),BufferStack.clearBuffer()}function _raycast(u,p,g,_,y){const{float32Array:m,uint16Array:h,uint32Array:b}=BufferStack,x=u*2;if(IS_LEAF(x,h)){const T=OFFSET(u,b),E=COUNT(x,h);intersectTris_indirect(p,g,_,T,E,y)}else{const T=LEFT_NODE(u);intersectRay(T,m,_,_boxIntersection$1)&&_raycast(T,p,g,_,y);const E=RIGHT_NODE(u,b);intersectRay(E,m,_,_boxIntersection$1)&&_raycast(E,p,g,_,y)}}const _boxIntersection=new Vector3,_xyzFields=["x","y","z"];function raycastFirst_indirect(u,p,g,_){BufferStack.setBuffer(u._roots[p]);const y=_raycastFirst(0,u,g,_);return BufferStack.clearBuffer(),y}function _raycastFirst(u,p,g,_){const{float32Array:y,uint16Array:m,uint32Array:h}=BufferStack;let b=u*2;if(IS_LEAF(b,m)){const O=OFFSET(u,h),T=COUNT(b,m);return intersectClosestTri_indirect(p,g,_,O,T)}else{const O=SPLIT_AXIS(u,h),T=_xyzFields[O],M=_.direction[T]>=0;let F,B;M?(F=LEFT_NODE(u),B=RIGHT_NODE(u,h)):(F=RIGHT_NODE(u,h),B=LEFT_NODE(u));const w=intersectRay(F,y,_,_boxIntersection)?_raycastFirst(F,p,g,_):null;if(w){const L=w.point[T];if(M?L<=y[B+O]:L>=y[B+O+3])return w}const D=intersectRay(B,y,_,_boxIntersection)?_raycastFirst(B,p,g,_):null;return w&&D?w.distance<=D.distance?w:D:w||D||null}}const boundingBox$1=new Box3,triangle=new ExtendedTriangle,triangle2=new ExtendedTriangle,invertedMat=new Matrix4,obb$2=new OrientedBox,obb2$1=new OrientedBox;function intersectsGeometry_indirect(u,p,g,_){BufferStack.setBuffer(u._roots[p]);const y=_intersectsGeometry(0,u,g,_);return BufferStack.clearBuffer(),y}function _intersectsGeometry(u,p,g,_,y=null){const{float32Array:m,uint16Array:h,uint32Array:b}=BufferStack;let x=u*2;if(y===null&&(g.boundingBox||g.computeBoundingBox(),obb$2.set(g.boundingBox.min,g.boundingBox.max,_),y=obb$2),IS_LEAF(x,h)){const T=p.geometry,E=T.index,M=T.attributes.position,F=g.index,B=g.attributes.position,S=OFFSET(u,b),w=COUNT(x,h);if(invertedMat.copy(_).invert(),g.boundsTree)return arrayToBox(u,m,obb2$1),obb2$1.matrix.copy(invertedMat),obb2$1.needsUpdate=!0,g.boundsTree.shapecast({intersectsBounds:D=>obb2$1.intersectsBox(D),intersectsTriangle:D=>{D.a.applyMatrix4(_),D.b.applyMatrix4(_),D.c.applyMatrix4(_),D.needsUpdate=!0;for(let L=S,R=w+S;L<R;L++)if(setTriangle(triangle2,3*p.resolveTriangleIndex(L),E,M),triangle2.needsUpdate=!0,D.intersectsTriangle(triangle2))return!0;return!1}});for(let C=S,D=w+S;C<D;C++){const L=p.resolveTriangleIndex(C);setTriangle(triangle,3*L,E,M),triangle.a.applyMatrix4(invertedMat),triangle.b.applyMatrix4(invertedMat),triangle.c.applyMatrix4(invertedMat),triangle.needsUpdate=!0;for(let R=0,k=F.count;R<k;R+=3)if(setTriangle(triangle2,R,F,B),triangle2.needsUpdate=!0,triangle.intersectsTriangle(triangle2))return!0}}else{const T=u+8,E=b[u+6];return arrayToBox(T,m,boundingBox$1),!!(y.intersectsBox(boundingBox$1)&&_intersectsGeometry(T,p,g,_,y)||(arrayToBox(E,m,boundingBox$1),y.intersectsBox(boundingBox$1)&&_intersectsGeometry(E,p,g,_,y)))}}const tempMatrix$2=new Matrix4,obb$1=new OrientedBox,obb2=new OrientedBox,temp1=new Vector3,temp2=new Vector3,temp3=new Vector3,temp4=new Vector3;function closestPointToGeometry_indirect(u,p,g,_={},y={},m=0,h=1/0){p.boundingBox||p.computeBoundingBox(),obb$1.set(p.boundingBox.min,p.boundingBox.max,g),obb$1.needsUpdate=!0;const b=u.geometry,x=b.attributes.position,O=b.index,T=p.attributes.position,E=p.index,M=ExtendedTrianglePool.getPrimitive(),F=ExtendedTrianglePool.getPrimitive();let B=temp1,S=temp2,w=null,C=null;y&&(w=temp3,C=temp4);let D=1/0,L=null,R=null;return tempMatrix$2.copy(g).invert(),obb2.matrix.copy(tempMatrix$2),u.shapecast({boundsTraverseOrder:k=>obb$1.distanceToBox(k),intersectsBounds:(k,A,I)=>I<D&&I<h?(A&&(obb2.min.copy(k.min),obb2.max.copy(k.max),obb2.needsUpdate=!0),!0):!1,intersectsRange:(k,A)=>{if(p.boundsTree){const I=p.boundsTree;return I.shapecast({boundsTraverseOrder:P=>obb2.distanceToBox(P),intersectsBounds:(P,G,z)=>z<D&&z<h,intersectsRange:(P,G)=>{for(let z=P,j=P+G;z<j;z++){const N=I.resolveTriangleIndex(z);setTriangle(F,3*N,E,T),F.a.applyMatrix4(g),F.b.applyMatrix4(g),F.c.applyMatrix4(g),F.needsUpdate=!0;for(let W=k,U=k+A;W<U;W++){const H=u.resolveTriangleIndex(W);setTriangle(M,3*H,O,x),M.needsUpdate=!0;const $=M.distanceToTriangle(F,B,w);if($<D&&(S.copy(B),C&&C.copy(w),D=$,L=W,R=z),$<m)return!0}}}})}else{const I=getTriCount(p);for(let P=0,G=I;P<G;P++){setTriangle(F,3*P,E,T),F.a.applyMatrix4(g),F.b.applyMatrix4(g),F.c.applyMatrix4(g),F.needsUpdate=!0;for(let z=k,j=k+A;z<j;z++){const N=u.resolveTriangleIndex(z);setTriangle(M,3*N,O,x),M.needsUpdate=!0;const W=M.distanceToTriangle(F,B,w);if(W<D&&(S.copy(B),C&&C.copy(w),D=W,L=z,R=P),W<m)return!0}}}}}),ExtendedTrianglePool.releasePrimitive(M),ExtendedTrianglePool.releasePrimitive(F),D===1/0?null:(_.point?_.point.copy(S):_.point=S.clone(),_.distance=D,_.faceIndex=L,y&&(y.point?y.point.copy(C):y.point=C.clone(),y.point.applyMatrix4(tempMatrix$2),S.applyMatrix4(tempMatrix$2),y.distance=S.sub(y.point).length(),y.faceIndex=R),_)}const tempMatrix$1=new Matrix4,aabb=new Box3,aabb2=new Box3;function bvhcast_indirect(u,p,g,_){let{intersectsRanges:y,intersectsTriangles:m}=_;const h=u.geometry.index,b=u.geometry.attributes.position,x=p.geometry.index,O=p.geometry.attributes.position;tempMatrix$1.copy(g).invert();const T=ExtendedTrianglePool.getPrimitive(),E=ExtendedTrianglePool.getPrimitive();if(m){const F=(B,S,w,C,D,L,R,k)=>{for(let A=w,I=w+C;A<I;A++){const P=p.resolveTriangleIndex(A);setTriangle(E,P*3,x,O),E.a.applyMatrix4(g),E.b.applyMatrix4(g),E.c.applyMatrix4(g),E.needsUpdate=!0;for(let G=B,z=B+S;G<z;G++){const j=u.resolveTriangleIndex(G);if(setTriangle(T,j*3,h,b),T.needsUpdate=!0,m(T,E,G,A,D,L,R,k))return!0}}return!1};if(y){const B=y;y=function(S,w,C,D,L,R,k,A){return B(S,w,C,D,L,R,k,A)?!0:F(S,w,C,D,L,R,k,A)}}else y=F}p.getBoundingBox(aabb2),aabb2.applyMatrix4(g);const M=u.shapecast({intersectsBounds:F=>aabb2.intersectsBox(F),intersectsRange:(F,B,S,w,C,D)=>(aabb.copy(D),aabb.applyMatrix4(tempMatrix$1),p.shapecast({intersectsBounds:L=>aabb.intersectsBox(L),intersectsRange:(L,R,k,A,I)=>y(F,B,L,R,w,C,A,I)}))});return ExtendedTrianglePool.releasePrimitive(T),ExtendedTrianglePool.releasePrimitive(E),M}function isSharedArrayBufferSupported(){return typeof SharedArrayBuffer<"u"}const obb=new OrientedBox,tempBox=new Box3;class MeshBVH{static serialize(p,g={}){g={cloneBuffers:!0,...g};const _=p.geometry,y=p._roots,m=p._indirectBuffer,h=_.getIndex();let b;return g.cloneBuffers?b={roots:y.map(x=>x.slice()),index:h.array.slice(),indirectBuffer:m?m.slice():null}:b={roots:y,index:h.array,indirectBuffer:m},b}static deserialize(p,g,_={}){_={setIndex:!0,indirect:Boolean(p.indirectBuffer),..._};const{index:y,roots:m,indirectBuffer:h}=p,b=new MeshBVH(g,{..._,[SKIP_GENERATION]:!0});if(b._roots=m,b._indirectBuffer=h||null,_.setIndex){const x=g.getIndex();if(x===null){const O=new BufferAttribute(p.index,1,!1);g.setIndex(O)}else x.array!==y&&(x.array.set(y),x.needsUpdate=!0)}return b}get indirect(){return!!this._indirectBuffer}constructor(p,g={}){if(p.isBufferGeometry){if(p.index&&p.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.")}else throw new Error("MeshBVH: Only BufferGeometries are supported.");if(g=Object.assign({strategy:CENTER,maxDepth:40,maxLeafTris:10,verbose:!0,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,indirect:!1,[SKIP_GENERATION]:!1},g),g.useSharedArrayBuffer&&!isSharedArrayBufferSupported())throw new Error("MeshBVH: SharedArrayBuffer is not available.");this.geometry=p,this._roots=null,this._indirectBuffer=null,g[SKIP_GENERATION]||(buildPackedTree(this,g),!p.boundingBox&&g.setBoundingBox&&(p.boundingBox=this.getBoundingBox(new Box3)));const{_indirectBuffer:_}=this;this.resolveTriangleIndex=g.indirect?y=>_[y]:y=>y}refit(p=null){return(this.indirect?refit_indirect:refit)(this,p)}traverse(p,g=0){const _=this._roots[g],y=new Uint32Array(_),m=new Uint16Array(_);h(0);function h(b,x=0){const O=b*2,T=m[O+15]===IS_LEAFNODE_FLAG;if(T){const E=y[b+6],M=m[O+14];p(x,T,new Float32Array(_,b*4,6),E,M)}else{const E=b+BYTES_PER_NODE/4,M=y[b+6],F=y[b+7];p(x,T,new Float32Array(_,b*4,6),F)||(h(E,x+1),h(M,x+1))}}}raycast(p,g=FrontSide){const _=this._roots,y=this.geometry,m=[],h=g.isMaterial,b=Array.isArray(g),x=y.groups,O=h?g.side:g,T=this.indirect?raycast_indirect:raycast;for(let E=0,M=_.length;E<M;E++){const F=b?g[x[E].materialIndex].side:O,B=m.length;if(T(this,E,F,p,m),b){const S=x[E].materialIndex;for(let w=B,C=m.length;w<C;w++)m[w].face.materialIndex=S}}return m}raycastFirst(p,g=FrontSide){const _=this._roots,y=this.geometry,m=g.isMaterial,h=Array.isArray(g);let b=null;const x=y.groups,O=m?g.side:g,T=this.indirect?raycastFirst_indirect:raycastFirst;for(let E=0,M=_.length;E<M;E++){const F=h?g[x[E].materialIndex].side:O,B=T(this,E,F,p);B!=null&&(b==null||B.distance<b.distance)&&(b=B,h&&(B.face.materialIndex=x[E].materialIndex))}return b}intersectsGeometry(p,g){let _=!1;const y=this._roots,m=this.indirect?intersectsGeometry_indirect:intersectsGeometry;for(let h=0,b=y.length;h<b&&(_=m(this,h,p,g),!_);h++);return _}shapecast(p){const g=ExtendedTrianglePool.getPrimitive(),_=this.indirect?iterateOverTriangles_indirect:iterateOverTriangles;let{boundsTraverseOrder:y,intersectsBounds:m,intersectsRange:h,intersectsTriangle:b}=p;if(h&&b){const E=h;h=(M,F,B,S,w)=>E(M,F,B,S,w)?!0:_(M,F,this,b,B,S,g)}else h||(b?h=(E,M,F,B)=>_(E,M,this,b,F,B,g):h=(E,M,F)=>F);let x=!1,O=0;const T=this._roots;for(let E=0,M=T.length;E<M;E++){const F=T[E];if(x=shapecast(this,E,m,h,y,O),x)break;O+=F.byteLength}return ExtendedTrianglePool.releasePrimitive(g),x}bvhcast(p,g,_){return(this.indirect?bvhcast_indirect:bvhcast)(this,p,g,_)}intersectsBox(p,g){return obb.set(p.min,p.max,g),obb.needsUpdate=!0,this.shapecast({intersectsBounds:_=>obb.intersectsBox(_),intersectsTriangle:_=>obb.intersectsTriangle(_)})}intersectsSphere(p){return this.shapecast({intersectsBounds:g=>p.intersectsBox(g),intersectsTriangle:g=>g.intersectsSphere(p)})}closestPointToGeometry(p,g,_={},y={},m=0,h=1/0){return(this.indirect?closestPointToGeometry_indirect:closestPointToGeometry)(this,p,g,_,y,m,h)}closestPointToPoint(p,g={},_=0,y=1/0){return closestPointToPoint(this,p,g,_,y)}getBoundingBox(p){return p.makeEmpty(),this._roots.forEach(_=>{arrayToBox(0,new Float32Array(_),tempBox),p.union(tempBox)}),p}}function convertRaycastIntersect(u,p,g){return u===null||(u.point.applyMatrix4(p.matrixWorld),u.distance=u.point.distanceTo(g.ray.origin),u.object=p,u.distance<g.near||u.distance>g.far)?null:u}const ray$2=new Ray,tmpInverseMatrix=new Matrix4,origMeshRaycastFunc=Mesh.prototype.raycast;function acceleratedRaycast(u,p){if(this.geometry.boundsTree){if(this.material===void 0)return;tmpInverseMatrix.copy(this.matrixWorld).invert(),ray$2.copy(u.ray).applyMatrix4(tmpInverseMatrix);const g=this.geometry.boundsTree;if(u.firstHitOnly===!0){const _=convertRaycastIntersect(g.raycastFirst(ray$2,this.material),this,u);_&&p.push(_)}else{const _=g.raycast(ray$2,this.material);for(let y=0,m=_.length;y<m;y++){const h=convertRaycastIntersect(_[y],this,u);h&&p.push(h)}}}else origMeshRaycastFunc.call(this,u,p)}function computeBoundsTree(u){return this.boundsTree=new MeshBVH(this,u),this.boundsTree}function disposeBoundsTree(){this.boundsTree=null}function countToStringFormat(u){switch(u){case 1:return"R";case 2:return"RG";case 3:return"RGBA";case 4:return"RGBA"}throw new Error}function countToFormat(u){switch(u){case 1:return RedFormat;case 2:return RGFormat;case 3:return RGBAFormat;case 4:return RGBAFormat}}function countToIntFormat(u){switch(u){case 1:return RedIntegerFormat;case 2:return RGIntegerFormat;case 3:return RGBAIntegerFormat;case 4:return RGBAIntegerFormat}}class VertexAttributeTexture extends DataTexture{constructor(){super(),this.minFilter=NearestFilter,this.magFilter=NearestFilter,this.generateMipmaps=!1,this.overrideItemSize=null,this._forcedType=null}updateFrom(p){const g=this.overrideItemSize,_=p.itemSize,y=p.count;if(g!==null){if(_*y%g!==0)throw new Error("VertexAttributeTexture: overrideItemSize must divide evenly into buffer length.");p.itemSize=g,p.count=y*_/g}const m=p.itemSize,h=p.count,b=p.normalized,x=p.array.constructor,O=x.BYTES_PER_ELEMENT;let T=this._forcedType,E=m;if(T===null)switch(x){case Float32Array:T=FloatType;break;case Uint8Array:case Uint16Array:case Uint32Array:T=UnsignedIntType;break;case Int8Array:case Int16Array:case Int32Array:T=IntType;break}let M,F,B,S,w=countToStringFormat(m);switch(T){case FloatType:B=1,F=countToFormat(m),b&&O===1?(S=x,w+="8",x===Uint8Array?M=UnsignedByteType:(M=ByteType,w+="_SNORM")):(S=Float32Array,w+="32F",M=FloatType);break;case IntType:w+=O*8+"I",B=b?Math.pow(2,x.BYTES_PER_ELEMENT*8-1):1,F=countToIntFormat(m),O===1?(S=Int8Array,M=ByteType):O===2?(S=Int16Array,M=ShortType):(S=Int32Array,M=IntType);break;case UnsignedIntType:w+=O*8+"UI",B=b?Math.pow(2,x.BYTES_PER_ELEMENT*8-1):1,F=countToIntFormat(m),O===1?(S=Uint8Array,M=UnsignedByteType):O===2?(S=Uint16Array,M=UnsignedShortType):(S=Uint32Array,M=UnsignedIntType);break}E===3&&(F===RGBAFormat||F===RGBAIntegerFormat)&&(E=4);const C=Math.ceil(Math.sqrt(h)),D=E*C*C,L=new S(D),R=p.normalized;p.normalized=!1;for(let k=0;k<h;k++){const A=E*k;L[A]=p.getX(k)/B,m>=2&&(L[A+1]=p.getY(k)/B),m>=3&&(L[A+2]=p.getZ(k)/B,E===4&&(L[A+3]=1)),m>=4&&(L[A+3]=p.getW(k)/B)}p.normalized=R,this.internalFormat=w,this.format=F,this.type=M,this.image.width=C,this.image.height=C,this.image.data=L,this.needsUpdate=!0,this.dispose(),p.itemSize=_,p.count=y}}class UIntVertexAttributeTexture extends VertexAttributeTexture{constructor(){super(),this._forcedType=UnsignedIntType}}class FloatVertexAttributeTexture extends VertexAttributeTexture{constructor(){super(),this._forcedType=FloatType}}class MeshBVHUniformStruct{constructor(){this.index=new UIntVertexAttributeTexture,this.position=new FloatVertexAttributeTexture,this.bvhBounds=new DataTexture,this.bvhContents=new DataTexture,this._cachedIndexAttr=null,this.index.overrideItemSize=3}updateFrom(p){const{geometry:g}=p;if(bvhToTextures(p,this.bvhBounds,this.bvhContents),this.position.updateFrom(g.attributes.position),p.indirect){const _=p._indirectBuffer;if(this._cachedIndexAttr===null||this._cachedIndexAttr.count!==_.length)if(g.index)this._cachedIndexAttr=g.index.clone();else{const y=getIndexArray(getVertexCount(g));this._cachedIndexAttr=new BufferAttribute(y,1,!1)}dereferenceIndex(g,_,this._cachedIndexAttr),this.index.updateFrom(this._cachedIndexAttr)}else this.index.updateFrom(g.index)}dispose(){const{index:p,position:g,bvhBounds:_,bvhContents:y}=this;p&&p.dispose(),g&&g.dispose(),_&&_.dispose(),y&&y.dispose()}}function dereferenceIndex(u,p,g){const _=g.array,y=u.index?u.index.array:null;for(let m=0,h=p.length;m<h;m++){const b=3*m,x=3*p[m];for(let O=0;O<3;O++)_[b+O]=y?y[x+O]:x+O}}function bvhToTextures(u,p,g){const _=u._roots;if(_.length!==1)throw new Error("MeshBVHUniformStruct: Multi-root BVHs not supported.");const y=_[0],m=new Uint16Array(y),h=new Uint32Array(y),b=new Float32Array(y),x=y.byteLength/BYTES_PER_NODE,O=2*Math.ceil(Math.sqrt(x/2)),T=new Float32Array(4*O*O),E=Math.ceil(Math.sqrt(x)),M=new Uint32Array(2*E*E);for(let F=0;F<x;F++){const B=F*BYTES_PER_NODE/4,S=B*2,w=B;for(let C=0;C<3;C++)T[8*F+0+C]=b[w+0+C],T[8*F+4+C]=b[w+3+C];if(IS_LEAF(S,m)){const C=COUNT(S,m),D=OFFSET(B,h),L=4294901760|C;M[F*2+0]=L,M[F*2+1]=D}else{const C=4*RIGHT_NODE(B,h)/BYTES_PER_NODE,D=SPLIT_AXIS(B,h);M[F*2+0]=D,M[F*2+1]=C}}p.image.data=T,p.image.width=O,p.image.height=O,p.format=RGBAFormat,p.type=FloatType,p.internalFormat="RGBA32F",p.minFilter=NearestFilter,p.magFilter=NearestFilter,p.generateMipmaps=!1,p.needsUpdate=!0,p.dispose(),g.image.data=M,g.image.width=E,g.image.height=E,g.format=RGIntegerFormat,g.type=UnsignedIntType,g.internalFormat="RG32UI",g.minFilter=NearestFilter,g.magFilter=NearestFilter,g.generateMipmaps=!1,g.needsUpdate=!0,g.dispose()}const shaderStructs=`
#ifndef TRI_INTERSECT_EPSILON
#define TRI_INTERSECT_EPSILON 1e-5
#endif

#ifndef INFINITY
#define INFINITY 1e20
#endif

struct BVH {

	usampler2D index;
	sampler2D position;

	sampler2D bvhBounds;
	usampler2D bvhContents;

};
`,shaderIntersectFunction=`

// Utilities
uvec4 uTexelFetch1D( usampler2D tex, uint index ) {

	uint width = uint( textureSize( tex, 0 ).x );
	uvec2 uv;
	uv.x = index % width;
	uv.y = index / width;

	return texelFetch( tex, ivec2( uv ), 0 );

}

ivec4 iTexelFetch1D( isampler2D tex, uint index ) {

	uint width = uint( textureSize( tex, 0 ).x );
	uvec2 uv;
	uv.x = index % width;
	uv.y = index / width;

	return texelFetch( tex, ivec2( uv ), 0 );

}

vec4 texelFetch1D( sampler2D tex, uint index ) {

	uint width = uint( textureSize( tex, 0 ).x );
	uvec2 uv;
	uv.x = index % width;
	uv.y = index / width;

	return texelFetch( tex, ivec2( uv ), 0 );

}

vec4 textureSampleBarycoord( sampler2D tex, vec3 barycoord, uvec3 faceIndices ) {

	return
		barycoord.x * texelFetch1D( tex, faceIndices.x ) +
		barycoord.y * texelFetch1D( tex, faceIndices.y ) +
		barycoord.z * texelFetch1D( tex, faceIndices.z );

}

void ndcToCameraRay(
	vec2 coord, mat4 cameraWorld, mat4 invProjectionMatrix,
	out vec3 rayOrigin, out vec3 rayDirection
) {

	// get camera look direction and near plane for camera clipping
	vec4 lookDirection = cameraWorld * vec4( 0.0, 0.0, - 1.0, 0.0 );
	vec4 nearVector = invProjectionMatrix * vec4( 0.0, 0.0, - 1.0, 1.0 );
	float near = abs( nearVector.z / nearVector.w );

	// get the camera direction and position from camera matrices
	vec4 origin = cameraWorld * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec4 direction = invProjectionMatrix * vec4( coord, 0.5, 1.0 );
	direction /= direction.w;
	direction = cameraWorld * direction - origin;

	// slide the origin along the ray until it sits at the near clip plane position
	origin.xyz += direction.xyz * near / dot( direction, lookDirection );

	rayOrigin = origin.xyz;
	rayDirection = direction.xyz;

}

// Raycasting
float intersectsBounds( vec3 rayOrigin, vec3 rayDirection, vec3 boundsMin, vec3 boundsMax ) {

	// https://www.reddit.com/r/opengl/comments/8ntzz5/fast_glsl_ray_box_intersection/
	// https://tavianator.com/2011/ray_box.html
	vec3 invDir = 1.0 / rayDirection;

	// find intersection distances for each plane
	vec3 tMinPlane = invDir * ( boundsMin - rayOrigin );
	vec3 tMaxPlane = invDir * ( boundsMax - rayOrigin );

	// get the min and max distances from each intersection
	vec3 tMinHit = min( tMaxPlane, tMinPlane );
	vec3 tMaxHit = max( tMaxPlane, tMinPlane );

	// get the furthest hit distance
	vec2 t = max( tMinHit.xx, tMinHit.yz );
	float t0 = max( t.x, t.y );

	// get the minimum hit distance
	t = min( tMaxHit.xx, tMaxHit.yz );
	float t1 = min( t.x, t.y );

	// set distance to 0.0 if the ray starts inside the box
	float dist = max( t0, 0.0 );

	return t1 >= dist ? dist : INFINITY;

}

bool intersectsTriangle(
	vec3 rayOrigin, vec3 rayDirection, vec3 a, vec3 b, vec3 c,
	out vec3 barycoord, out vec3 norm, out float dist, out float side
) {

	// https://stackoverflow.com/questions/42740765/intersection-between-line-and-triangle-in-3d
	vec3 edge1 = b - a;
	vec3 edge2 = c - a;
	norm = cross( edge1, edge2 );

	float det = - dot( rayDirection, norm );
	float invdet = 1.0 / det;

	vec3 AO = rayOrigin - a;
	vec3 DAO = cross( AO, rayDirection );

	vec4 uvt;
	uvt.x = dot( edge2, DAO ) * invdet;
	uvt.y = - dot( edge1, DAO ) * invdet;
	uvt.z = dot( AO, norm ) * invdet;
	uvt.w = 1.0 - uvt.x - uvt.y;

	// set the hit information
	barycoord = uvt.wxy; // arranged in A, B, C order
	dist = uvt.z;
	side = sign( det );
	norm = side * normalize( norm );

	// add an epsilon to avoid misses between triangles
	uvt += vec4( TRI_INTERSECT_EPSILON );

	return all( greaterThanEqual( uvt, vec4( 0.0 ) ) );

}

bool intersectTriangles(
	BVH bvh, vec3 rayOrigin, vec3 rayDirection, uint offset, uint count,
	inout float minDistance, inout uvec4 faceIndices, inout vec3 faceNormal, inout vec3 barycoord,
	inout float side, inout float dist
) {

	bool found = false;
	vec3 localBarycoord, localNormal;
	float localDist, localSide;
	for ( uint i = offset, l = offset + count; i < l; i ++ ) {

		uvec3 indices = uTexelFetch1D( bvh.index, i ).xyz;
		vec3 a = texelFetch1D( bvh.position, indices.x ).rgb;
		vec3 b = texelFetch1D( bvh.position, indices.y ).rgb;
		vec3 c = texelFetch1D( bvh.position, indices.z ).rgb;

		if (
			intersectsTriangle( rayOrigin, rayDirection, a, b, c, localBarycoord, localNormal, localDist, localSide )
			&& localDist < minDistance
		) {

			found = true;
			minDistance = localDist;

			faceIndices = uvec4( indices.xyz, i );
			faceNormal = localNormal;

			side = localSide;
			barycoord = localBarycoord;
			dist = localDist;

		}

	}

	return found;

}

float intersectsBVHNodeBounds( vec3 rayOrigin, vec3 rayDirection, BVH bvh, uint currNodeIndex ) {

	vec3 boundsMin = texelFetch1D( bvh.bvhBounds, currNodeIndex * 2u + 0u ).xyz;
	vec3 boundsMax = texelFetch1D( bvh.bvhBounds, currNodeIndex * 2u + 1u ).xyz;
	return intersectsBounds( rayOrigin, rayDirection, boundsMin, boundsMax );

}

bool bvhIntersectFirstHit(
	BVH bvh, vec3 rayOrigin, vec3 rayDirection,

	// output variables
	inout uvec4 faceIndices, inout vec3 faceNormal, inout vec3 barycoord,
	inout float side, inout float dist
) {

	// stack needs to be twice as long as the deepest tree we expect because
	// we push both the left and right child onto the stack every traversal
	int ptr = 0;
	uint stack[ 60 ];
	stack[ 0 ] = 0u;

	float triangleDistance = 1e20;
	bool found = false;
	while ( ptr > - 1 && ptr < 60 ) {

		uint currNodeIndex = stack[ ptr ];
		ptr --;

		// check if we intersect the current bounds
		float boundsHitDistance = intersectsBVHNodeBounds( rayOrigin, rayDirection, bvh, currNodeIndex );
		if ( boundsHitDistance == INFINITY || boundsHitDistance > triangleDistance ) {

			continue;

		}

		uvec2 boundsInfo = uTexelFetch1D( bvh.bvhContents, currNodeIndex ).xy;
		bool isLeaf = bool( boundsInfo.x & 0xffff0000u );

		if ( isLeaf ) {

			uint count = boundsInfo.x & 0x0000ffffu;
			uint offset = boundsInfo.y;

			found = intersectTriangles(
				bvh, rayOrigin, rayDirection, offset, count, triangleDistance,
				faceIndices, faceNormal, barycoord, side, dist
			) || found;

		} else {

			uint leftIndex = currNodeIndex + 1u;
			uint splitAxis = boundsInfo.x & 0x0000ffffu;
			uint rightIndex = boundsInfo.y;

			bool leftToRight = rayDirection[ splitAxis ] >= 0.0;
			uint c1 = leftToRight ? leftIndex : rightIndex;
			uint c2 = leftToRight ? rightIndex : leftIndex;

			// set c2 in the stack so we traverse it later. We need to keep track of a pointer in
			// the stack while we traverse. The second pointer added is the one that will be
			// traversed first
			ptr ++;
			stack[ ptr ] = c2;

			ptr ++;
			stack[ ptr ] = c1;

		}

	}

	return found;

}
`,isMesh=u=>u.isMesh;function useBVH(u,p){p={strategy:SAH,verbose:!1,setBoundingBox:!0,maxDepth:40,maxLeafTris:10,...p},reactExports.useEffect(()=>{if(u.current){u.current.raycast=acceleratedRaycast;const g=u.current.geometry;return g.computeBoundsTree=computeBoundsTree,g.disposeBoundsTree=disposeBoundsTree,g.computeBoundsTree(p),()=>{g.boundsTree&&g.disposeBoundsTree()}}},[u,JSON.stringify(p)])}const Bvh=reactExports.forwardRef(({enabled:u=!0,firstHitOnly:p=!1,children:g,strategy:_=SAH,verbose:y=!1,setBoundingBox:m=!0,maxDepth:h=40,maxLeafTris:b=10,...x},O)=>{const T=reactExports.useRef(null),E=useThree(M=>M.raycaster);return reactExports.useImperativeHandle(O,()=>T.current,[]),reactExports.useEffect(()=>{if(u){const M={strategy:_,verbose:y,setBoundingBox:m,maxDepth:h,maxLeafTris:b},F=T.current;return E.firstHitOnly=p,F.traverse(B=>{isMesh(B)&&!B.geometry.boundsTree&&B.raycast===Mesh.prototype.raycast&&(B.raycast=acceleratedRaycast,B.geometry.computeBoundsTree=computeBoundsTree,B.geometry.disposeBoundsTree=disposeBoundsTree,B.geometry.computeBoundsTree(M))}),()=>{delete E.firstHitOnly,F.traverse(B=>{isMesh(B)&&B.geometry.boundsTree&&(B.geometry.disposeBoundsTree(),B.raycast=Mesh.prototype.raycast)})}}}),reactExports.createElement("group",_extends({ref:T},x),g)});function useContextBridge(...u){const p=reactExports.useRef([]);return p.current=u.map(g=>reactExports.useContext(g)),reactExports.useMemo(()=>({children:g})=>u.reduceRight((_,y,m)=>reactExports.createElement(y.Provider,{value:p.current[m],children:_}),g),[])}function useIntersect(u){const p=reactExports.useRef(null),g=reactExports.useRef(!1),_=reactExports.useRef(!1),y=reactExports.useRef(u);return reactExports.useLayoutEffect(()=>void(y.current=u),[u]),reactExports.useEffect(()=>{const m=p.current;if(m){const h=addEffect(()=>(g.current=!1,!0)),b=m.onBeforeRender;m.onBeforeRender=()=>g.current=!0;const x=addAfterEffect(()=>(g.current!==_.current&&(y.current==null||y.current(_.current=g.current)),!0));return()=>{m.onBeforeRender=b,h(),x()}}},[]),p}const worldposReplace=`
#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
  vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );
  #ifdef BOX_PROJECTED_ENV_MAP
    vWorldPosition = worldPosition.xyz;
  #endif
#endif
`,boxProjectDefinitions=`
#ifdef BOX_PROJECTED_ENV_MAP
  uniform vec3 envMapSize;
  uniform vec3 envMapPosition;
  varying vec3 vWorldPosition;
    
  vec3 parallaxCorrectNormal( vec3 v, vec3 cubeSize, vec3 cubePos ) {
    vec3 nDir = normalize( v );
    vec3 rbmax = ( .5 * cubeSize + cubePos - vWorldPosition ) / nDir;
    vec3 rbmin = ( -.5 * cubeSize + cubePos - vWorldPosition ) / nDir;
    vec3 rbminmax;
    rbminmax.x = ( nDir.x > 0. ) ? rbmax.x : rbmin.x;
    rbminmax.y = ( nDir.y > 0. ) ? rbmax.y : rbmin.y;
    rbminmax.z = ( nDir.z > 0. ) ? rbmax.z : rbmin.z;
    float correction = min( min( rbminmax.x, rbminmax.y ), rbminmax.z );
    vec3 boxIntersection = vWorldPosition + nDir * correction;    
    return boxIntersection - cubePos;
  }
#endif
`,getIBLIrradiance_patch=`
#ifdef BOX_PROJECTED_ENV_MAP
  worldNormal = parallaxCorrectNormal( worldNormal, envMapSize, envMapPosition );
#endif
`,getIBLRadiance_patch=`
#ifdef BOX_PROJECTED_ENV_MAP
  reflectVec = parallaxCorrectNormal( reflectVec, envMapSize, envMapPosition );
#endif
`;function boxProjectedEnvMap(u,p,g){u.defines.BOX_PROJECTED_ENV_MAP=!0,u.uniforms.envMapPosition={value:p},u.uniforms.envMapSize={value:g},u.vertexShader=`
  varying vec3 vWorldPosition;
  ${u.vertexShader.replace("#include <worldpos_vertex>",worldposReplace)}`,u.fragmentShader=`
    ${boxProjectDefinitions}
    ${u.fragmentShader.replace("#include <envmap_physical_pars_fragment>",ShaderChunk.envmap_physical_pars_fragment).replace("vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );",`vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
         ${getIBLIrradiance_patch}
         `).replace("reflectVec = inverseTransformDirection( reflectVec, viewMatrix );",`reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
         ${getIBLRadiance_patch}
        `)}`}function useBoxProjectedEnv(u=new Vector3,p=new Vector3){const[g]=reactExports.useState(()=>({position:new Vector3,size:new Vector3}));applyProps(g,{position:u,size:p});const _=reactExports.useRef(null),y=reactExports.useMemo(()=>({ref:_,onBeforeCompile:m=>boxProjectedEnvMap(m,g.position,g.size),customProgramCacheKey:()=>JSON.stringify(g.position.toArray())+JSON.stringify(g.size.toArray())}),[...g.position.toArray(),...g.size.toArray()]);return reactExports.useLayoutEffect(()=>void(_.current.needsUpdate=!0),[g]),y}const boundingBox=new Box3,boundingBoxSize=new Vector3,BBAnchor=({anchor:u,...p})=>{const g=reactExports.useRef(null),_=reactExports.useRef(null);return reactExports.useEffect(()=>{var y,m;(y=g.current)!=null&&(m=y.parent)!=null&&m.parent&&(_.current=g.current.parent,g.current.parent.parent.add(g.current))},[]),useFrame(()=>{_.current&&(boundingBox.setFromObject(_.current),boundingBox.getSize(boundingBoxSize),g.current.position.set(_.current.position.x+boundingBoxSize.x*u[0]/2,_.current.position.y+boundingBoxSize.y*u[1]/2,_.current.position.z+boundingBoxSize.z*u[2]/2))}),reactExports.createElement("group",_extends({ref:g},p))};function smoothAverage(u,p,g=.9){return p*g+u*(1-g)}const easeCircleOut=u=>Math.sqrt(1-Math.pow(u-1,2));class TrailTexture{constructor({size:p=256,maxAge:g=750,radius:_=.3,intensity:y=.2,interpolate:m=0,smoothing:h=0,minForce:b=.3,blend:x="screen",ease:O=easeCircleOut}={}){this.size=p,this.maxAge=g,this.radius=_,this.intensity=y,this.ease=O,this.interpolate=m,this.smoothing=h,this.minForce=b,this.blend=x,this.trail=[],this.force=0,this.initTexture()}initTexture(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=this.size,this.ctx=this.canvas.getContext("2d"),this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.texture=new Texture(this.canvas),this.canvas.id="touchTexture",this.canvas.style.width=this.canvas.style.height=`${this.canvas.width}px`}update(p){this.clear(),this.trail.forEach((g,_)=>{g.age+=p*1e3,g.age>this.maxAge&&this.trail.splice(_,1)}),this.trail.length||(this.force=0),this.trail.forEach(g=>{this.drawTouch(g)}),this.texture.needsUpdate=!0}clear(){this.ctx.globalCompositeOperation="source-over",this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}addTouch(p){const g=this.trail[this.trail.length-1];if(g){const _=g.x-p.x,y=g.y-p.y,m=_*_+y*y,h=Math.max(this.minForce,Math.min(m*1e4,1));if(this.force=smoothAverage(h,this.force,this.smoothing),this.interpolate){const b=Math.ceil(m/Math.pow(this.radius*.5/this.interpolate,2));if(b>1)for(let x=1;x<b;x++)this.trail.push({x:g.x-_/b*x,y:g.y-y/b*x,age:0,force:h})}}this.trail.push({x:p.x,y:p.y,age:0,force:this.force})}drawTouch(p){const g={x:p.x*this.size,y:(1-p.y)*this.size};let _=1;p.age<this.maxAge*.3?_=this.ease(p.age/(this.maxAge*.3)):_=this.ease(1-(p.age-this.maxAge*.3)/(this.maxAge*.7)),_*=p.force,this.ctx.globalCompositeOperation=this.blend;const y=this.size*this.radius*_,m=this.ctx.createRadialGradient(g.x,g.y,Math.max(0,y*.25),g.x,g.y,Math.max(0,y));m.addColorStop(0,`rgba(255, 255, 255, ${this.intensity})`),m.addColorStop(1,"rgba(0, 0, 0, 0.0)"),this.ctx.beginPath(),this.ctx.fillStyle=m,this.ctx.arc(g.x,g.y,Math.max(0,y),0,Math.PI*2),this.ctx.fill()}}function useTrailTexture(u={}){const{size:p,maxAge:g,radius:_,intensity:y,interpolate:m,smoothing:h,minForce:b,blend:x,ease:O}=u,T=reactExports.useMemo(()=>new TrailTexture(u),[p,g,_,y,m,h,b,x,O]);useFrame((M,F)=>void T.update(F));const E=reactExports.useCallback(M=>T.addTouch(M.uv),[T]);return[T.texture,E]}const Center=reactExports.forwardRef(function u({children:p,disable:g,disableX:_,disableY:y,disableZ:m,left:h,right:b,top:x,bottom:O,front:T,back:E,onCentered:M,precise:F=!0,cacheKey:B=0,...S},w){const C=reactExports.useRef(null),D=reactExports.useRef(null),L=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{D.current.matrixWorld.identity();const R=new Box3().setFromObject(L.current,F),k=new Vector3,A=new Sphere,I=R.max.x-R.min.x,P=R.max.y-R.min.y,G=R.max.z-R.min.z;R.getCenter(k),R.getBoundingSphere(A);const z=x?P/2:O?-P/2:0,j=h?-I/2:b?I/2:0,N=T?G/2:E?-G/2:0;D.current.position.set(g||_?0:-k.x+j,g||y?0:-k.y+z,g||m?0:-k.z+N),typeof M<"u"&&M({parent:C.current.parent,container:C.current,width:I,height:P,depth:G,boundingBox:R,boundingSphere:A,center:k,verticalAlignment:z,horizontalAlignment:j,depthAlignment:N})},[B,M,x,h,T,g,_,y,m,F,b,O,E]),reactExports.useImperativeHandle(w,()=>C.current,[]),reactExports.createElement("group",_extends({ref:C},S),reactExports.createElement("group",{ref:D},reactExports.createElement("group",{ref:L},p)))}),Example=reactExports.forwardRef(({font:u,color:p="#cbcbcb",bevelSize:g=.04,debug:_=!1,children:y,...m},h)=>{const[b,x]=reactExports.useState(0),O=reactExports.useCallback((M=1)=>x(b+M),[b]),T=reactExports.useCallback((M=1)=>x(b-M),[b]),E=reactExports.useMemo(()=>({incr:O,decr:T}),[O,T]);return reactExports.useImperativeHandle(h,()=>E,[E]),reactExports.createElement("group",m,reactExports.createElement(reactExports.Suspense,{fallback:null},reactExports.createElement(Center,{top:!0,cacheKey:JSON.stringify({counter:b,font:u})},reactExports.createElement(Text3D,{bevelEnabled:!0,bevelSize:g,font:u},_?reactExports.createElement("meshNormalMaterial",{wireframe:!0}):reactExports.createElement("meshStandardMaterial",{color:p}),b))),y)}),SpriteAnimator=({startFrame:u,endFrame:p,fps:g,frameName:_,textureDataURL:y,textureImageURL:m,loop:h,numberOfFrames:b,autoPlay:x,animationNames:O,onStart:T,onEnd:E,onLoopEnd:M,onFrame:F,play:B,pause:S,flipX:w,alphaTest:C,children:D,...L},R)=>{useThree(te=>te.viewport);const k=reactExports.useRef(null),[A,I]=reactExports.useState(!1),P=reactExports.useRef(),G=reactExports.useRef(),z=reactExports.useRef(window.performance.now()),j=reactExports.useRef(),N=reactExports.useRef(u||0),W=reactExports.useRef(_||""),U=1e3/(g||30),[H,$]=reactExports.useState(new Texture),V=reactExports.useRef(0),[J,Y]=reactExports.useState([1,1,1]),q=w?-1:1;function K(te,ne,ae){const oe=new TextureLoader,pe=fetch(te).then(le=>le.json()),de=new Promise(le=>{oe.load(ne,le)});Promise.all([pe,de]).then(le=>{ae(le[0],le[1])})}const Q=(te,ne)=>{const ae=ne/te;return G.current.scale.set(1,ae,1),[1,ae,1]};reactExports.useEffect(()=>{if(y&&m)K(y,m,X);else if(m){const te=new TextureLoader;new Promise(ne=>{te.load(m,ne)}).then(ne=>{X(null,ne)})}},[]),reactExports.useLayoutEffect(()=>{Z()},[H]),reactExports.useEffect(()=>{},[S]),reactExports.useEffect(()=>{W.current!==_&&_&&(N.current=0,W.current=_)},[_]);const X=(te,ne)=>{if(te===null){if(ne&&b){const ae=ne.image.width,oe=ne.image.height,pe=ae/b,de=oe;if(j.current=ne,V.current=b,k.current={frames:[],meta:{version:"1.0",size:{w:ae,h:oe},scale:"1"}},parseInt(pe.toString(),10)===pe)for(let le=0;le<b;le++)k.current.frames.push({frame:{x:le*pe,y:0,w:pe,h:de},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:pe,h:de},sourceSize:{w:pe,h:oe}})}}else if(ne){k.current=te,k.current.frames=Array.isArray(te.frames)?te.frames:re(),V.current=Array.isArray(te.frames)?te.frames.length:Object.keys(te.frames).length,j.current=ne;const{w:ae,h:oe}=ie(te.frames).sourceSize,pe=Q(ae,oe);Y(pe),P.current&&(P.current.map=ne)}ne.premultiplyAlpha=!1,$(ne)},re=()=>{const te={},ne=k.current,ae=O;if(ae)for(let oe=0;oe<ae.length;oe++){te[ae[oe]]=[];for(let pe in ne.frames){const de=ne.frames[pe],le=de.frame,ue=le.x,me=le.y,ge=le.w,fe=le.h,se=de.sourceSize.w,ce=de.sourceSize.h;typeof pe=="string"&&pe.toLowerCase().indexOf(ae[oe].toLowerCase())!==-1&&te[ae[oe]].push({x:ue,y:me,w:ge,h:fe,frame:le,sourceSize:{w:se,h:ce}})}}return te},Z=()=>{if(!k.current)return;const{meta:{size:te},frames:ne}=k.current,{w:ae,h:oe}=Array.isArray(ne)?ne[0].sourceSize:_?ne[_]?ne[_][0].sourceSize:{w:0,h:0}:{w:0,h:0};P.current.map.wrapS=P.current.map.wrapT=RepeatWrapping,P.current.map.center.set(0,0),P.current.map.repeat.set(1*q/(te.w/ae),1/(te.h/oe));const de=1/((te.h-1)/oe);P.current.map.offset.x=0,P.current.map.offset.y=1-de,I(!0),T&&T({currentFrameName:_,currentFrame:N.current})},ee=()=>{const te=window.performance.now(),ne=te-z.current,{meta:{size:ae},frames:oe}=k.current,{w:pe,h:de}=ie(oe).sourceSize,le=Array.isArray(oe)?oe:_?oe[_]:[];let ue=0,me=0;const ge=p||le.length-1;if(N.current>ge&&(N.current=h?u??0:0,h?M==null||M({currentFrameName:_,currentFrame:N.current}):E==null||E({currentFrameName:_,currentFrame:N.current}),!h)||ne<=U)return;z.current=te-ne%U,Q(pe,de);const fe=(ae.w-1)/pe,se=(ae.h-1)/de,{frame:{x:ce,y:ve},sourceSize:{w:ye,h:xe}}=le[N.current],_e=1/fe,be=1/se;ue=q>0?_e*(ce/ye):_e*(ce/ye)-P.current.map.repeat.x,me=Math.abs(1-be)-be*(ve/xe),P.current.map.offset.x=ue,P.current.map.offset.y=me,N.current+=1};useFrame((te,ne)=>{var ae,oe;!((ae=k.current)!=null&&ae.frames)||!((oe=P.current)!=null&&oe.map)||S||(x||B)&&(ee(),F&&F({currentFrameName:W.current,currentFrame:N.current}))});const ie=te=>{if(Array.isArray(te))return te[0];if(typeof te=="object"&&te!==null){const ne=Object.keys(te);return te[ne[0]][0]}else return{w:0,h:0}};return reactExports.createElement("group",L,reactExports.createElement(reactExports.Suspense,{fallback:null},reactExports.createElement("sprite",{ref:G,scale:J},reactExports.createElement("spriteMaterial",{toneMapped:!1,ref:P,map:H,transparent:!0,alphaTest:C??0}))),D)},CurveModifier=reactExports.forwardRef(({children:u,curve:p},g)=>{const[_]=reactExports.useState(()=>new Scene),[y,m]=reactExports.useState(),h=reactExports.useRef();return reactExports.useEffect(()=>{h.current=new Flow(_.children[0]),m(h.current.object3D)},[u]),reactExports.useEffect(()=>{var b;p&&((b=h.current)==null||b.updateCurve(0,p))},[p]),reactExports.useImperativeHandle(g,()=>({moveAlongCurve:b=>{var x;(x=h.current)==null||x.moveAlongCurve(b)}})),reactExports.createElement(reactExports.Fragment,null,createPortal(u,_),y&&reactExports.createElement("primitive",{object:y}))});class ConvolutionMaterial extends ShaderMaterial{constructor(p=new Vector2){super({uniforms:{inputBuffer:new Uniform(null),depthBuffer:new Uniform(null),resolution:new Uniform(new Vector2),texelSize:new Uniform(new Vector2),halfTexelSize:new Uniform(new Vector2),kernel:new Uniform(0),scale:new Uniform(1),cameraNear:new Uniform(0),cameraFar:new Uniform(1),minDepthThreshold:new Uniform(0),maxDepthThreshold:new Uniform(1),depthScale:new Uniform(0),depthToBlurRatioBias:new Uniform(.25)},fragmentShader:`#include <common>
        #include <dithering_pars_fragment>      
        uniform sampler2D inputBuffer;
        uniform sampler2D depthBuffer;
        uniform float cameraNear;
        uniform float cameraFar;
        uniform float minDepthThreshold;
        uniform float maxDepthThreshold;
        uniform float depthScale;
        uniform float depthToBlurRatioBias;
        varying vec2 vUv;
        varying vec2 vUv0;
        varying vec2 vUv1;
        varying vec2 vUv2;
        varying vec2 vUv3;

        void main() {
          float depthFactor = 0.0;
          
          #ifdef USE_DEPTH
            vec4 depth = texture2D(depthBuffer, vUv);
            depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));
            depthFactor *= depthScale;
            depthFactor = max(0.0, min(1.0, depthFactor + 0.25));
          #endif
          
          vec4 sum = texture2D(inputBuffer, mix(vUv0, vUv, depthFactor));
          sum += texture2D(inputBuffer, mix(vUv1, vUv, depthFactor));
          sum += texture2D(inputBuffer, mix(vUv2, vUv, depthFactor));
          sum += texture2D(inputBuffer, mix(vUv3, vUv, depthFactor));
          gl_FragColor = sum * 0.25 ;

          #include <dithering_fragment>
          #include <tonemapping_fragment>
          #include <encodings_fragment>
        }`,vertexShader:`uniform vec2 texelSize;
        uniform vec2 halfTexelSize;
        uniform float kernel;
        uniform float scale;
        varying vec2 vUv;
        varying vec2 vUv0;
        varying vec2 vUv1;
        varying vec2 vUv2;
        varying vec2 vUv3;

        void main() {
          vec2 uv = position.xy * 0.5 + 0.5;
          vUv = uv;

          vec2 dUv = (texelSize * vec2(kernel) + halfTexelSize) * scale;
          vUv0 = vec2(uv.x - dUv.x, uv.y + dUv.y);
          vUv1 = vec2(uv.x + dUv.x, uv.y + dUv.y);
          vUv2 = vec2(uv.x + dUv.x, uv.y - dUv.y);
          vUv3 = vec2(uv.x - dUv.x, uv.y - dUv.y);

          gl_Position = vec4(position.xy, 1.0, 1.0);
        }`,blending:NoBlending,depthWrite:!1,depthTest:!1}),this.toneMapped=!1,this.setTexelSize(p.x,p.y),this.kernel=new Float32Array([0,1,2,2,3])}setTexelSize(p,g){this.uniforms.texelSize.value.set(p,g),this.uniforms.halfTexelSize.value.set(p,g).multiplyScalar(.5)}setResolution(p){this.uniforms.resolution.value.copy(p)}}class BlurPass{constructor({gl:p,resolution:g,width:_=500,height:y=500,minDepthThreshold:m=0,maxDepthThreshold:h=1,depthScale:b=0,depthToBlurRatioBias:x=.25}){this.renderToScreen=!1,this.renderTargetA=new WebGLRenderTarget(g,g,{minFilter:LinearFilter,magFilter:LinearFilter,stencilBuffer:!1,depthBuffer:!1,type:HalfFloatType}),this.renderTargetB=this.renderTargetA.clone(),this.convolutionMaterial=new ConvolutionMaterial,this.convolutionMaterial.setTexelSize(1/_,1/y),this.convolutionMaterial.setResolution(new Vector2(_,y)),this.scene=new Scene,this.camera=new Camera,this.convolutionMaterial.uniforms.minDepthThreshold.value=m,this.convolutionMaterial.uniforms.maxDepthThreshold.value=h,this.convolutionMaterial.uniforms.depthScale.value=b,this.convolutionMaterial.uniforms.depthToBlurRatioBias.value=x,this.convolutionMaterial.defines.USE_DEPTH=b>0;const O=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),T=new Float32Array([0,0,2,0,0,2]),E=new BufferGeometry;E.setAttribute("position",new BufferAttribute(O,3)),E.setAttribute("uv",new BufferAttribute(T,2)),this.screen=new Mesh(E,this.convolutionMaterial),this.screen.frustumCulled=!1,this.scene.add(this.screen)}render(p,g,_){const y=this.scene,m=this.camera,h=this.renderTargetA,b=this.renderTargetB;let x=this.convolutionMaterial,O=x.uniforms;O.depthBuffer.value=g.depthTexture;const T=x.kernel;let E=g,M,F,B;for(F=0,B=T.length-1;F<B;++F)M=F&1?b:h,O.kernel.value=T[F],O.inputBuffer.value=E.texture,p.setRenderTarget(M),p.render(y,m),E=M;O.kernel.value=T[F],O.inputBuffer.value=E.texture,p.setRenderTarget(this.renderToScreen?null:_),p.render(y,m)}}let MeshReflectorMaterial$1=class extends MeshStandardMaterial{constructor(p={}){super(p),this._tDepth={value:null},this._distortionMap={value:null},this._tDiffuse={value:null},this._tDiffuseBlur={value:null},this._textureMatrix={value:null},this._hasBlur={value:!1},this._mirror={value:0},this._mixBlur={value:0},this._blurStrength={value:.5},this._minDepthThreshold={value:.9},this._maxDepthThreshold={value:1},this._depthScale={value:0},this._depthToBlurRatioBias={value:.25},this._distortion={value:1},this._mixContrast={value:1},this.setValues(p)}onBeforeCompile(p){var g;(g=p.defines)!=null&&g.USE_UV||(p.defines.USE_UV=""),p.uniforms.hasBlur=this._hasBlur,p.uniforms.tDiffuse=this._tDiffuse,p.uniforms.tDepth=this._tDepth,p.uniforms.distortionMap=this._distortionMap,p.uniforms.tDiffuseBlur=this._tDiffuseBlur,p.uniforms.textureMatrix=this._textureMatrix,p.uniforms.mirror=this._mirror,p.uniforms.mixBlur=this._mixBlur,p.uniforms.mixStrength=this._blurStrength,p.uniforms.minDepthThreshold=this._minDepthThreshold,p.uniforms.maxDepthThreshold=this._maxDepthThreshold,p.uniforms.depthScale=this._depthScale,p.uniforms.depthToBlurRatioBias=this._depthToBlurRatioBias,p.uniforms.distortion=this._distortion,p.uniforms.mixContrast=this._mixContrast,p.vertexShader=`
        uniform mat4 textureMatrix;
        varying vec4 my_vUv;
      ${p.vertexShader}`,p.vertexShader=p.vertexShader.replace("#include <project_vertex>",`#include <project_vertex>
        my_vUv = textureMatrix * vec4( position, 1.0 );
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );`),p.fragmentShader=`
        uniform sampler2D tDiffuse;
        uniform sampler2D tDiffuseBlur;
        uniform sampler2D tDepth;
        uniform sampler2D distortionMap;
        uniform float distortion;
        uniform float cameraNear;
			  uniform float cameraFar;
        uniform bool hasBlur;
        uniform float mixBlur;
        uniform float mirror;
        uniform float mixStrength;
        uniform float minDepthThreshold;
        uniform float maxDepthThreshold;
        uniform float mixContrast;
        uniform float depthScale;
        uniform float depthToBlurRatioBias;
        varying vec4 my_vUv;
        ${p.fragmentShader}`,p.fragmentShader=p.fragmentShader.replace("#include <emissivemap_fragment>",`#include <emissivemap_fragment>

      float distortionFactor = 0.0;
      #ifdef USE_DISTORTION
        distortionFactor = texture2D(distortionMap, vUv).r * distortion;
      #endif

      vec4 new_vUv = my_vUv;
      new_vUv.x += distortionFactor;
      new_vUv.y += distortionFactor;

      vec4 base = texture2DProj(tDiffuse, new_vUv);
      vec4 blur = texture2DProj(tDiffuseBlur, new_vUv);

      vec4 merge = base;

      #ifdef USE_NORMALMAP
        vec2 normal_uv = vec2(0.0);
        vec4 normalColor = texture2D(normalMap, vUv * normalScale);
        vec3 my_normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );
        vec3 coord = new_vUv.xyz / new_vUv.w;
        normal_uv = coord.xy + coord.z * my_normal.xz * 0.05;
        vec4 base_normal = texture2D(tDiffuse, normal_uv);
        vec4 blur_normal = texture2D(tDiffuseBlur, normal_uv);
        merge = base_normal;
        blur = blur_normal;
      #endif

      float depthFactor = 0.0001;
      float blurFactor = 0.0;

      #ifdef USE_DEPTH
        vec4 depth = texture2DProj(tDepth, new_vUv);
        depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));
        depthFactor *= depthScale;
        depthFactor = max(0.0001, min(1.0, depthFactor));

        #ifdef USE_BLUR
          blur = blur * min(1.0, depthFactor + depthToBlurRatioBias);
          merge = merge * min(1.0, depthFactor + 0.5);
        #else
          merge = merge * depthFactor;
        #endif

      #endif

      float reflectorRoughnessFactor = roughness;
      #ifdef USE_ROUGHNESSMAP
        vec4 reflectorTexelRoughness = texture2D( roughnessMap, vUv );
        reflectorRoughnessFactor *= reflectorTexelRoughness.g;
      #endif

      #ifdef USE_BLUR
        blurFactor = min(1.0, mixBlur * reflectorRoughnessFactor);
        merge = mix(merge, blur, blurFactor);
      #endif

      vec4 newMerge = vec4(0.0, 0.0, 0.0, 1.0);
      newMerge.r = (merge.r - 0.5) * mixContrast + 0.5;
      newMerge.g = (merge.g - 0.5) * mixContrast + 0.5;
      newMerge.b = (merge.b - 0.5) * mixContrast + 0.5;

      diffuseColor.rgb = diffuseColor.rgb * ((1.0 - min(1.0, mirror)) + newMerge.rgb * mixStrength);
      `)}get tDiffuse(){return this._tDiffuse.value}set tDiffuse(p){this._tDiffuse.value=p}get tDepth(){return this._tDepth.value}set tDepth(p){this._tDepth.value=p}get distortionMap(){return this._distortionMap.value}set distortionMap(p){this._distortionMap.value=p}get tDiffuseBlur(){return this._tDiffuseBlur.value}set tDiffuseBlur(p){this._tDiffuseBlur.value=p}get textureMatrix(){return this._textureMatrix.value}set textureMatrix(p){this._textureMatrix.value=p}get hasBlur(){return this._hasBlur.value}set hasBlur(p){this._hasBlur.value=p}get mirror(){return this._mirror.value}set mirror(p){this._mirror.value=p}get mixBlur(){return this._mixBlur.value}set mixBlur(p){this._mixBlur.value=p}get mixStrength(){return this._blurStrength.value}set mixStrength(p){this._blurStrength.value=p}get minDepthThreshold(){return this._minDepthThreshold.value}set minDepthThreshold(p){this._minDepthThreshold.value=p}get maxDepthThreshold(){return this._maxDepthThreshold.value}set maxDepthThreshold(p){this._maxDepthThreshold.value=p}get depthScale(){return this._depthScale.value}set depthScale(p){this._depthScale.value=p}get depthToBlurRatioBias(){return this._depthToBlurRatioBias.value}set depthToBlurRatioBias(p){this._depthToBlurRatioBias.value=p}get distortion(){return this._distortion.value}set distortion(p){this._distortion.value=p}get mixContrast(){return this._mixContrast.value}set mixContrast(p){this._mixContrast.value=p}};extend({MeshReflectorMaterialImpl:MeshReflectorMaterial$1});const MeshReflectorMaterial=reactExports.forwardRef(({mixBlur:u=0,mixStrength:p=1,resolution:g=256,blur:_=[0,0],minDepthThreshold:y=.9,maxDepthThreshold:m=1,depthScale:h=0,depthToBlurRatioBias:b=.25,mirror:x=0,distortion:O=1,mixContrast:T=1,distortionMap:E,reflectorOffset:M=0,...F},B)=>{const S=useThree(({gl:K})=>K),w=useThree(({camera:K})=>K),C=useThree(({scene:K})=>K);_=Array.isArray(_)?_:[_,_];const D=_[0]+_[1]>0,L=reactExports.useRef(null),[R]=reactExports.useState(()=>new Plane),[k]=reactExports.useState(()=>new Vector3),[A]=reactExports.useState(()=>new Vector3),[I]=reactExports.useState(()=>new Vector3),[P]=reactExports.useState(()=>new Matrix4),[G]=reactExports.useState(()=>new Vector3(0,0,-1)),[z]=reactExports.useState(()=>new Vector4),[j]=reactExports.useState(()=>new Vector3),[N]=reactExports.useState(()=>new Vector3),[W]=reactExports.useState(()=>new Vector4),[U]=reactExports.useState(()=>new Matrix4),[H]=reactExports.useState(()=>new PerspectiveCamera$1),$=reactExports.useCallback(()=>{var K;const Q=L.current.parent||((K=L.current)==null?void 0:K.__r3f.parent);if(!Q||(A.setFromMatrixPosition(Q.matrixWorld),I.setFromMatrixPosition(w.matrixWorld),P.extractRotation(Q.matrixWorld),k.set(0,0,1),k.applyMatrix4(P),A.addScaledVector(k,M),j.subVectors(A,I),j.dot(k)>0))return;j.reflect(k).negate(),j.add(A),P.extractRotation(w.matrixWorld),G.set(0,0,-1),G.applyMatrix4(P),G.add(I),N.subVectors(A,G),N.reflect(k).negate(),N.add(A),H.position.copy(j),H.up.set(0,1,0),H.up.applyMatrix4(P),H.up.reflect(k),H.lookAt(N),H.far=w.far,H.updateMatrixWorld(),H.projectionMatrix.copy(w.projectionMatrix),U.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),U.multiply(H.projectionMatrix),U.multiply(H.matrixWorldInverse),U.multiply(Q.matrixWorld),R.setFromNormalAndCoplanarPoint(k,A),R.applyMatrix4(H.matrixWorldInverse),z.set(R.normal.x,R.normal.y,R.normal.z,R.constant);const X=H.projectionMatrix;W.x=(Math.sign(z.x)+X.elements[8])/X.elements[0],W.y=(Math.sign(z.y)+X.elements[9])/X.elements[5],W.z=-1,W.w=(1+X.elements[10])/X.elements[14],z.multiplyScalar(2/z.dot(W)),X.elements[2]=z.x,X.elements[6]=z.y,X.elements[10]=z.z+1,X.elements[14]=z.w},[w,M]),[V,J,Y,q]=reactExports.useMemo(()=>{const K={minFilter:LinearFilter,magFilter:LinearFilter,type:HalfFloatType},Q=new WebGLRenderTarget(g,g,K);Q.depthBuffer=!0,Q.depthTexture=new DepthTexture(g,g),Q.depthTexture.format=DepthFormat,Q.depthTexture.type=UnsignedShortType;const X=new WebGLRenderTarget(g,g,K),re=new BlurPass({gl:S,resolution:g,width:_[0],height:_[1],minDepthThreshold:y,maxDepthThreshold:m,depthScale:h,depthToBlurRatioBias:b}),Z={mirror:x,textureMatrix:U,mixBlur:u,tDiffuse:Q.texture,tDepth:Q.depthTexture,tDiffuseBlur:X.texture,hasBlur:D,mixStrength:p,minDepthThreshold:y,maxDepthThreshold:m,depthScale:h,depthToBlurRatioBias:b,distortion:O,distortionMap:E,mixContrast:T,"defines-USE_BLUR":D?"":void 0,"defines-USE_DEPTH":h>0?"":void 0,"defines-USE_DISTORTION":E?"":void 0};return[Q,X,re,Z]},[S,_,U,g,x,D,u,p,y,m,h,b,O,E,T]);return useFrame(()=>{var K;const Q=L.current.parent||((K=L.current)==null?void 0:K.__r3f.parent);if(!Q)return;Q.visible=!1;const X=S.xr.enabled,re=S.shadowMap.autoUpdate;$(),S.xr.enabled=!1,S.shadowMap.autoUpdate=!1,S.setRenderTarget(V),S.state.buffers.depth.setMask(!0),S.autoClear||S.clear(),S.render(C,H),D&&Y.render(S,V,J),S.xr.enabled=X,S.shadowMap.autoUpdate=re,Q.visible=!0,S.setRenderTarget(null)}),reactExports.createElement("meshReflectorMaterialImpl",_extends({attach:"material",key:"key"+q["defines-USE_BLUR"]+q["defines-USE_DEPTH"]+q["defines-USE_DISTORTION"],ref:mergeRefs([L,B])},q,F))}),MeshRefractionMaterial$1=shaderMaterial({envMap:null,bounces:3,ior:2.4,correctMips:!0,aberrationStrength:.01,fresnel:0,bvh:new MeshBVHUniformStruct,color:new Color("white"),resolution:new Vector2,viewMatrixInverse:new Matrix4,projectionMatrixInverse:new Matrix4},`
  uniform mat4 viewMatrixInverse;

  varying vec3 vWorldPosition;  
  varying vec3 vNormal;
  varying mat4 vModelMatrixInverse;

  #ifdef USE_INSTANCING_COLOR
    varying vec3 vInstanceColor;
  #endif

  void main() {        
    vec4 transformedNormal = vec4(normal, 0.0);
    vec4 transformedPosition = vec4(position, 1.0);
    #ifdef USE_INSTANCING
      transformedNormal = instanceMatrix * transformedNormal;
      transformedPosition = instanceMatrix * transformedPosition;
    #endif

    #ifdef USE_INSTANCING
      vModelMatrixInverse = inverse(modelMatrix * instanceMatrix);
    #else
      vModelMatrixInverse = inverse(modelMatrix);
    #endif

    #ifdef USE_INSTANCING_COLOR
      vInstanceColor = instanceColor.rgb;
    #endif

    vWorldPosition = (modelMatrix * transformedPosition).xyz;
    vNormal = normalize((viewMatrixInverse * vec4(normalMatrix * transformedNormal.xyz, 0.0)).xyz);
    gl_Position = projectionMatrix * viewMatrix * modelMatrix * transformedPosition;
  }`,`
  #define ENVMAP_TYPE_CUBE_UV
  precision highp isampler2D;
  precision highp usampler2D;
  varying vec3 vWorldPosition;
  varying vec3 vNormal;
  varying mat4 vModelMatrixInverse;

  #ifdef USE_INSTANCING_COLOR
    varying vec3 vInstanceColor;
  #endif
    
  #ifdef ENVMAP_TYPE_CUBEM
    uniform samplerCube envMap;
  #else
    uniform sampler2D envMap;
  #endif
    
  uniform float bounces;
  ${shaderStructs}
  ${shaderIntersectFunction}
  uniform BVH bvh;
  uniform float ior;
  uniform bool correctMips;
  uniform vec2 resolution;
  uniform float fresnel;
  uniform mat4 modelMatrix;
  uniform mat4 projectionMatrixInverse;
  uniform mat4 viewMatrixInverse;
  uniform float aberrationStrength;
  uniform vec3 color;
  
  float fresnelFunc(vec3 viewDirection, vec3 worldNormal) {
    return pow( 1.0 + dot( viewDirection, worldNormal), 10.0 );
  }
    
  vec3 totalInternalReflection(vec3 ro, vec3 rd, vec3 normal, float ior, mat4 modelMatrixInverse) {
    vec3 rayOrigin = ro;
    vec3 rayDirection = rd;
    rayDirection = refract(rayDirection, normal, 1.0 / ior);
    rayOrigin = vWorldPosition + rayDirection * 0.001;
    rayOrigin = (modelMatrixInverse * vec4(rayOrigin, 1.0)).xyz;
    rayDirection = normalize((modelMatrixInverse * vec4(rayDirection, 0.0)).xyz);
    for(float i = 0.0; i < bounces; i++) {
      uvec4 faceIndices = uvec4( 0u );
      vec3 faceNormal = vec3( 0.0, 0.0, 1.0 );
      vec3 barycoord = vec3( 0.0 );
      float side = 1.0;
      float dist = 0.0;
      bvhIntersectFirstHit( bvh, rayOrigin, rayDirection, faceIndices, faceNormal, barycoord, side, dist );
      vec3 hitPos = rayOrigin + rayDirection * max(dist - 0.001, 0.0);      
      vec3 tempDir = refract(rayDirection, faceNormal, ior);
      if (length(tempDir) != 0.0) {
        rayDirection = tempDir;
        break;
      }
      rayDirection = reflect(rayDirection, faceNormal);
      rayOrigin = hitPos + rayDirection * 0.01;
    }
    rayDirection = normalize((modelMatrix * vec4(rayDirection, 0.0)).xyz);
    return rayDirection;
  }
    
  #include <common>
  #include <cube_uv_reflection_fragment>
    
  #ifdef ENVMAP_TYPE_CUBEM
    vec4 textureGradient(samplerCube envMap, vec3 rayDirection, vec3 directionCamPerfect) {
      return textureGrad(envMap, rayDirection, dFdx(correctMips ? directionCamPerfect: rayDirection), dFdy(correctMips ? directionCamPerfect: rayDirection));
    }
  #else
    vec4 textureGradient(sampler2D envMap, vec3 rayDirection, vec3 directionCamPerfect) {
      vec2 uvv = equirectUv( rayDirection );
      vec2 smoothUv = equirectUv( directionCamPerfect );
      return textureGrad(envMap, uvv, dFdx(correctMips ? smoothUv : uvv), dFdy(correctMips ? smoothUv : uvv));
    }
  #endif
  
  void main() {
    vec2 uv = gl_FragCoord.xy / resolution;
    vec3 directionCamPerfect = (projectionMatrixInverse * vec4(uv * 2.0 - 1.0, 0.0, 1.0)).xyz;
    directionCamPerfect = (viewMatrixInverse * vec4(directionCamPerfect, 0.0)).xyz;
    directionCamPerfect = normalize(directionCamPerfect);
    vec3 normal = vNormal;
    vec3 rayOrigin = cameraPosition;
    vec3 rayDirection = normalize(vWorldPosition - cameraPosition);
    vec3 finalColor;
    #ifdef CHROMATIC_ABERRATIONS
      vec3 rayDirectionG = totalInternalReflection(rayOrigin, rayDirection, normal, max(ior, 1.0), vModelMatrixInverse);
      #ifdef FAST_CHROMA 
        vec3 rayDirectionR = normalize(rayDirectionG + 1.0 * vec3(aberrationStrength / 2.0));
        vec3 rayDirectionB = normalize(rayDirectionG - 1.0 * vec3(aberrationStrength / 2.0));
      #else
        vec3 rayDirectionR = totalInternalReflection(rayOrigin, rayDirection, normal, max(ior * (1.0 - aberrationStrength), 1.0), vModelMatrixInverse);
        vec3 rayDirectionB = totalInternalReflection(rayOrigin, rayDirection, normal, max(ior * (1.0 + aberrationStrength), 1.0), vModelMatrixInverse);
      #endif
      float finalColorR = textureGradient(envMap, rayDirectionR, directionCamPerfect).r;
      float finalColorG = textureGradient(envMap, rayDirectionG, directionCamPerfect).g;
      float finalColorB = textureGradient(envMap, rayDirectionB, directionCamPerfect).b;
      finalColor = vec3(finalColorR, finalColorG, finalColorB);
    #else
      rayDirection = totalInternalReflection(rayOrigin, rayDirection, normal, max(ior, 1.0), vModelMatrixInverse);
      finalColor = textureGradient(envMap, rayDirection, directionCamPerfect).rgb;    
    #endif

    finalColor *= color;
    #ifdef USE_INSTANCING_COLOR
      finalColor *= vInstanceColor;
    #endif

    vec3 viewDirection = normalize(vWorldPosition - cameraPosition);
    float nFresnel = fresnelFunc(viewDirection, normal) * fresnel;
    gl_FragColor = vec4(mix(finalColor, vec3(1.0), nFresnel), 1.0);      
    #include <tonemapping_fragment>
    #include <encodings_fragment>
  }`),isCubeTexture=u=>u&&u.isCubeTexture;function MeshRefractionMaterial({aberrationStrength:u=0,fastChroma:p=!0,envMap:g,..._}){extend({MeshRefractionMaterial:MeshRefractionMaterial$1});const y=reactExports.useRef(),{size:m}=useThree(),h=reactExports.useMemo(()=>{var b,x;const O={},T=isCubeTexture(g),M=((b=T?(x=g.image[0])==null?void 0:x.width:g.image.width)!==null&&b!==void 0?b:1024)/4,F=Math.floor(Math.log2(M)),B=Math.pow(2,F),S=3*Math.max(B,16*7),w=4*B;return T&&(O.ENVMAP_TYPE_CUBEM=""),O.CUBEUV_TEXEL_WIDTH=`${1/S}`,O.CUBEUV_TEXEL_HEIGHT=`${1/w}`,O.CUBEUV_MAX_MIP=`${F}.0`,u>0&&(O.CHROMATIC_ABERRATIONS=""),p&&(O.FAST_CHROMA=""),O},[u,p]);return reactExports.useLayoutEffect(()=>{var b,x,O;const T=(b=y.current)==null||(x=b.__r3f)==null||(O=x.parent)==null?void 0:O.geometry;T&&(y.current.bvh=new MeshBVHUniformStruct,y.current.bvh.updateFrom(new MeshBVH(T.clone().toNonIndexed(),{lazyGeneration:!1,strategy:SAH})))},[]),useFrame(({camera:b})=>{y.current.viewMatrixInverse=b.matrixWorld,y.current.projectionMatrixInverse=b.projectionMatrixInverse}),reactExports.createElement("meshRefractionMaterial",_extends({key:JSON.stringify(h),defines:h,ref:y,resolution:[m.width,m.height],aberrationStrength:u,envMap:g},_))}const DiscardMaterial=shaderMaterial({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }");class MeshTransmissionMaterialImpl extends MeshPhysicalMaterial{constructor(p=6,g=!1){super(),this.uniforms={chromaticAberration:{value:.05},transmission:{value:0},_transmission:{value:1},transmissionMap:{value:null},roughness:{value:0},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:1/0},attenuationColor:{value:new Color("white")},anisotropicBlur:{value:.1},time:{value:0},distortion:{value:0},distortionScale:{value:.5},temporalDistortion:{value:0},buffer:{value:null}},this.onBeforeCompile=_=>{_.uniforms={..._.uniforms,...this.uniforms},g?_.defines.USE_SAMPLER="":_.defines.USE_TRANSMISSION="",_.fragmentShader=`
      uniform float chromaticAberration;         
      uniform float anisotropicBlur;      
      uniform float time;
      uniform float distortion;
      uniform float distortionScale;
      uniform float temporalDistortion;
      uniform sampler2D buffer;

      vec3 random3(vec3 c) {
        float j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));
        vec3 r;
        r.z = fract(512.0*j);
        j *= .125;
        r.x = fract(512.0*j);
        j *= .125;
        r.y = fract(512.0*j);
        return r-0.5;
      }

      float seed = 0.0;
      uint hash( uint x ) {
        x += ( x << 10u );
        x ^= ( x >>  6u );
        x += ( x <<  3u );
        x ^= ( x >> 11u );
        x += ( x << 15u );
        return x;
      }

      // Compound versions of the hashing algorithm I whipped together.
      uint hash( uvec2 v ) { return hash( v.x ^ hash(v.y)                         ); }
      uint hash( uvec3 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z)             ); }
      uint hash( uvec4 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z) ^ hash(v.w) ); }

      // Construct a float with half-open range [0:1] using low 23 bits.
      // All zeroes yields 0.0, all ones yields the next smallest representable value below 1.0.
      float floatConstruct( uint m ) {
        const uint ieeeMantissa = 0x007FFFFFu; // binary32 mantissa bitmask
        const uint ieeeOne      = 0x3F800000u; // 1.0 in IEEE binary32
        m &= ieeeMantissa;                     // Keep only mantissa bits (fractional part)
        m |= ieeeOne;                          // Add fractional part to 1.0
        float  f = uintBitsToFloat( m );       // Range [1:2]
        return f - 1.0;                        // Range [0:1]
      }

      // Pseudo-random value in half-open range [0:1].
      float random( float x ) { return floatConstruct(hash(floatBitsToUint(x))); }
      float random( vec2  v ) { return floatConstruct(hash(floatBitsToUint(v))); }
      float random( vec3  v ) { return floatConstruct(hash(floatBitsToUint(v))); }
      float random( vec4  v ) { return floatConstruct(hash(floatBitsToUint(v))); }

      float rand() {
        float result = random(vec3(gl_FragCoord.xy, seed));
        seed += 1.0;
        return result;
      }

      const float F3 =  0.3333333;
      const float G3 =  0.1666667;

      float snoise(vec3 p) {
        vec3 s = floor(p + dot(p, vec3(F3)));
        vec3 x = p - s + dot(s, vec3(G3));
        vec3 e = step(vec3(0.0), x - x.yzx);
        vec3 i1 = e*(1.0 - e.zxy);
        vec3 i2 = 1.0 - e.zxy*(1.0 - e);
        vec3 x1 = x - i1 + G3;
        vec3 x2 = x - i2 + 2.0*G3;
        vec3 x3 = x - 1.0 + 3.0*G3;
        vec4 w, d;
        w.x = dot(x, x);
        w.y = dot(x1, x1);
        w.z = dot(x2, x2);
        w.w = dot(x3, x3);
        w = max(0.6 - w, 0.0);
        d.x = dot(random3(s), x);
        d.y = dot(random3(s + i1), x1);
        d.z = dot(random3(s + i2), x2);
        d.w = dot(random3(s + 1.0), x3);
        w *= w;
        w *= w;
        d *= w;
        return dot(d, vec4(52.0));
      }

      float snoiseFractal(vec3 m) {
        return 0.5333333* snoise(m)
              +0.2666667* snoise(2.0*m)
              +0.1333333* snoise(4.0*m)
              +0.0666667* snoise(8.0*m);
      }
`+_.fragmentShader,_.fragmentShader=_.fragmentShader.replace("#include <transmission_pars_fragment>",`
        #ifdef USE_TRANSMISSION
          // Transmission code is based on glTF-Sampler-Viewer
          // https://github.com/KhronosGroup/glTF-Sample-Viewer
          uniform float _transmission;
          uniform float thickness;
          uniform float attenuationDistance;
          uniform vec3 attenuationColor;
          #ifdef USE_TRANSMISSIONMAP
            uniform sampler2D transmissionMap;
          #endif
          #ifdef USE_THICKNESSMAP
            uniform sampler2D thicknessMap;
          #endif
          uniform vec2 transmissionSamplerSize;
          uniform sampler2D transmissionSamplerMap;
          uniform mat4 modelMatrix;
          uniform mat4 projectionMatrix;
          varying vec3 vWorldPosition;
          vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
            // Direction of refracted light.
            vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
            // Compute rotation-independant scaling of the model matrix.
            vec3 modelScale;
            modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
            modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
            modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
            // The thickness is specified in local space.
            return normalize( refractionVector ) * thickness * modelScale;
          }
          float applyIorToRoughness( const in float roughness, const in float ior ) {
            // Scale roughness with IOR so that an IOR of 1.0 results in no microfacet refraction and
            // an IOR of 1.5 results in the default amount of microfacet refraction.
            return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
          }
          vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
            float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );            
            #ifdef USE_SAMPLER
              #ifdef texture2DLodEXT
                return texture2DLodEXT(transmissionSamplerMap, fragCoord.xy, framebufferLod);
              #else
                return texture2D(transmissionSamplerMap, fragCoord.xy, framebufferLod);
              #endif
            #else
              return texture2D(buffer, fragCoord.xy);
            #endif
          }
          vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
            if ( isinf( attenuationDistance ) ) {
              // Attenuation distance is +, i.e. the transmitted color is not attenuated at all.
              return radiance;
            } else {
              // Compute light attenuation using Beer's law.
              vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
              vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance ); // Beer's law
              return transmittance * radiance;
            }
          }
          vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
            const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
            const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
            const in vec3 attenuationColor, const in float attenuationDistance ) {
            vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
            vec3 refractedRayExit = position + transmissionRay;
            // Project refracted vector on the framebuffer, while mapping to normalized device coordinates.
            vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
            vec2 refractionCoords = ndcPos.xy / ndcPos.w;
            refractionCoords += 1.0;
            refractionCoords /= 2.0;
            // Sample framebuffer to get pixel the refracted ray hits.
            vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
            vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
            // Get the specular component.
            vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
            return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
          }
        #endif
`),_.fragmentShader=_.fragmentShader.replace("#include <transmission_fragment>",`  
        // Improve the refraction to use the world pos
        material.transmission = _transmission;
        material.transmissionAlpha = 1.0;
        material.thickness = thickness;
        material.attenuationDistance = attenuationDistance;
        material.attenuationColor = attenuationColor;
        #ifdef USE_TRANSMISSIONMAP
          material.transmission *= texture2D( transmissionMap, vUv ).r;
        #endif
        #ifdef USE_THICKNESSMAP
          material.thickness *= texture2D( thicknessMap, vUv ).g;
        #endif
        
        vec3 pos = vWorldPosition;
        vec3 v = normalize( cameraPosition - pos );
        vec3 n = inverseTransformDirection( normal, viewMatrix );
        vec3 transmission = vec3(0.0);
        float transmissionR, transmissionB, transmissionG;
        float randomCoords = rand();
        float thickness_smear = thickness * max(pow(roughnessFactor, 0.33), anisotropicBlur);
        vec3 distortionNormal = vec3(0.0);
        vec3 temporalOffset = vec3(time, -time, -time) * temporalDistortion;
        if (distortion > 0.0) {
          distortionNormal = distortion * vec3(snoiseFractal(vec3((pos * distortionScale + temporalOffset))), snoiseFractal(vec3(pos.zxy * distortionScale - temporalOffset)), snoiseFractal(vec3(pos.yxz * distortionScale + temporalOffset)));
        }
        for (float i = 0.0; i < ${p}.0; i ++) {
          vec3 sampleNorm = normalize(n + roughnessFactor * roughnessFactor * 2.0 * normalize(vec3(rand() - 0.5, rand() - 0.5, rand() - 0.5)) * pow(rand(), 0.33) + distortionNormal);
          transmissionR = getIBLVolumeRefraction(
            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness  + thickness_smear * (i + randomCoords) / float(${p}),
            material.attenuationColor, material.attenuationDistance
          ).r;
          transmissionG = getIBLVolumeRefraction(
            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior  * (1.0 + chromaticAberration * (i + randomCoords) / float(${p})) , material.thickness + thickness_smear * (i + randomCoords) / float(${p}),
            material.attenuationColor, material.attenuationDistance
          ).g;
          transmissionB = getIBLVolumeRefraction(
            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior * (1.0 + 2.0 * chromaticAberration * (i + randomCoords) / float(${p})), material.thickness + thickness_smear * (i + randomCoords) / float(${p}),
            material.attenuationColor, material.attenuationDistance
          ).b;
          transmission.r += transmissionR;
          transmission.g += transmissionG;
          transmission.b += transmissionB;
        }
        transmission /= ${p}.0;
        totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
`)},Object.keys(this.uniforms).forEach(_=>Object.defineProperty(this,_,{get:()=>this.uniforms[_].value,set:y=>this.uniforms[_].value=y}))}}const MeshTransmissionMaterial=reactExports.forwardRef(({buffer:u,transmissionSampler:p=!1,backside:g=!1,side:_=FrontSide,transmission:y=1,thickness:m=0,backsideThickness:h=0,samples:b=10,resolution:x,backsideResolution:O,background:T,anisotropy:E,anisotropicBlur:M,...F},B)=>{extend({MeshTransmissionMaterial:MeshTransmissionMaterialImpl});const S=reactExports.useRef(null),[w]=reactExports.useState(()=>new DiscardMaterial),C=useFBO(O||x),D=useFBO(x);let L,R,k;return useFrame(A=>{S.current.time=A.clock.getElapsedTime(),S.current.buffer===D.texture&&!p&&(k=S.current.__r3f.parent,k&&(R=A.gl.toneMapping,L=A.scene.background,A.gl.toneMapping=NoToneMapping,T&&(A.scene.background=T),k.material=w,g&&(A.gl.setRenderTarget(C),A.gl.render(A.scene,A.camera),k.material=S.current,k.material.buffer=C.texture,k.material.thickness=h,k.material.side=BackSide),A.gl.setRenderTarget(D),A.gl.render(A.scene,A.camera),k.material.thickness=m,k.material.side=_,k.material.buffer=D.texture,A.scene.background=L,A.gl.setRenderTarget(null),k.material=S.current,A.gl.toneMapping=R))}),reactExports.useImperativeHandle(B,()=>S.current,[]),reactExports.createElement("meshTransmissionMaterial",_extends({args:[b,p],ref:S},F,{buffer:u||D.texture,_transmission:y,anisotropicBlur:M??E,transmission:p?y:0,thickness:m,side:_}))}),MeshDiscardMaterial=reactExports.forwardRef((u,p)=>(extend({DiscardMaterialImpl:DiscardMaterial}),reactExports.createElement("discardMaterialImpl",_extends({ref:p},u))));class PointMaterialImpl extends PointsMaterial{constructor(p){super(p),this.onBeforeCompile=(g,_)=>{const{isWebGL2:y}=_.capabilities;g.fragmentShader=g.fragmentShader.replace("#include <output_fragment>",`
        ${y?"#include <output_fragment>":`#extension GL_OES_standard_derivatives : enable
#include <output_fragment>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <encodings_fragment>
      `)}}}const PointMaterial=reactExports.forwardRef((u,p)=>{const[g]=reactExports.useState(()=>new PointMaterialImpl(null));return reactExports.createElement("primitive",_extends({},u,{object:g,ref:p,attach:"material"}))}),pcss=({focus:u=0,size:p=25,samples:g=10}={})=>`
#define PENUMBRA_FILTER_SIZE float(${p})
#define RGB_NOISE_FUNCTION(uv) (randRGB(uv))
vec3 randRGB(vec2 uv) {
  return vec3(
    fract(sin(dot(uv, vec2(12.75613, 38.12123))) * 13234.76575),
    fract(sin(dot(uv, vec2(19.45531, 58.46547))) * 43678.23431),
    fract(sin(dot(uv, vec2(23.67817, 78.23121))) * 93567.23423)
  );
}

vec3 lowPassRandRGB(vec2 uv) {
  // 3x3 convolution (average)
  // can be implemented as separable with an extra buffer for a total of 6 samples instead of 9
  vec3 result = vec3(0);
  result += RGB_NOISE_FUNCTION(uv + vec2(-1.0, -1.0));
  result += RGB_NOISE_FUNCTION(uv + vec2(-1.0,  0.0));
  result += RGB_NOISE_FUNCTION(uv + vec2(-1.0, +1.0));
  result += RGB_NOISE_FUNCTION(uv + vec2( 0.0, -1.0));
  result += RGB_NOISE_FUNCTION(uv + vec2( 0.0,  0.0));
  result += RGB_NOISE_FUNCTION(uv + vec2( 0.0, +1.0));
  result += RGB_NOISE_FUNCTION(uv + vec2(+1.0, -1.0));
  result += RGB_NOISE_FUNCTION(uv + vec2(+1.0,  0.0));
  result += RGB_NOISE_FUNCTION(uv + vec2(+1.0, +1.0));
  result *= 0.111111111; // 1.0 / 9.0
  return result;
}
vec3 highPassRandRGB(vec2 uv) {
  // by subtracting the low-pass signal from the original signal, we're being left with the high-pass signal
  // hp(x) = x - lp(x)
  return RGB_NOISE_FUNCTION(uv) - lowPassRandRGB(uv) + 0.5;
}


vec2 vogelDiskSample(int sampleIndex, int sampleCount, float angle) {
  const float goldenAngle = 2.399963f; // radians
  float r = sqrt(float(sampleIndex) + 0.5f) / sqrt(float(sampleCount));
  float theta = float(sampleIndex) * goldenAngle + angle;
  float sine = sin(theta);
  float cosine = cos(theta);
  return vec2(cosine, sine) * r;
}
float penumbraSize( const in float zReceiver, const in float zBlocker ) { // Parallel plane estimation
  return (zReceiver - zBlocker) / zBlocker;
}
float findBlocker(sampler2D shadowMap, vec2 uv, float compare, float angle) {
  float texelSize = 1.0 / float(textureSize(shadowMap, 0).x);
  float blockerDepthSum = float(${u});
  float blockers = 0.0;

  int j = 0;
  vec2 offset = vec2(0.);
  float depth = 0.;

  #pragma unroll_loop_start
  for(int i = 0; i < ${g}; i ++) {
    offset = (vogelDiskSample(j, ${g}, angle) * texelSize) * 2.0 * PENUMBRA_FILTER_SIZE;
    depth = unpackRGBAToDepth( texture2D( shadowMap, uv + offset));
    if (depth < compare) {
      blockerDepthSum += depth;
      blockers++;
    }
    j++;
  }
  #pragma unroll_loop_end

  if (blockers > 0.0) {
    return blockerDepthSum / blockers;
  }
  return -1.0;
}

        
float vogelFilter(sampler2D shadowMap, vec2 uv, float zReceiver, float filterRadius, float angle) {
  float texelSize = 1.0 / float(textureSize(shadowMap, 0).x);
  float shadow = 0.0f;
  int j = 0;
  vec2 vogelSample = vec2(0.0);
  vec2 offset = vec2(0.0);
  #pragma unroll_loop_start
  for (int i = 0; i < ${g}; i++) {
    vogelSample = vogelDiskSample(j, ${g}, angle) * texelSize;
    offset = vogelSample * (1.0 + filterRadius * float(${p}));
    shadow += step( zReceiver, unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) ) );
    j++;
  }
  #pragma unroll_loop_end
  return shadow * 1.0 / ${g}.0;
}

float PCSS (sampler2D shadowMap, vec4 coords) {
  vec2 uv = coords.xy;
  float zReceiver = coords.z; // Assumed to be eye-space z in this code
  float angle = highPassRandRGB(gl_FragCoord.xy).r * PI2;
  float avgBlockerDepth = findBlocker(shadowMap, uv, zReceiver, angle);
  if (avgBlockerDepth == -1.0) {
    return 1.0;
  }
  float penumbraRatio = penumbraSize(zReceiver, avgBlockerDepth);
  return vogelFilter(shadowMap, uv, zReceiver, 1.25 * penumbraRatio, angle);
}`;function reset(u,p,g){p.traverse(_=>{_.material&&(u.properties.remove(_.material),_.material.dispose==null||_.material.dispose())}),u.info.programs.length=0,u.compile(p,g)}function SoftShadows({focus:u=0,samples:p=10,size:g=25}){const _=useThree(h=>h.gl),y=useThree(h=>h.scene),m=useThree(h=>h.camera);return reactExports.useEffect(()=>{const h=ShaderChunk.shadowmap_pars_fragment;return ShaderChunk.shadowmap_pars_fragment=ShaderChunk.shadowmap_pars_fragment.replace("#ifdef USE_SHADOWMAP",`#ifdef USE_SHADOWMAP
`+pcss({size:g,samples:p,focus:u})).replace("#if defined( SHADOWMAP_TYPE_PCF )",`
return PCSS(shadowMap, shadowCoord);
#if defined( SHADOWMAP_TYPE_PCF )`),reset(_,y,m),()=>{ShaderChunk.shadowmap_pars_fragment=h,reset(_,y,m)}},[u,g,p]),null}const eps=1e-5;function createShape(u,p,g){const _=new Shape,y=g-eps;return _.absarc(eps,eps,eps,-Math.PI/2,-Math.PI,!0),_.absarc(eps,p-y*2,eps,Math.PI,Math.PI/2,!0),_.absarc(u-y*2,p-y*2,eps,Math.PI/2,0,!0),_.absarc(u-y*2,eps,eps,0,-Math.PI/2,!0),_}const RoundedBox=reactExports.forwardRef(function u({args:[p=1,g=1,_=1]=[],radius:y=.05,steps:m=1,smoothness:h=4,creaseAngle:b=.4,children:x,...O},T){const E=reactExports.useMemo(()=>createShape(p,g,y),[p,g,y]),M=reactExports.useMemo(()=>({depth:_-y*2,bevelEnabled:!0,bevelSegments:h*2,steps:m,bevelSize:y-eps,bevelThickness:y,curveSegments:h}),[_,y,h]),F=reactExports.useRef();return reactExports.useLayoutEffect(()=>{F.current&&(F.current.center(),toCreasedNormals(F.current,b))},[E,M]),reactExports.createElement("mesh",_extends({ref:T},O),reactExports.createElement("extrudeGeometry",{ref:F,args:[E,M]}),x)});function createScreenQuadGeometry(){const u=new BufferGeometry,p=new Float32Array([-1,-1,3,-1,-1,3]);return u.setAttribute("position",new BufferAttribute(p,2)),u}const ScreenQuad=reactExports.forwardRef(function u({children:p,...g},_){const y=reactExports.useMemo(createScreenQuadGeometry,[]);return reactExports.createElement("mesh",_extends({ref:_,geometry:y,frustumCulled:!1},g),p)}),Resize=reactExports.forwardRef(({children:u,width:p,height:g,depth:_,box3:y,precise:m=!0,...h},b)=>{const x=reactExports.useRef(null),O=reactExports.useRef(null),T=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{O.current.matrixWorld.identity();let E=y||new Box3().setFromObject(T.current,m);const M=E.max.x-E.min.x,F=E.max.y-E.min.y,B=E.max.z-E.min.z;let S=Math.max(M,F,B);p&&(S=M),g&&(S=F),_&&(S=B),O.current.scale.setScalar(1/S)},[p,g,_,y,m]),reactExports.useImperativeHandle(b,()=>x.current,[]),reactExports.createElement("group",_extends({ref:x},h),reactExports.createElement("group",{ref:O},reactExports.createElement("group",{ref:T},u)))}),isOrthographic=u=>u&&u.isOrthographicCamera,isBox3=u=>u&&u.isBox3,context$4=reactExports.createContext(null);function Bounds({children:u,damping:p=6,fit:g,clip:_,observe:y,margin:m=1.2,eps:h=.01,onFit:b}){const x=reactExports.useRef(null),{camera:O,invalidate:T,size:E,controls:M}=useThree(),F=M,B=reactExports.useRef(b);B.current=b;function S(A,I){return Math.abs(A.x-I.x)<h&&Math.abs(A.y-I.y)<h&&Math.abs(A.z-I.z)<h}function w(A,I,P,G){A.x=MathUtils.damp(A.x,I.x,P,G),A.y=MathUtils.damp(A.y,I.y,P,G),A.z=MathUtils.damp(A.z,I.z,P,G)}const[C]=reactExports.useState(()=>({animating:!1,focus:new Vector3,camera:new Vector3,zoom:1})),[D]=reactExports.useState(()=>({focus:new Vector3,camera:new Vector3,zoom:1})),[L]=reactExports.useState(()=>new Box3),R=reactExports.useMemo(()=>{function A(){const I=L.getSize(new Vector3),P=L.getCenter(new Vector3),G=Math.max(I.x,I.y,I.z),z=isOrthographic(O)?G*4:G/(2*Math.atan(Math.PI*O.fov/360)),j=isOrthographic(O)?G*4:z/O.aspect,N=m*Math.max(z,j);return{box:L,size:I,center:P,distance:N}}return{getSize:A,refresh(I){if(isBox3(I))L.copy(I);else{const P=I||x.current;P.updateWorldMatrix(!0,!0),L.setFromObject(P)}if(L.isEmpty()){const P=O.position.length()||10;L.setFromCenterAndSize(new Vector3,new Vector3(P,P,P))}if((F==null?void 0:F.constructor.name)==="OrthographicTrackballControls"){const{distance:P}=A(),G=O.position.clone().sub(F.target).normalize().multiplyScalar(P),z=F.target.clone().add(G);O.position.copy(z)}return this},clip(){const{distance:I}=A();return F&&(F.maxDistance=I*10),O.near=I/100,O.far=I*100,O.updateProjectionMatrix(),F&&F.update(),T(),this},to({position:I,target:P}){C.camera.copy(O.position);const{center:G}=A();return D.camera.set(...I),P?D.focus.set(...P):D.focus.copy(G),p?C.animating=!0:O.position.set(...I),this},fit(){C.camera.copy(O.position),F&&C.focus.copy(F.target);const{center:I,distance:P}=A(),G=I.clone().sub(O.position).normalize().multiplyScalar(P);if(D.camera.copy(I).sub(G),D.focus.copy(I),isOrthographic(O)){C.zoom=O.zoom;let z=0,j=0;const N=[new Vector3(L.min.x,L.min.y,L.min.z),new Vector3(L.min.x,L.max.y,L.min.z),new Vector3(L.min.x,L.min.y,L.max.z),new Vector3(L.min.x,L.max.y,L.max.z),new Vector3(L.max.x,L.max.y,L.max.z),new Vector3(L.max.x,L.max.y,L.min.z),new Vector3(L.max.x,L.min.y,L.max.z),new Vector3(L.max.x,L.min.y,L.min.z)];I.applyMatrix4(O.matrixWorldInverse);for(const H of N)H.applyMatrix4(O.matrixWorldInverse),z=Math.max(z,Math.abs(H.y-I.y)),j=Math.max(j,Math.abs(H.x-I.x));z*=2,j*=2;const W=(O.top-O.bottom)/z,U=(O.right-O.left)/j;D.zoom=Math.min(W,U)/m,p||(O.zoom=D.zoom,O.updateProjectionMatrix())}return p?C.animating=!0:(O.position.copy(D.camera),O.lookAt(D.focus),F&&(F.target.copy(D.focus),F.update())),B.current&&B.current(this.getSize()),T(),this}}},[L,O,F,m,p,T]);reactExports.useLayoutEffect(()=>{if(F){const A=()=>C.animating=!1;return F.addEventListener("start",A),()=>F.removeEventListener("start",A)}},[F]);const k=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{(y||k.current++===0)&&(R.refresh(),g&&R.fit(),_&&R.clip())},[E,_,g,y,O,F]),useFrame((A,I)=>{if(C.animating){if(w(C.focus,D.focus,p,I),w(C.camera,D.camera,p,I),C.zoom=MathUtils.damp(C.zoom,D.zoom,p,I),O.position.copy(C.camera),isOrthographic(O)&&(O.zoom=C.zoom,O.updateProjectionMatrix()),F?(F.target.copy(C.focus),F.update()):O.lookAt(C.focus),T(),isOrthographic(O)&&!(Math.abs(C.zoom-D.zoom)<h)||!isOrthographic(O)&&!S(C.camera,D.camera)||F&&!S(C.focus,D.focus))return;C.animating=!1}}),reactExports.createElement("group",{ref:x},reactExports.createElement(context$4.Provider,{value:R},u))}function useBounds(){return reactExports.useContext(context$4)}const CameraShake=reactExports.forwardRef(({intensity:u=1,decay:p,decayRate:g=.65,maxYaw:_=.1,maxPitch:y=.1,maxRoll:m=.1,yawFrequency:h=.1,pitchFrequency:b=.1,rollFrequency:x=.1},O)=>{const T=useThree(D=>D.camera),E=useThree(D=>D.controls),M=reactExports.useRef(u),F=reactExports.useRef(T.rotation.clone()),[B]=reactExports.useState(()=>new SimplexNoise),[S]=reactExports.useState(()=>new SimplexNoise),[w]=reactExports.useState(()=>new SimplexNoise),C=()=>{(M.current<0||M.current>1)&&(M.current=M.current<0?0:1)};return reactExports.useImperativeHandle(O,()=>({getIntensity:()=>M.current,setIntensity:D=>{M.current=D,C()}}),[]),reactExports.useEffect(()=>{if(E){const D=()=>void(F.current=T.rotation.clone());return E.addEventListener("change",D),D(),()=>void E.removeEventListener("change",D)}},[T,E]),useFrame((D,L)=>{const R=Math.pow(M.current,2),k=_*R*B.noise(D.clock.elapsedTime*h,1),A=y*R*S.noise(D.clock.elapsedTime*b,1),I=m*R*w.noise(D.clock.elapsedTime*x,1);T.rotation.set(F.current.x+A,F.current.y+k,F.current.z+I),p&&M.current>0&&(M.current-=g*L,C())}),null}),presetsObj={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},CUBEMAP_ROOT="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",isArray=u=>Array.isArray(u);function useEnvironment({files:u=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:p="",preset:g=void 0,encoding:_=void 0,extensions:y}={}){var m;let h=null,b=!1,x;if(g){if(!(g in presetsObj))throw new Error("Preset must be one of: "+Object.keys(presetsObj).join(", "));u=presetsObj[g],p=CUBEMAP_ROOT}if(b=isArray(u),x=isArray(u)?"cube":u.startsWith("data:application/exr")?"exr":u.startsWith("data:application/hdr")?"hdr":(m=u.split(".").pop())==null?void 0:m.toLowerCase(),h=b?CubeTextureLoader:x==="hdr"?RGBELoader:x==="exr"?EXRLoader:null,!h)throw new Error("useEnvironment: Unrecognized file extension: "+u);const O=useLoader(h,b?[u]:u,F=>{F.setPath==null||F.setPath(p),y&&y(F)}),T=b?O[0]:O;T.mapping=b?CubeReflectionMapping:EquirectangularReflectionMapping;const E=3001,M=3e3;return"colorSpace"in T?T.colorSpace=_??b?"srgb":"srgb-linear":T.encoding=_??b?E:M,T}const isRef$1=u=>u.current&&u.current.isScene,resolveScene=u=>isRef$1(u)?u.current:u;function setEnvProps(u,p,g,_,y=0){const m=resolveScene(p||g),h=m.background,b=m.environment,x=m.backgroundBlurriness||0;return u!=="only"&&(m.environment=_),u&&(m.background=_),u&&m.backgroundBlurriness!==void 0&&(m.backgroundBlurriness=y),()=>{u!=="only"&&(m.environment=b),u&&(m.background=h),u&&m.backgroundBlurriness!==void 0&&(m.backgroundBlurriness=x)}}function EnvironmentMap({scene:u,background:p=!1,blur:g,map:_}){const y=useThree(m=>m.scene);return reactExports.useLayoutEffect(()=>{if(_)return setEnvProps(p,u,y,_,g)},[y,u,_,p,g]),null}function EnvironmentCube({background:u=!1,scene:p,blur:g,..._}){const y=useEnvironment(_),m=useThree(h=>h.scene);return reactExports.useLayoutEffect(()=>setEnvProps(u,p,m,y,g),[y,u,p,m,g]),null}function EnvironmentPortal({children:u,near:p=1,far:g=1e3,resolution:_=256,frames:y=1,map:m,background:h=!1,blur:b,scene:x,files:O,path:T,preset:E=void 0,extensions:M}){const F=useThree(L=>L.gl),B=useThree(L=>L.scene),S=reactExports.useRef(null),[w]=reactExports.useState(()=>new Scene),C=reactExports.useMemo(()=>{const L=new WebGLCubeRenderTarget(_);return L.texture.type=HalfFloatType,L},[_]);reactExports.useLayoutEffect(()=>(y===1&&S.current.update(F,w),setEnvProps(h,x,B,C.texture,b)),[u,w,C.texture,x,B,h,y,F]);let D=1;return useFrame(()=>{(y===1/0||D<y)&&(S.current.update(F,w),D++)}),reactExports.createElement(reactExports.Fragment,null,createPortal(reactExports.createElement(reactExports.Fragment,null,u,reactExports.createElement("cubeCamera",{ref:S,args:[p,g,C]}),O||E?reactExports.createElement(EnvironmentCube,{background:!0,files:O,preset:E,path:T,extensions:M}):m?reactExports.createElement(EnvironmentMap,{background:!0,map:m,extensions:M}):null),w))}function EnvironmentGround(u){var p,g,_,y;const m=useEnvironment(u),h=u.map||m;reactExports.useMemo(()=>extend({GroundProjectedEnvImpl:GroundProjectedEnv}),[]);const b=reactExports.useMemo(()=>[h],[h]),x=(p=u.ground)==null?void 0:p.height,O=(g=u.ground)==null?void 0:g.radius,T=(_=(y=u.ground)==null?void 0:y.scale)!==null&&_!==void 0?_:1e3;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(EnvironmentMap,_extends({},u,{map:h})),reactExports.createElement("groundProjectedEnvImpl",{args:b,scale:T,height:x,radius:O}))}function Environment(u){return u.ground?reactExports.createElement(EnvironmentGround,u):u.map?reactExports.createElement(EnvironmentMap,u):u.children?reactExports.createElement(EnvironmentPortal,u):reactExports.createElement(EnvironmentCube,u)}const ContactShadows=reactExports.forwardRef(({scale:u=10,frames:p=1/0,opacity:g=1,width:_=1,height:y=1,blur:m=1,far:h=10,resolution:b=512,smooth:x=!0,color:O="#000000",depthWrite:T=!1,renderOrder:E,...M},F)=>{const B=reactExports.useRef(null),S=useThree(W=>W.scene),w=useThree(W=>W.gl),C=reactExports.useRef(null);_=_*(Array.isArray(u)?u[0]:u||1),y=y*(Array.isArray(u)?u[1]:u||1);const[D,L,R,k,A,I,P]=reactExports.useMemo(()=>{const W=new WebGLRenderTarget(b,b),U=new WebGLRenderTarget(b,b);U.texture.generateMipmaps=W.texture.generateMipmaps=!1;const H=new PlaneGeometry(_,y).rotateX(Math.PI/2),$=new Mesh(H),V=new MeshDepthMaterial;V.depthTest=V.depthWrite=!1,V.onBeforeCompile=q=>{q.uniforms={...q.uniforms,ucolor:{value:new Color(O)}},q.fragmentShader=q.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),q.fragmentShader=q.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const J=new ShaderMaterial(HorizontalBlurShader),Y=new ShaderMaterial(VerticalBlurShader);return Y.depthTest=J.depthTest=!1,[W,H,V,$,J,Y,U]},[b,_,y,u,O]),G=W=>{k.visible=!0,k.material=A,A.uniforms.tDiffuse.value=D.texture,A.uniforms.h.value=W*1/256,w.setRenderTarget(P),w.render(k,C.current),k.material=I,I.uniforms.tDiffuse.value=P.texture,I.uniforms.v.value=W*1/256,w.setRenderTarget(D),w.render(k,C.current),k.visible=!1};let z=0,j,N;return useFrame(()=>{C.current&&(p===1/0||z<p)&&(z++,j=S.background,N=S.overrideMaterial,B.current.visible=!1,S.background=null,S.overrideMaterial=R,w.setRenderTarget(D),w.render(S,C.current),G(m),x&&G(m*.4),w.setRenderTarget(null),B.current.visible=!0,S.overrideMaterial=N,S.background=j)}),reactExports.useImperativeHandle(F,()=>B.current,[]),reactExports.createElement("group",_extends({"rotation-x":Math.PI/2},M,{ref:B}),reactExports.createElement("mesh",{renderOrder:E,geometry:L,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},reactExports.createElement("meshBasicMaterial",{transparent:!0,map:D.texture,opacity:g,depthWrite:T})),reactExports.createElement("orthographicCamera",{ref:C,args:[-_/2,_/2,y/2,-y/2,0,h]}))});function isLight(u){return u.isLight}function isGeometry$1(u){return!!u.geometry}const accumulativeContext=reactExports.createContext(null),SoftShadowMaterial=shaderMaterial({color:new Color,blend:2,alphaTest:.75,opacity:0,map:null},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
     vUv = uv;
   }`,`varying vec2 vUv;
   uniform sampler2D map;
   uniform vec3 color;
   uniform float opacity;
   uniform float alphaTest;
   uniform float blend;
   void main() {
     vec4 sampledDiffuseColor = texture2D(map, vUv);
     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);
     #include <tonemapping_fragment>
     #include <encodings_fragment>
   }`),AccumulativeShadows=reactExports.forwardRef(({children:u,temporal:p,frames:g=40,limit:_=1/0,blend:y=20,scale:m=10,opacity:h=1,alphaTest:b=.75,color:x="black",colorBlend:O=2,resolution:T=1024,toneMapped:E=!0,...M},F)=>{extend({SoftShadowMaterial});const B=useThree(A=>A.gl),S=useThree(A=>A.scene),w=useThree(A=>A.camera),C=useThree(A=>A.invalidate),D=reactExports.useRef(null),L=reactExports.useRef(null),[R]=reactExports.useState(()=>new ProgressiveLightMap(B,S,T));reactExports.useLayoutEffect(()=>{R.configure(D.current)},[]);const k=reactExports.useMemo(()=>({lights:new Map,temporal:!!p,frames:Math.max(2,g),blend:Math.max(2,g===1/0?y:g),count:0,getMesh:()=>D.current,reset:()=>{R.clear();const A=D.current.material;A.opacity=0,A.alphaTest=0,k.count=0},update:(A=1)=>{const I=D.current.material;k.temporal?(I.opacity=Math.min(h,I.opacity+h/k.blend),I.alphaTest=Math.min(b,I.alphaTest+b/k.blend)):(I.opacity=h,I.alphaTest=b),L.current.visible=!0,R.prepare();for(let P=0;P<A;P++)k.lights.forEach(G=>G.update()),R.update(w,k.blend);L.current.visible=!1,R.finish()}}),[R,w,S,p,g,y,h,b]);return reactExports.useLayoutEffect(()=>{k.reset(),!k.temporal&&k.frames!==1/0&&k.update(k.blend)}),reactExports.useImperativeHandle(F,()=>k,[k]),useFrame(()=>{(k.temporal||k.frames===1/0)&&k.count<k.frames&&k.count<_&&(C(),k.update(),k.count++)}),reactExports.createElement("group",M,reactExports.createElement("group",{traverse:()=>null,ref:L},reactExports.createElement(accumulativeContext.Provider,{value:k},u)),reactExports.createElement("mesh",{receiveShadow:!0,ref:D,scale:m,rotation:[-Math.PI/2,0,0]},reactExports.createElement("planeGeometry",null),reactExports.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:E,color:x,blend:O,map:R.progressiveLightMap2.texture})))}),RandomizedLight=reactExports.forwardRef(({castShadow:u=!0,bias:p=.001,mapSize:g=512,size:_=5,near:y=.5,far:m=500,frames:h=1,position:b=[0,0,0],radius:x=1,amount:O=8,intensity:T=1,ambient:E=.5,...M},F)=>{const B=reactExports.useRef(null),S=new Vector3(...b).length(),w=reactExports.useContext(accumulativeContext),C=reactExports.useCallback(()=>{let L;if(B.current)for(let R=0;R<B.current.children.length;R++)if(L=B.current.children[R],Math.random()>E)L.position.set(b[0]+MathUtils.randFloatSpread(x),b[1]+MathUtils.randFloatSpread(x),b[2]+MathUtils.randFloatSpread(x));else{let k=Math.acos(2*Math.random()-1)-Math.PI/2,A=2*Math.PI*Math.random();L.position.set(Math.cos(k)*Math.cos(A)*S,Math.abs(Math.cos(k)*Math.sin(A)*S),Math.sin(k)*S)}},[x,E,S,...b]),D=reactExports.useMemo(()=>({update:C}),[C]);return reactExports.useImperativeHandle(F,()=>D,[D]),reactExports.useLayoutEffect(()=>{const L=B.current;return w&&w.lights.set(L.uuid,D),()=>void w.lights.delete(L.uuid)},[w,D]),reactExports.createElement("group",_extends({ref:B},M),Array.from({length:O},(L,R)=>reactExports.createElement("directionalLight",{key:R,castShadow:u,"shadow-bias":p,"shadow-mapSize":[g,g],intensity:T/O},reactExports.createElement("orthographicCamera",{attach:"shadow-camera",args:[-_,_,_,-_,y,m]}))))});class ProgressiveLightMap{constructor(p,g,_=1024){this.renderer=p,this.res=_,this.scene=g,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new Color,this.clearAlpha=0;const y=/(Android|iPad|iPhone|iPod)/g.test(navigator.userAgent)?HalfFloatType:FloatType;this.progressiveLightMap1=new WebGLRenderTarget(this.res,this.res,{type:y}),this.progressiveLightMap2=new WebGLRenderTarget(this.res,this.res,{type:y}),this.discardMat=new DiscardMaterial,this.targetMat=new MeshLambertMaterial({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=m=>{m.vertexShader=`varying vec2 vUv;
`+m.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";const h=m.fragmentShader.indexOf("void main() {");m.fragmentShader=`varying vec2 vUv;
`+m.fragmentShader.slice(0,h)+`uniform sampler2D previousShadowMap;
	uniform float averagingWindow;
`+m.fragmentShader.slice(h-1,-1)+`
vec3 texelOld = texture2D(previousShadowMap, vUv).rgb;
        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);
      }`,m.uniforms.previousShadowMap=this.previousShadowMap,m.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse(p=>{isGeometry$1(p)?this.meshes.push({object:p,material:p.material}):isLight(p)&&this.lights.push({object:p,intensity:p.intensity})})}prepare(){this.lights.forEach(p=>p.object.intensity=0),this.meshes.forEach(p=>p.object.material=this.discardMat)}finish(){this.lights.forEach(p=>p.object.intensity=p.intensity),this.meshes.forEach(p=>p.object.material=p.material)}configure(p){this.object=p}update(p,g=100){if(!this.object)return;this.averagingWindow.value=g,this.object.material=this.targetMat;const _=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,y=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,m=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(_),this.previousShadowMap.value=y.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,p),this.renderer.setRenderTarget(null),this.scene.background=m}}const presets={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};function Refit({radius:u,adjustCamera:p}){const g=useBounds();return reactExports.useEffect(()=>{p&&g.refresh().clip().fit()},[u,p]),null}function Stage({children:u,center:p,adjustCamera:g=!0,intensity:_=.5,shadows:y="contact",environment:m="city",preset:h="rembrandt",...b}){var x,O,T,E,M,F,B,S;const w=typeof h=="string"?presets[h]:h,[{radius:C,height:D},L]=reactExports.useState({radius:0,width:0,height:0,depth:0}),R=(x=y==null?void 0:y.bias)!==null&&x!==void 0?x:-1e-4,k=(O=y==null?void 0:y.normalBias)!==null&&O!==void 0?O:0,A=(T=y==null?void 0:y.size)!==null&&T!==void 0?T:1024,I=(E=y==null?void 0:y.offset)!==null&&E!==void 0?E:0,P=y==="contact"||(y==null?void 0:y.type)==="contact",G=y==="accumulative"||(y==null?void 0:y.type)==="accumulative",z={...typeof y=="object"?y:{}},j=m?typeof m=="string"?{preset:m}:m:null,N=reactExports.useCallback(W=>{const{width:U,height:H,depth:$,boundingSphere:V}=W;L({radius:V.radius,width:U,height:H,depth:$}),p!=null&&p.onCentered&&p.onCentered(W)},[]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("ambientLight",{intensity:_/3}),reactExports.createElement("spotLight",{penumbra:1,position:[w.main[0]*C,w.main[1]*C,w.main[2]*C],intensity:_*2,castShadow:!!y,"shadow-bias":R,"shadow-normalBias":k,"shadow-mapSize":A}),reactExports.createElement("pointLight",{position:[w.fill[0]*C,w.fill[1]*C,w.fill[2]*C],intensity:_}),reactExports.createElement(Bounds,_extends({fit:!!g,clip:!!g,margin:Number(g),observe:!0},b),reactExports.createElement(Refit,{radius:C,adjustCamera:g}),reactExports.createElement(Center,_extends({},p,{position:[0,I/2,0],onCentered:N}),u)),reactExports.createElement("group",{position:[0,-D/2-I/2,0]},P&&reactExports.createElement(ContactShadows,_extends({scale:C*4,far:C,blur:2},z)),G&&reactExports.createElement(AccumulativeShadows,_extends({temporal:!0,frames:100,alphaTest:.9,toneMapped:!0,scale:C*4},z),reactExports.createElement(RandomizedLight,{amount:(M=z.amount)!==null&&M!==void 0?M:8,radius:(F=z.radius)!==null&&F!==void 0?F:C,ambient:(B=z.ambient)!==null&&B!==void 0?B:.5,intensity:(S=z.intensity)!==null&&S!==void 0?S:1,position:[w.main[0]*C,w.main[1]*C,w.main[2]*C],size:C*4,bias:-R,mapSize:A}))),m&&reactExports.createElement(Environment,j))}const easeInExpo=u=>u===0?0:Math.pow(2,10*u-10);function Backdrop({children:u,floor:p=.25,segments:g=20,receiveShadow:_,...y}){const m=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{let h=0;const b=g/g/2,x=m.current.attributes.position;for(let O=0;O<g+1;O++)for(let T=0;T<g+1;T++)x.setXYZ(h++,O/g-b+(O===0?-p:0),T/g-b,easeInExpo(O/g));x.needsUpdate=!0,m.current.computeVertexNormals()},[g,p]),reactExports.createElement("group",y,reactExports.createElement("mesh",{receiveShadow:_,rotation:[-Math.PI/2,0,Math.PI/2]},reactExports.createElement("planeGeometry",{ref:m,args:[1,1,g,g]}),u))}const Shadow=reactExports.forwardRef(({fog:u=!1,renderOrder:p,depthWrite:g=!1,colorStop:_=0,color:y="black",opacity:m=.5,...h},b)=>{const x=reactExports.useMemo(()=>{const O=document.createElement("canvas");O.width=128,O.height=128;const T=O.getContext("2d"),E=T.createRadialGradient(O.width/2,O.height/2,0,O.width/2,O.height/2,O.width/2);return E.addColorStop(_,new Color(y).getStyle()),E.addColorStop(1,"rgba(0,0,0,0)"),T.fillStyle=E,T.fillRect(0,0,O.width,O.height),O},[y,_]);return reactExports.createElement("mesh",_extends({renderOrder:p,ref:b,"rotation-x":-Math.PI/2},h),reactExports.createElement("planeGeometry",null),reactExports.createElement("meshBasicMaterial",{transparent:!0,opacity:m,fog:u,depthWrite:g,side:DoubleSide},reactExports.createElement("canvasTexture",{attach:"map",args:[x]})))});function createNormalMaterial(u=FrontSide){const p={value:new Matrix4};return Object.assign(new MeshNormalMaterial({side:u}),{viewMatrix:p,onBeforeCompile:g=>{g.uniforms.viewMatrix=p,g.fragmentShader=`vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
           return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
         }
`+g.fragmentShader.replace("#include <normal_fragment_maps>",`#include <normal_fragment_maps>
           normal = inverseTransformDirection( normal, viewMatrix );
`)}})}const CausticsProjectionMaterial=shaderMaterial({causticsTexture:null,causticsTextureB:null,color:new Color,lightProjMatrix:new Matrix4,lightViewMatrix:new Matrix4},`varying vec3 vWorldPosition;   
   void main() {
     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
     vec4 worldPosition = modelMatrix * vec4(position, 1.);
     vWorldPosition = worldPosition.xyz;
   }`,`varying vec3 vWorldPosition;
  uniform vec3 color;
  uniform sampler2D causticsTexture; 
  uniform sampler2D causticsTextureB; 
  uniform mat4 lightProjMatrix;
  uniform mat4 lightViewMatrix;
   void main() {
    // Apply caustics  
    vec4 lightSpacePos = lightProjMatrix * lightViewMatrix * vec4(vWorldPosition, 1.0);
    lightSpacePos.xyz /= lightSpacePos.w;
    lightSpacePos.xyz = lightSpacePos.xyz * 0.5 + 0.5; 
    vec3 front = texture2D(causticsTexture, lightSpacePos.xy).rgb;
    vec3 back = texture2D(causticsTextureB, lightSpacePos.xy).rgb;
    gl_FragColor = vec4((front + back) * color, 1.0);
    #include <tonemapping_fragment>
    #include <encodings_fragment>
   }`),CausticsMaterial=shaderMaterial({cameraMatrixWorld:new Matrix4,cameraProjectionMatrixInv:new Matrix4,normalTexture:null,depthTexture:null,lightDir:new Vector3(0,1,0),lightPlaneNormal:new Vector3(0,1,0),lightPlaneConstant:0,near:.1,far:100,modelMatrix:new Matrix4,worldRadius:1/40,ior:1.1,bounces:0,resolution:1024,size:10,intensity:.5},`
  varying vec2 vUv;
  void main() {
      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  }`,`  
  uniform mat4 cameraMatrixWorld;
  uniform mat4 cameraProjectionMatrixInv;
  uniform vec3 lightDir;
  uniform vec3 lightPlaneNormal;
  uniform float lightPlaneConstant;
  uniform float near;
  uniform float far;
  uniform float time;
  uniform float worldRadius;
  uniform float resolution;
  uniform float size;
  uniform float intensity;
  uniform float ior;
  precision highp isampler2D;
  precision highp usampler2D;
  uniform sampler2D normalTexture;
  uniform sampler2D depthTexture;
  uniform float bounces;
  varying vec2 vUv;
  vec3 WorldPosFromDepth(float depth, vec2 coord) {
    float z = depth * 2.0 - 1.0;
    vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
    vec4 viewSpacePosition = cameraProjectionMatrixInv * clipSpacePosition;
    // Perspective division
    viewSpacePosition /= viewSpacePosition.w;
    vec4 worldSpacePosition = cameraMatrixWorld * viewSpacePosition;
    return worldSpacePosition.xyz;
  }                  
  float sdPlane( vec3 p, vec3 n, float h ) {
    // n must be normalized
    return dot(p,n) + h;
  }
  float planeIntersect( vec3 ro, vec3 rd, vec4 p ) {
    return -(dot(ro,p.xyz)+p.w)/dot(rd,p.xyz);
  }
  vec3 totalInternalReflection(vec3 ro, vec3 rd, vec3 pos, vec3 normal, float ior, out vec3 rayOrigin, out vec3 rayDirection) {
    rayOrigin = ro;
    rayDirection = rd;
    rayDirection = refract(rayDirection, normal, 1.0 / ior);
    rayOrigin = pos + rayDirection * 0.1;
    return rayDirection;
  }
  void main() {
    // Each sample consists of random offset in the x and y direction
    float caustic = 0.0;
    float causticTexelSize = (1.0 / resolution) * size * 2.0;
    float texelsNeeded = worldRadius / causticTexelSize;
    float sampleRadius = texelsNeeded / resolution;
    float sum = 0.0;
    if (texture2D(depthTexture, vUv).x == 1.0) {
      gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
      return;
    }
    vec2 offset1 = vec2(-0.5, -0.5);//vec2(rand() - 0.5, rand() - 0.5);
    vec2 offset2 = vec2(-0.5, 0.5);//vec2(rand() - 0.5, rand() - 0.5);
    vec2 offset3 = vec2(0.5, 0.5);//vec2(rand() - 0.5, rand() - 0.5);
    vec2 offset4 = vec2(0.5, -0.5);//vec2(rand() - 0.5, rand() - 0.5);
    vec2 uv1 = vUv + offset1 * sampleRadius;
    vec2 uv2 = vUv + offset2 * sampleRadius;
    vec2 uv3 = vUv + offset3 * sampleRadius;
    vec2 uv4 = vUv + offset4 * sampleRadius;
    vec3 normal1 = texture2D(normalTexture, uv1, -10.0).rgb * 2.0 - 1.0;
    vec3 normal2 = texture2D(normalTexture, uv2, -10.0).rgb * 2.0 - 1.0;
    vec3 normal3 = texture2D(normalTexture, uv3, -10.0).rgb * 2.0 - 1.0;
    vec3 normal4 = texture2D(normalTexture, uv4, -10.0).rgb * 2.0 - 1.0;
    float depth1 = texture2D(depthTexture, uv1, -10.0).x;
    float depth2 = texture2D(depthTexture, uv2, -10.0).x;
    float depth3 = texture2D(depthTexture, uv3, -10.0).x;
    float depth4 = texture2D(depthTexture, uv4, -10.0).x;
    // Sanity check the depths
    if (depth1 == 1.0 || depth2 == 1.0 || depth3 == 1.0 || depth4 == 1.0) {
      gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
      return;
    }
    vec3 pos1 = WorldPosFromDepth(depth1, uv1);
    vec3 pos2 = WorldPosFromDepth(depth2, uv2);
    vec3 pos3 = WorldPosFromDepth(depth3, uv3);
    vec3 pos4 = WorldPosFromDepth(depth4, uv4);
    vec3 originPos1 = WorldPosFromDepth(0.0, uv1);
    vec3 originPos2 = WorldPosFromDepth(0.0, uv2);
    vec3 originPos3 = WorldPosFromDepth(0.0, uv3);
    vec3 originPos4 = WorldPosFromDepth(0.0, uv4);
    vec3 endPos1, endPos2, endPos3, endPos4;
    vec3 endDir1, endDir2, endDir3, endDir4;
    totalInternalReflection(originPos1, lightDir, pos1, normal1, ior, endPos1, endDir1);
    totalInternalReflection(originPos2, lightDir, pos2, normal2, ior, endPos2, endDir2);
    totalInternalReflection(originPos3, lightDir, pos3, normal3, ior, endPos3, endDir3);
    totalInternalReflection(originPos4, lightDir, pos4, normal4, ior, endPos4, endDir4);
    float lightPosArea = length(cross(originPos2 - originPos1, originPos3 - originPos1)) + length(cross(originPos3 - originPos1, originPos4 - originPos1));
    float t1 = planeIntersect(endPos1, endDir1, vec4(lightPlaneNormal, lightPlaneConstant));
    float t2 = planeIntersect(endPos2, endDir2, vec4(lightPlaneNormal, lightPlaneConstant));
    float t3 = planeIntersect(endPos3, endDir3, vec4(lightPlaneNormal, lightPlaneConstant));
    float t4 = planeIntersect(endPos4, endDir4, vec4(lightPlaneNormal, lightPlaneConstant));
    vec3 finalPos1 = endPos1 + endDir1 * t1;
    vec3 finalPos2 = endPos2 + endDir2 * t2;
    vec3 finalPos3 = endPos3 + endDir3 * t3;
    vec3 finalPos4 = endPos4 + endDir4 * t4;
    float finalArea = length(cross(finalPos2 - finalPos1, finalPos3 - finalPos1)) + length(cross(finalPos3 - finalPos1, finalPos4 - finalPos1));
    caustic += intensity * (lightPosArea / finalArea);
    // Calculate the area of the triangle in light spaces
    gl_FragColor = vec4(vec3(max(caustic, 0.0)), 1.0);
  }`),NORMALPROPS={depth:!0,minFilter:LinearFilter,magFilter:LinearFilter,encoding:LinearEncoding,type:UnsignedByteType},CAUSTICPROPS={minFilter:LinearMipmapLinearFilter,magFilter:LinearFilter,encoding:LinearEncoding,format:RGBAFormat,type:FloatType,generateMipmaps:!0},Caustics=reactExports.forwardRef(({debug:u,children:p,frames:g=1,ior:_=1.1,color:y="white",causticsOnly:m=!1,backside:h=!1,backsideIOR:b=1.1,worldRadius:x=.3125,intensity:O=.05,resolution:T=2024,lightSource:E=[5,5,5],...M},F)=>{extend({CausticsProjectionMaterial});const B=reactExports.useRef(null),S=reactExports.useRef(null),w=reactExports.useRef(null),C=reactExports.useRef(null),D=useThree(ee=>ee.gl),L=useHelper(u&&S,CameraHelper),R=useFBO(T,T,NORMALPROPS),k=useFBO(T,T,NORMALPROPS),A=useFBO(T,T,CAUSTICPROPS),I=useFBO(T,T,CAUSTICPROPS),[P]=reactExports.useState(()=>createNormalMaterial()),[G]=reactExports.useState(()=>createNormalMaterial(BackSide)),[z]=reactExports.useState(()=>new CausticsMaterial),[j]=reactExports.useState(()=>new FullScreenQuad(z));reactExports.useLayoutEffect(()=>{B.current.updateWorldMatrix(!1,!0)});let N=0;const W=new Vector3,U=new Frustum,H=new Matrix4,$=new Plane,V=new Vector3,J=new Vector3,Y=new Box3,q=new Vector3,K=[],Q=[],X=[],re=[],Z=new Vector3;for(let ee=0;ee<8;ee++)K.push(new Vector3),Q.push(new Vector3),X.push(new Vector3),re.push(new Vector3);return useFrame(()=>{if(g===1/0||N++<g){var ee,ie;Array.isArray(E)?V.fromArray(E).normalize():V.copy(B.current.worldToLocal(E.current.getWorldPosition(W)).normalize()),J.copy(V).multiplyScalar(-1),(ee=w.current.parent)==null||ee.matrixWorld.identity(),Y.setFromObject(w.current,!0),K[0].set(Y.min.x,Y.min.y,Y.min.z),K[1].set(Y.min.x,Y.min.y,Y.max.z),K[2].set(Y.min.x,Y.max.y,Y.min.z),K[3].set(Y.min.x,Y.max.y,Y.max.z),K[4].set(Y.max.x,Y.min.y,Y.min.z),K[5].set(Y.max.x,Y.min.y,Y.max.z),K[6].set(Y.max.x,Y.max.y,Y.min.z),K[7].set(Y.max.x,Y.max.y,Y.max.z);for(let se=0;se<8;se++)Q[se].copy(K[se]);Y.getCenter(q),K.map(se=>se.sub(q));const te=$.set(J,0);K.map((se,ce)=>te.projectPoint(se,X[ce]));const ne=X.reduce((se,ce)=>se.add(ce),W.set(0,0,0)).divideScalar(X.length),ae=X.map(se=>se.distanceTo(ne)).reduce((se,ce)=>Math.max(se,ce)),oe=K.map(se=>se.dot(V)).reduce((se,ce)=>Math.max(se,ce));S.current.position.copy(Z.copy(V).multiplyScalar(oe).add(q)),S.current.lookAt(w.current.localToWorld(q));const pe=H.lookAt(S.current.position,q,W.set(0,1,0));S.current.left=-ae,S.current.right=ae,S.current.top=ae,S.current.bottom=-ae;const de=W.set(0,ae,0).applyMatrix4(pe),le=(S.current.position.y+de.y)/V.y;S.current.near=.1,S.current.far=le,S.current.updateProjectionMatrix(),S.current.updateMatrixWorld();const ue=Q.map((se,ce)=>se.add(re[ce].copy(V).multiplyScalar(-se.y/V.y))),me=ue.reduce((se,ce)=>se.add(ce),W.set(0,0,0)).divideScalar(ue.length),ge=2*ue.map(se=>Math.hypot(se.x-me.x,se.z-me.z)).reduce((se,ce)=>Math.max(se,ce));C.current.scale.setScalar(ge),C.current.position.copy(me),u&&((ie=L.current)==null||ie.update()),G.viewMatrix.value=P.viewMatrix.value=S.current.matrixWorldInverse;const fe=U.setFromProjectionMatrix(H.multiplyMatrices(S.current.projectionMatrix,S.current.matrixWorldInverse)).planes[4];z.cameraMatrixWorld=S.current.matrixWorld,z.cameraProjectionMatrixInv=S.current.projectionMatrixInverse,z.lightDir=J,z.lightPlaneNormal=fe.normal,z.lightPlaneConstant=fe.constant,z.near=S.current.near,z.far=S.current.far,z.resolution=T,z.size=ae,z.intensity=O,z.worldRadius=x,w.current.visible=!0,D.setRenderTarget(R),D.clear(),w.current.overrideMaterial=P,D.render(w.current,S.current),D.setRenderTarget(k),D.clear(),h&&(w.current.overrideMaterial=G,D.render(w.current,S.current)),w.current.overrideMaterial=null,z.ior=_,C.current.material.lightProjMatrix=S.current.projectionMatrix,C.current.material.lightViewMatrix=S.current.matrixWorldInverse,z.normalTexture=R.texture,z.depthTexture=R.depthTexture,D.setRenderTarget(A),D.clear(),j.render(D),z.ior=b,z.normalTexture=k.texture,z.depthTexture=k.depthTexture,D.setRenderTarget(I),D.clear(),h&&j.render(D),D.setRenderTarget(null),m&&(w.current.visible=!1)}}),reactExports.useImperativeHandle(F,()=>B.current,[]),reactExports.createElement("group",_extends({ref:B},M),reactExports.createElement("scene",{ref:w},reactExports.createElement("orthographicCamera",{ref:S,up:[0,1,0]}),p),reactExports.createElement("mesh",{renderOrder:2,ref:C,"rotation-x":-Math.PI/2},reactExports.createElement("planeGeometry",null),reactExports.createElement("causticsProjectionMaterial",{transparent:!0,color:y,causticsTexture:A.texture,causticsTextureB:I.texture,blending:CustomBlending,blendSrc:OneFactor,blendDst:SrcAlphaFactor,depthWrite:!1}),u&&reactExports.createElement(Edges,null,reactExports.createElement("lineBasicMaterial",{color:"#ffff00",toneMapped:!1}))))});extend({MeshReflectorMaterial:MeshReflectorMaterial$1});const Reflector=reactExports.forwardRef(({mixBlur:u=0,mixStrength:p=.5,resolution:g=256,blur:_=[0,0],args:y=[1,1],minDepthThreshold:m=.9,maxDepthThreshold:h=1,depthScale:b=0,depthToBlurRatioBias:x=.25,mirror:O=0,children:T,debug:E=0,distortion:M=1,mixContrast:F=1,distortionMap:B,...S},w)=>{reactExports.useEffect(()=>{console.warn("Reflector has been deprecated and will be removed next major. Replace it with <MeshReflectorMaterial />!")},[]);const C=useThree(({gl:X})=>X),D=useThree(({camera:X})=>X),L=useThree(({scene:X})=>X);_=Array.isArray(_)?_:[_,_];const R=_[0]+_[1]>0,k=reactExports.useRef(null),[A]=reactExports.useState(()=>new Plane),[I]=reactExports.useState(()=>new Vector3),[P]=reactExports.useState(()=>new Vector3),[G]=reactExports.useState(()=>new Vector3),[z]=reactExports.useState(()=>new Matrix4),[j]=reactExports.useState(()=>new Vector3(0,0,-1)),[N]=reactExports.useState(()=>new Vector4),[W]=reactExports.useState(()=>new Vector3),[U]=reactExports.useState(()=>new Vector3),[H]=reactExports.useState(()=>new Vector4),[$]=reactExports.useState(()=>new Matrix4),[V]=reactExports.useState(()=>new PerspectiveCamera$1),J=reactExports.useCallback(()=>{if(P.setFromMatrixPosition(k.current.matrixWorld),G.setFromMatrixPosition(D.matrixWorld),z.extractRotation(k.current.matrixWorld),I.set(0,0,1),I.applyMatrix4(z),W.subVectors(P,G),W.dot(I)>0)return;W.reflect(I).negate(),W.add(P),z.extractRotation(D.matrixWorld),j.set(0,0,-1),j.applyMatrix4(z),j.add(G),U.subVectors(P,j),U.reflect(I).negate(),U.add(P),V.position.copy(W),V.up.set(0,1,0),V.up.applyMatrix4(z),V.up.reflect(I),V.lookAt(U),V.far=D.far,V.updateMatrixWorld(),V.projectionMatrix.copy(D.projectionMatrix),$.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),$.multiply(V.projectionMatrix),$.multiply(V.matrixWorldInverse),$.multiply(k.current.matrixWorld),A.setFromNormalAndCoplanarPoint(I,P),A.applyMatrix4(V.matrixWorldInverse),N.set(A.normal.x,A.normal.y,A.normal.z,A.constant);const X=V.projectionMatrix;H.x=(Math.sign(N.x)+X.elements[8])/X.elements[0],H.y=(Math.sign(N.y)+X.elements[9])/X.elements[5],H.z=-1,H.w=(1+X.elements[10])/X.elements[14],N.multiplyScalar(2/N.dot(H)),X.elements[2]=N.x,X.elements[6]=N.y,X.elements[10]=N.z+1,X.elements[14]=N.w},[]),[Y,q,K,Q]=reactExports.useMemo(()=>{const X={type:HalfFloatType,minFilter:LinearFilter,magFilter:LinearFilter},re=new WebGLRenderTarget(g,g,X);re.depthBuffer=!0,re.depthTexture=new DepthTexture(g,g),re.depthTexture.format=DepthFormat,re.depthTexture.type=UnsignedShortType;const Z=new WebGLRenderTarget(g,g,X),ee=new BlurPass({gl:C,resolution:g,width:_[0],height:_[1],minDepthThreshold:m,maxDepthThreshold:h,depthScale:b,depthToBlurRatioBias:x}),ie={mirror:O,textureMatrix:$,mixBlur:u,tDiffuse:re.texture,tDepth:re.depthTexture,tDiffuseBlur:Z.texture,hasBlur:R,mixStrength:p,minDepthThreshold:m,maxDepthThreshold:h,depthScale:b,depthToBlurRatioBias:x,transparent:!0,debug:E,distortion:M,distortionMap:B,mixContrast:F,"defines-USE_BLUR":R?"":void 0,"defines-USE_DEPTH":b>0?"":void 0,"defines-USE_DISTORTION":B?"":void 0};return[re,Z,ee,ie]},[C,_,$,g,O,R,u,p,m,h,b,x,E,M,B,F]);return useFrame(()=>{if(!(k!=null&&k.current))return;k.current.visible=!1;const X=C.xr.enabled,re=C.shadowMap.autoUpdate;J(),C.xr.enabled=!1,C.shadowMap.autoUpdate=!1,C.setRenderTarget(Y),C.state.buffers.depth.setMask(!0),C.autoClear||C.clear(),C.render(L,V),R&&K.render(C,Y,q),C.xr.enabled=X,C.shadowMap.autoUpdate=re,k.current.visible=!0,C.setRenderTarget(null)}),reactExports.createElement("mesh",_extends({ref:mergeRefs([k,w])},S),reactExports.createElement("planeGeometry",{args:y}),T?T("meshReflectorMaterial",Q):reactExports.createElement("meshReflectorMaterial",Q))});class SpotLightMaterial extends ShaderMaterial{constructor(){super({uniforms:{depth:{value:null},opacity:{value:1},attenuation:{value:2.5},anglePower:{value:12},spotPosition:{value:new Vector3(0,0,0)},lightColor:{value:new Color("white")},cameraNear:{value:0},cameraFar:{value:1},resolution:{value:new Vector2(0,0)}},transparent:!0,depthWrite:!1,vertexShader:`
      varying vec3 vNormal;
      varying vec3 vWorldPosition;
      varying float vViewZ;
      varying float vIntensity;
      uniform vec3 spotPosition;
      uniform float attenuation;      

      void main() {
        // compute intensity
        vNormal = normalize( normalMatrix * normal );
        vec4 worldPosition	= modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;
        vec4 viewPosition = viewMatrix * worldPosition;
        vViewZ = viewPosition.z;
        float intensity	= distance(worldPosition.xyz, spotPosition) / attenuation;
        intensity	= 1.0 - clamp(intensity, 0.0, 1.0);
        vIntensity = intensity;        
        // set gl_Position
        gl_Position	= projectionMatrix * viewPosition;

      }`,fragmentShader:`
      #include <packing>

      varying vec3 vNormal;
      varying vec3 vWorldPosition;
      uniform vec3 lightColor;
      uniform vec3 spotPosition;
      uniform float attenuation;
      uniform float anglePower;
      uniform sampler2D depth;
      uniform vec2 resolution;
      uniform float cameraNear;
      uniform float cameraFar;
      varying float vViewZ;
      varying float vIntensity;
      uniform float opacity;

      float readDepth( sampler2D depthSampler, vec2 coord ) {
        float fragCoordZ = texture2D( depthSampler, coord ).x;
        float viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);
        return viewZ;
      }

      void main() {
        float d = 1.0;
        bool isSoft = resolution[0] > 0.0 && resolution[1] > 0.0;
        if (isSoft) {
          vec2 sUv = gl_FragCoord.xy / resolution;
          d = readDepth(depth, sUv);
        }
        float intensity = vIntensity;
        vec3 normal	= vec3(vNormal.x, vNormal.y, abs(vNormal.z));
        float angleIntensity	= pow( dot(normal, vec3(0.0, 0.0, 1.0)), anglePower );
        intensity	*= angleIntensity;
        // fades when z is close to sampled depth, meaning the cone is intersecting existing geometry
        if (isSoft) {
          intensity	*= smoothstep(0., 1., vViewZ - d);
        }
        gl_FragColor = vec4(lightColor, intensity * opacity);

        #include <tonemapping_fragment>
	      #include <encodings_fragment>
      }`})}}var SpotlightShadowShader=`#define GLSLIFY 1
varying vec2 vUv;uniform sampler2D uShadowMap;uniform float uTime;void main(){vec3 color=texture2D(uShadowMap,vUv).xyz;gl_FragColor=vec4(color,1.);}`;const isSpotLight=u=>u==null?void 0:u.isSpotLight;function VolumetricMesh({opacity:u=1,radiusTop:p,radiusBottom:g,depthBuffer:_,color:y="white",distance:m=5,angle:h=.15,attenuation:b=5,anglePower:x=5}){const O=reactExports.useRef(null),T=useThree(w=>w.size),E=useThree(w=>w.camera),M=useThree(w=>w.viewport.dpr),[F]=reactExports.useState(()=>new SpotLightMaterial),[B]=reactExports.useState(()=>new Vector3);p=p===void 0?.1:p,g=g===void 0?h*7:g,useFrame(()=>{F.uniforms.spotPosition.value.copy(O.current.getWorldPosition(B)),O.current.lookAt(O.current.parent.target.getWorldPosition(B))});const S=reactExports.useMemo(()=>{const w=new CylinderGeometry(p,g,m,128,64,!0);return w.applyMatrix4(new Matrix4().makeTranslation(0,-m/2,0)),w.applyMatrix4(new Matrix4().makeRotationX(-Math.PI/2)),w},[m,p,g]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("mesh",{ref:O,geometry:S,raycast:()=>null},reactExports.createElement("primitive",{object:F,attach:"material","uniforms-opacity-value":u,"uniforms-lightColor-value":y,"uniforms-attenuation-value":b,"uniforms-anglePower-value":x,"uniforms-depth-value":_,"uniforms-cameraNear-value":E.near,"uniforms-cameraFar-value":E.far,"uniforms-resolution-value":_?[T.width*M,T.height*M]:[0,0]})))}function useCommon(u,p,g,_,y){const[[m,h]]=reactExports.useState(()=>[new Vector3,new Vector3]);reactExports.useLayoutEffect(()=>{if(isSpotLight(u.current))u.current.shadow.mapSize.set(g,_),u.current.shadow.needsUpdate=!0;else throw new Error("SpotlightShadow must be a child of a SpotLight")},[u,g,_]),useFrame(()=>{if(!u.current)return;const b=u.current.position,x=u.current.target.position;h.copy(x).sub(b);var O=h.length();h.normalize().multiplyScalar(O*y),m.copy(b).add(h),p.current.position.copy(m),p.current.lookAt(u.current.target.position)})}function SpotlightShadowWithShader({distance:u=.4,alphaTest:p=.5,map:g,shader:_=SpotlightShadowShader,width:y=512,height:m=512,scale:h=1,children:b,...x}){const O=reactExports.useRef(null),T=x.spotlightRef,E=x.debug;useCommon(T,O,y,m,u);const M=reactExports.useMemo(()=>new WebGLRenderTarget(y,m,{format:RGBAFormat,encoding:LinearEncoding,stencilBuffer:!1}),[y,m]),F=reactExports.useRef({uShadowMap:{value:g},uTime:{value:0}});reactExports.useEffect(()=>void(F.current.uShadowMap.value=g),[g]);const B=reactExports.useMemo(()=>new FullScreenQuad(new ShaderMaterial({uniforms:F.current,vertexShader:`
          varying vec2 vUv;

          void main() {
            vUv = uv;
            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
          }
          `,fragmentShader:_})),[_]);return reactExports.useEffect(()=>()=>{B.material.dispose(),B.dispose()},[B]),reactExports.useEffect(()=>()=>M.dispose(),[M]),useFrame(({gl:S},w)=>{F.current.uTime.value+=w,S.setRenderTarget(M),B.render(S),S.setRenderTarget(null)}),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("mesh",{ref:O,scale:h,castShadow:!0},reactExports.createElement("planeGeometry",null),reactExports.createElement("meshBasicMaterial",{transparent:!0,side:DoubleSide,alphaTest:p,alphaMap:M.texture,"alphaMap-wrapS":RepeatWrapping,"alphaMap-wrapT":RepeatWrapping,opacity:E?1:0},b)))}function SpotlightShadowWithoutShader({distance:u=.4,alphaTest:p=.5,map:g,width:_=512,height:y=512,scale:m,children:h,...b}){const x=reactExports.useRef(null),O=b.spotlightRef,T=b.debug;return useCommon(O,x,_,y,u),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("mesh",{ref:x,scale:m,castShadow:!0},reactExports.createElement("planeGeometry",null),reactExports.createElement("meshBasicMaterial",{transparent:!0,side:DoubleSide,alphaTest:p,alphaMap:g,"alphaMap-wrapS":RepeatWrapping,"alphaMap-wrapT":RepeatWrapping,opacity:T?1:0},h)))}function SpotLightShadow(u){return u.shader?reactExports.createElement(SpotlightShadowWithShader,u):reactExports.createElement(SpotlightShadowWithoutShader,u)}const SpotLight=reactExports.forwardRef(({opacity:u=1,radiusTop:p,radiusBottom:g,depthBuffer:_,color:y="white",distance:m=5,angle:h=.15,attenuation:b=5,anglePower:x=5,volumetric:O=!0,debug:T=!1,children:E,...M},F)=>{const B=reactExports.useRef(null);return reactExports.createElement("group",null,T&&B.current&&reactExports.createElement("spotLightHelper",{args:[B.current]}),reactExports.createElement("spotLight",_extends({ref:mergeRefs([F,B]),angle:h,color:y,distance:m,castShadow:!0},M),O&&reactExports.createElement(VolumetricMesh,{debug:T,opacity:u,radiusTop:p,radiusBottom:g,depthBuffer:_,color:y,distance:m,angle:h,attenuation:b,anglePower:x})),E&&reactExports.cloneElement(E,{spotlightRef:B,debug:T}))}),Lightformer=reactExports.forwardRef(({args:u,map:p,toneMapped:g=!1,color:_="white",form:y="rect",intensity:m=1,scale:h=1,target:b,children:x,...O},T)=>{const E=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{!x&&!O.material&&(applyProps(E.current.material,{color:_}),E.current.material.color.multiplyScalar(m))},[_,m,x,O.material]),reactExports.useLayoutEffect(()=>{b&&E.current.lookAt(Array.isArray(b)?new Vector3(...b):b)},[b]),h=Array.isArray(h)&&h.length===2?[h[0],h[1],1]:h,reactExports.createElement("mesh",_extends({ref:mergeRefs([E,T]),scale:h},O),y==="circle"?reactExports.createElement("ringGeometry",{args:[0,1,64]}):y==="ring"?reactExports.createElement("ringGeometry",{args:[.5,1,64]}):y==="rect"?reactExports.createElement("planeGeometry",null):reactExports.createElement(y,{args:u}),x||(O.material?null:reactExports.createElement("meshBasicMaterial",{toneMapped:g,map:p,side:DoubleSide})))});function calcPosFromAngles(u,p,g=new Vector3){const _=Math.PI*(u-.5),y=2*Math.PI*(p-.5);return g.x=Math.cos(y),g.y=Math.sin(_),g.z=Math.sin(y),g}const Sky=reactExports.forwardRef(({inclination:u=.6,azimuth:p=.1,distance:g=1e3,mieCoefficient:_=.005,mieDirectionalG:y=.8,rayleigh:m=.5,turbidity:h=10,sunPosition:b=calcPosFromAngles(u,p),...x},O)=>{const T=reactExports.useMemo(()=>new Vector3().setScalar(g),[g]),[E]=reactExports.useState(()=>new Sky$1);return reactExports.createElement("primitive",_extends({object:E,ref:O,"material-uniforms-mieCoefficient-value":_,"material-uniforms-mieDirectionalG-value":y,"material-uniforms-rayleigh-value":m,"material-uniforms-sunPosition-value":b,"material-uniforms-turbidity-value":h,scale:T},x))});class StarfieldMaterial extends ShaderMaterial{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <encodings_fragment>
      }`})}}const genStar=u=>new Vector3().setFromSpherical(new Spherical(u,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),Stars=reactExports.forwardRef(({radius:u=100,depth:p=50,count:g=5e3,saturation:_=0,factor:y=4,fade:m=!1,speed:h=1},b)=>{const x=reactExports.useRef(),[O,T,E]=reactExports.useMemo(()=>{const F=[],B=[],S=Array.from({length:g},()=>(.5+.5*Math.random())*y),w=new Color;let C=u+p;const D=p/g;for(let L=0;L<g;L++)C-=D*Math.random(),F.push(...genStar(C).toArray()),w.setHSL(L/g,_,.9),B.push(w.r,w.g,w.b);return[new Float32Array(F),new Float32Array(B),new Float32Array(S)]},[g,p,y,u,_]);useFrame(F=>x.current&&(x.current.uniforms.time.value=F.clock.getElapsedTime()*h));const[M]=reactExports.useState(()=>new StarfieldMaterial);return reactExports.createElement("points",{ref:b},reactExports.createElement("bufferGeometry",null,reactExports.createElement("bufferAttribute",{attach:"attributes-position",args:[O,3]}),reactExports.createElement("bufferAttribute",{attach:"attributes-color",args:[T,3]}),reactExports.createElement("bufferAttribute",{attach:"attributes-size",args:[E,1]})),reactExports.createElement("primitive",{ref:x,object:M,attach:"material",blending:AdditiveBlending,"uniforms-fade-value":m,depthWrite:!1,transparent:!0,vertexColors:!0}))}),CLOUD_URL="https://rawcdn.githack.com/pmndrs/drei-assets/9225a9f1fbd449d9411125c2f419b843d0308c9f/cloud.png";function Cloud({opacity:u=.5,speed:p=.4,width:g=10,depth:_=1.5,segments:y=20,texture:m=CLOUD_URL,color:h="#ffffff",depthTest:b=!0,...x}){const O=reactExports.useRef(),T=useTexture(m),E=reactExports.useMemo(()=>[...new Array(y)].map((M,F)=>({x:g/2-Math.random()*g,y:g/2-Math.random()*g,scale:.4+Math.sin((F+1)/y*Math.PI)*((.2+Math.random())*10),density:Math.max(.2,Math.random()),rotation:Math.max(.002,.005*Math.random())*p})),[g,y,p]);return useFrame(M=>{var F;return(F=O.current)==null?void 0:F.children.forEach((B,S)=>{B.children[0].rotation.z+=E[S].rotation,B.children[0].scale.setScalar(E[S].scale+(1+Math.sin(M.clock.getElapsedTime()/10))/2*S/10)})}),reactExports.createElement("group",x,reactExports.createElement("group",{position:[0,0,y/2*_],ref:O},E.map(({x:M,y:F,scale:B,density:S},w)=>reactExports.createElement(Billboard,{key:w,position:[M,F,-w*_]},reactExports.createElement(Plane$1,{scale:B,rotation:[0,0,0]},reactExports.createElement("meshStandardMaterial",{map:T,transparent:!0,opacity:B/6*S*u,depthTest:b,color:h}))))))}const SparklesImplMaterial=shaderMaterial({time:0,pixelRatio:1},` uniform float pixelRatio;
    uniform float time;
    attribute float size;  
    attribute float speed;  
    attribute float opacity;
    attribute vec3 noise;
    attribute vec3 color;
    varying vec3 vColor;
    varying float vOpacity;
    void main() {
      vec4 modelPosition = modelMatrix * vec4(position, 1.0);
      modelPosition.y += sin(time * speed + modelPosition.x * noise.x * 100.0) * 0.2;
      modelPosition.z += cos(time * speed + modelPosition.x * noise.y * 100.0) * 0.2;
      modelPosition.x += cos(time * speed + modelPosition.x * noise.z * 100.0) * 0.2;
      vec4 viewPosition = viewMatrix * modelPosition;
      vec4 projectionPostion = projectionMatrix * viewPosition;
      gl_Position = projectionPostion;
      gl_PointSize = size * 25. * pixelRatio;
      gl_PointSize *= (1.0 / - viewPosition.z);
      vColor = color;
      vOpacity = opacity;
    }`,` varying vec3 vColor;
    varying float vOpacity;
    void main() {
      float distanceToCenter = distance(gl_PointCoord, vec2(0.5));
      float strength = 0.05 / distanceToCenter - 0.1;
      gl_FragColor = vec4(vColor, strength * vOpacity);
      #include <tonemapping_fragment>
      #include <encodings_fragment>
    }`),isFloat32Array=u=>u&&u.constructor===Float32Array,expandColor=u=>[u.r,u.g,u.b],isVector=u=>u instanceof Vector2||u instanceof Vector3||u instanceof Vector4,normalizeVector=u=>Array.isArray(u)?u:isVector(u)?u.toArray():[u,u,u];function usePropAsIsOrAsAttribute(u,p,g){return reactExports.useMemo(()=>{if(p!==void 0){if(isFloat32Array(p))return p;if(p instanceof Color){const _=Array.from({length:u*3},()=>expandColor(p)).flat();return Float32Array.from(_)}else if(isVector(p)||Array.isArray(p)){const _=Array.from({length:u*3},()=>normalizeVector(p)).flat();return Float32Array.from(_)}return Float32Array.from({length:u},()=>p)}return Float32Array.from({length:u},g)},[p])}const Sparkles=reactExports.forwardRef(({noise:u=1,count:p=100,speed:g=1,opacity:_=1,scale:y=1,size:m,color:h,children:b,...x},O)=>{reactExports.useMemo(()=>extend({SparklesImplMaterial}),[]);const T=reactExports.useRef(null),E=useThree(D=>D.viewport.dpr),M=reactExports.useMemo(()=>Float32Array.from(Array.from({length:p},()=>normalizeVector(y).map(MathUtils.randFloatSpread)).flat()),[p,y]),F=usePropAsIsOrAsAttribute(p,m,Math.random),B=usePropAsIsOrAsAttribute(p,_),S=usePropAsIsOrAsAttribute(p,g),w=usePropAsIsOrAsAttribute(p*3,u),C=usePropAsIsOrAsAttribute(h===void 0?p*3:p,isFloat32Array(h)?h:new Color(h),()=>1);return useFrame(D=>{T.current&&T.current.material&&(T.current.material.time=D.clock.elapsedTime)}),reactExports.useImperativeHandle(O,()=>T.current,[]),reactExports.createElement("points",_extends({key:`particle-${p}-${JSON.stringify(y)}`},x,{ref:T}),reactExports.createElement("bufferGeometry",null,reactExports.createElement("bufferAttribute",{attach:"attributes-position",args:[M,3]}),reactExports.createElement("bufferAttribute",{attach:"attributes-size",args:[F,1]}),reactExports.createElement("bufferAttribute",{attach:"attributes-opacity",args:[B,1]}),reactExports.createElement("bufferAttribute",{attach:"attributes-speed",args:[S,1]}),reactExports.createElement("bufferAttribute",{attach:"attributes-color",args:[C,3]}),reactExports.createElement("bufferAttribute",{attach:"attributes-noise",args:[w,3]})),b||reactExports.createElement("sparklesImplMaterial",{transparent:!0,pixelRatio:E,depthWrite:!1}))});function getFormatString(u){switch(u){case 64:return"-64px";case 128:return"-128px";case 256:return"-256px";case 512:return"-512px";default:return""}}const LIST_URL$1="https://cdn.jsdelivr.net/gh/pmndrs/drei-assets@master/matcaps.json",MATCAP_ROOT="https://rawcdn.githack.com/emmelleppi/matcaps/9b36ccaaf0a24881a39062d05566c9e92be4aa0d";function useMatcapTexture(u=0,p=1024,g){const _=suspend(()=>fetch(LIST_URL$1).then(T=>T.json()),["matcapList"]),y=_[0],m=reactExports.useMemo(()=>Object.keys(_).length,[]),b=`${reactExports.useMemo(()=>typeof u=="string"?u:typeof u=="number"?_[u]:null,[u])||y}${getFormatString(p)}.png`,x=`${MATCAP_ROOT}/${p}/${b}`;return[useTexture(x,g),x,m]}const NORMAL_ROOT="https://rawcdn.githack.com/pmndrs/drei-assets/7a3104997e1576f83472829815b00880d88b32fb",LIST_URL="https://cdn.jsdelivr.net/gh/pmndrs/drei-assets@master/normals/normals.json";function useNormalTexture(u=0,p={},g){const{repeat:_=[1,1],anisotropy:y=1,offset:m=[0,0]}=p,h=suspend(()=>fetch(LIST_URL).then(M=>M.json()),["normalsList"]),b=reactExports.useMemo(()=>Object.keys(h).length,[]),x=h[0],O=h[u]||x,T=`${NORMAL_ROOT}/normals/${O}`,E=useTexture(T,g);return reactExports.useLayoutEffect(()=>{E&&(E.wrapS=E.wrapT=RepeatWrapping,E.repeat=new Vector2(_[0],_[1]),E.offset=new Vector2(m[0],m[1]),E.anisotropy=y)},[E,y,_,m]),[E,T,b]}const WireframeMaterialShaders={uniforms:{strokeOpacity:1,fillOpacity:.25,fillMix:0,thickness:.05,colorBackfaces:!1,dashInvert:!0,dash:!1,dashRepeats:4,dashLength:.5,squeeze:!1,squeezeMin:.2,squeezeMax:1,stroke:new Color("#ff0000"),backfaceStroke:new Color("#0000ff"),fill:new Color("#00ff00")},vertex:`
	  attribute vec3 barycentric;
	
		varying vec3 v_edges_Barycentric;
		varying vec3 v_edges_Position;

		void initWireframe() {
			v_edges_Barycentric = barycentric;
			v_edges_Position = position.xyz;
		}
	  `,fragment:`
		#ifndef PI
	  	#define PI 3.1415926535897932384626433832795
		#endif
  
	  varying vec3 v_edges_Barycentric;
	  varying vec3 v_edges_Position;
  
	  uniform float strokeOpacity;
	  uniform float fillOpacity;
	  uniform float fillMix;
	  uniform float thickness;
	  uniform bool colorBackfaces;
  
	  // Dash
	  uniform bool dashInvert;
	  uniform bool dash;
	  uniform bool dashOnly;
	  uniform float dashRepeats;
	  uniform float dashLength;
  
	  // Squeeze
	  uniform bool squeeze;
	  uniform float squeezeMin;
	  uniform float squeezeMax;
  
	  // Colors
	  uniform vec3 stroke;
	  uniform vec3 backfaceStroke;
	  uniform vec3 fill;
  
	  // This is like
	  float wireframe_aastep(float threshold, float dist) {
		  float afwidth = fwidth(dist) * 0.5;
		  return smoothstep(threshold - afwidth, threshold + afwidth, dist);
	  }
  
	  float wireframe_map(float value, float min1, float max1, float min2, float max2) {
		  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
	  }
  
	  float getWireframe() {
			vec3 barycentric = v_edges_Barycentric;
		
			// Distance from center of each triangle to its edges.
			float d = min(min(barycentric.x, barycentric.y), barycentric.z);

			// for dashed rendering, we can use this to get the 0 .. 1 value of the line length
			float positionAlong = max(barycentric.x, barycentric.y);
			if (barycentric.y < barycentric.x && barycentric.y < barycentric.z) {
				positionAlong = 1.0 - positionAlong;
			}

			// the thickness of the stroke
			float computedThickness = wireframe_map(thickness, 0.0, 1.0, 0.0, 0.34);

			// if we want to shrink the thickness toward the center of the line segment
			if (squeeze) {
				computedThickness *= mix(squeezeMin, squeezeMax, (1.0 - sin(positionAlong * PI)));
			}

			// Create dash pattern
			if (dash) {
				// here we offset the stroke position depending on whether it
				// should overlap or not
				float offset = 1.0 / dashRepeats * dashLength / 2.0;
				if (!dashInvert) {
					offset += 1.0 / dashRepeats / 2.0;
				}

				// if we should animate the dash or not
				// if (dashAnimate) {
				// 	offset += time * 0.22;
				// }

				// create the repeating dash pattern
				float pattern = fract((positionAlong + offset) * dashRepeats);
				computedThickness *= 1.0 - wireframe_aastep(dashLength, pattern);
			}

			// compute the anti-aliased stroke edge  
			float edge = 1.0 - wireframe_aastep(computedThickness, d);

			return edge;
	  }
	  `},WireframeMaterial=shaderMaterial(WireframeMaterialShaders.uniforms,WireframeMaterialShaders.vertex+`
  	void main() {
		initWireframe();
		gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
	}
  `,WireframeMaterialShaders.fragment+`
  void main () {
		// Compute color

		float edge = getWireframe();
		vec4 colorStroke = vec4(stroke, edge);

		#ifdef FLIP_SIDED
			colorStroke.rgb = backfaceStroke;
		#endif
    
		vec4 colorFill = vec4(fill, fillOpacity);
		vec4 outColor = mix(colorFill, colorStroke, edge * strokeOpacity);

		gl_FragColor = outColor;
	}
  `);function setWireframeOverride(u,p){u.onBeforeCompile=g=>{g.uniforms={...g.uniforms,...p},g.vertexShader=g.vertexShader.replace("void main() {",`
		  ${WireframeMaterialShaders.vertex}
		  void main() {
			initWireframe();
		`),g.fragmentShader=g.fragmentShader.replace("void main() {",`
		  ${WireframeMaterialShaders.fragment}
		  void main() {
		`),g.fragmentShader=g.fragmentShader.replace("#include <color_fragment>",`
		  #include <color_fragment>
			  float edge = getWireframe();
		  vec4 colorStroke = vec4(stroke, edge);
		  #ifdef FLIP_SIDED
			colorStroke.rgb = backfaceStroke;
		  #endif
		  vec4 colorFill = vec4(mix(diffuseColor.rgb, fill, fillMix), mix(diffuseColor.a, fillOpacity, fillMix));
		  vec4 outColor = mix(colorFill, colorStroke, edge * strokeOpacity);

		  diffuseColor.rgb = outColor.rgb;
		  diffuseColor.a *= outColor.a;
		`)},u.side=DoubleSide,u.transparent=!0}function useWireframeUniforms(u,p){reactExports.useEffect(()=>{var g;return void(u.fillOpacity.value=(g=p.fillOpacity)!==null&&g!==void 0?g:u.fillOpacity.value)},[p.fillOpacity]),reactExports.useEffect(()=>{var g;return void(u.fillMix.value=(g=p.fillMix)!==null&&g!==void 0?g:u.fillMix.value)},[p.fillMix]),reactExports.useEffect(()=>{var g;return void(u.strokeOpacity.value=(g=p.strokeOpacity)!==null&&g!==void 0?g:u.strokeOpacity.value)},[p.strokeOpacity]),reactExports.useEffect(()=>{var g;return void(u.thickness.value=(g=p.thickness)!==null&&g!==void 0?g:u.thickness.value)},[p.thickness]),reactExports.useEffect(()=>void(u.colorBackfaces.value=!!p.colorBackfaces),[p.colorBackfaces]),reactExports.useEffect(()=>void(u.dash.value=!!p.dash),[p.dash]),reactExports.useEffect(()=>void(u.dashInvert.value=!!p.dashInvert),[p.dashInvert]),reactExports.useEffect(()=>{var g;return void(u.dashRepeats.value=(g=p.dashRepeats)!==null&&g!==void 0?g:u.dashRepeats.value)},[p.dashRepeats]),reactExports.useEffect(()=>{var g;return void(u.dashLength.value=(g=p.dashLength)!==null&&g!==void 0?g:u.dashLength.value)},[p.dashLength]),reactExports.useEffect(()=>void(u.squeeze.value=!!p.squeeze),[p.squeeze]),reactExports.useEffect(()=>{var g;return void(u.squeezeMin.value=(g=p.squeezeMin)!==null&&g!==void 0?g:u.squeezeMin.value)},[p.squeezeMin]),reactExports.useEffect(()=>{var g;return void(u.squeezeMax.value=(g=p.squeezeMax)!==null&&g!==void 0?g:u.squeezeMax.value)},[p.squeezeMax]),reactExports.useEffect(()=>void(u.stroke.value=p.stroke?new Color(p.stroke):u.stroke.value),[p.stroke]),reactExports.useEffect(()=>void(u.fill.value=p.fill?new Color(p.fill):u.fill.value),[p.fill]),reactExports.useEffect(()=>void(u.backfaceStroke.value=p.backfaceStroke?new Color(p.backfaceStroke):u.backfaceStroke.value),[p.backfaceStroke])}extend({MeshWireframeMaterial:WireframeMaterial});function isWithGeometry(u){return!!(u!=null&&u.geometry)}function isGeometry(u){return!!(u!=null&&u.isBufferGeometry)}function isRefObject(u){return!!(u!=null&&u.current)}function isRef(u){return(u==null?void 0:u.current)!==void 0}function isWireframeGeometry(u){return u.type==="WireframeGeometry"}function getUniforms(){const u={};for(const p in WireframeMaterialShaders.uniforms)u[p]={value:WireframeMaterialShaders.uniforms[p]};return u}function getBarycentricCoordinates(u,p){const _=u.getAttribute("position").count,y=[];for(let m=0;m<_;m++){const h=m%2===0,b=p?1:0;h?y.push(0,0,1,0,1,0,1,0,b):y.push(0,1,0,0,0,1,1,0,b)}return new BufferAttribute(Float32Array.from(y),3)}function getInputGeometry(u){const p=isRefObject(u)?u.current:u;if(isGeometry(p))return p;{if(isWireframeGeometry(p))throw new Error("Wireframe: WireframeGeometry is not supported.");const g=p.parent;if(isWithGeometry(g)){if(isWireframeGeometry(g.geometry))throw new Error("Wireframe: WireframeGeometry is not supported.");return g.geometry}}}function setBarycentricCoordinates(u,p){if(u.index){console.warn("Wireframe: Requires non-indexed geometry, converting to non-indexed geometry.");const _=u.toNonIndexed();u.copy(_),u.setIndex(null)}const g=getBarycentricCoordinates(u,p);u.setAttribute("barycentric",g)}function WireframeWithCustomGeo({geometry:u,simplify:p=!1,...g}){const[_,y]=reactExports.useState(null);reactExports.useLayoutEffect(()=>{const h=getInputGeometry(u);if(!h)throw new Error("Wireframe: geometry prop must be a BufferGeometry or a ref to a BufferGeometry.");setBarycentricCoordinates(h,p),isRef(u)&&y(h)},[p,u]);const m=isRef(u)?_:u;return reactExports.createElement(reactExports.Fragment,null,m&&reactExports.createElement("mesh",{geometry:m},reactExports.createElement("meshWireframeMaterial",_extends({attach:"material",transparent:!0,side:DoubleSide,polygonOffset:!0,polygonOffsetFactor:-4},g,{extensions:{derivatives:!0,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1}}))))}function WireframeWithoutCustomGeo({simplify:u=!1,...p}){const g=reactExports.useRef(null),_=reactExports.useMemo(()=>getUniforms(),[WireframeMaterialShaders.uniforms]);return useWireframeUniforms(_,p),reactExports.useLayoutEffect(()=>{const y=getInputGeometry(g);if(!y)throw new Error("Wireframe: Must be a child of a Mesh, Line or Points object or specify a geometry prop.");const m=y.clone();return setBarycentricCoordinates(y,u),()=>{y.copy(m),m.dispose()}},[u]),reactExports.useLayoutEffect(()=>{const y=g.current.parent,m=y.material.clone();return setWireframeOverride(y.material,_),()=>{y.material.dispose(),y.material=m}},[]),reactExports.createElement("object3D",{ref:g})}function Wireframe({geometry:u,...p}){return u?reactExports.createElement(WireframeWithCustomGeo,_extends({geometry:u},p)):reactExports.createElement(WireframeWithoutCustomGeo,p)}const _inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere,_position=new Vector3;class PositionPoint extends Group{constructor(){super(),this.size=0,this.color=new Color("white"),this.instance={current:void 0},this.instanceKey={current:void 0}}get geometry(){var p;return(p=this.instance.current)==null?void 0:p.geometry}raycast(p,g){var _,y;const m=this.instance.current;if(!m||!m.geometry)return;const h=m.userData.instances.indexOf(this.instanceKey);if(h===-1||h>m.geometry.drawRange.count)return;const b=(_=(y=p.params.Points)==null?void 0:y.threshold)!==null&&_!==void 0?_:1;if(_sphere$1.set(this.getWorldPosition(_position),b),p.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(m.matrixWorld).invert(),_ray$1.copy(p.ray).applyMatrix4(_inverseMatrix$1);const x=b/((this.scale.x+this.scale.y+this.scale.z)/3),O=x*x,T=_ray$1.distanceSqToPoint(this.position);if(T<O){const E=new Vector3;_ray$1.closestPointToPoint(this.position,E),E.applyMatrix4(this.matrixWorld);const M=p.ray.origin.distanceTo(E);if(M<p.near||M>p.far)return;g.push({distance:M,distanceToRay:Math.sqrt(T),point:E,index:h,face:null,object:this})}}}let i,positionRef;const context$3=reactExports.createContext(null),parentMatrix$1=new Matrix4,position=new Vector3,PointsInstances=reactExports.forwardRef(({children:u,range:p,limit:g=1e3,..._},y)=>{const m=reactExports.useRef(null),[h,b]=reactExports.useState([]),[[x,O,T]]=reactExports.useState(()=>[new Float32Array(g*3),Float32Array.from({length:g*3},()=>1),Float32Array.from({length:g},()=>1)]);reactExports.useEffect(()=>{m.current.geometry.attributes.position.needsUpdate=!0}),useFrame(()=>{for(m.current.updateMatrix(),m.current.updateMatrixWorld(),parentMatrix$1.copy(m.current.matrixWorld).invert(),m.current.geometry.drawRange.count=Math.min(g,p!==void 0?p:g,h.length),i=0;i<h.length;i++)positionRef=h[i].current,positionRef.getWorldPosition(position).applyMatrix4(parentMatrix$1),position.toArray(x,i*3),m.current.geometry.attributes.position.needsUpdate=!0,positionRef.matrixWorldNeedsUpdate=!0,positionRef.color.toArray(O,i*3),m.current.geometry.attributes.color.needsUpdate=!0,T.set([positionRef.size],i),m.current.geometry.attributes.size.needsUpdate=!0});const E=reactExports.useMemo(()=>({getParent:()=>m,subscribe:M=>(b(F=>[...F,M]),()=>b(F=>F.filter(B=>B.current!==M.current)))}),[]);return reactExports.createElement("points",_extends({userData:{instances:h},matrixAutoUpdate:!1,ref:mergeRefs([y,m]),raycast:()=>null},_),reactExports.createElement("bufferGeometry",null,reactExports.createElement("bufferAttribute",{attach:"attributes-position",count:x.length/3,array:x,itemSize:3,usage:DynamicDrawUsage}),reactExports.createElement("bufferAttribute",{attach:"attributes-color",count:O.length/3,array:O,itemSize:3,usage:DynamicDrawUsage}),reactExports.createElement("bufferAttribute",{attach:"attributes-size",count:T.length,array:T,itemSize:1,usage:DynamicDrawUsage})),reactExports.createElement(context$3.Provider,{value:E},u))}),Point=reactExports.forwardRef(({children:u,...p},g)=>{reactExports.useMemo(()=>extend({PositionPoint}),[]);const _=reactExports.useRef(),{subscribe:y,getParent:m}=reactExports.useContext(context$3);return reactExports.useLayoutEffect(()=>y(_),[]),reactExports.createElement("positionPoint",_extends({instance:m(),instanceKey:_,ref:mergeRefs([g,_])},p),u)}),PointsBuffer=reactExports.forwardRef(({children:u,positions:p,colors:g,sizes:_,stride:y=3,...m},h)=>{const b=reactExports.useRef(null);return useFrame(()=>{const x=b.current.geometry.attributes;x.position.needsUpdate=!0,g&&(x.color.needsUpdate=!0),_&&(x.size.needsUpdate=!0)}),reactExports.createElement("points",_extends({ref:mergeRefs([h,b])},m),reactExports.createElement("bufferGeometry",null,reactExports.createElement("bufferAttribute",{attach:"attributes-position",count:p.length/y,array:p,itemSize:y,usage:DynamicDrawUsage}),g&&reactExports.createElement("bufferAttribute",{attach:"attributes-color",count:g.length/y,array:g,itemSize:3,usage:DynamicDrawUsage}),_&&reactExports.createElement("bufferAttribute",{attach:"attributes-size",count:_.length/y,array:_,itemSize:1,usage:DynamicDrawUsage})),u)}),Points=reactExports.forwardRef((u,p)=>u.positions instanceof Float32Array?reactExports.createElement(PointsBuffer,_extends({},u,{ref:p})):reactExports.createElement(PointsInstances,_extends({},u,{ref:p})));function Composer(u){return renderRecursive(u.children,u.components)}Composer.propTypes={children:propTypesExports.func.isRequired,components:propTypesExports.arrayOf(propTypesExports.oneOfType([propTypesExports.element,propTypesExports.func])).isRequired};function renderRecursive(u,p,g){if(g=g||[],!p[0])return u(g);function _(y){return renderRecursive(u,p.slice(1),g.concat([y]))}return typeof p[0]=="function"?p[0]({results:g,render:_}):reactExports.cloneElement(p[0],{children:_})}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_mesh=new Mesh;class PositionMesh extends Group{constructor(){super(),this.color=new Color("white"),this.instance={current:void 0},this.instanceKey={current:void 0}}get geometry(){var p;return(p=this.instance.current)==null?void 0:p.geometry}raycast(p,g){const _=this.instance.current;if(!_||!_.geometry||!_.material)return;_mesh.geometry=_.geometry;const y=_.matrixWorld,m=_.userData.instances.indexOf(this.instanceKey);if(!(m===-1||m>_.count)){_.getMatrixAt(m,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(y,_instanceLocalMatrix),_mesh.matrixWorld=_instanceWorldMatrix,_.material instanceof Material?_mesh.material.side=_.material.side:_mesh.material.side=_.material[0].side,_mesh.raycast(p,_instanceIntersects);for(let h=0,b=_instanceIntersects.length;h<b;h++){const x=_instanceIntersects[h];x.instanceId=m,x.object=this,g.push(x)}_instanceIntersects.length=0}}}const globalContext=reactExports.createContext(null),parentMatrix=new Matrix4,instanceMatrix=new Matrix4,tempMatrix=new Matrix4,translation=new Vector3,rotation=new Quaternion,scale=new Vector3,Instance=reactExports.forwardRef(({context:u,children:p,...g},_)=>{reactExports.useMemo(()=>extend({PositionMesh}),[]);const y=reactExports.useRef(),{subscribe:m,getParent:h}=reactExports.useContext(u||globalContext);return reactExports.useLayoutEffect(()=>m(y),[]),reactExports.createElement("positionMesh",_extends({instance:h(),instanceKey:y,ref:mergeRefs([_,y])},g),p)}),Instances=reactExports.forwardRef(({children:u,range:p,limit:g=1e3,frames:_=1/0,...y},m)=>{const[{context:h,instance:b}]=reactExports.useState(()=>{const w=reactExports.createContext(null);return{context:w,instance:reactExports.forwardRef((C,D)=>reactExports.createElement(Instance,_extends({context:w},C,{ref:D})))}}),x=reactExports.useRef(null),[O,T]=reactExports.useState([]),[[E,M]]=reactExports.useState(()=>{const w=new Float32Array(g*16);for(let C=0;C<g;C++)tempMatrix.identity().toArray(w,C*16);return[w,new Float32Array([...new Array(g*3)].map(()=>1))]});reactExports.useEffect(()=>{x.current.instanceMatrix.needsUpdate=!0});let F=0,B=0;useFrame(()=>{if(_===1/0||F<_){x.current.updateMatrix(),x.current.updateMatrixWorld(),parentMatrix.copy(x.current.matrixWorld).invert(),B=Math.min(g,p!==void 0?p:g,O.length),x.current.count=B,x.current.instanceMatrix.updateRange.count=B*16,x.current.instanceColor.updateRange.count=B*3;for(let w=0;w<O.length;w++){const C=O[w].current;C.matrixWorld.decompose(translation,rotation,scale),instanceMatrix.compose(translation,rotation,scale).premultiply(parentMatrix),instanceMatrix.toArray(E,w*16),x.current.instanceMatrix.needsUpdate=!0,C.color.toArray(M,w*3),x.current.instanceColor.needsUpdate=!0}F++}});const S=reactExports.useMemo(()=>({getParent:()=>x,subscribe:w=>(T(C=>[...C,w]),()=>T(C=>C.filter(D=>D.current!==w.current)))}),[]);return reactExports.createElement("instancedMesh",_extends({userData:{instances:O},matrixAutoUpdate:!1,ref:mergeRefs([m,x]),args:[null,null,0],raycast:()=>null},y),reactExports.createElement("instancedBufferAttribute",{attach:"instanceMatrix",count:E.length/16,array:E,itemSize:16,usage:DynamicDrawUsage}),reactExports.createElement("instancedBufferAttribute",{attach:"instanceColor",count:M.length/3,array:M,itemSize:3,usage:DynamicDrawUsage}),typeof u=="function"?reactExports.createElement(h.Provider,{value:S},u(b)):reactExports.createElement(globalContext.Provider,{value:S},u))}),Merged=reactExports.forwardRef(function u({meshes:p,children:g,..._},y){const m=Array.isArray(p);if(!m)for(const h of Object.keys(p))p[h].isMesh||delete p[h];return reactExports.createElement("group",{ref:y},reactExports.createElement(Composer,{components:(m?p:Object.values(p)).map(({geometry:h,material:b})=>reactExports.createElement(Instances,_extends({key:h.uuid,geometry:h,material:b},_)))},h=>m?g(...h):g(Object.keys(p).filter(b=>p[b].isMesh).reduce((b,x,O)=>({...b,[x]:h[O]}),{}))))}),context$2=reactExports.createContext(null),Segments=reactExports.forwardRef((u,p)=>{reactExports.useMemo(()=>extend({SegmentObject}),[]);const{limit:g=1e3,lineWidth:_=1,children:y,...m}=u,[h,b]=reactExports.useState([]),[x]=reactExports.useState(()=>new Line2),[O]=reactExports.useState(()=>new LineMaterial),[T]=reactExports.useState(()=>new LineSegmentsGeometry),[E]=reactExports.useState(()=>new Vector2(512,512)),[M]=reactExports.useState(()=>Array(g*6).fill(0)),[F]=reactExports.useState(()=>Array(g*6).fill(0)),B=reactExports.useMemo(()=>({subscribe:S=>(b(w=>[...w,S]),()=>b(w=>w.filter(C=>C.current!==S.current)))}),[]);return useFrame(()=>{for(let w=0;w<g;w++){var S;const C=(S=h[w])==null?void 0:S.current;C&&(M[w*6+0]=C.start.x,M[w*6+1]=C.start.y,M[w*6+2]=C.start.z,M[w*6+3]=C.end.x,M[w*6+4]=C.end.y,M[w*6+5]=C.end.z,F[w*6+0]=C.color.r,F[w*6+1]=C.color.g,F[w*6+2]=C.color.b,F[w*6+3]=C.color.r,F[w*6+4]=C.color.g,F[w*6+5]=C.color.b)}T.setColors(F),T.setPositions(M),x.computeLineDistances()}),reactExports.createElement("primitive",{object:x,ref:p},reactExports.createElement("primitive",{object:T,attach:"geometry"}),reactExports.createElement("primitive",_extends({object:O,attach:"material",vertexColors:!0,resolution:E,linewidth:_},m)),reactExports.createElement(context$2.Provider,{value:B},y))});class SegmentObject{constructor(){this.color=new Color("white"),this.start=new Vector3(0,0,0),this.end=new Vector3(0,0,0)}}const normPos=u=>u instanceof Vector3?u:new Vector3(...typeof u=="number"?[u,u,u]:u),Segment=reactExports.forwardRef(({color:u,start:p,end:g},_)=>{const y=reactExports.useContext(context$2);if(!y)throw"Segment must used inside Segments component.";const m=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>y.subscribe(m),[]),reactExports.createElement("segmentObject",{ref:mergeRefs([m,_]),color:u,start:normPos(p),end:normPos(g)})}),Detailed=reactExports.forwardRef(({children:u,hysteresis:p=0,distances:g,..._},y)=>{const m=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{const{current:h}=m;h.levels.length=0,h.children.forEach((b,x)=>h.levels.push({object:b,hysteresis:p,distance:g[x]}))}),useFrame(h=>{var b;return(b=m.current)==null?void 0:b.update(h.camera)}),reactExports.createElement("lOD",_extends({ref:mergeRefs([m,y])},_),u)});function Preload({all:u,scene:p,camera:g}){const _=useThree(({gl:h})=>h),y=useThree(({camera:h})=>h),m=useThree(({scene:h})=>h);return reactExports.useLayoutEffect(()=>{const h=[];u&&(p||m).traverse(O=>{O.visible===!1&&(h.push(O),O.visible=!0)}),_.compile(p||m,g||y);const b=new WebGLCubeRenderTarget(128);new CubeCamera$1(.01,1e5,b).update(_,p||m),b.dispose(),h.forEach(O=>O.visible=!1)},[]),null}function BakeShadows(){const u=useThree(p=>p.gl);return reactExports.useEffect(()=>(u.shadowMap.autoUpdate=!1,u.shadowMap.needsUpdate=!0,()=>{u.shadowMap.autoUpdate=u.shadowMap.needsUpdate=!0}),[u.shadowMap]),null}const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere,_vA=new Vector3;function meshBounds(u,p){const g=this.geometry,_=this.material,y=this.matrixWorld;_!==void 0&&(g.boundingSphere===null&&g.computeBoundingSphere(),_sphere.copy(g.boundingSphere),_sphere.applyMatrix4(y),u.ray.intersectsSphere(_sphere)!==!1&&(_inverseMatrix.copy(y).invert(),_ray.copy(u.ray).applyMatrix4(_inverseMatrix),!(g.boundingBox!==null&&_ray.intersectBox(g.boundingBox,_vA)===null)&&p.push({distance:_vA.distanceTo(u.ray.origin),point:_vA.clone(),object:this})))}function AdaptiveDpr({pixelated:u}){const p=useThree(h=>h.gl),g=useThree(h=>h.internal.active),_=useThree(h=>h.performance.current),y=useThree(h=>h.viewport.initialDpr),m=useThree(h=>h.setDpr);return reactExports.useEffect(()=>{const h=p.domElement;return()=>{g&&m(y),u&&h&&(h.style.imageRendering="auto")}},[]),reactExports.useEffect(()=>{m(_*y),u&&p.domElement&&(p.domElement.style.imageRendering=_===1?"auto":"pixelated")},[_]),null}function AdaptiveEvents(){const u=useThree(_=>_.get),p=useThree(_=>_.setEvents),g=useThree(_=>_.performance.current);return reactExports.useEffect(()=>{const _=u().events.enabled;return()=>p({enabled:_})},[]),reactExports.useEffect(()=>p({enabled:g===1}),[g]),null}const context$1=reactExports.createContext(null);function PerformanceMonitor({iterations:u=10,ms:p=250,threshold:g=.75,step:_=.1,factor:y=.5,flipflops:m=1/0,bounds:h=M=>M>100?[60,100]:[40,60],onIncline:b,onDecline:x,onChange:O,onFallback:T,children:E}){const M=Math.pow(10,0),[F,B]=reactExports.useState(()=>({fps:0,index:0,factor:y,flipped:0,refreshrate:0,fallback:!1,frames:[],averages:[],subscriptions:new Map,subscribe:w=>{const C=Symbol();return F.subscriptions.set(C,w.current),()=>void F.subscriptions.delete(C)}}));let S=0;return useFrame(()=>{const{frames:w,averages:C}=F;if(!F.fallback&&C.length<u){w.push(performance.now());const D=w[w.length-1]-w[0];if(D>=p){if(F.fps=Math.round(w.length/D*1e3*M)/M,F.refreshrate=Math.max(F.refreshrate,F.fps),C[F.index++%u]=F.fps,C.length===u){const[L,R]=h(F.refreshrate),k=C.filter(I=>I>=R),A=C.filter(I=>I<L);k.length>u*g&&(F.factor=Math.min(1,F.factor+_),F.flipped++,b&&b(F),F.subscriptions.forEach(I=>I.onIncline&&I.onIncline(F))),A.length>u*g&&(F.factor=Math.max(0,F.factor-_),F.flipped++,x&&x(F),F.subscriptions.forEach(I=>I.onDecline&&I.onDecline(F))),S!==F.factor&&(S=F.factor,O&&O(F),F.subscriptions.forEach(I=>I.onChange&&I.onChange(F))),F.flipped>m&&!F.fallback&&(F.fallback=!0,T&&T(F),F.subscriptions.forEach(I=>I.onFallback&&I.onFallback(F))),F.averages=[]}F.frames=[]}}}),reactExports.createElement(context$1.Provider,{value:F},E)}function usePerformanceMonitor({onIncline:u,onDecline:p,onChange:g,onFallback:_}){const y=reactExports.useContext(context$1),m=reactExports.useRef({onIncline:u,onDecline:p,onChange:g,onFallback:_});reactExports.useLayoutEffect(()=>{m.current.onIncline=u,m.current.onDecline=p,m.current.onChange=g,m.current.onFallback=_},[u,p,g,_]),reactExports.useLayoutEffect(()=>y.subscribe(m),[y])}const RenderTexture=reactExports.forwardRef(({children:u,compute:p,width:g,height:_,samples:y=8,renderPriority:m=0,eventPriority:h=0,frames:b=1/0,stencilBuffer:x=!1,depthBuffer:O=!0,generateMipmaps:T=!1,...E},M)=>{const{size:F,viewport:B}=useThree(),S=useFBO((g||F.width)*B.dpr,(_||F.height)*B.dpr,{samples:y,stencilBuffer:x,depthBuffer:O,generateMipmaps:T}),[w]=reactExports.useState(()=>new Scene),C=reactExports.useCallback((D,L,R)=>{var k,A;let I=(k=S.texture)==null?void 0:k.__r3f.parent;for(;I&&!(I instanceof Object3D);)I=I.__r3f.parent;if(!I)return!1;R.raycaster.camera||R.events.compute(D,R,(A=R.previousRoot)==null?void 0:A.getState());const[P]=R.raycaster.intersectObject(I);if(!P)return!1;const G=P.uv;if(!G)return!1;L.raycaster.setFromCamera(L.pointer.set(G.x*2-1,G.y*2-1),L.camera)},[]);return reactExports.useImperativeHandle(M,()=>S.texture,[S]),reactExports.createElement(reactExports.Fragment,null,createPortal(reactExports.createElement(Container$1,{renderPriority:m,frames:b,fbo:S},u,reactExports.createElement("group",{onPointerOver:()=>null})),w,{events:{compute:p||C,priority:h}}),reactExports.createElement("primitive",_extends({object:S.texture},E)))});function Container$1({frames:u,renderPriority:p,children:g,fbo:_}){let y=0,m;return useFrame(h=>{(u===1/0||y<u)&&(m=h.gl.autoClear,h.gl.autoClear=!0,h.gl.setRenderTarget(_),h.gl.render(h.scene,h.camera),h.gl.setRenderTarget(null),h.gl.autoClear=m,y++)},p),reactExports.createElement(reactExports.Fragment,null,g)}const Mask=reactExports.forwardRef(({id:u=1,colorWrite:p=!1,depthWrite:g=!1,..._},y)=>{const m=reactExports.useRef(null),h=reactExports.useMemo(()=>({colorWrite:p,depthWrite:g,stencilWrite:!0,stencilRef:u,stencilFunc:AlwaysStencilFunc,stencilFail:ReplaceStencilOp,stencilZFail:ReplaceStencilOp,stencilZPass:ReplaceStencilOp}),[u,p,g]);return reactExports.useLayoutEffect(()=>{Object.assign(m.current.material,h)}),reactExports.useImperativeHandle(y,()=>m.current,[]),reactExports.createElement("mesh",_extends({ref:m,renderOrder:-u},_))});function useMask(u,p=!1){return{stencilWrite:!0,stencilRef:u,stencilFunc:p?NotEqualStencilFunc:EqualStencilFunc,stencilFail:KeepStencilOp,stencilZFail:KeepStencilOp,stencilZPass:KeepStencilOp}}const PortalMaterialImpl=shaderMaterial({blur:0,map:null,sdf:null,blend:0,size:0,resolution:new Vector2},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
     vUv = uv;
   }`,`uniform sampler2D sdf;
   uniform sampler2D map;
   uniform float blur;
   uniform float size;
   uniform float time;
   uniform vec2 resolution;
   varying vec2 vUv;
   #include <packing>
   void main() {
     vec2 uv = gl_FragCoord.xy / resolution.xy;
     vec4 t = texture2D(map, uv);
     float k = blur;
     float d = texture2D(sdf, vUv).r/size;
     float alpha = 1.0 - smoothstep(0.0, 1.0, clamp(d/k + 1.0, 0.0, 1.0));
     gl_FragColor = vec4(t.rgb, blur == 0.0 ? t.a : t.a * alpha);
     #include <tonemapping_fragment>
     #include <encodings_fragment>
   }`),MeshPortalMaterial=reactExports.forwardRef(({children:u,events:p=void 0,blur:g=0,eventPriority:_=0,renderPriority:y=0,worldUnits:m=!1,resolution:h=512,...b},x)=>{extend({PortalMaterialImpl});const O=reactExports.useRef(null),{scene:T,gl:E,size:M,viewport:F,setEvents:B}=useThree(),S=useFBO(h,h),[w,C]=reactExports.useState(0);useFrame(()=>{const A=O.current.blend>0?Math.max(1,y):0;w!==A&&C(A)}),reactExports.useEffect(()=>{p!==void 0&&B({enabled:!p})},[p]);const[D,L]=reactExports.useState(!0),R=useIntersect(L);reactExports.useLayoutEffect(()=>{var A;R.current=(A=O.current)==null?void 0:A.__r3f.parent},[]),reactExports.useLayoutEffect(()=>{if(R.current&&g&&O.current.sdf===null){const A=new Mesh(R.current.geometry,new MeshBasicMaterial),I=new Box3().setFromBufferAttribute(A.geometry.attributes.position),P=new OrthographicCamera$1(I.min.x*(1+2/h),I.max.x*(1+2/h),I.max.y*(1+2/h),I.min.y*(1+2/h),.1,1e3);P.position.set(0,0,1),P.lookAt(0,0,0),E.setRenderTarget(S),E.render(A,P);const z=makeSDFGenerator(h,h,E)(S.texture),j=new Float32Array(h*h);E.readRenderTargetPixels(z,0,0,h,h,j);let N=1/0;for(let W=0;W<j.length;W++)j[W]<N&&(N=j[W]);N=-N,O.current.size=N,O.current.sdf=z.texture,E.setRenderTarget(null)}},[h,g]),reactExports.useImperativeHandle(x,()=>O.current);const k=reactExports.useCallback((A,I,P)=>{var G;if(!R.current)return!1;if(I.pointer.set(A.offsetX/I.size.width*2-1,-(A.offsetY/I.size.height)*2+1),I.raycaster.setFromCamera(I.pointer,I.camera),((G=O.current)==null?void 0:G.blend)===0){const[z]=I.raycaster.intersectObject(R.current);if(!z)return I.raycaster.camera=void 0,!1}},[]);return reactExports.createElement("portalMaterialImpl",_extends({ref:O,blur:g,blend:0,resolution:[M.width*F.dpr,M.height*F.dpr],toneMapped:!1,attach:"material"},b),reactExports.createElement(RenderTexture,{attach:"map",frames:D?1/0:0,eventPriority:_,renderPriority:y,compute:k},u,reactExports.createElement(CopyMatrix,{events:p,rootScene:T,priority:w,material:O,worldUnits:m})))});function CopyMatrix({events:u=void 0,rootScene:p,material:g,priority:_,worldUnits:y}){const m=useThree(E=>E.scene),h=useThree(E=>E.setEvents),b=useFBO(),x=useFBO();reactExports.useLayoutEffect(()=>{m.matrixAutoUpdate=!1},[]),reactExports.useEffect(()=>{u!==void 0&&h({enabled:u})},[u]);const[O,T]=reactExports.useMemo(()=>{const E={value:0};return[new FullScreenQuad(new ShaderMaterial({uniforms:{a:{value:b.texture},b:{value:x.texture},blend:E},vertexShader:`
          varying vec2 vUv;
          void main() {
            vUv = uv;
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
          }`,fragmentShader:`
          uniform sampler2D a;
          uniform sampler2D b;
          uniform float blend;
          varying vec2 vUv;
          #include <packing>
          void main() {
            vec4 ta = texture2D(a, vUv);
            vec4 tb = texture2D(b, vUv);
            gl_FragColor = mix(tb, ta, blend);
            #include <encodings_fragment>
          }`})),E]},[]);return useFrame(E=>{var M;let F=g==null||(M=g.current)==null?void 0:M.__r3f.parent;if(F&&(y?m.matrixWorld.identity():m.matrixWorld.copy(F.matrixWorld),_)){var B,S,w;((B=g.current)==null?void 0:B.blend)>0&&((S=g.current)==null?void 0:S.blend)<1&&F?(T.value=g.current.blend,E.gl.setRenderTarget(b),E.gl.render(m,E.camera),E.gl.setRenderTarget(x),E.gl.render(p,E.camera),E.gl.setRenderTarget(null),O.render(E.gl)):((w=g.current)==null?void 0:w.blend)===1&&E.gl.render(m,E.camera)}},_),reactExports.createElement(reactExports.Fragment,null)}const makeSDFGenerator=(u,p,g)=>{let _=new WebGLRenderTarget(u,p,{minFilter:LinearMipmapLinearFilter,magFilter:LinearFilter,type:FloatType,format:RedFormat,generateMipmaps:!0}),y=new WebGLRenderTarget(u,p,{minFilter:NearestFilter,magFilter:NearestFilter}),m=new WebGLRenderTarget(u,p,{minFilter:NearestFilter,magFilter:NearestFilter}),h=new WebGLRenderTarget(u,p,{minFilter:NearestFilter,magFilter:NearestFilter}),b=new WebGLRenderTarget(u,p,{minFilter:NearestFilter,magFilter:NearestFilter}),x=new WebGLRenderTarget(u,p,{minFilter:NearestFilter,magFilter:NearestFilter,type:FloatType,format:RedFormat}),O=new WebGLRenderTarget(u,p,{minFilter:NearestFilter,magFilter:NearestFilter,type:FloatType,format:RedFormat});const T=new FullScreenQuad(new ShaderMaterial({uniforms:{tex:{value:null}},vertexShader:`
        varying vec2 vUv;
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }`,fragmentShader:`
        uniform sampler2D tex;
        varying vec2 vUv;
        #include <packing>
        void main() {
          gl_FragColor = pack2HalfToRGBA(vUv * (round(texture2D(tex, vUv).x)));
        }`})),E=new FullScreenQuad(new ShaderMaterial({uniforms:{tex:{value:null}},vertexShader:`
        varying vec2 vUv;
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }`,fragmentShader:`
        uniform sampler2D tex;
        varying vec2 vUv;
        #include <packing>
        void main() {
          gl_FragColor = pack2HalfToRGBA(vUv * (1.0 - round(texture2D(tex, vUv).x)));
        }`})),M=new FullScreenQuad(new ShaderMaterial({uniforms:{tex:{value:null},offset:{value:0},level:{value:0},maxSteps:{value:0}},vertexShader:`
        varying vec2 vUv;
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }`,fragmentShader:`
        varying vec2 vUv;
        uniform sampler2D tex;
        uniform float offset;
        uniform float level;
        uniform float maxSteps;
        #include <packing>
        void main() {
          float closestDist = 9999999.9;
          vec2 closestPos = vec2(0.0);
          for (float x = -1.0; x <= 1.0; x += 1.0) {
            for (float y = -1.0; y <= 1.0; y += 1.0) {
              vec2 voffset = vUv;
              voffset += vec2(x, y) * vec2(${1/u}, ${1/p}) * offset;
              vec2 pos = unpackRGBATo2Half(texture2D(tex, voffset));
              float dist = distance(pos.xy, vUv);
              if(pos.x != 0.0 && pos.y != 0.0 && dist < closestDist) {
                closestDist = dist;
                closestPos = pos;
              }
            }
          }
          gl_FragColor = pack2HalfToRGBA(closestPos);
        }`})),F=new FullScreenQuad(new ShaderMaterial({uniforms:{tex:{value:null},size:{value:new Vector2(u,p)}},vertexShader:`
        varying vec2 vUv;
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }`,fragmentShader:`
        varying vec2 vUv;
        uniform sampler2D tex;
        uniform vec2 size;
        #include <packing>
        void main() {
          gl_FragColor = vec4(distance(size * unpackRGBATo2Half(texture2D(tex, vUv)), size * vUv), 0.0, 0.0, 0.0);
        }`})),B=new FullScreenQuad(new ShaderMaterial({uniforms:{inside:{value:O.texture},outside:{value:x.texture},tex:{value:null}},vertexShader:`
        varying vec2 vUv;
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }`,fragmentShader:`
        varying vec2 vUv;
        uniform sampler2D inside;
        uniform sampler2D outside;
        uniform sampler2D tex;
        #include <packing>
        void main() {
          float i = texture2D(inside, vUv).x;
          float o =texture2D(outside, vUv).x;
          if (texture2D(tex, vUv).x == 0.0) {
            gl_FragColor = vec4(o, 0.0, 0.0, 0.0);
          } else {
            gl_FragColor = vec4(-i, 0.0, 0.0, 0.0);
          }
        }`}));return S=>{let w=_;S.minFilter=NearestFilter,S.magFilter=NearestFilter,T.material.uniforms.tex.value=S,g.setRenderTarget(y),T.render(g);const C=Math.ceil(Math.log(Math.max(u,p))/Math.log(2));let D=y,L=null;for(let R=0;R<C;R++){const k=Math.pow(2,C-R-1);L=D===y?h:y,M.material.uniforms.level.value=R,M.material.uniforms.maxSteps.value=C,M.material.uniforms.offset.value=k,M.material.uniforms.tex.value=D.texture,g.setRenderTarget(L),M.render(g),D=L}g.setRenderTarget(x),F.material.uniforms.tex.value=L.texture,F.render(g),E.material.uniforms.tex.value=S,g.setRenderTarget(m),E.render(g),D=m;for(let R=0;R<C;R++){const k=Math.pow(2,C-R-1);L=D===m?b:m,M.material.uniforms.level.value=R,M.material.uniforms.maxSteps.value=C,M.material.uniforms.offset.value=k,M.material.uniforms.tex.value=D.texture,g.setRenderTarget(L),M.render(g),D=L}return g.setRenderTarget(O),F.material.uniforms.tex.value=L.texture,F.render(g),g.setRenderTarget(w),B.material.uniforms.tex.value=S,B.render(g),g.setRenderTarget(null),w}},isOrthographicCamera=u=>u&&u.isOrthographicCamera,col=new Color;function isNonLegacyCanvasSize(u){return"top"in u}function computeContainerPosition(u,p){const{right:g,top:_,left:y,bottom:m,width:h,height:b}=p,x=p.bottom<0||_>u.height||g<0||p.left>u.width;if(isNonLegacyCanvasSize(u)){const E=u.top+u.height-m,M=y-u.left;return{position:{width:h,height:b,left:M,top:_,bottom:E,right:g},isOffscreen:x}}const O=u.height-m;return{position:{width:h,height:b,top:_,left:y,bottom:O,right:g},isOffscreen:x}}function Container({canvasSize:u,scene:p,index:g,children:_,frames:y,rect:m,track:h}){const b=useThree(M=>M.get),x=useThree(M=>M.camera),O=useThree(M=>M.scene),T=useThree(M=>M.setEvents);let E=0;return useFrame(M=>{if(y===1/0||E<=y){var F;m.current=(F=h.current)==null?void 0:F.getBoundingClientRect(),E++}if(m.current){const{position:{left:B,bottom:S,width:w,height:C},isOffscreen:D}=computeContainerPosition(u,m.current),L=w/C;isOrthographicCamera(x)?(x.left!==w/-2||x.right!==w/2||x.top!==C/2||x.bottom!==C/-2)&&(Object.assign(x,{left:w/-2,right:w/2,top:C/2,bottom:C/-2}),x.updateProjectionMatrix()):x.aspect!==L&&(x.aspect=L,x.updateProjectionMatrix()),M.gl.setViewport(B,S,w,C),M.gl.setScissor(B,S,w,C),M.gl.setScissorTest(!0),D?(M.gl.getClearColor(col),M.gl.setClearColor(col,M.gl.getClearAlpha()),M.gl.clear(!0,!0)):M.gl.render(_?O:p,x),M.gl.setScissorTest(!0)}},g),reactExports.useEffect(()=>{const M=b().events.connected;return T({connected:h.current}),()=>T({connected:M})},[]),reactExports.useEffect(()=>{isNonLegacyCanvasSize(u)||console.warn(`Detected @react-three/fiber canvas size does not include position information. <View /> may not work as expected. Upgrade to @react-three/fiber ^8.1.0 for support.
 See https://github.com/pmndrs/drei/issues/944`)},[]),reactExports.createElement(reactExports.Fragment,null,_)}const View=({track:u,index:p=1,frames:g=1/0,children:_})=>{var y,m;const h=reactExports.useRef(null),{size:b,scene:x}=useThree(),[O]=reactExports.useState(()=>new Scene),T=reactExports.useCallback((F,B)=>{if(h.current&&u.current&&F.target===u.current){const{width:S,height:w,left:C,top:D}=h.current,L=F.clientX-C,R=F.clientY-D;B.pointer.set(L/S*2-1,-(R/w)*2+1),B.raycaster.setFromCamera(B.pointer,B.camera)}},[h,u]),[E,M]=reactExports.useReducer(()=>!0,!1);return reactExports.useEffect(()=>{var F;h.current=(F=u.current)==null?void 0:F.getBoundingClientRect(),M()},[u]),reactExports.createElement(reactExports.Fragment,null,E&&createPortal(reactExports.createElement(Container,{canvasSize:b,frames:g,scene:x,track:u,rect:h,index:p},_,reactExports.createElement("group",{onPointerOver:()=>null})),O,{events:{compute:T,priority:p},size:{width:(y=h.current)==null?void 0:y.width,height:(m=h.current)==null?void 0:m.height}}))},context=reactExports.createContext(null),vec1=new Vector3,vec2=new Vector3,calculateOffset=(u,p,g,_)=>{const y=p.dot(p),m=p.dot(u)-p.dot(g),h=p.dot(_);return h===0?-m/y:(vec1.copy(_).multiplyScalar(y/h).sub(p),vec2.copy(_).multiplyScalar(m/h).add(g).sub(u),-vec1.dot(vec2)/vec1.dot(vec1))},upV=new Vector3(0,1,0),offsetMatrix$1=new Matrix4,AxisArrow=({direction:u,axis:p})=>{const{translation:g,translationLimits:_,annotations:y,annotationsClass:m,depthTest:h,scale:b,lineWidth:x,fixed:O,axisColors:T,hoveredColor:E,opacity:M,onDragStart:F,onDrag:B,onDragEnd:S,userData:w}=reactExports.useContext(context),C=useThree(V=>V.controls),D=reactExports.useRef(null),L=reactExports.useRef(null),R=reactExports.useRef(null),k=reactExports.useRef(0),[A,I]=reactExports.useState(!1),P=reactExports.useCallback(V=>{y&&(D.current.innerText=`${g.current[p].toFixed(2)}`,D.current.style.display="block"),V.stopPropagation();const J=new Matrix4().extractRotation(L.current.matrixWorld),Y=V.point.clone(),q=new Vector3().setFromMatrixPosition(L.current.matrixWorld),K=u.clone().applyMatrix4(J).normalize();R.current={clickPoint:Y,dir:K},k.current=g.current[p],F({component:"Arrow",axis:p,origin:q,directions:[K]}),C&&(C.enabled=!1),V.target.setPointerCapture(V.pointerId)},[y,u,C,F,g,p]),G=reactExports.useCallback(V=>{if(V.stopPropagation(),A||I(!0),R.current){const{clickPoint:J,dir:Y}=R.current,[q,K]=(_==null?void 0:_[p])||[void 0,void 0];let Q=calculateOffset(J,Y,V.ray.origin,V.ray.direction);q!==void 0&&(Q=Math.max(Q,q-k.current)),K!==void 0&&(Q=Math.min(Q,K-k.current)),g.current[p]=k.current+Q,y&&(D.current.innerText=`${g.current[p].toFixed(2)}`),offsetMatrix$1.makeTranslation(Y.x*Q,Y.y*Q,Y.z*Q),B(offsetMatrix$1)}},[y,B,A,g,_,p]),z=reactExports.useCallback(V=>{y&&(D.current.style.display="none"),V.stopPropagation(),R.current=null,S(),C&&(C.enabled=!0),V.target.releasePointerCapture(V.pointerId)},[y,C,S]),j=reactExports.useCallback(V=>{V.stopPropagation(),I(!1)},[]),{cylinderLength:N,coneWidth:W,coneLength:U,matrixL:H}=reactExports.useMemo(()=>{const V=O?x/b*1.6:b/20,J=O?.2:b/5,Y=O?1-J:b-J,q=new Quaternion().setFromUnitVectors(upV,u.clone().normalize()),K=new Matrix4().makeRotationFromQuaternion(q);return{cylinderLength:Y,coneWidth:V,coneLength:J,matrixL:K}},[u,b,x,O]),$=A?E:T[p];return reactExports.createElement("group",{ref:L},reactExports.createElement("group",{matrix:H,matrixAutoUpdate:!1,onPointerDown:P,onPointerMove:G,onPointerUp:z,onPointerOut:j},y&&reactExports.createElement(Html,{position:[0,-U,0]},reactExports.createElement("div",{style:{display:"none",background:"#151520",color:"white",padding:"6px 8px",borderRadius:7,whiteSpace:"nowrap"},className:m,ref:D})),reactExports.createElement("mesh",{visible:!1,position:[0,(N+U)/2,0],userData:w},reactExports.createElement("cylinderGeometry",{args:[W*1.4,W*1.4,N+U,8,1]})),reactExports.createElement(Line,{transparent:!0,raycast:()=>null,depthTest:h,points:[0,0,0,0,N,0],lineWidth:x,color:$,opacity:M,polygonOffset:!0,renderOrder:1,polygonOffsetFactor:-10,fog:!1}),reactExports.createElement("mesh",{raycast:()=>null,position:[0,N+U/2,0],renderOrder:500},reactExports.createElement("coneGeometry",{args:[W,U,24,1]}),reactExports.createElement("meshBasicMaterial",{transparent:!0,depthTest:h,color:$,opacity:M,polygonOffset:!0,polygonOffsetFactor:-10,fog:!1}))))},decomposeIntoBasis=(u,p,g)=>{const _=Math.abs(u.x)>=Math.abs(u.y)&&Math.abs(u.x)>=Math.abs(u.z)?0:Math.abs(u.y)>=Math.abs(u.x)&&Math.abs(u.y)>=Math.abs(u.z)?1:2,y=[0,1,2].sort((B,S)=>Math.abs(p.getComponent(S))-Math.abs(p.getComponent(B))),m=_===y[0]?y[1]:y[0],h=u.getComponent(_),b=u.getComponent(m),x=p.getComponent(_),O=p.getComponent(m),T=g.getComponent(_),M=(g.getComponent(m)-T*(b/h))/(O-x*(b/h));return[(T-M*x)/h,M]},ray$1=new Ray,intersection$1=new Vector3,offsetMatrix=new Matrix4,PlaneSlider=({dir1:u,dir2:p,axis:g})=>{const{translation:_,translationLimits:y,annotations:m,annotationsClass:h,depthTest:b,scale:x,lineWidth:O,fixed:T,axisColors:E,hoveredColor:M,opacity:F,onDragStart:B,onDrag:S,onDragEnd:w,userData:C}=reactExports.useContext(context),D=useThree(Y=>Y.controls),L=reactExports.useRef(null),R=reactExports.useRef(null),k=reactExports.useRef(null),A=reactExports.useRef(0),I=reactExports.useRef(0),[P,G]=reactExports.useState(!1),z=reactExports.useCallback(Y=>{m&&(L.current.innerText=`${_.current[(g+1)%3].toFixed(2)}, ${_.current[(g+2)%3].toFixed(2)}`,L.current.style.display="block"),Y.stopPropagation();const q=Y.point.clone(),K=new Vector3().setFromMatrixPosition(R.current.matrixWorld),Q=new Vector3().setFromMatrixColumn(R.current.matrixWorld,0).normalize(),X=new Vector3().setFromMatrixColumn(R.current.matrixWorld,1).normalize(),re=new Vector3().setFromMatrixColumn(R.current.matrixWorld,2).normalize(),Z=new Plane().setFromNormalAndCoplanarPoint(re,K);k.current={clickPoint:q,e1:Q,e2:X,plane:Z},A.current=_.current[(g+1)%3],I.current=_.current[(g+2)%3],B({component:"Slider",axis:g,origin:K,directions:[Q,X,re]}),D&&(D.enabled=!1),Y.target.setPointerCapture(Y.pointerId)},[m,D,B,g]),j=reactExports.useCallback(Y=>{if(Y.stopPropagation(),P||G(!0),k.current){const{clickPoint:q,e1:K,e2:Q,plane:X}=k.current,[re,Z]=(y==null?void 0:y[(g+1)%3])||[void 0,void 0],[ee,ie]=(y==null?void 0:y[(g+2)%3])||[void 0,void 0];ray$1.copy(Y.ray),ray$1.intersectPlane(X,intersection$1),ray$1.direction.negate(),ray$1.intersectPlane(X,intersection$1),intersection$1.sub(q);let[te,ne]=decomposeIntoBasis(K,Q,intersection$1);re!==void 0&&(te=Math.max(te,re-A.current)),Z!==void 0&&(te=Math.min(te,Z-A.current)),ee!==void 0&&(ne=Math.max(ne,ee-I.current)),ie!==void 0&&(ne=Math.min(ne,ie-I.current)),_.current[(g+1)%3]=A.current+te,_.current[(g+2)%3]=I.current+ne,m&&(L.current.innerText=`${_.current[(g+1)%3].toFixed(2)}, ${_.current[(g+2)%3].toFixed(2)}`),offsetMatrix.makeTranslation(te*K.x+ne*Q.x,te*K.y+ne*Q.y,te*K.z+ne*Q.z),S(offsetMatrix)}},[m,S,P,_,y,g]),N=reactExports.useCallback(Y=>{m&&(L.current.style.display="none"),Y.stopPropagation(),k.current=null,w(),D&&(D.enabled=!0),Y.target.releasePointerCapture(Y.pointerId)},[m,D,w]),W=reactExports.useCallback(Y=>{Y.stopPropagation(),G(!1)},[]),U=reactExports.useMemo(()=>{const Y=u.clone().normalize(),q=p.clone().normalize();return new Matrix4().makeBasis(Y,q,Y.clone().cross(q))},[u,p]),H=T?1/7:x/7,$=T?.225:x*.225,V=P?M:E[g],J=reactExports.useMemo(()=>[new Vector3(0,0,0),new Vector3(0,$,0),new Vector3($,$,0),new Vector3($,0,0),new Vector3(0,0,0)],[$]);return reactExports.createElement("group",{ref:R,matrix:U,matrixAutoUpdate:!1},m&&reactExports.createElement(Html,{position:[0,0,0]},reactExports.createElement("div",{style:{display:"none",background:"#151520",color:"white",padding:"6px 8px",borderRadius:7,whiteSpace:"nowrap"},className:h,ref:L})),reactExports.createElement("group",{position:[H*1.7,H*1.7,0]},reactExports.createElement("mesh",{visible:!0,onPointerDown:z,onPointerMove:j,onPointerUp:N,onPointerOut:W,scale:$,userData:C},reactExports.createElement("planeGeometry",null),reactExports.createElement("meshBasicMaterial",{transparent:!0,depthTest:b,color:V,polygonOffset:!0,polygonOffsetFactor:-10,side:DoubleSide,fog:!1})),reactExports.createElement(Line,{position:[-$/2,-$/2,0],transparent:!0,depthTest:b,points:J,lineWidth:O,color:V,opacity:F,polygonOffset:!0,polygonOffsetFactor:-10,userData:C,fog:!1})))};var NAN=0/0,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,objectProto=Object.prototype,objectToString=objectProto.toString;function baseClamp(u,p,g){return u===u&&(g!==void 0&&(u=u<=g?u:g),p!==void 0&&(u=u>=p?u:p)),u}function isObject(u){var p=typeof u;return!!u&&(p=="object"||p=="function")}function isObjectLike(u){return!!u&&typeof u=="object"}function isSymbol(u){return typeof u=="symbol"||isObjectLike(u)&&objectToString.call(u)==symbolTag}function toNumber(u){if(typeof u=="number")return u;if(isSymbol(u))return NAN;if(isObject(u)){var p=typeof u.valueOf=="function"?u.valueOf():u;u=isObject(p)?p+"":p}if(typeof u!="string")return u===0?u:+u;u=u.replace(reTrim,"");var g=reIsBinary.test(u);return g||reIsOctal.test(u)?freeParseInt(u.slice(2),g?2:8):reIsBadHex.test(u)?NAN:+u}function clamp(u,p,g){return g===void 0&&(g=p,p=void 0),g!==void 0&&(g=toNumber(g),g=g===g?g:0),p!==void 0&&(p=toNumber(p),p=p===p?p:0),baseClamp(toNumber(u),p,g)}var lodash_clamp=clamp;const clickDir=new Vector3,intersectionDir=new Vector3,toDegrees=u=>u*180/Math.PI,toRadians=u=>u*Math.PI/180,calculateAngle=(u,p,g,_,y)=>{clickDir.copy(u).sub(g),intersectionDir.copy(p).sub(g);const m=_.dot(_),h=y.dot(y),b=clickDir.dot(_)/m,x=clickDir.dot(y)/h,O=intersectionDir.dot(_)/m,T=intersectionDir.dot(y)/h,E=Math.atan2(x,b);return Math.atan2(T,O)-E},fmod=(u,p)=>{let g=Math.floor(u/p);return g=g<0?g+1:g,u-g*p},minimizeAngle=u=>{let p=fmod(u,2*Math.PI);return Math.abs(p)<1e-6?0:(p<0&&(p+=2*Math.PI),p)},rotMatrix=new Matrix4,posNew=new Vector3,ray=new Ray,intersection=new Vector3,AxisRotator=({dir1:u,dir2:p,axis:g})=>{const{rotationLimits:_,annotations:y,annotationsClass:m,depthTest:h,scale:b,lineWidth:x,fixed:O,axisColors:T,hoveredColor:E,opacity:M,onDragStart:F,onDrag:B,onDragEnd:S,userData:w}=reactExports.useContext(context),C=useThree($=>$.controls),D=reactExports.useRef(null),L=reactExports.useRef(null),R=reactExports.useRef(0),k=reactExports.useRef(0),A=reactExports.useRef(null),[I,P]=reactExports.useState(!1),G=reactExports.useCallback($=>{y&&(D.current.innerText=`${toDegrees(k.current).toFixed(0)}`,D.current.style.display="block"),$.stopPropagation();const V=$.point.clone(),J=new Vector3().setFromMatrixPosition(L.current.matrixWorld),Y=new Vector3().setFromMatrixColumn(L.current.matrixWorld,0).normalize(),q=new Vector3().setFromMatrixColumn(L.current.matrixWorld,1).normalize(),K=new Vector3().setFromMatrixColumn(L.current.matrixWorld,2).normalize(),Q=new Plane().setFromNormalAndCoplanarPoint(K,J);A.current={clickPoint:V,origin:J,e1:Y,e2:q,normal:K,plane:Q},F({component:"Rotator",axis:g,origin:J,directions:[Y,q,K]}),C&&(C.enabled=!1),$.target.setPointerCapture($.pointerId)},[y,C,F,g]),z=reactExports.useCallback($=>{if($.stopPropagation(),I||P(!0),A.current){const{clickPoint:V,origin:J,e1:Y,e2:q,normal:K,plane:Q}=A.current,[X,re]=(_==null?void 0:_[g])||[void 0,void 0];ray.copy($.ray),ray.intersectPlane(Q,intersection),ray.direction.negate(),ray.intersectPlane(Q,intersection);let Z=calculateAngle(V,intersection,J,Y,q),ee=toDegrees(Z);$.shiftKey&&(ee=Math.round(ee/10)*10,Z=toRadians(ee)),X!==void 0&&re!==void 0&&re-X<2*Math.PI?(Z=minimizeAngle(Z),Z=Z>Math.PI?Z-2*Math.PI:Z,Z=lodash_clamp(Z,X-R.current,re-R.current),k.current=R.current+Z):(k.current=minimizeAngle(R.current+Z),k.current=k.current>Math.PI?k.current-2*Math.PI:k.current),y&&(ee=toDegrees(k.current),D.current.innerText=`${ee.toFixed(0)}`),rotMatrix.makeRotationAxis(K,Z),posNew.copy(J).applyMatrix4(rotMatrix).sub(J).negate(),rotMatrix.setPosition(posNew),B(rotMatrix)}},[y,B,I,_,g]),j=reactExports.useCallback($=>{y&&(D.current.style.display="none"),$.stopPropagation(),R.current=k.current,A.current=null,S(),C&&(C.enabled=!0),$.target.releasePointerCapture($.pointerId)},[y,C,S]),N=reactExports.useCallback($=>{$.stopPropagation(),P(!1)},[]),W=reactExports.useMemo(()=>{const $=u.clone().normalize(),V=p.clone().normalize();return new Matrix4().makeBasis($,V,$.clone().cross(V))},[u,p]),U=O?.65:b*.65,H=reactExports.useMemo(()=>{const V=[];for(let J=0;J<=32;J++){const Y=J*(Math.PI/2)/32;V.push(new Vector3(Math.cos(Y)*U,Math.sin(Y)*U,0))}return V},[U]);return reactExports.createElement("group",{ref:L,onPointerDown:G,onPointerMove:z,onPointerUp:j,onPointerOut:N,matrix:W,matrixAutoUpdate:!1},y&&reactExports.createElement(Html,{position:[U,U,0]},reactExports.createElement("div",{style:{display:"none",background:"#151520",color:"white",padding:"6px 8px",borderRadius:7,whiteSpace:"nowrap"},className:m,ref:D})),reactExports.createElement(Line,{points:H,lineWidth:x*4,visible:!1,userData:w}),reactExports.createElement(Line,{transparent:!0,raycast:()=>null,depthTest:h,points:H,lineWidth:x,color:I?E:T[g],opacity:M,polygonOffset:!0,polygonOffsetFactor:-10,fog:!1}))},tV0=new Vector3,tV1=new Vector3,tV2=new Vector3,getPoint2=(u,p,g)=>{const _=g.width/2,y=g.height/2;p.updateMatrixWorld(!1);const m=u.project(p);return m.x=m.x*_+_,m.y=-(m.y*y)+y,m},getPoint3=(u,p,g,_=1)=>{const y=tV0.set(u.x/g.width*2-1,-(u.y/g.height)*2+1,_);return y.unproject(p),y},calculateScaleFactor=(u,p,g,_)=>{const y=getPoint2(tV2.copy(u),g,_);let m=0;for(let h=0;h<2;++h){const b=tV1.copy(y).setComponent(h,y.getComponent(h)+p),x=getPoint3(b,g,_,b.z);m=Math.max(m,u.distanceTo(x))}return m},mL0=new Matrix4,mW0=new Matrix4,mP=new Matrix4,mPInv=new Matrix4,mW=new Matrix4,mL=new Matrix4,mL0Inv=new Matrix4,mdL=new Matrix4,bb=new Box3,bbObj=new Box3,vCenter=new Vector3,vSize=new Vector3,vAnchorOffset=new Vector3,vPosition=new Vector3,xDir=new Vector3(1,0,0),yDir=new Vector3(0,1,0),zDir=new Vector3(0,0,1),PivotControls=reactExports.forwardRef(({matrix:u,onDragStart:p,onDrag:g,onDragEnd:_,autoTransform:y=!0,anchor:m,disableAxes:h=!1,disableSliders:b=!1,disableRotations:x=!1,activeAxes:O=[!0,!0,!0],offset:T=[0,0,0],rotation:E=[0,0,0],scale:M=1,lineWidth:F=4,fixed:B=!1,translationLimits:S,rotationLimits:w,depthTest:C=!0,axisColors:D=["#ff2060","#20df80","#2080ff"],hoveredColor:L="#ffff40",annotations:R=!1,annotationsClass:k,opacity:A=1,visible:I=!0,userData:P,children:G,...z},j)=>{const N=useThree(q=>q.invalidate),W=reactExports.useRef(null),U=reactExports.useRef(null),H=reactExports.useRef(null),$=reactExports.useRef(null),V=reactExports.useRef([0,0,0]);reactExports.useLayoutEffect(()=>{m&&($.current.updateWorldMatrix(!0,!0),mPInv.copy($.current.matrixWorld).invert(),bb.makeEmpty(),$.current.traverse(q=>{q.geometry&&(q.geometry.boundingBox||q.geometry.computeBoundingBox(),mL.copy(q.matrixWorld).premultiply(mPInv),bbObj.copy(q.geometry.boundingBox),bbObj.applyMatrix4(mL),bb.union(bbObj))}),vCenter.copy(bb.max).add(bb.min).multiplyScalar(.5),vSize.copy(bb.max).sub(bb.min).multiplyScalar(.5),vAnchorOffset.copy(vSize).multiply(new Vector3(...m)).add(vCenter),vPosition.set(...T).add(vAnchorOffset),H.current.position.copy(vPosition),N())});const J=reactExports.useMemo(()=>({onDragStart:q=>{mL0.copy(U.current.matrix),mW0.copy(U.current.matrixWorld),p&&p(q),N()},onDrag:q=>{mP.copy(W.current.matrixWorld),mPInv.copy(mP).invert(),mW.copy(mW0).premultiply(q),mL.copy(mW).premultiply(mPInv),mL0Inv.copy(mL0).invert(),mdL.copy(mL).multiply(mL0Inv),y&&U.current.matrix.copy(mL),g&&g(mL,mdL,mW,q),N()},onDragEnd:()=>{_&&_(),N()},translation:V,translationLimits:S,rotationLimits:w,axisColors:D,hoveredColor:L,opacity:A,scale:M,lineWidth:F,fixed:B,depthTest:C,userData:P,annotations:R,annotationsClass:k}),[p,g,_,V,S,w,C,M,F,B,...D,L,A,P,y,R,k]),Y=new Vector3;return useFrame(q=>{if(B){const re=calculateScaleFactor(H.current.getWorldPosition(Y),M,q.camera,q.size);if(H.current){var K,Q,X;(((K=H.current)==null?void 0:K.scale.x)!==re||((Q=H.current)==null?void 0:Q.scale.y)!==re||((X=H.current)==null?void 0:X.scale.z)!==re)&&(H.current.scale.setScalar(re),q.invalidate())}}}),reactExports.useImperativeHandle(j,()=>U.current,[]),reactExports.useLayoutEffect(()=>{u&&u instanceof Matrix4&&(U.current.matrix=u)},[u]),reactExports.createElement(context.Provider,{value:J},reactExports.createElement("group",{ref:W},reactExports.createElement("group",_extends({ref:U,matrix:u,matrixAutoUpdate:!1},z),reactExports.createElement("group",{visible:I,ref:H,position:T,rotation:E},!h&&O[0]&&reactExports.createElement(AxisArrow,{axis:0,direction:xDir}),!h&&O[1]&&reactExports.createElement(AxisArrow,{axis:1,direction:yDir}),!h&&O[2]&&reactExports.createElement(AxisArrow,{axis:2,direction:zDir}),!b&&O[0]&&O[1]&&reactExports.createElement(PlaneSlider,{axis:2,dir1:xDir,dir2:yDir}),!b&&O[0]&&O[2]&&reactExports.createElement(PlaneSlider,{axis:1,dir1:zDir,dir2:xDir}),!b&&O[2]&&O[1]&&reactExports.createElement(PlaneSlider,{axis:0,dir1:yDir,dir2:zDir}),!x&&O[0]&&O[1]&&reactExports.createElement(AxisRotator,{axis:2,dir1:xDir,dir2:yDir}),!x&&O[0]&&O[2]&&reactExports.createElement(AxisRotator,{axis:1,dir1:zDir,dir2:xDir}),!x&&O[2]&&O[1]&&reactExports.createElement(AxisRotator,{axis:0,dir1:yDir,dir2:zDir})),reactExports.createElement("group",{ref:$},G))))});export{AccumulativeShadows,AdaptiveDpr,AdaptiveEvents,ArcballControls,AsciiRenderer,BBAnchor,Backdrop,BakeShadows,Billboard,Bounds,Ie as Box,Bvh,CameraControls,CameraShake,Pe as Capsule,CatmullRomLine,Caustics,Center,ze as Circle,Clone,Cloud,ComputedAttribute,Ge as Cone,ContactShadows,CubeCamera,CubicBezierLine,CurveModifier,CycleRaycast,je as Cylinder,Decal,Detailed,DeviceOrientationControls,Ne as Dodecahedron,Edges,Effects,Environment,EnvironmentCube,EnvironmentMap,EnvironmentPortal,Example,We as Extrude,FaceControls,FaceLandmarker,FaceLandmarkerDefaults,Facemesh,FacemeshDatas,FacemeshEye,FacemeshEyeDefaults,FirstPersonControls,Ue as Float,FlyControls,GizmoHelper,GizmoViewcube,GizmoViewport,Gltf,GradientTexture,Grid,Html,Hud,He as Icosahedron,ke as Image,Instance,Instances,IsObject,KeyboardControls,Ve as Lathe,Lightformer,Line,Loader,MapControls,MarchingCube,MarchingCubes,MarchingPlane,Mask,Merged,MeshDiscardMaterial,$e as MeshDistortMaterial,MeshPortalMaterial,MeshReflectorMaterial,MeshRefractionMaterial,MeshTransmissionMaterial,Ye as MeshWobbleMaterial,Xe as Octahedron,OrbitControls,OrthographicCamera,PerformanceMonitor,PerspectiveCamera,PivotControls,Plane$1 as Plane,Point,PointMaterial,PointMaterialImpl,PointerLockControls,Points,PointsBuffer,Ke as Polyhedron,PositionPoint,PositionalAudio,Preload,PresentationControls,QuadraticBezierLine,RandomizedLight,Reflector,RenderTexture,Resize,Ze as Ring,RoundedBox,Sampler,ScreenQuad,ScreenSpace,we as Scroll,Be as ScrollControls,Segment,SegmentObject,Segments,Select,Shadow,qe as Shape,Sky,SoftShadows,Sparkles,Je as Sphere,SpotLight,SpotLightShadow,SpriteAnimator,Stage,Stars,Stats,Svg,Qe as Tetrahedron,Ae as Text,Text3D,et as Torus,tt as TorusKnot,TrackballControls,Trail,TransformControls,rt as Tube,View,Wireframe,accumulativeContext,calcPosFromAngles,calculateScaleFactor,isWebGL2Available,meshBounds,shaderMaterial,ot as useAnimations,useAspect,useBVH,useBounds,useBoxProjectedEnv,useCamera,useContextBridge,useCubeCamera,useCubeTexture,useCursor,useDepthBuffer,useDetectGPU,useEnvironment,useFBO,it as useFBX,useFaceControls,useFaceLandmarker,useFont,useGLTF,useGizmoContext,useHelper,useIntersect,useKTX2,useKeyboardControls,useMask,useMatcapTexture,useNormalTexture,usePerformanceMonitor,useProgress,Le as useScroll,useSelect,useSurfaceSampler,useTexture,useTrail,useTrailTexture,useVideoTexture};
